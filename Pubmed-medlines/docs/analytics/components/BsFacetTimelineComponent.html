<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>Analytics</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	      <link rel="stylesheet" href="../styles/style.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">Analytics</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content component">
                   <div class="content-data">




<ol class="breadcrumb">
  <li>Components</li>
  <li>BsFacetTimelineComponent</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
        <li >
            <a href="#templateData" role="tab" id="templateData-tab" data-toggle="tab" data-link="template">Template</a>
        </li>
        <li >
            <a href="#styleData" role="tab" id="styleData-tab" data-toggle="tab" data-link="style">Styles</a>
        </li>
        <li >
            <a href="#tree" role="tab" id="tree-tab" data-toggle="tab" data-link="dom-tree">DOM Tree</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info"><p class="comment">
    <h3>File</h3>
</p>
<p class="comment">
    <code>timeline/bootstrap/facet-timeline.component.ts</code>
</p>


    <p class="comment">
        <h3>Extends</h3>
    </p>
    <p class="comment">
            <code>AbstractFacet</code>
    </p>

    <p class="comment">
        <h3>Implements</h3>
    </p>
    <p class="comment">
                    <code><a href="https://angular.io/api/core/OnChanges" target="_blank" >OnChanges</a></code>
    </p>


<section>
    <h3>Metadata</h3>
    <table class="table table-sm table-hover">
        <tbody>











            <tr>
                <td class="col-md-3">selector</td>
                <td class="col-md-9"><code>sq-facet-timeline</code></td>
            </tr>

            <tr>
                <td class="col-md-3">styleUrls</td>
                <td class="col-md-9"><code>./facet-timeline.component.scss</code></td>
            </tr>



            <tr>
                <td class="col-md-3">templateUrl</td>
                <td class="col-md-9"><code>./facet-timeline.component.html</code></td>
            </tr>








        </tbody>
    </table>
</section>

    <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#appService">appService</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#audit">audit</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#cdRef">cdRef</a>
                            </li>
                            <li>
                                <a href="#clearFilters">clearFilters</a>
                            </li>
                            <li>
                                    <span class="modifier">Optional</span>
                                <a href="#currentRange">currentRange</a>
                            </li>
                            <li>
                                <a href="#events$">events$</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#exprBuilder">exprBuilder</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#facetService">facetService</a>
                            </li>
                            <li>
                                <a href="#formatDayRequest">formatDayRequest</a>
                            </li>
                            <li>
                                <a href="#mergedEvents$">mergedEvents$</a>
                            </li>
                            <li>
                                <a href="#mergedTimeseries$">mergedTimeseries$</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#searchService">searchService</a>
                            </li>
                            <li>
                                    <span class="modifier">Optional</span>
                                <a href="#selection">selection</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#selectionService">selectionService</a>
                            </li>
                            <li>
                                <a href="#timeseries$">timeseries$</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Static</span>
                                <a href="#createAggregationEvents">createAggregationEvents</a>
                            </li>
                            <li>
                                    <span class="modifier">Static</span>
                                <a href="#createDatapoints">createDatapoints</a>
                            </li>
                            <li>
                                    <span class="modifier">Static</span>
                                <a href="#createTimeseries">createTimeseries</a>
                            </li>
                            <li>
                                    <span class="modifier">Static</span>
                                <a href="#defaultRecordStyle">defaultRecordStyle</a>
                            </li>
                            <li>
                                <a href="#fetchAggregation">fetchAggregation</a>
                            </li>
                            <li>
                                <a href="#getAggregation">getAggregation</a>
                            </li>
                            <li>
                                    <span class="modifier">Static</span>
                                <a href="#getD3TimeInterval">getD3TimeInterval</a>
                            </li>
                            <li>
                                <a href="#getEventAggregation">getEventAggregation</a>
                            </li>
                            <li>
                                <a href="#getMaxDate">getMaxDate</a>
                            </li>
                            <li>
                                <a href="#getMinDate">getMinDate</a>
                            </li>
                            <li>
                                <a href="#getRecordsAsEvents">getRecordsAsEvents</a>
                            </li>
                            <li>
                                <a href="#getTimeseries">getTimeseries</a>
                            </li>
                            <li>
                                <a href="#ngOnChanges">ngOnChanges</a>
                            </li>
                            <li>
                                <a href="#onEventClicked">onEventClicked</a>
                            </li>
                            <li>
                                <a href="#onRangeChange">onRangeChange</a>
                            </li>
                            <li>
                                <a href="#onSelectionChange">onSelectionChange</a>
                            </li>
                            <li>
                                    <span class="modifier">Static</span>
                                <a href="#shiftDate">shiftDate</a>
                            </li>
                            <li>
                                <a href="#updateCombinedAggregation">updateCombinedAggregation</a>
                            </li>
                            <li>
                                <a href="#updateEvents">updateEvents</a>
                            </li>
                            <li>
                                <a href="#updateTimeseries">updateTimeseries</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Inputs</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#curveType">curveType</a>
                            </li>
                            <li>
                                <a href="#events">events</a>
                            </li>
                            <li>
                                <a href="#height">height</a>
                            </li>
                            <li>
                                <a href="#legendEvents">legendEvents</a>
                            </li>
                            <li>
                                <a href="#legendOrientation">legendOrientation</a>
                            </li>
                            <li>
                                <a href="#legendStyles">legendStyles</a>
                            </li>
                            <li>
                                <a href="#legendYOffset">legendYOffset</a>
                            </li>
                            <li>
                                <a href="#margin">margin</a>
                            </li>
                            <li>
                                <a href="#maxAggregationDate">maxAggregationDate</a>
                            </li>
                            <li>
                                <a href="#maxDate">maxDate</a>
                            </li>
                            <li>
                                <a href="#maxZoomDays">maxZoomDays</a>
                            </li>
                            <li>
                                <a href="#minAggregationDate">minAggregationDate</a>
                            </li>
                            <li>
                                <a href="#minDate">minDate</a>
                            </li>
                            <li>
                                <a href="#minZoomDays">minZoomDays</a>
                            </li>
                            <li>
                                <a href="#name">name</a>
                            </li>
                            <li>
                                <a href="#results">results</a>
                            </li>
                            <li>
                                <a href="#showLegend">showLegend</a>
                            </li>
                            <li>
                                <a href="#showTooltip">showTooltip</a>
                            </li>
                            <li>
                                <a href="#theme">theme</a>
                            </li>
                            <li>
                                <a href="#timeseries">timeseries</a>
                            </li>
                            <li>
                                <a href="#width">width</a>
                            </li>
                            <li>
                                <a href="#zoomable">zoomable</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Outputs</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#eventClicked">eventClicked</a>
                            </li>
                        </ul>
                    </td>
                </tr>



                    <tr>
                        <td class="col-md-4">
                            <h6><b>Accessors</b></h6>
                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <ul class="index-list">
                                <li>
                                    <a href="#actions">actions</a>
                                </li>
                            </ul>
                        </td>
                    </tr>
        </tbody>
    </table>
</section>

    <section>
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(facetService: FacetService, searchService: SearchService, appService: AppService, selectionService: SelectionService, exprBuilder: ExprBuilder, cdRef: <a href="https://angular.io/api/core/ChangeDetectorRef" target="_blank">ChangeDetectorRef</a>, audit: AuditWebService)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="109" class="link-to-prism">timeline/bootstrap/facet-timeline.component.ts:109</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>facetService</td>
                                                  
                                                        <td>
                                                                    <code>FacetService</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>searchService</td>
                                                  
                                                        <td>
                                                                    <code>SearchService</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>appService</td>
                                                  
                                                        <td>
                                                                    <code>AppService</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>selectionService</td>
                                                  
                                                        <td>
                                                                    <code>SelectionService</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>exprBuilder</td>
                                                  
                                                        <td>
                                                                    <code>ExprBuilder</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>cdRef</td>
                                                  
                                                        <td>
                                                                        <code><a href="https://angular.io/api/core/ChangeDetectorRef" target="_blank" >ChangeDetectorRef</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>audit</td>
                                                  
                                                        <td>
                                                                    <code>AuditWebService</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

    <section>
    <h3 id="inputs">Inputs</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="curveType"></a>
                        <b>curveType</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;curveMonotoneX&quot;</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="78" class="link-to-prism">timeline/bootstrap/facet-timeline.component.ts:78</a></div>
                            </td>
                        </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="events"></a>
                        <b>events</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../interfaces/TimelineEvent.html" target="_self" >TimelineEventData[]</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[{field: &#x27;modified&#x27;}]</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="61" class="link-to-prism">timeline/bootstrap/facet-timeline.component.ts:61</a></div>
                            </td>
                        </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="height"></a>
                        <b>height</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>200</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="75" class="link-to-prism">timeline/bootstrap/facet-timeline.component.ts:75</a></div>
                            </td>
                        </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="legendEvents"></a>
                        <b>legendEvents</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>TimelineEventType[]</code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="85" class="link-to-prism">timeline/bootstrap/facet-timeline.component.ts:85</a></div>
                            </td>
                        </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="legendOrientation"></a>
                        <b>legendOrientation</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>&quot;row&quot; | &quot;column&quot;</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;row&quot;</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="86" class="link-to-prism">timeline/bootstrap/facet-timeline.component.ts:86</a></div>
                            </td>
                        </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="legendStyles"></a>
                        <b>legendStyles</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>literal type</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{&#x27;justify-content&#x27; : &#x27;center&#x27;}</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="84" class="link-to-prism">timeline/bootstrap/facet-timeline.component.ts:84</a></div>
                            </td>
                        </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="legendYOffset"></a>
                        <b>legendYOffset</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>3</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="87" class="link-to-prism">timeline/bootstrap/facet-timeline.component.ts:87</a></div>
                            </td>
                        </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="margin"></a>
                        <b>margin</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>{top: 15, bottom: 20, left: 40, right: 15}</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="76" class="link-to-prism">timeline/bootstrap/facet-timeline.component.ts:76</a></div>
                            </td>
                        </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="maxAggregationDate"></a>
                        <b>maxAggregationDate</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" >Date</a></code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="68" class="link-to-prism">timeline/bootstrap/facet-timeline.component.ts:68</a></div>
                            </td>
                        </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="maxDate"></a>
                        <b>maxDate</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" >Date</a></code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="65" class="link-to-prism">timeline/bootstrap/facet-timeline.component.ts:65</a></div>
                            </td>
                        </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="maxZoomDays"></a>
                        <b>maxZoomDays</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>365 * 100</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="72" class="link-to-prism">timeline/bootstrap/facet-timeline.component.ts:72</a></div>
                            </td>
                        </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="minAggregationDate"></a>
                        <b>minAggregationDate</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" >Date</a></code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="67" class="link-to-prism">timeline/bootstrap/facet-timeline.component.ts:67</a></div>
                            </td>
                        </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="minDate"></a>
                        <b>minDate</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" >Date</a></code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="64" class="link-to-prism">timeline/bootstrap/facet-timeline.component.ts:64</a></div>
                            </td>
                        </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="minZoomDays"></a>
                        <b>minZoomDays</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>1</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="71" class="link-to-prism">timeline/bootstrap/facet-timeline.component.ts:71</a></div>
                            </td>
                        </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="name"></a>
                        <b>name</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&#x27;Timeline&#x27;</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="56" class="link-to-prism">timeline/bootstrap/facet-timeline.component.ts:56</a></div>
                            </td>
                        </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="results"></a>
                        <b>results</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>Results</code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="57" class="link-to-prism">timeline/bootstrap/facet-timeline.component.ts:57</a></div>
                            </td>
                        </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="showLegend"></a>
                        <b>showLegend</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>false</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="83" class="link-to-prism">timeline/bootstrap/facet-timeline.component.ts:83</a></div>
                            </td>
                        </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="showTooltip"></a>
                        <b>showTooltip</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>true</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="80" class="link-to-prism">timeline/bootstrap/facet-timeline.component.ts:80</a></div>
                            </td>
                        </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="theme"></a>
                        <b>theme</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>    <code>&quot;light&quot; | &quot;dark&quot;</code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>&quot;light&quot;</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="81" class="link-to-prism">timeline/bootstrap/facet-timeline.component.ts:81</a></div>
                            </td>
                        </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="timeseries"></a>
                        <b>timeseries</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="../miscellaneous/typealiases.html#TimelineData" target="_self" >TimelineData[]</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>[{aggregation: &#x27;Timeline&#x27;, primary: true}]</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="60" class="link-to-prism">timeline/bootstrap/facet-timeline.component.ts:60</a></div>
                            </td>
                        </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="width"></a>
                        <b>width</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>600</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="74" class="link-to-prism">timeline/bootstrap/facet-timeline.component.ts:74</a></div>
                            </td>
                        </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="zoomable"></a>
                        <b>zoomable</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>true</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="70" class="link-to-prism">timeline/bootstrap/facet-timeline.component.ts:70</a></div>
                            </td>
                        </tr>
            </tbody>
        </table>
</section>
    <section>
    <h3 id="outputs">Outputs</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="eventClicked"></a>
                        <b>eventClicked</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://angular.io/api/core/EventEmitter" target="_blank" >EventEmitter</a></code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="89" class="link-to-prism">timeline/bootstrap/facet-timeline.component.ts:89</a></div>
                            </td>
                        </tr>
            </tbody>
        </table>
</section>


    <section>
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="createAggregationEvents"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Static</span>
                            createAggregationEvents
                        </b>
                        <a href="#createAggregationEvents"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>createAggregationEvents(config: <a href="../interfaces/TimelineEventAggregation.html">TimelineEventAggregation</a>, aggregation: Aggregation, ccaggregation: CCAggregation)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="512"
                            class="link-to-prism">timeline/bootstrap/facet-timeline.component.ts:512</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Create a list of events from its config, data (aggregation) and configuration (ccaggregation)</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>config</td>
                                    <td>
                                                <code><a href="../interfaces/TimelineEventAggregation.html" target="_self" >TimelineEventAggregation</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>aggregation</td>
                                    <td>
                                            <code>Aggregation</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>ccaggregation</td>
                                    <td>
                                            <code>CCAggregation</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/TimelineEvent.html" target="_self" >TimelineEvent[]</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="createDatapoints"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Static</span>
                            createDatapoints
                        </b>
                        <a href="#createDatapoints"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>createDatapoints(items: AggregationItem[] | undefined, resolution: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, range?: [Date, Date])</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="539"
                            class="link-to-prism">timeline/bootstrap/facet-timeline.component.ts:539</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>This methods transforms a raw list of aggregation items into
a time series completed with zeros, following the below scheme:
Aggregation:  [    # #         # # #   #     # #       # # #    ]
Series:       [  0 # # 0     0 # # # 0 # 0 0 # # 0   0 # # # 0  ]</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>items</td>
                                    <td>
                                            <code>AggregationItem[] | undefined</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>resolution</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>range</td>
                                    <td>
                                            <code>[Date, Date]</code>
                                    </td>

                                    <td>
                                        Yes
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/TimelineDate.html" target="_self" >TimelineDate[]</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="createTimeseries"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Static</span>
                            createTimeseries
                        </b>
                        <a href="#createTimeseries"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>createTimeseries(config: <a href="../interfaces/TimelineAggregation.html">TimelineAggregation</a>, aggregation: Aggregation, ccaggregation: CCAggregation, range?: [Date, Date])</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="496"
                            class="link-to-prism">timeline/bootstrap/facet-timeline.component.ts:496</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Create a time series object from its config, data (aggregation) and configuration (ccaggregation)</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>config</td>
                                    <td>
                                                <code><a href="../interfaces/TimelineAggregation.html" target="_self" >TimelineAggregation</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>aggregation</td>
                                    <td>
                                            <code>Aggregation</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>ccaggregation</td>
                                    <td>
                                            <code>CCAggregation</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>range</td>
                                    <td>
                                            <code>[Date, Date]</code>
                                    </td>

                                    <td>
                                        Yes
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/TimelineSeries.html" target="_self" >TimelineSeries</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="defaultRecordStyle"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Static</span>
                            defaultRecordStyle
                        </b>
                        <a href="#defaultRecordStyle"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>defaultRecordStyle(selected: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="608"
                            class="link-to-prism">timeline/bootstrap/facet-timeline.component.ts:608</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>selected</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>literal type</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="fetchAggregation"></a>
                    <span class="name">
                        <b>
                            fetchAggregation
                        </b>
                        <a href="#fetchAggregation"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>fetchAggregation(aggregation: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, ccaggregation: CCAggregation, range?: [Date, Date])</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="360"
                            class="link-to-prism">timeline/bootstrap/facet-timeline.component.ts:360</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Get an aggregation from the server, filtering by range if provided</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>aggregation</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>ccaggregation</td>
                                    <td>
                                            <code>CCAggregation</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>range</td>
                                    <td>
                                            <code>[Date, Date]</code>
                                    </td>

                                    <td>
                                        Yes
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Observable&lt;Aggregation&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getAggregation"></a>
                    <span class="name">
                        <b>
                            getAggregation
                        </b>
                        <a href="#getAggregation"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getAggregation(aggregationName: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, range?: [Date, Date])</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="334"
                            class="link-to-prism">timeline/bootstrap/facet-timeline.component.ts:334</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>returns an aggregation and its configuration either directly from the facet service of
by fetching it from the server.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>aggregationName</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>range</td>
                                    <td>
                                            <code>[Date, Date]</code>
                                    </td>

                                    <td>
                                        Yes
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Observable&lt;literal type&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getD3TimeInterval"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Static</span>
                            getD3TimeInterval
                        </b>
                        <a href="#getD3TimeInterval"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getD3TimeInterval(resolution: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="598"
                            class="link-to-prism">timeline/bootstrap/facet-timeline.component.ts:598</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>resolution</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>d3.CountableTimeInterval</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getEventAggregation"></a>
                    <span class="name">
                        <b>
                            getEventAggregation
                        </b>
                        <a href="#getEventAggregation"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getEventAggregation(config: <a href="../interfaces/TimelineEventAggregation.html">TimelineEventAggregation</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="295"
                            class="link-to-prism">timeline/bootstrap/facet-timeline.component.ts:295</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Get an aggregation of events via the getAggregation method</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>config</td>
                                    <td>
                                                <code><a href="../interfaces/TimelineEventAggregation.html" target="_self" >TimelineEventAggregation</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/TimelineEvent.html" target="_self" >Observable&lt;TimelineEvent[]&gt;</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getMaxDate"></a>
                    <span class="name">
                        <b>
                            getMaxDate
                        </b>
                        <a href="#getMaxDate"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getMaxDate()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="147"
                            class="link-to-prism">timeline/bootstrap/facet-timeline.component.ts:147</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>    <code>Date | undefined</code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getMinDate"></a>
                    <span class="name">
                        <b>
                            getMinDate
                        </b>
                        <a href="#getMinDate"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getMinDate()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="143"
                            class="link-to-prism">timeline/bootstrap/facet-timeline.component.ts:143</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>    <code>Date | undefined</code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getRecordsAsEvents"></a>
                    <span class="name">
                        <b>
                            getRecordsAsEvents
                        </b>
                        <a href="#getRecordsAsEvents"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getRecordsAsEvents(config: <a href="../interfaces/TimelineRecords.html">TimelineRecords</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="306"
                            class="link-to-prism">timeline/bootstrap/facet-timeline.component.ts:306</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Returns the list of records from the results as a list of TimelineEvent when they have a
modified date. The size and styles of the events are determined from the given configuration (TimelineRecords)</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>config</td>
                                    <td>
                                                <code><a href="../interfaces/TimelineRecords.html" target="_self" >TimelineRecords</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/TimelineEvent.html" target="_self" >TimelineEvent[]</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getTimeseries"></a>
                    <span class="name">
                        <b>
                            getTimeseries
                        </b>
                        <a href="#getTimeseries"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getTimeseries(config: <a href="../interfaces/TimelineAggregation.html">TimelineAggregation</a>, range?: [Date, Date])</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="284"
                            class="link-to-prism">timeline/bootstrap/facet-timeline.component.ts:284</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Get a timeseries aggregation via the getAggregation method.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>config</td>
                                    <td>
                                                <code><a href="../interfaces/TimelineAggregation.html" target="_self" >TimelineAggregation</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>range</td>
                                    <td>
                                            <code>[Date, Date]</code>
                                    </td>

                                    <td>
                                        Yes
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/TimelineSeries.html" target="_self" >Observable&lt;TimelineSeries&gt;</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngOnChanges"></a>
                    <span class="name">
                        <b>
                            ngOnChanges
                        </b>
                        <a href="#ngOnChanges"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngOnChanges(changes: <a href="https://angular.io/api/core/SimpleChanges" target="_blank">SimpleChanges</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="159"
                            class="link-to-prism">timeline/bootstrap/facet-timeline.component.ts:159</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>changes</td>
                                    <td>
                                                <code><a href="https://angular.io/api/core/SimpleChanges" target="_blank" >SimpleChanges</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onEventClicked"></a>
                    <span class="name">
                        <b>
                            onEventClicked
                        </b>
                        <a href="#onEventClicked"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onEventClicked(event: <a href="../interfaces/TimelineEvent.html">TimelineEvent</a>, closeTooltip: () => void)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="480"
                            class="link-to-prism">timeline/bootstrap/facet-timeline.component.ts:480</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>When an event is clicked, the event is propagated to the parent, and the tooltip is closed</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>event</td>
                                    <td>
                                                <code><a href="../interfaces/TimelineEvent.html" target="_self" >TimelineEvent</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>closeTooltip</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/function" target="_blank" >function</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onRangeChange"></a>
                    <span class="name">
                        <b>
                            onRangeChange
                        </b>
                        <a href="#onRangeChange"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onRangeChange(range: [Date, Date])</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="462"
                            class="link-to-prism">timeline/bootstrap/facet-timeline.component.ts:462</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>On range is triggered when the user zooms in our out on the timeline,
which triggers a dynamic update of the combined aggregation timelines.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>range</td>
                                    <td>
                                            <code>[Date, Date]</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="onSelectionChange"></a>
                    <span class="name">
                        <b>
                            onSelectionChange
                        </b>
                        <a href="#onSelectionChange"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>onSelectionChange(selection:  | undefined)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="421"
                            class="link-to-prism">timeline/bootstrap/facet-timeline.component.ts:421</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>On selection is triggered when the user selects a range of dates on the timeline.
This has the effect of updating the query.select (either remove it or add/replace it)
and it updates the search.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>selection</td>
                                    <td>
                                            <code> | undefined</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="shiftDate"></a>
                    <span class="name">
                        <b>
                            <span class="modifier">Static</span>
                            shiftDate
                        </b>
                        <a href="#shiftDate"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>shiftDate(date: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank">Date</a>, resolution: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="587"
                            class="link-to-prism">timeline/bootstrap/facet-timeline.component.ts:587</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Shift the date to the middle of their time bracket (2020 = middle of the year, April = middle of the month, etc.)</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>date</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" >Date</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>resolution</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" >Date</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateCombinedAggregation"></a>
                    <span class="name">
                        <b>
                            updateCombinedAggregation
                        </b>
                        <a href="#updateCombinedAggregation"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>updateCombinedAggregation(config: <a href="../interfaces/TimelineCombinedAggregations.html">TimelineCombinedAggregations</a>, range: [Date, Date], timeseries$: <a href="../interfaces/TimelineSeries.html">ReplaySubject<TimelineSeries></a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="381"
                            class="link-to-prism">timeline/bootstrap/facet-timeline.component.ts:381</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>Given a combined aggregation configuration and a range, this method searches for the most 
adapted aggregation scale (years, months, weeks or days) and updates the data if necessary.</p>
</div>

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>config</td>
                                    <td>
                                                <code><a href="../interfaces/TimelineCombinedAggregations.html" target="_self" >TimelineCombinedAggregations</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>range</td>
                                    <td>
                                            <code>[Date, Date]</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>timeseries$</td>
                                    <td>
                                                <code><a href="../interfaces/TimelineSeries.html" target="_self" >ReplaySubject&lt;TimelineSeries&gt;</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateEvents"></a>
                    <span class="name">
                        <b>
                            updateEvents
                        </b>
                        <a href="#updateEvents"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>updateEvents()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="259"
                            class="link-to-prism">timeline/bootstrap/facet-timeline.component.ts:259</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>For each event configuration given as an input, 
update the data via the list of observables (events$)</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateTimeseries"></a>
                    <span class="name">
                        <b>
                            updateTimeseries
                        </b>
                        <a href="#updateTimeseries"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>updateTimeseries()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="220"
                            class="link-to-prism">timeline/bootstrap/facet-timeline.component.ts:220</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-description"><p>For each timeseries configuration given as an input,
update the data via the list of observables (timelines$)</p>
</div>

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
    <section>
    
        <h3 id="inputs">
            Properties
        </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="appService"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            appService</b>
                            <a href="#appService"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>AppService</code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="114" class="link-to-prism">timeline/bootstrap/facet-timeline.component.ts:114</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="audit"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            audit</b>
                            <a href="#audit"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>AuditWebService</code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="118" class="link-to-prism">timeline/bootstrap/facet-timeline.component.ts:118</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="cdRef"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            cdRef</b>
                            <a href="#cdRef"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://angular.io/api/core/ChangeDetectorRef" target="_blank" >ChangeDetectorRef</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="117" class="link-to-prism">timeline/bootstrap/facet-timeline.component.ts:117</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="clearFilters"></a>
                        <span class="name">
                            <b>
                            clearFilters</b>
                            <a href="#clearFilters"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>Action</code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="109" class="link-to-prism">timeline/bootstrap/facet-timeline.component.ts:109</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="currentRange"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Optional</span>
                            currentRange</b>
                            <a href="#currentRange"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>[Date, Date]</code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="103" class="link-to-prism">timeline/bootstrap/facet-timeline.component.ts:103</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="events$"></a>
                        <span class="name">
                            <b>
                            events$</b>
                            <a href="#events$"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="../interfaces/TimelineEvent.html" target="_self" >ReplaySubject&lt;TimelineEvent[]&gt;[]</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="93" class="link-to-prism">timeline/bootstrap/facet-timeline.component.ts:93</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="exprBuilder"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            exprBuilder</b>
                            <a href="#exprBuilder"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>ExprBuilder</code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="116" class="link-to-prism">timeline/bootstrap/facet-timeline.component.ts:116</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="facetService"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            facetService</b>
                            <a href="#facetService"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>FacetService</code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="112" class="link-to-prism">timeline/bootstrap/facet-timeline.component.ts:112</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="formatDayRequest"></a>
                        <span class="name">
                            <b>
                            formatDayRequest</b>
                            <a href="#formatDayRequest"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>d3.timeFormat(&quot;%Y-%m-%d&quot;)</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="106" class="link-to-prism">timeline/bootstrap/facet-timeline.component.ts:106</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="mergedEvents$"></a>
                        <span class="name">
                            <b>
                            mergedEvents$</b>
                            <a href="#mergedEvents$"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="../interfaces/TimelineEvent.html" target="_self" >Observable&lt;TimelineEvent[]&gt;</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="97" class="link-to-prism">timeline/bootstrap/facet-timeline.component.ts:97</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="mergedTimeseries$"></a>
                        <span class="name">
                            <b>
                            mergedTimeseries$</b>
                            <a href="#mergedTimeseries$"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="../interfaces/TimelineSeries.html" target="_self" >Observable&lt;TimelineSeries[]&gt;</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="96" class="link-to-prism">timeline/bootstrap/facet-timeline.component.ts:96</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="searchService"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            searchService</b>
                            <a href="#searchService"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>SearchService</code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="113" class="link-to-prism">timeline/bootstrap/facet-timeline.component.ts:113</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="selection"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Optional</span>
                            selection</b>
                            <a href="#selection"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>[Date, Date]</code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="100" class="link-to-prism">timeline/bootstrap/facet-timeline.component.ts:100</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="selectionService"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            selectionService</b>
                            <a href="#selectionService"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>SelectionService</code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="115" class="link-to-prism">timeline/bootstrap/facet-timeline.component.ts:115</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="timeseries$"></a>
                        <span class="name">
                            <b>
                            timeseries$</b>
                            <a href="#timeseries$"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="../interfaces/TimelineSeries.html" target="_self" >ReplaySubject&lt;TimelineSeries&gt;[]</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="92" class="link-to-prism">timeline/bootstrap/facet-timeline.component.ts:92</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
</section>

    <section>
    <h3 id="accessors">
        Accessors
    </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="actions"></a>
                        <span class="name"><b>actions</b><a href="#actions"><span class="icon ion-ios-link"></span></a></span>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <span class="accessor"><b>get</b><code>actions()</code></span>
                    </td>
                </tr>
                            <tr>
                                <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="151" class="link-to-prism">timeline/bootstrap/facet-timeline.component.ts:151</a></div>
                                </td>
                            </tr>

            </tbody>
        </table>
</section>
</div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { Component, Input, OnChanges, ChangeDetectorRef, SimpleChanges, Output, EventEmitter } from &#x27;@angular/core&#x27;;
import { Observable, of, combineLatest, ReplaySubject } from &#x27;rxjs&#x27;;
import { map } from &#x27;rxjs/operators&#x27;;
import { Results, AggregationItem, Aggregation, CCAggregation, Record, AuditWebService, AuditEventType } from &#x27;@sinequa/core/web-services&#x27;;
import { AppService, Expr, ExprBuilder } from &#x27;@sinequa/core/app-utils&#x27;;
import { Utils } from &#x27;@sinequa/core/base&#x27;;
import { AbstractFacet, FacetService } from &#x27;@sinequa/components/facet&#x27;;
import { SearchService } from &#x27;@sinequa/components/search&#x27;;
import { SelectionService } from &#x27;@sinequa/components/selection&#x27;;
import { Action } from &#x27;@sinequa/components/action&#x27;;
import { TimelineSeries, TimelineDate, TimelineEvent } from &#x27;./timeline.component&#x27;;
import moment from &#x27;moment&#x27;;
import * as d3 from &#x27;d3&#x27;;
import { TimelineEventType } from &#x27;./timeline-legend.component&#x27;;

export interface TimelineAggregation {
    name?: string;
    aggregation: string;
    primary: boolean;
    areaStyles?: {[key: string]: any};
    lineStyles?: {[key: string]: any};
}

export interface TimelineCombinedAggregations {
    aggregations: TimelineAggregation[];
    maxNMonths: number[]; // Maximum number of months for which to use this aggregation
    default: TimelineAggregation; // Aggregation to use by default 
    current?: TimelineAggregation; // (this field is overriden by the component when switching aggregation)
}

export interface TimelineRecords {
    field: string;
    size?: number | ((record: Record, selected: boolean) &#x3D;&gt; number);
    styles?: {[key: string]: any} | ((record: Record, selected: boolean) &#x3D;&gt; {[key: string]: any});
    display?: (record: Record) &#x3D;&gt; string;
}

export interface TimelineEventAggregation {
    aggregation: string;
    getDate: ((item: AggregationItem) &#x3D;&gt; Date);
    getDisplay: ((item: AggregationItem) &#x3D;&gt; string);
    size?: number | ((item: AggregationItem) &#x3D;&gt; number);
    styles?: {[key: string]: any} | ((item: AggregationItem) &#x3D;&gt; {[key: string]: any});
}

export type TimelineData &#x3D; TimelineSeries | TimelineAggregation | TimelineCombinedAggregations;

export type TimelineEventData &#x3D; TimelineEvent[] | TimelineRecords | TimelineEventAggregation;

@Component({
    selector: &#x27;sq-facet-timeline&#x27;,
    templateUrl: &#x27;./facet-timeline.component.html&#x27;,
    styleUrls: [&#x27;./facet-timeline.component.scss&#x27;]
})
export class BsFacetTimelineComponent extends AbstractFacet implements OnChanges {
    @Input() name &#x3D; &#x27;Timeline&#x27;;
    @Input() results: Results;
    
    // By default, we show the standard Timeline aggregation and the list of current records
    @Input() timeseries: TimelineData[] &#x3D; [{aggregation: &#x27;Timeline&#x27;, primary: true}];
    @Input() events: TimelineEventData[] &#x3D; [{field: &#x27;modified&#x27;}];

    // Initial scale (prior to any zoom)
    @Input() minDate?: Date;
    @Input() maxDate?: Date;
    // Date range to filter aggregations (ignored when combined aggregations are recomputed based on zoomed range)
    @Input() minAggregationDate?: Date;
    @Input() maxAggregationDate?: Date;
    
    @Input() zoomable &#x3D; true;
    @Input() minZoomDays &#x3D; 1; // Max 1 day scale
    @Input() maxZoomDays &#x3D; 365 * 100; // Max 100 years scale

    @Input() width &#x3D; 600;
    @Input() height &#x3D; 200;
    @Input() margin &#x3D; {top: 15, bottom: 20, left: 40, right: 15};

    @Input() curveType &#x3D; &quot;curveMonotoneX&quot;;

    @Input() showTooltip &#x3D; true;
    @Input() theme: &quot;light&quot; | &quot;dark&quot; &#x3D; &quot;light&quot;;

    @Input() showLegend &#x3D; false;
    @Input() legendStyles?: {[key:string]: any} &#x3D; {&#x27;justify-content&#x27; : &#x27;center&#x27;};
    @Input() legendEvents?: TimelineEventType[];
    @Input() legendOrientation?: &quot;row&quot;|&quot;column&quot; &#x3D; &quot;row&quot;;
    @Input() legendYOffset?: number &#x3D; 3;

    @Output() eventClicked &#x3D; new EventEmitter&lt;TimelineEvent&gt;();

    // List of observables (one per timeseries / event type)
    timeseries$: ReplaySubject&lt;TimelineSeries&gt;[];
    events$: ReplaySubject&lt;TimelineEvent[]&gt;[];

    // Combination (combineLastest) of the timeline observables
    mergedTimeseries$: Observable&lt;TimelineSeries[]&gt;;
    mergedEvents$: Observable&lt;TimelineEvent[]&gt;;

    // Current timeline selection
    selection?: [Date, Date];

    // Current range (undefined if no zoom / auto-scaling)
    currentRange?: [Date, Date];

    // Formating method for search queries
    formatDayRequest &#x3D; d3.timeFormat(&quot;%Y-%m-%d&quot;);

    // Actions
    clearFilters: Action;

    constructor(
        public facetService: FacetService,
        public searchService: SearchService,
        public appService: AppService,
        public selectionService: SelectionService,
        public exprBuilder: ExprBuilder,
        public cdRef: ChangeDetectorRef,
        public audit: AuditWebService
    ){
        super();

        // Update the events when the selection of records changes
        this.selectionService.events.subscribe(event &#x3D;&gt; {
            const i &#x3D; this.events.findIndex(e &#x3D;&gt; (e as TimelineRecords).field);
            if(i !&#x3D;&#x3D; -1) {
                this.events$[i].next(this.getRecordsAsEvents(this.events[i] as TimelineRecords));
            }
        });
        
        // Clear the current filters
        this.clearFilters &#x3D; new Action({
            icon: &quot;far fa-minus-square&quot;,
            title: &quot;msg#facet.clearSelects&quot;,
            action: () &#x3D;&gt; {
                this.selection &#x3D; undefined;
                this.searchService.query.removeSelect(this.name);
                this.searchService.search();
            }
        });

    }

    getMinDate(): Date | undefined {
        return this.currentRange? this.currentRange[0] : this.minDate;
    }

    getMaxDate(): Date | undefined {
        return this.currentRange? this.currentRange[1] : this.maxDate;
    }

    get actions(): Action[] {
        const actions: Action[] &#x3D; [];
        if(this.facetService.hasFiltered(this.name)){
            actions.push(this.clearFilters);
        }
        return actions;
    }

    ngOnChanges(changes: SimpleChanges) {

        // Skip simple changes (width, height, etc.) that don&#x27;t require modifying the timeline data
        if(!changes.timeseries &amp;&amp; !changes.events &amp;&amp; !changes.results) {
            return;
        }

        // Retrieve the current active selection for this timeline (if any)
        const select &#x3D; this.searchService.query.findSelect(this.name);

        // Update the selection if it is not already set (which is the case on a page refresh)
        if(select &amp;&amp; !this.selection) {
            let parsedexpr &#x3D; this.appService.parseExpr(select.expression) as Expr;
            if(!Utils.isString(parsedexpr)){
                while(!parsedexpr.isLeaf){ // The select might over multiple fields (modified between [...] AND created between [...])
                    parsedexpr &#x3D; parsedexpr.operands[0];
                }
                if(parsedexpr.values){
                    this.selection &#x3D; [new Date(parsedexpr.values[0]), new Date(parsedexpr.values[1])];
                    // Guess a current range based on the selection
                    if(!this.currentRange) {
                        const interval &#x3D; this.selection[1].getTime() - this.selection[0].getTime();
                        this.currentRange &#x3D; [ // Selected Interval +10% on each side
                            new Date(this.selection[0].getTime()-interval*0.1),
                            new Date(this.selection[1].getTime()+interval*0.1)
                        ];
                    }
                }
            }
        }
        // If no active selection we remove the selection from the timeline, along with the current zoomed range
        else if(!select) {
            this.selection &#x3D; undefined; // If no select, it was possibly removed by the user, we need to update our selection
            this.currentRange &#x3D; undefined; // current range is set by zoom events, we want to reset it only if there are no select (ie. no user interaction)
        }

        // Initialize timeseries
        if(!this.timeseries$ || changes[&quot;timeseries&quot;]) {
            // Create one observable per timeline
            this.timeseries$ &#x3D; this.timeseries.map(_ &#x3D;&gt; new ReplaySubject&lt;TimelineSeries&gt;(1));
            this.mergedTimeseries$ &#x3D; combineLatest(this.timeseries$);
        }

        this.updateTimeseries();

        // Initialize events
        if(!this.events$ || changes[&quot;events&quot;]) {
            this.events$ &#x3D; this.events.map(_ &#x3D;&gt; new ReplaySubject&lt;TimelineEvent[]&gt;(1));
            this.mergedEvents$ &#x3D; combineLatest(this.events$).pipe(
                map(events &#x3D;&gt; ([] as TimelineEvent[]).concat(...events))
            );
        }

        this.updateEvents();
        
    }

    /**
     * For each timeseries configuration given as an input,
     * update the data via the list of observables (timelines$)
     */
    updateTimeseries() {
        this.timeseries.forEach((config, i) &#x3D;&gt; {

            const subject &#x3D; this.timeseries$[i];

            if((config as TimelineSeries).dates !&#x3D;&#x3D; undefined) {
                subject.next(config as TimelineSeries);
            }

            else {
                let agg &#x3D; config as TimelineAggregation;
                if(agg.aggregation &#x3D;&#x3D;&#x3D; undefined){
                    
                    config &#x3D; config as TimelineCombinedAggregations;
                    // We want to set the default scale if it hasn&#x27;t been set before
                    // or if no zoom/selection has been made (so current scale may not be adapted to the new results)
                    if(!this.currentRange || !config.current){
                        config.current &#x3D; config.default;
                    }

                    agg &#x3D; config.current;
                }
                
                const range: [Date, Date] | undefined &#x3D; !!this.minAggregationDate &amp;&amp; !!this.maxAggregationDate ?
                    [this.minAggregationDate, this.maxAggregationDate] : undefined;

                this.getTimeseries(agg, range).subscribe({
                    next: d &#x3D;&gt; subject.next(d),
                    error: err &#x3D;&gt; subject.error(err)
                });
            }

        });
    }

    /**
     * For each event configuration given as an input, 
     * update the data via the list of observables (events$)
     */
    updateEvents() {
        this.events.forEach((config, i) &#x3D;&gt; {
            const subject &#x3D; this.events$[i];

            if((config as TimelineRecords).field) {
                subject.next(this.getRecordsAsEvents(config as TimelineRecords));
            }
            else if((config as TimelineEventAggregation).aggregation){
                this.getEventAggregation(config as TimelineEventAggregation).subscribe({
                    next: t &#x3D;&gt; subject.next(t),
                    error: err &#x3D;&gt; subject.error(err)
                });
            }
            else if(Array.isArray(config)){
                subject.next(config as TimelineEvent[]);
            }
        });
    }

    /**
     * Get a timeseries aggregation via the getAggregation method.
     * @param config 
     * @param subject 
     * @param range 
     */
    getTimeseries(config: TimelineAggregation, range?: [Date, Date]): Observable&lt;TimelineSeries&gt; {
        return this.getAggregation(config.aggregation, range).pipe(
            map(d &#x3D;&gt; BsFacetTimelineComponent.createTimeseries(config, d.aggregation, d.ccaggregation, range))
        );
    }

    /**
     * Get an aggregation of events via the getAggregation method
     * @param config 
     * @param subject 
     */
    getEventAggregation(config: TimelineEventAggregation): Observable&lt;TimelineEvent[]&gt; {
        return this.getAggregation(config.aggregation).pipe(
            map(d &#x3D;&gt; BsFacetTimelineComponent.createAggregationEvents(config, d.aggregation, d.ccaggregation))
        );
    }

    /**
     * Returns the list of records from the results as a list of TimelineEvent when they have a
     * modified date. The size and styles of the events are determined from the given configuration (TimelineRecords)
     * @param config 
     */
    getRecordsAsEvents(config: TimelineRecords): TimelineEvent[] {
        if(this.results) {
            return this.results.records
                .filter(r &#x3D;&gt; !!Utils.toDate(r[config.field]))
                .map&lt;TimelineEvent&gt;(r &#x3D;&gt; {
                    return {
                        id: r.id,
                        date: Utils.toDate(r[config.field])!,
                        size: !config.size? 6 : typeof config.size &#x3D;&#x3D;&#x3D; &#x27;function&#x27;? config.size(r, r.$selected) : config.size,
                        styles: !config.styles? BsFacetTimelineComponent.defaultRecordStyle(r.$selected) :
                                typeof config.styles &#x3D;&#x3D;&#x3D; &#x27;function&#x27;? config.styles(r, r.$selected) : 
                                config.styles,
                        display: config.display? config.display(r) : r.title,
                        // Custom property for click action
                        record: r
                    }
                });
        }
        return [];
    }


    /**
     * returns an aggregation and its configuration either directly from the facet service of
     * by fetching it from the server.
     * @param aggregationName 
     * @param range 
     */
    getAggregation(aggregationName: string, range?: [Date, Date]): Observable&lt;{aggregation: Aggregation, ccaggregation: CCAggregation}&gt; {
        
        const ccaggregation &#x3D; this.appService.getCCAggregation(aggregationName);
        const aggregation &#x3D; this.facetService.getAggregation(aggregationName, this.results);
        
        if(aggregation &amp;&amp; ccaggregation) {
            return of({aggregation: aggregation, ccaggregation: ccaggregation});
        }

        else if(ccaggregation) {
            return this.fetchAggregation(aggregationName, ccaggregation, range).pipe(
                map(agg &#x3D;&gt; {return {aggregation: agg, ccaggregation: ccaggregation} })
            );
        }

        else {
            throw new Error(&#x60;Aggregation ${aggregationName} does not exist in the Query web service&#x60;);
        }
    }

    /**
     * Get an aggregation from the server, filtering by range if provided
     * @param aggregation 
     * @param ccaggregation 
     * @param range 
     */
    fetchAggregation(aggregation: string, ccaggregation: CCAggregation, range?: [Date, Date]): Observable&lt;Aggregation&gt; {
        const query &#x3D; Utils.copy(this.searchService.query);
        query.action &#x3D; &quot;aggregate&quot;;
        query.aggregations &#x3D; [aggregation];

        if(range){
            query.addSelect(&#x60;${ccaggregation.column}:[${this.formatDayRequest(range[0])}..${this.formatDayRequest(range[1])}]&#x60;);
        }

        return this.searchService.getResults(query, undefined, {searchInactive: true}).pipe(
            map(results &#x3D;&gt; results.aggregations[0])
        );
    }

    /**
     * Given a combined aggregation configuration and a range, this method searches for the most 
     * adapted aggregation scale (years, months, weeks or days) and updates the data if necessary.
     * @param config 
     * @param range 
     * @param iTimeseries 
     */
    updateCombinedAggregation(config: TimelineCombinedAggregations, range: [Date, Date], timeseries$: ReplaySubject&lt;TimelineSeries&gt;) {
        const nmonths &#x3D; d3.timeMonth.count(range[0], range[1]);

        if(!config.maxNMonths || config.maxNMonths.length !&#x3D;&#x3D; config.aggregations.length) {
            console.error(config);
            throw new Error(&quot;maxNMonths and aggregations must have the same number of items&quot;);
        }

        // Find the aggregation with min maxNMonths with maxNMonths &gt;&#x3D; nmonths
        let jMin;
        config.maxNMonths.forEach((maxNMonths, j) &#x3D;&gt; {
            if(maxNMonths &gt;&#x3D; nmonths &amp;&amp; (jMin &#x3D;&#x3D;&#x3D; undefined || maxNMonths &lt; config.maxNMonths[jMin] || config.maxNMonths[jMin] &#x3D;&#x3D;&#x3D; -1) 
                || maxNMonths &#x3D;&#x3D;&#x3D; -1 &amp;&amp; jMin &#x3D;&#x3D;&#x3D; undefined){
                jMin &#x3D; j;
            }
        });

        const bestAggregation &#x3D; config.aggregations[jMin];

        if(bestAggregation !&#x3D;&#x3D; config.current 
            || this.currentRange &amp;&amp; (range[0] &lt; this.currentRange[0] || range[1] &gt; this.currentRange[1])) {

            config.current &#x3D; bestAggregation;
            this.getTimeseries(bestAggregation, range).subscribe({
                next: d &#x3D;&gt; timeseries$.next(d),
                error: err &#x3D;&gt; timeseries$.error(err)
            });
        }

    }


    // Interaction callbacks

    /**
     * On selection is triggered when the user selects a range of dates on the timeline.
     * This has the effect of updating the query.select (either remove it or add/replace it)
     * and it updates the search.
     * @param selection 
     */
    onSelectionChange(selection: [Date, Date] | undefined) {
        this.selection &#x3D; selection;
        if(selection) {
            const from &#x3D; this.formatDayRequest(selection[0]);
            const to &#x3D; this.formatDayRequest(selection[1]);

            const exprs: string[] &#x3D; [];
            this.searchService.query.removeSelect(this.name);

            this.timeseries.forEach((config) &#x3D;&gt; {
                    
                if((config as TimelineAggregation).aggregation !&#x3D;&#x3D; undefined 
                || (config as TimelineCombinedAggregations).default !&#x3D;&#x3D; undefined) {

                    const aggregation &#x3D; (config as TimelineAggregation).aggregation || (config as TimelineCombinedAggregations).default.aggregation;
                    const ccaggregation &#x3D; this.appService.getCCAggregation(aggregation);
                    if(ccaggregation) {
                        exprs.push(this.exprBuilder.makeRangeExpr(ccaggregation.column, from, to));
                    }
                }

            });

            if(exprs.length &gt; 0) {
                const expr &#x3D; this.exprBuilder.concatOrExpr(exprs);
                this.searchService.query.addSelect(expr, this.name);
                this.searchService.search(undefined, {type:AuditEventType.Search_Timeline_Usage, detail: { from, to }});
            }            
        }

        else if(this.searchService.query.findSelect(this.name)) {
            this.searchService.query.removeSelect(this.name);
            this.searchService.search();
        }
    }

    /**
     * On range is triggered when the user zooms in our out on the timeline,
     * which triggers a dynamic update of the combined aggregation timelines.
     * @param range 
     */
    onRangeChange(range: [Date, Date]) {

        this.timeseries.forEach((config, i) &#x3D;&gt; {
            if((config as TimelineCombinedAggregations).aggregations !&#x3D;&#x3D; undefined) {
                this.updateCombinedAggregation(config as TimelineCombinedAggregations, range, this.timeseries$[i]);
            }
        });

        // Note: updateCombinedAggregation() compares currentRange and range
        // So this update must be kept after the forEach
        this.currentRange &#x3D; range;
    }

    /**
     * When an event is clicked, the event is propagated to the parent, and the tooltip is closed
     * @param event 
     * @param closeTooltip 
     */
    onEventClicked(event: TimelineEvent, closeTooltip: () &#x3D;&gt; void) {
        this.eventClicked.next(event);
        closeTooltip();
        return false;
    }


    // Static utility methods
    
    
    /**
     * Create a time series object from its config, data (aggregation) and configuration (ccaggregation)
     * @param config 
     * @param aggregation 
     * @param ccaggregation 
     */
    static createTimeseries(config: TimelineAggregation, aggregation: Aggregation, ccaggregation: CCAggregation, range?: [Date, Date]): TimelineSeries {
        return {
            name: config.name || aggregation.name,
            primary: config.primary,
            dates: this.createDatapoints(aggregation.items, ccaggregation?.mask, range),
            lineStyles: config.lineStyles,
            areaStyles: config.areaStyles
        }
    }

    /**
     * Create a list of events from its config, data (aggregation) and configuration (ccaggregation)
     * @param config 
     * @param aggregation 
     * @param ccaggregation 
     */
    static createAggregationEvents(config: TimelineEventAggregation, aggregation: Aggregation, ccaggregation: CCAggregation): TimelineEvent[] {
        return !aggregation.items? [] : aggregation.items.map(item &#x3D;&gt; {
            return {
                id: config.getDate(item).toUTCString()+&quot;|&quot;+config.getDisplay(item),
                date: config.getDate(item),
                size: !config.size? 6 : typeof config.size &#x3D;&#x3D;&#x3D; &#x27;function&#x27;? config.size(item) : config.size,
                styles: !config.styles? undefined :
                        typeof config.styles &#x3D;&#x3D;&#x3D; &#x27;function&#x27;? config.styles(item) : 
                        config.styles,                
                display: config.getDisplay(item),

                // Custom params for click action
                item: item,
                aggregation: aggregation,
                ccaggregation: ccaggregation
            }
        });
    }

    /**
     * This methods transforms a raw list of aggregation items into
     * a time series completed with zeros, following the below scheme:
     * Aggregation:  [    # #         # # #   #     # #       # # #    ]
     * Series:       [  0 # # 0     0 # # # 0 # 0 0 # # 0   0 # # # 0  ]
     * @param items 
     * @param resolution 
     */
    static createDatapoints(items: AggregationItem[] | undefined, resolution: string, range?: [Date, Date]): TimelineDate[] {

        if(!items) {
            return [];
        }

        const timeInterval &#x3D; this.getD3TimeInterval(resolution);
        
        const series: TimelineDate[] &#x3D; [];

        const _items &#x3D; items
            .map(item &#x3D;&gt; {
                if(!!item.value &amp;&amp; !(item.value instanceof Date)){
                    const val &#x3D; item.value.toString();
                    item.value &#x3D; moment(val.length &lt;&#x3D; 4? val + &quot;-01&quot; : val).toDate();
                    if(isNaN(item.value.getTime())){
                        item.value &#x3D; &lt;Date&gt;&lt;unknown&gt; undefined; // So it gets filtered out
                    }
                }
                return item;
            })
            .filter(item &#x3D;&gt; !!item.value &amp;&amp; (!range || ((item.value as Date) &gt;&#x3D; range[0] &amp;&amp; (item.value as Date) &lt;&#x3D; range[1])));

        _items.forEach((item,i) &#x3D;&gt; {
            const date &#x3D; item.value as Date;
            
            if(i &#x3D;&#x3D;&#x3D; 0 || timeInterval.offset(series[series.length-1].date, 1) &lt; date) {
                series.push({date: timeInterval.offset(date, -1), value: 0});
            }

            series.push({date: date, value: item.count});

            if(i &#x3D;&#x3D;&#x3D; _items.length-1 || timeInterval.offset(date, 1) &lt; _items[i+1].value){
                series.push({date: timeInterval.offset(date, 1), value: 0});                    
            }
        });

        series.forEach(item &#x3D;&gt; item.date &#x3D; this.shiftDate(item.date, resolution));

        return series;
    }

    
    /**
     * Shift the date to the middle of their time bracket (2020 &#x3D; middle of the year, April &#x3D; middle of the month, etc.)
     * @param date 
     * @param resolution 
     */
    static shiftDate(date: Date, resolution: string): Date {
        switch(resolution){
            case &quot;YYYY-MM-DD&quot;: return d3.timeHour.offset(date, 12);
            case &quot;YYYY-WW&quot;: return d3.timeHour.offset(date, 84); // 3*24 + 12
            case &quot;YYYY-MM&quot;: return d3.timeDay.offset(date, 15);
            case &quot;YYYY&quot;: return d3.timeMonth.offset(date, 6);
        }
        return date;
    }


    static getD3TimeInterval(resolution: string): d3.CountableTimeInterval {
        switch(resolution){
            case &quot;YYYY-MM-DD&quot;: return d3.timeDay;
            case &quot;YYYY-WW&quot;: return d3.timeWeek;
            case &quot;YYYY-MM&quot;: return d3.timeMonth;
            case &quot;YYYY&quot;: return d3.timeYear;
        }
        return d3.timeDay;
    }

    static defaultRecordStyle(selected: boolean): {[key: string]: any} {
        return {
            &#x27;fill&#x27;: selected? &#x27;red&#x27; : &#x27;green&#x27;,
            &#x27;stroke&#x27;: selected? &#x27;red&#x27; : undefined,
            &#x27;stroke-width&#x27;: selected? &#x27;2px&#x27; : undefined
        };
    }
}</code></pre>
    </div>

    <div class="tab-pane fade " id="c-templateData">
        <pre class="line-numbers"><code class="language-html">&lt;sq-timeline
    [data]&#x3D;&quot;mergedTimeseries$ | async&quot;
    [events]&#x3D;&quot;mergedEvents$ | async&quot;
    [selection]&#x3D;&quot;selection&quot;
    [minDate]&#x3D;&quot;getMinDate()&quot;
    [maxDate]&#x3D;&quot;getMaxDate()&quot;
    [zoomable]&#x3D;&quot;zoomable&quot;
    [minZoomDays]&#x3D;&quot;minZoomDays&quot;
    [maxZoomDays]&#x3D;&quot;maxZoomDays&quot;
    [width]&#x3D;&quot;width&quot;
    [height]&#x3D;&quot;height&quot;
    [margin]&#x3D;&quot;margin&quot;
    [curveType]&#x3D;&quot;curveType&quot;
    [showTooltip]&#x3D;&quot;showTooltip&quot;
    [theme]&#x3D;&quot;theme&quot;

    (selectionChange)&#x3D;&quot;onSelectionChange($event)&quot;
    (rangeInit)&#x3D;&quot;onRangeChange($event)&quot;
    (rangeChange)&#x3D;&quot;onRangeChange($event)&quot;&gt;

    &lt;ng-template #tooltipTpl let-event let-close&#x3D;&quot;close&quot;&gt;
        &lt;a href&#x3D;&quot;#&quot; (click)&#x3D;&quot;onEventClicked(event, close)&quot;
            class&#x3D;&quot;tooltip-item list-group-item list-group-item-action&quot;&gt;
            &lt;span class&#x3D;&quot;small text-muted&quot;&gt;{{ event.date | sqDate }}&lt;/span&gt;
            &lt;div class&#x3D;&quot;text-truncate&quot;&gt;{{ event.display || event.record.title }}&lt;/div&gt;
        &lt;/a&gt;
    &lt;/ng-template&gt;

&lt;/sq-timeline&gt;

&lt;sq-timeline-legend *ngIf&#x3D;&quot;showLegend&quot;
    [data]&#x3D;&quot;mergedTimeseries$ | async&quot;
    [events]&#x3D;&quot;legendEvents&quot;
    [legendStyles]&#x3D;&quot;legendStyles&quot;
    [orientation]&#x3D;&quot;legendOrientation&quot;
    [yOffset]&#x3D;&quot;legendYOffset&quot;&gt;
&lt;/sq-timeline-legend&gt;
</code></pre>
    </div>

    <div class="tab-pane fade " id="c-styleData">
                <p class="comment">
                    <code>./facet-timeline.component.scss</code>
                </p>
                <pre class="line-numbers"><code class="language-scss">
.tooltip-item {
    max-width: 300px;
}</code></pre>
    </div>

    <div class="tab-pane fade " id="c-tree">
        <div id="tree-container"></div>
        <div class="tree-legend">
            <div class="title">
                <b>Legend</b>
            </div>
            <div>
                <div class="color htmlelement"></div><span>Html element</span>
            </div>
            <div>
                <div class="color component"></div><span>Component</span>
            </div>
            <div>
                <div class="color directive"></div><span>Html element with directive</span>
            </div>
        </div>
    </div>

    
</div>

<script src="../js/libs/vis.min.js"></script>
<script src="../js/libs/htmlparser.js"></script>
<script src="../js/libs/deep-iterator.js"></script>
<script>
        var COMPONENT_TEMPLATE = '<div><sq-timeline    [data]="mergedTimeseries$ | async"    [events]="mergedEvents$ | async"    [selection]="selection"    [minDate]="getMinDate()"    [maxDate]="getMaxDate()"    [zoomable]="zoomable"    [minZoomDays]="minZoomDays"    [maxZoomDays]="maxZoomDays"    [width]="width"    [height]="height"    [margin]="margin"    [curveType]="curveType"    [showTooltip]="showTooltip"    [theme]="theme"    (selectionChange)="onSelectionChange($event)"    (rangeInit)="onRangeChange($event)"    (rangeChange)="onRangeChange($event)">    <ng-template #tooltipTpl let-event let-close="close">        <a href="#" (click)="onEventClicked(event, close)"            class="tooltip-item list-group-item list-group-item-action">            <span class="small text-muted">{{ event.date | sqDate }}</span>            <div class="text-truncate">{{ event.display || event.record.title }}</div>        </a>    </ng-template></sq-timeline><sq-timeline-legend *ngIf="showLegend"    [data]="mergedTimeseries$ | async"    [events]="legendEvents"    [legendStyles]="legendStyles"    [orientation]="legendOrientation"    [yOffset]="legendYOffset"></sq-timeline-legend></div>'
    var COMPONENTS = [{'name': 'AgGridViewComponent', 'selector': 'sq-ag-grid-view'},{'name': 'BsEdgeInfoCard', 'selector': 'sq-edge-info-card'},{'name': 'BsFacetHeatmapComponent', 'selector': 'sq-facet-heatmap'},{'name': 'BsFacetTimelineComponent', 'selector': 'sq-facet-timeline'},{'name': 'BsHeatmapComponent', 'selector': 'sq-heatmap'},{'name': 'BsNodeInfoCard', 'selector': 'sq-node-info-card'},{'name': 'BsResultsHeatmapView', 'selector': 'sq-results-heatmap-view'},{'name': 'BsTimelineComponent', 'selector': 'sq-timeline'},{'name': 'BsTooltipComponent', 'selector': 'sq-tooltip'},{'name': 'DataModalComponent', 'selector': 'sq-data-modal'},{'name': 'FacetNgxChart', 'selector': 'sq-facet-ngx-chart'},{'name': 'FusionChart', 'selector': 'sq-fusion-chart'},{'name': 'MapComponent', 'selector': 'sq-googlemaps'},{'name': 'MoneyCloudComponent', 'selector': 'sq-money-cloud'},{'name': 'MoneyTimelineComponent', 'selector': 'sq-money-timeline'},{'name': 'NetworkComponent', 'selector': 'sq-network'},{'name': 'NgxChart', 'selector': 'sq-ngx-chart'},{'name': 'ResultTimeline', 'selector': 'sq-result-timeline'},{'name': 'TimelineLegendComponent', 'selector': 'sq-timeline-legend'}];
    var DIRECTIVES = [];
    var ACTUAL_COMPONENT = {'name': 'BsFacetTimelineComponent'};
</script>
<script src="../js/tree.js"></script>










                   




                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> result-matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'component';
            var COMPODOC_CURRENT_PAGE_URL = 'BsFacetTimelineComponent.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>
       <!-- Required to polyfill modern browsers as code is ES5 for IE... -->
       <script src="../js/libs/custom-elements-es5-adapter.js" charset="utf-8" defer></script>
       <script src="../js/menu-wc.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
