(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["main"],{

/***/ "+3Y0":
/*!***************************************!*\
  !*** ../components/feedback/index.ts ***!
  \***************************************/
/*! exports provided: AuditFeedbackType, FeedbackService, BsFeedbackMenu, BsFeedbackModule, enFeedback, frFeedback, deFeedback */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _public_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./public-api */ "buIk");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AuditFeedbackType", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["AuditFeedbackType"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "FeedbackService", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["FeedbackService"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFeedbackMenu", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsFeedbackMenu"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFeedbackModule", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsFeedbackModule"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "enFeedback", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["enFeedback"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "frFeedback", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["frFeedback"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "deFeedback", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["deFeedback"]; });




/***/ }),

/***/ "+6eA":
/*!***************************************************!*\
  !*** ../components/search/bootstrap/tabs/tabs.ts ***!
  \***************************************************/
/*! exports provided: BsTabs */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsTabs", function() { return BsTabs; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _search_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../search.service */ "TJtf");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/intl/message.pipe */ "X1Kh");
/* harmony import */ var _utils_pipes_number_pipe__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../utils/pipes/number-pipe */ "FbeZ");






const _c0 = function (a0, a1) { return { "active": a0, "disabled": a1 }; };
function BsTabs_ul_0_ng_container_1_li_1_Template(rf, ctx) { if (rf & 1) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "li", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "a", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsTabs_ul_0_ng_container_1_li_1_Template_a_click_1_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r6); const tab_r4 = ctx.$implicit; const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3); return ctx_r5.selectTab(tab_r4); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "i", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](4, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "span", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](7, "sqNumber");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const tab_r4 = ctx.$implicit;
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction2"](8, _c0, tab_r4 == ctx_r3.currentTab, tab_r4.count == 0));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", ctx_r3.iconMap[tab_r4.name]);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](4, 4, tab_r4.display || tab_r4.name), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"]("(", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](7, 6, tab_r4.count), ")");
} }
function BsTabs_ul_0_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsTabs_ul_0_ng_container_1_li_1_Template, 8, 11, "li", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx_r1.searchtabs);
} }
function BsTabs_ul_0_ng_container_2_li_1_span_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqNumber");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const tab_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"]("(", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 1, tab_r8.count), ")");
} }
function BsTabs_ul_0_ng_container_2_li_1_Template(rf, ctx) { if (rf & 1) {
    const _r12 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "li", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "a", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsTabs_ul_0_ng_container_2_li_1_Template_a_click_1_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r12); const tab_r8 = ctx.$implicit; const ctx_r11 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3); return ctx_r11.selectTab(tab_r8, false); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "i", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](4, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](5, BsTabs_ul_0_ng_container_2_li_1_span_5_Template, 3, 3, "span", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const tab_r8 = ctx.$implicit;
    const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction2"](6, _c0, tab_r8 == ctx_r7.currentTab, tab_r8.count == 0));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", ctx_r7.iconMap[tab_r8.name]);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](4, 4, tab_r8.display || tab_r8.name), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", tab_r8.count >= 0);
} }
function BsTabs_ul_0_ng_container_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsTabs_ul_0_ng_container_2_li_1_Template, 6, 9, "li", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx_r2.customtabs);
} }
function BsTabs_ul_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "ul", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsTabs_ul_0_ng_container_1_Template, 2, 1, "ng-container", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, BsTabs_ul_0_ng_container_2_Template, 2, 1, "ng-container", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !!ctx_r0.searchtabs);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !!ctx_r0.customtabs);
} }
class BsTabs {
    constructor(searchService) {
        this.searchService = searchService;
        /**
         * Associate icon to a tab name ({tab1 : 'icon class 1', tab2 : ...})
         */
        this.iconMap = {};
        /**
         * Emits an event when a tab is selected
         */
        this.events = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
    }
    update() {
        if (this.results && this.results.tabs) {
            this.currentTab = this.searchService.getCurrentTab();
            this.searchtabs = this.results.tabs;
        }
        else {
            this.currentTab = undefined;
            this.searchtabs = undefined;
        }
    }
    ngOnChanges(changes) {
        if (!!changes["results"]) {
            this.update();
        }
    }
    selectTab(tab, search = true) {
        if (tab !== this.currentTab) {
            if (search) {
                this.searchService.selectTab(tab); // the currentTab will be updated in update()
            }
            else {
                this.currentTab = tab;
            }
            this.events.next(tab);
        }
        return false; // Stop following href
    }
}
BsTabs.ɵfac = function BsTabs_Factory(t) { return new (t || BsTabs)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_search_service__WEBPACK_IMPORTED_MODULE_1__["SearchService"])); };
BsTabs.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsTabs, selectors: [["sq-tabs"]], inputs: { results: "results", customtabs: "customtabs", iconMap: "iconMap" }, outputs: { events: "events" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 1, vars: 1, consts: [["class", "nav nav-tabs mb-1", 4, "ngIf"], [1, "nav", "nav-tabs", "mb-1"], [4, "ngIf"], ["class", "nav-item", 4, "ngFor", "ngForOf"], [1, "nav-item"], ["href", "#", 1, "nav-link", 3, "ngClass", "click"], [3, "ngClass"], [1, "count"], ["class", "count", 4, "ngIf"]], template: function BsTabs_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, BsTabs_ul_0_Template, 3, 2, "ul", 0);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !!ctx.searchtabs || !!ctx.customtabs);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_2__["NgIf"], _angular_common__WEBPACK_IMPORTED_MODULE_2__["NgForOf"], _angular_common__WEBPACK_IMPORTED_MODULE_2__["NgClass"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_3__["MessagePipe"], _utils_pipes_number_pipe__WEBPACK_IMPORTED_MODULE_4__["NumberPipe"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsTabs, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-tabs",
                templateUrl: "./tabs.html"
            }]
    }], function () { return [{ type: _search_service__WEBPACK_IMPORTED_MODULE_1__["SearchService"] }]; }, { results: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], customtabs: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], iconMap: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], events: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }] }); })();


/***/ }),

/***/ "+Ee6":
/*!*********************************************!*\
  !*** ../components/selection/public-api.ts ***!
  \*********************************************/
/*! exports provided: SelectionEventType, defaultSelectionOptions, SELECTION_OPTIONS, SelectionService, BsResultSelector, BsResultsSelector, BsSelectionModule, BsSelectionArranger, enSelection, frSelection, deSelection */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _selection_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./selection.service */ "Sg0G");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SelectionEventType", function() { return _selection_service__WEBPACK_IMPORTED_MODULE_0__["SelectionEventType"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "defaultSelectionOptions", function() { return _selection_service__WEBPACK_IMPORTED_MODULE_0__["defaultSelectionOptions"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SELECTION_OPTIONS", function() { return _selection_service__WEBPACK_IMPORTED_MODULE_0__["SELECTION_OPTIONS"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SelectionService", function() { return _selection_service__WEBPACK_IMPORTED_MODULE_0__["SelectionService"]; });

/* harmony import */ var _bootstrap_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./bootstrap/index */ "VEOA");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsResultSelector", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_1__["BsResultSelector"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsResultsSelector", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_1__["BsResultsSelector"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsSelectionModule", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_1__["BsSelectionModule"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsSelectionArranger", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_1__["BsSelectionArranger"]; });

/* harmony import */ var _messages_index__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./messages/index */ "O7EN");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "enSelection", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_2__["enSelection"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "frSelection", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_2__["frSelection"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "deSelection", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_2__["deSelection"]; });






/***/ }),

/***/ "+NMb":
/*!***************************************************************!*\
  !*** ../components/status-bar/bootstrap/status-bar.module.ts ***!
  \***************************************************************/
/*! exports provided: BsStatusBarModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsStatusBarModule", function() { return BsStatusBarModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/intl */ "EfqX");
/* harmony import */ var _sinequa_components_action__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/components/action */ "WsHA");
/* harmony import */ var _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/components/utils */ "DD1E");
/* harmony import */ var _fullscreen_activator_fullscreen_activator__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./fullscreen-activator/fullscreen-activator */ "H4UA");
/* harmony import */ var _network_activity_network_activity__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./network-activity/network-activity */ "VvWf");








class BsStatusBarModule {
}
BsStatusBarModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: BsStatusBarModule });
BsStatusBarModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function BsStatusBarModule_Factory(t) { return new (t || BsStatusBarModule)(); }, imports: [[
            _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
            _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_2__["IntlModule"],
            _sinequa_components_action__WEBPACK_IMPORTED_MODULE_3__["BsActionModule"],
            _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_4__["UtilsModule"],
        ]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](BsStatusBarModule, { declarations: [_fullscreen_activator_fullscreen_activator__WEBPACK_IMPORTED_MODULE_5__["BsFullscreenActivator"], _network_activity_network_activity__WEBPACK_IMPORTED_MODULE_6__["BsNetworkActivity"]], imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
        _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_2__["IntlModule"],
        _sinequa_components_action__WEBPACK_IMPORTED_MODULE_3__["BsActionModule"],
        _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_4__["UtilsModule"]], exports: [_fullscreen_activator_fullscreen_activator__WEBPACK_IMPORTED_MODULE_5__["BsFullscreenActivator"], _network_activity_network_activity__WEBPACK_IMPORTED_MODULE_6__["BsNetworkActivity"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsStatusBarModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                    _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_2__["IntlModule"],
                    _sinequa_components_action__WEBPACK_IMPORTED_MODULE_3__["BsActionModule"],
                    _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_4__["UtilsModule"],
                ],
                declarations: [
                    _fullscreen_activator_fullscreen_activator__WEBPACK_IMPORTED_MODULE_5__["BsFullscreenActivator"], _network_activity_network_activity__WEBPACK_IMPORTED_MODULE_6__["BsNetworkActivity"],
                ],
                exports: [
                    _fullscreen_activator_fullscreen_activator__WEBPACK_IMPORTED_MODULE_5__["BsFullscreenActivator"], _network_activity_network_activity__WEBPACK_IMPORTED_MODULE_6__["BsNetworkActivity"],
                ]
            }]
    }], null, null); })();


/***/ }),

/***/ "+Pqq":
/*!*********************************************!*\
  !*** ../components/facet/abstract-facet.ts ***!
  \*********************************************/
/*! exports provided: AbstractFacet */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AbstractFacet", function() { return AbstractFacet; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");


const _c0 = ["settingsTpl"];
const _c1 = ["headerTpl"];
const _c2 = ["subHeaderTpl"];
const _c3 = ["footerTpl"];
/**
 * This interface should be implemented by facet components, which expose
 * a list of actions and event listeners
 */
class AbstractFacet {
    constructor() {
        /**
         * Event emitter triggered when the list of action changes
         */
        this.actionsChanged = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
    }
    /**
     * List of custom actions of this facet
     */
    get actions() { return []; }
    /**
     * Method called when a facet is collapsed
     */
    onCollapse(collapsed) { }
    /**
     * Method called when a facet is resized via an action (not accounting for window resizing)
     */
    onExpand(expanded) { }
    /**
     * Method called when the settings of this facet are opened
     */
    onOpenSettings(settingsOpened) { }
    /**
     * Method enabling the facet component to be hidden (if, for example there is no data to display)
     */
    isHidden() {
        return false;
    }
}
AbstractFacet.ɵfac = function AbstractFacet_Factory(t) { return new (t || AbstractFacet)(); };
AbstractFacet.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: AbstractFacet, selectors: [["ng-component"]], viewQuery: function AbstractFacet_Query(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵstaticViewQuery"](_c0, true, _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵstaticViewQuery"](_c1, true, _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵstaticViewQuery"](_c2, true, _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵstaticViewQuery"](_c3, true, _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]);
    } if (rf & 2) {
        let _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.settingsTpl = _t.first);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.headerTpl = _t.first);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.subHeaderTpl = _t.first);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.footerTpl = _t.first);
    } }, outputs: { actionsChanged: "actionsChanged" }, decls: 0, vars: 0, template: function AbstractFacet_Template(rf, ctx) { }, encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AbstractFacet, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                template: ""
            }]
    }], null, { actionsChanged: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }], settingsTpl: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ["settingsTpl", { static: true, read: _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"] }]
        }], headerTpl: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ["headerTpl", { static: true, read: _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"] }]
        }], subHeaderTpl: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ["subHeaderTpl", { static: true, read: _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"] }]
        }], footerTpl: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ["footerTpl", { static: true, read: _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"] }]
        }] }); })();


/***/ }),

/***/ "+R8z":
/*!**************************************************************!*\
  !*** ../analytics/heatmap/bootstrap/results-heatmap-view.ts ***!
  \**************************************************************/
/*! exports provided: BsResultsHeatmapView */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsResultsHeatmapView", function() { return BsResultsHeatmapView; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/components/action */ "WsHA");
/* harmony import */ var _facet_heatmap_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./facet-heatmap.component */ "fs8Z");
/* harmony import */ var _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/app-utils */ "SBPP");
/* harmony import */ var _sinequa_components_search__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/components/search */ "7+c1");
/* harmony import */ var _sinequa_components_facet__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sinequa/components/facet */ "vbgc");
/* harmony import */ var _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @sinequa/components/selection */ "8GPZ");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/forms */ "nIj0");
/* harmony import */ var _sinequa_components_user_settings__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @sinequa/components/user-settings */ "ooqV");
/* harmony import */ var _sinequa_components_results_view__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @sinequa/components/results-view */ "DYFJ");
/* harmony import */ var _components_action_bootstrap_action_buttons_action_buttons__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../components/action/bootstrap/action-buttons/action-buttons */ "9+ai");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _heatmap_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./heatmap.component */ "I6Bp");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../core/intl/message.pipe */ "X1Kh");















function BsResultsHeatmapView_ng_container_1_sq_heatmap_1_Template(rf, ctx) { if (rf & 1) {
    const _r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "sq-heatmap", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("itemClicked", function BsResultsHeatmapView_ng_container_1_sq_heatmap_1_Template_sq_heatmap_itemClicked_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r5); const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r4.onItemClicked($event); })("axisClicked", function BsResultsHeatmapView_ng_container_1_sq_heatmap_1_Template_sq_heatmap_axisClicked_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r5); const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r6.onAxisClicked($event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("data", ctx_r2.data)("height", ctx_r2.heightPref)("width", ctx_r2.widthPref)("margin", ctx_r2.margin)("transition", ctx_r2.transition)("itemsClickable", ctx_r2.itemsClickable)("axisClickable", ctx_r2.axisClickable)("buckets", ctx_r2.buckets)("colorScheme", ctx_r2.colorSchemePref)("maxX", ctx_r2.maxXPref)("maxY", ctx_r2.maxYPref)("theme", ctx_r2.theme);
} }
function BsResultsHeatmapView_ng_container_1_div_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "i");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](3, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](3, 1, "msg#heatmap.nodata"));
} }
function BsResultsHeatmapView_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsResultsHeatmapView_ng_container_1_sq_heatmap_1_Template, 1, 12, "sq-heatmap", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, BsResultsHeatmapView_ng_container_1_div_2_Template, 4, 3, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r0.data);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx_r0.data);
} }
function BsResultsHeatmapView_div_2_Template(rf, ctx) { if (rf & 1) {
    const _r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "form", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "label", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](5, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](6, "input", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "label", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](9, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](10, "input", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](11, "div", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](12, "input", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](13, "label", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](15, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](16, "hr");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](17, "label", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](18);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](19, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](20, "select", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](21, "option", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](22);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](23, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](24, "option", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](25);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](26, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](27, "option", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](28);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](29, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](30, "option", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](31);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](32, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](33, "option", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](34);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](35, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](36, "option", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](37);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](38, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](39, "hr");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](40, "button", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsResultsHeatmapView_div_2_Template_button_click_40_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r8); const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r7.setDefaults(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](41);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](42, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("formGroup", ctx_r1.form);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate2"]("", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](5, 20, "msg#heatmap.maxX"), " (", ctx_r1.maxXPref, ")");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate2"]("", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](9, 22, "msg#heatmap.maxY"), " (", ctx_r1.maxYPref, ")");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](15, 24, "msg#heatmap.maxY"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](19, 26, "msg#heatmap.colors"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngValue", "schemeBlues");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](23, 28, "msg#heatmap.blue"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngValue", "schemeReds");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](26, 30, "msg#heatmap.red"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngValue", "schemeGreens");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](29, 32, "msg#heatmap.green"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngValue", "schemeRdBu");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](32, 34, "msg#heatmap.diverging"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngValue", "schemeSpectral");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](35, 36, "msg#heatmap.diverging"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngValue", "schemeYlGnBu");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](38, 38, "msg#heatmap.cool"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](42, 40, "msg#heatmap.defaults"));
} }
const _c0 = function (a0) { return { items: a0 }; };
class BsResultsHeatmapView extends _facet_heatmap_component__WEBPACK_IMPORTED_MODULE_2__["BsFacetHeatmapComponent"] {
    constructor(appService, searchService, facetService, selectionService, formBuilder, cdRef, prefs, resultsViewService) {
        super(appService, searchService, facetService, selectionService, formBuilder, cdRef, prefs, undefined);
        this.appService = appService;
        this.searchService = searchService;
        this.facetService = facetService;
        this.selectionService = selectionService;
        this.formBuilder = formBuilder;
        this.cdRef = cdRef;
        this.prefs = prefs;
        this.resultsViewService = resultsViewService;
        this.theme = "light";
        this.height = 1200;
        this.width = 1200;
        this.maxX = 40;
        this.maxY = 40;
        this.settingsAction = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__["Action"]({
            action: (action) => {
                this.showSettings = !this.showSettings;
                this.onOpenSettings(this.showSettings);
                action.update();
            },
            updater: (action) => {
                action.icon = this.showSettings ? "far fa-save" : "fas fa-cog";
                action.text = this.showSettings ? "msg#facetCard.saveSettings" : "msg#facetCard.openSettings";
                action.title = this.showSettings ? "msg#facetCard.saveSettings" : "msg#facetCard.openSettings";
                action.selected = this.showSettings;
            }
        });
        this.settingsAction.update();
    }
    get _actions() {
        const actions = this.actions;
        actions.push(this.settingsAction);
        return actions;
    }
    onItemClicked(item) {
        super.onItemClicked(item);
        if (this.selectView) {
            this.resultsViewService.selectResultsViewName(this.selectView);
        }
    }
    onAxisClicked(item) {
        super.onAxisClicked(item);
        if (this.selectView) {
            this.resultsViewService.selectResultsViewName(this.selectView);
        }
    }
}
BsResultsHeatmapView.ɵfac = function BsResultsHeatmapView_Factory(t) { return new (t || BsResultsHeatmapView)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__["AppService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_search__WEBPACK_IMPORTED_MODULE_4__["SearchService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_facet__WEBPACK_IMPORTED_MODULE_5__["FacetService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_selection__WEBPACK_IMPORTED_MODULE_6__["SelectionService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_7__["FormBuilder"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_user_settings__WEBPACK_IMPORTED_MODULE_8__["UserPreferences"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_results_view__WEBPACK_IMPORTED_MODULE_9__["ResultsViewService"])); };
BsResultsHeatmapView.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsResultsHeatmapView, selectors: [["sq-results-heatmap-view"]], inputs: { selectView: "selectView", theme: "theme" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"]], decls: 3, vars: 5, consts: [[1, "btn-group", 3, "sq-action-buttons"], [4, "ngIf"], ["class", "card-body", 4, "ngIf"], [3, "data", "height", "width", "margin", "transition", "itemsClickable", "axisClickable", "buckets", "colorScheme", "maxX", "maxY", "theme", "itemClicked", "axisClicked", 4, "ngIf"], ["class", "text-center py-5 px-3", 4, "ngIf"], [3, "data", "height", "width", "margin", "transition", "itemsClickable", "axisClickable", "buckets", "colorScheme", "maxX", "maxY", "theme", "itemClicked", "axisClicked"], [1, "text-center", "py-5", "px-3"], [1, "card-body"], [3, "formGroup"], [1, "form-group"], ["for", "maxX"], ["type", "range", "id", "maxX", "min", "10", "max", "40", "formControlName", "maxX", 1, "form-control"], ["for", "maxY"], ["type", "range", "id", "maxY", "min", "10", "max", "100", "formControlName", "maxY", 1, "form-control"], [1, "custom-control", "custom-checkbox", "my-1"], ["type", "checkbox", "id", "scaleAxes", "formControlName", "scaleAxes", 1, "custom-control-input"], ["for", "scaleAxes", 1, "custom-control-label"], ["for", "colors"], ["id", "colors", "formControlName", "colors", 1, "form-control"], [3, "ngValue"], [1, "btn", "btn-light", 3, "click"]], template: function BsResultsHeatmapView_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsResultsHeatmapView_ng_container_1_Template, 3, 2, "ng-container", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, BsResultsHeatmapView_div_2_Template, 43, 42, "div", 2);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("sq-action-buttons", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](3, _c0, ctx._actions));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.showSettings);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.showSettings);
    } }, directives: [_components_action_bootstrap_action_buttons_action_buttons__WEBPACK_IMPORTED_MODULE_10__["BsActionButtons"], _angular_common__WEBPACK_IMPORTED_MODULE_11__["NgIf"], _heatmap_component__WEBPACK_IMPORTED_MODULE_12__["BsHeatmapComponent"], _angular_forms__WEBPACK_IMPORTED_MODULE_7__["ɵangular_packages_forms_forms_y"], _angular_forms__WEBPACK_IMPORTED_MODULE_7__["NgControlStatusGroup"], _angular_forms__WEBPACK_IMPORTED_MODULE_7__["FormGroupDirective"], _angular_forms__WEBPACK_IMPORTED_MODULE_7__["RangeValueAccessor"], _angular_forms__WEBPACK_IMPORTED_MODULE_7__["DefaultValueAccessor"], _angular_forms__WEBPACK_IMPORTED_MODULE_7__["NgControlStatus"], _angular_forms__WEBPACK_IMPORTED_MODULE_7__["FormControlName"], _angular_forms__WEBPACK_IMPORTED_MODULE_7__["CheckboxControlValueAccessor"], _angular_forms__WEBPACK_IMPORTED_MODULE_7__["SelectControlValueAccessor"], _angular_forms__WEBPACK_IMPORTED_MODULE_7__["NgSelectOption"], _angular_forms__WEBPACK_IMPORTED_MODULE_7__["ɵangular_packages_forms_forms_x"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_13__["MessagePipe"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsResultsHeatmapView, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'sq-results-heatmap-view',
                templateUrl: './results-heatmap-view.html'
            }]
    }], function () { return [{ type: _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__["AppService"] }, { type: _sinequa_components_search__WEBPACK_IMPORTED_MODULE_4__["SearchService"] }, { type: _sinequa_components_facet__WEBPACK_IMPORTED_MODULE_5__["FacetService"] }, { type: _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_6__["SelectionService"] }, { type: _angular_forms__WEBPACK_IMPORTED_MODULE_7__["FormBuilder"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] }, { type: _sinequa_components_user_settings__WEBPACK_IMPORTED_MODULE_8__["UserPreferences"] }, { type: _sinequa_components_results_view__WEBPACK_IMPORTED_MODULE_9__["ResultsViewService"] }]; }, { selectView: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], theme: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "+RqA":
/*!*****************************************************!*\
  !*** ../components/utils/pipes/memory-size-pipe.ts ***!
  \*****************************************************/
/*! exports provided: MemorySizePipe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MemorySizePipe", function() { return MemorySizePipe; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/intl */ "EfqX");
/* harmony import */ var _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/app-utils */ "SBPP");





/**
 * A pipe to transform a number into a readable internationalized memory size label,
 * for example "126432" into "126 kB".
 *
 * @example
 * <span>Size:</span><span>{{ documentSize | sqMemorySize }}</span>
 */
class MemorySizePipe extends _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_1__["AbstractIntlPipe"] {
    constructor(formatService, intlService, changeDetectorRef) {
        super(intlService, changeDetectorRef);
        this.formatService = formatService;
    }
    updateValue(key) {
        super.updateValue(key);
        this.value = this.formatService.formatMemorySize(key);
    }
}
MemorySizePipe.ɵfac = function MemorySizePipe_Factory(t) { return new (t || MemorySizePipe)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_2__["FormatService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_intl__WEBPACK_IMPORTED_MODULE_1__["IntlService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinjectPipeChangeDetectorRef"]()); };
MemorySizePipe.ɵpipe = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefinePipe"]({ name: "sqMemorySize", type: MemorySizePipe, pure: false });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](MemorySizePipe, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Pipe"],
        args: [{ name: "sqMemorySize", pure: false }]
    }], function () { return [{ type: _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_2__["FormatService"] }, { type: _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_1__["IntlService"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] }]; }, null); })();


/***/ }),

/***/ "+TlJ":
/*!*************************************************!*\
  !*** ../components/user-settings/public-api.ts ***!
  \*************************************************/
/*! exports provided: JsonInfo, BsEditUserSettings, BsUserSettingsEditor, BsUserSettingsModule, BsUserMenuComponent, enUserSettings, frUserSettings, deUserSettings, UserPreferences */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _bootstrap_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bootstrap/index */ "RRIn");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "JsonInfo", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_0__["JsonInfo"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsEditUserSettings", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_0__["BsEditUserSettings"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsUserSettingsEditor", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_0__["BsUserSettingsEditor"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsUserSettingsModule", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_0__["BsUserSettingsModule"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsUserMenuComponent", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_0__["BsUserMenuComponent"]; });

/* harmony import */ var _messages_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./messages/index */ "jD8Y");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "enUserSettings", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_1__["enUserSettings"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "frUserSettings", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_1__["frUserSettings"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "deUserSettings", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_1__["deUserSettings"]; });

/* harmony import */ var _user_preferences__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./user-preferences */ "L/3u");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "UserPreferences", function() { return _user_preferences__WEBPACK_IMPORTED_MODULE_2__["UserPreferences"]; });






/***/ }),

/***/ "+UNn":
/*!**********************************************!*\
  !*** ../analytics/heatmap/messages/index.ts ***!
  \**********************************************/
/*! exports provided: enHeatmap, frHeatmap, deHeatmap */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "enHeatmap", function() { return enHeatmap; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "frHeatmap", function() { return frHeatmap; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "deHeatmap", function() { return deHeatmap; });
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_components_results_view__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/components/results-view */ "DYFJ");
/* harmony import */ var _sinequa_components_search__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/components/search */ "7+c1");
/* harmony import */ var _en__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./en */ "LNmG");
/* harmony import */ var _fr__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./fr */ "tDes");
/* harmony import */ var _de__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./de */ "gM+W");






const enHeatmap = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].merge({}, _en__WEBPACK_IMPORTED_MODULE_3__["default"], _sinequa_components_results_view__WEBPACK_IMPORTED_MODULE_1__["enResultsView"], _sinequa_components_search__WEBPACK_IMPORTED_MODULE_2__["enSearch"]);
const frHeatmap = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].merge({}, _fr__WEBPACK_IMPORTED_MODULE_4__["default"], _sinequa_components_results_view__WEBPACK_IMPORTED_MODULE_1__["frResultsView"], _sinequa_components_search__WEBPACK_IMPORTED_MODULE_2__["frSearch"]);
const deHeatmap = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].merge({}, _de__WEBPACK_IMPORTED_MODULE_5__["default"], _sinequa_components_results_view__WEBPACK_IMPORTED_MODULE_1__["deResultsView"], _sinequa_components_search__WEBPACK_IMPORTED_MODULE_2__["deSearch"]);



/***/ }),

/***/ "+kZ1":
/*!*****************************************************!*\
  !*** ../core/web-services/principal.web.service.ts ***!
  \*****************************************************/
/*! exports provided: PrincipalWebService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PrincipalWebService", function() { return PrincipalWebService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "+kfY");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs/operators */ "0Wlh");
/* harmony import */ var _http_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./http.service */ "3Hvy");
/* harmony import */ var _start_config_web_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./start-config.web.service */ "R3Oh");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _http_client__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./http-client */ "j7UU");








/**
 * A service for calling the principal web service
 */
class PrincipalWebService extends _http_service__WEBPACK_IMPORTED_MODULE_3__["HttpService"] {
    constructor(startConfig, httpClient) {
        super(startConfig);
        this.httpClient = httpClient;
        this._events = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
    }
    ngOnDestroy() {
        this._events.complete();
    }
    /**
     * The observable events emitted by this service
     */
    get events() {
        return this._events;
    }
    /**
     * Gets the current {@link Principal}
     */
    get principal() {
        return this._principal;
    }
    /**
     * Sets the current {@link Principal} and issues the "changed" event
     */
    set principal(value) {
        this._principal = value;
        this._events.next({ type: "changed" });
    }
    /**
     * Gets the list of user info (user or group)
     *
     * @param params query params to specify the search
     * @returns list of user info
     */
    list(params) {
        return this.httpClient.get(this.makeUrl("principal/list"), {
            params: this.makeParams(Object.assign({}, params))
        });
    }
    userId(userId) {
        return this.httpClient.get(this.makeUrl(`principal/userId/${userId}`));
    }
    userIds(params) {
        return this.httpClient.post(this.makeUrl("principal/userids"), params).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["pluck"])("principals"));
    }
    /**
     * Gets the principal from the server based on the current login credentials
     *
     * @param autoAuthenticate Determines whether the {@link HttpInterceptor} should perform HTTP 401 handling
     * for this request
     */
    get(autoAuthenticate = true) {
        return this.httpClient.get(this.makeUrl("principal"), {
            params: this.makeParams({
                action: "get",
                noAutoAuthentication: !autoAuthenticate
            })
        });
    }
    /**
     * Gets the principal from the server based on the current login credentials and sets the
     * principal member
     */
    load() {
        const observable = this.get();
        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_5__["Utils"].subscribe(observable, (response) => {
            this.principal = response;
            return response;
        }, (error) => {
            console.log("principalService.get failure - error: ", error);
        });
        return observable;
    }
}
PrincipalWebService.ɵfac = function PrincipalWebService_Factory(t) { return new (t || PrincipalWebService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_start_config_web_service__WEBPACK_IMPORTED_MODULE_4__["START_CONFIG"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_http_client__WEBPACK_IMPORTED_MODULE_6__["SqHttpClient"])); };
PrincipalWebService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: PrincipalWebService, factory: PrincipalWebService.ɵfac, providedIn: "root" });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](PrincipalWebService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: "root"
            }]
    }], function () { return [{ type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [_start_config_web_service__WEBPACK_IMPORTED_MODULE_4__["START_CONFIG"]]
            }] }, { type: _http_client__WEBPACK_IMPORTED_MODULE_6__["SqHttpClient"] }]; }, null); })();


/***/ }),

/***/ "/0s+":
/*!***************************************************************!*\
  !*** ../components/saved-queries/recent-documents.service.ts ***!
  \***************************************************************/
/*! exports provided: RECENT_DOCUMENTS_CHANGE_EVENTS, MAX_DOCUMENTS, RecentDocumentsService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RECENT_DOCUMENTS_CHANGE_EVENTS", function() { return RECENT_DOCUMENTS_CHANGE_EVENTS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MAX_DOCUMENTS", function() { return MAX_DOCUMENTS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RecentDocumentsService", function() { return RecentDocumentsService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "+kfY");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/web-services */ "cIYa");
/* harmony import */ var _sinequa_components_search__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/components/search */ "7+c1");






// Types of events triggering a change event
const RECENT_DOCUMENTS_CHANGE_EVENTS = [
    "RecentDocument_Add" /* Add */,
    "RecentDocument_Update" /* Update */,
    "RecentDocument_Delete" /* Delete */,
];
const MAX_DOCUMENTS = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["InjectionToken"]("MAX_DOCUMENTS");
class RecentDocumentsService {
    constructor(userSettingsService, searchService, maxDocuments) {
        this.userSettingsService = userSettingsService;
        this.searchService = searchService;
        this.maxDocuments = maxDocuments;
        this._events = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
        this._changes = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
        if (!this.maxDocuments) {
            this.maxDocuments = 20;
        }
        // Listen to the user settings
        this.userSettingsService.events.subscribe(event => {
            // E.g. new login occurs
            // ==> Revive dates
            this.recentdocuments.forEach(rd => {
                if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].isString(rd.date)) {
                    const date = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].toDate(rd.date);
                    if (date) {
                        rd.date = date;
                    }
                }
            });
            // ==> Menus need to be rebuilt
            this.events.next({ type: "RecentDocument_Loaded" /* Loaded */ });
        });
        // Listen to own events, to trigger change events
        this._events.subscribe(event => {
            if (RECENT_DOCUMENTS_CHANGE_EVENTS.indexOf(event.type) !== -1) {
                this.changes.next(event);
            }
        });
        /**
         * Subscribe to the search service to capture "open-original-document" event
         * and add documents to this service
         */
        this.searchService.events.subscribe(event => {
            if (event.type === "open-original-document" && event.record) {
                this.addDocument(event.record, true);
            }
        });
    }
    // GETTERS
    /**
     * Returns the list of this user's recent documents.
     * The list is stored in the user settings (this is a redirection).
     * Using this service creates the list of recent documents if it does not already exist.
     */
    get recentdocuments() {
        if (!this.userSettingsService.userSettings)
            this.userSettingsService.userSettings = {};
        if (!this.userSettingsService.userSettings["recentDocuments"])
            this.userSettingsService.userSettings["recentDocuments"] = [];
        return this.userSettingsService.userSettings["recentDocuments"];
    }
    /**
     * Triggers any event among RecentDocumentChangeEvent
     * (use for fine-grained control of recent documents workflow)
     */
    get events() {
        return this._events;
    }
    /**
     * Triggers when events affect the list of recent documents
     * (use to refresh recent documents menus)
     * Cf. CHANGE_EVENTS list
     */
    get changes() {
        return this._changes;
    }
    /**
     * @returns true if there is at least one recent document
     */
    get hasRecentDocument() {
        return this.recentdocuments.length > 0;
    }
    /**
     * @returns a recent document with the given name or null if it does not exist
     * @param name
     */
    recentdocument(text) {
        const i = this.recentdocumentIndex(text);
        return i >= 0 ? this.recentdocuments[i] : undefined;
    }
    recentdocumentIndex(id) {
        for (let i = 0, ic = this.recentdocuments.length; i < ic; i++) {
            const recentdocument = this.recentdocuments[i];
            if (recentdocument && recentdocument.id === id) {
                return i;
            }
        }
        return -1;
    }
    comparator(q1, q2) {
        return q2.date.getTime() - q1.date.getTime();
    }
    // CRUD
    /**
     * Creates a new recent document unless it already exists, in which case the existing document is updated.
     * Emits an recentdocument event.
     * Update the data on the server.
     * @param record Record to add to the service
     * @param original Whether the original doc was opened or the preview
     * @returns true if recentdocument was created
     */
    addDocument(record, original) {
        if (record) {
            return this.addRecentDocument({
                id: record.id,
                title: record.title,
                url1: record.url1,
                treepath: record.treepath,
                docformat: record.docformat,
                authors: record.authors,
                date: new Date(),
                original: original
            });
        }
        return false;
    }
    /**
     * Creates a new recent document unless it already exists, in which case the existing document is updated.
     * Emits an recentdocument event.
     * Update the data on the server.
     * @param recentdocument the recentdocument to create
     * @returns true if recentdocument was created
     */
    addRecentDocument(recentdocument) {
        if (!recentdocument.id) {
            return false;
        }
        const i = this.recentdocumentIndex(recentdocument.id); // If the document already exists
        if (i >= 0) {
            this.recentdocuments[i].date = recentdocument.date; // Update the date of the existing document
            this.events.next({ type: "RecentDocument_Update" /* Update */, recentdocument: this.recentdocuments[i] });
        }
        else {
            this.recentdocuments.push(recentdocument);
            this.events.next({ type: "RecentDocument_Add" /* Add */, recentdocument: recentdocument });
        }
        // Sort the list
        this.recentdocuments.sort(this.comparator);
        // Truncate the list
        if (this.maxDocuments >= 0)
            this.recentdocuments.splice(this.maxDocuments);
        this.patchRecentDocuments(); // No need to emit an "Add" audit event, since it is redundant with the main search API
        return true;
    }
    /**
     * Deletes the given RecentDocument (based on its name)
     * Emits an RecentDocument event.
     * Update the data on the server.
     * @param recentdocument
     * @returns true if recent document was deleted
     */
    deleteRecentDocument(recentdocument) {
        const index = this.recentdocumentIndex(recentdocument.id);
        if (index === -1)
            return false; // Nothing to delete
        this.recentdocuments.splice(index, 1);
        this.events.next({ type: "RecentDocument_Delete" /* Delete */, recentdocument: recentdocument });
        this.patchRecentDocuments([
            {
                type: "RecentDocument_Delete" /* Delete */,
                detail: {
                    recentdocument: recentdocument.id
                }
            }
        ]);
        return true;
    }
    /**
     * Updates Recent Documents in User settings.
     * @param auditEvents : Audit Events to be triggered
     * @returns an Observable which can be used to trigger further events
     */
    patchRecentDocuments(auditEvents) {
        return this.userSettingsService.patch({ recentDocuments: this.recentdocuments }, auditEvents)
            .subscribe(next => {
            this.events.next({ type: "RecentDocument_Patched" /* Patched */ });
        }, error => {
            console.error("Could not patch Recent documents!", error);
        });
    }
    ngOnDestroy() {
        this.events.complete();
        this.changes.complete();
    }
}
RecentDocumentsService.ɵfac = function RecentDocumentsService_Factory(t) { return new (t || RecentDocumentsService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_3__["UserSettingsWebService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_components_search__WEBPACK_IMPORTED_MODULE_4__["SearchService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](MAX_DOCUMENTS, 8)); };
RecentDocumentsService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: RecentDocumentsService, factory: RecentDocumentsService.ɵfac, providedIn: 'root' });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](RecentDocumentsService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: 'root',
            }]
    }], function () { return [{ type: _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_3__["UserSettingsWebService"] }, { type: _sinequa_components_search__WEBPACK_IMPORTED_MODULE_4__["SearchService"] }, { type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Optional"]
            }, {
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [MAX_DOCUMENTS]
            }] }]; }, null); })();


/***/ }),

/***/ "/1CB":
/*!********************************************************************!*\
  !*** ../components/facet/bootstrap/facet-filters/facet-filters.ts ***!
  \********************************************************************/
/*! exports provided: BsFacetFilters */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsFacetFilters", function() { return BsFacetFilters; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/components/action */ "WsHA");
/* harmony import */ var _facet_list_facet_list__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../facet-list/facet-list */ "MbPB");
/* harmony import */ var _facet_tree_facet_tree__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../facet-tree/facet-tree */ "JgJf");
/* harmony import */ var _facet_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../facet.service */ "mQJ4");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _action_bootstrap_action_menu_action_menu__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../action/bootstrap/action-menu/action-menu */ "idD+");








function BsFacetFilters_div_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "sq-action-menu", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("items", ctx_r0.filters)("autoAdjust", ctx_r0.autoAdjust)("autoAdjustBreakpoint", ctx_r0.autoAdjustBreakpoint)("collapseBreakpoint", ctx_r0.collapseBreakpoint)("right", ctx_r0.rightAligned)("size", ctx_r0.size);
} }
class BsFacetFilters {
    constructor(facetService) {
        this.facetService = facetService;
        this.enableCustomization = false;
        this.autoAdjust = true;
        this.autoAdjustBreakpoint = 'xl';
        this.collapseBreakpoint = 'sm';
        this.rightAligned = false;
        this.filters = [];
        this.hidden = false;
        this.facetStatus = {
            add: {
                title: "msg#facet.filters.add",
                icon: "fas fa-plus"
            },
            remove: {
                title: "msg#facet.filters.remove",
                icon: "fas fa-minus"
            }
        };
        this.hidden = false;
        this.filters = [];
    }
    ngOnInit() {
        if (!this.enableCustomization)
            return;
        if (!this.facetService.defaultFacets) {
            this.facetService.defaultFacets = [];
            for (let facet of this.facets)
                this.facetService.defaultFacets.push({ name: facet.name, position: 0, hidden: false, expanded: true, view: "" });
        }
        if (!this.facetService.allFacets)
            this.facetService.allFacets = this.facets;
    }
    ngOnChanges() {
        if (!!this.results)
            this.buildFilters();
        if (!this.results)
            this.hidden = true;
    }
    /**
     * Build filters bar actions
     */
    buildFilters() {
        // For each facet
        this.filters = this.filteredFacets.map((facet) => {
            const children = [
                new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__["Action"]({
                    component: (facet.type === 'list') ? _facet_list_facet_list__WEBPACK_IMPORTED_MODULE_2__["BsFacetList"] : _facet_tree_facet_tree__WEBPACK_IMPORTED_MODULE_3__["BsFacetTree"],
                    componentInputs: { results: this.results, name: facet.name, aggregation: facet.aggregation, searchable: facet.searchable, displayActions: true }
                })
            ];
            return new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__["Action"]({
                name: facet.name,
                text: facet.title,
                title: facet.title,
                icon: facet.icon,
                disabled: !this.hasData(facet),
                styles: this.hasFiltered(facet.name) ? "ml-2 font-weight-bold" : "ml-2",
                children: children
            });
        });
        if (this.enableCustomization)
            this.addFacetMenu();
    }
    /**
     * Use to outline facet when filters are sets
     * @param facetName facet name
     *
     * @returns true if filters are sets otherwise false
     */
    hasFiltered(facetName) {
        return this.facetService.hasFiltered(facetName);
    }
    /**
     * Use to disable menu item when no items in a facet
     * @param facet facet to check
     *
     * @returns true if facet contains at least one item otherwise false
     */
    hasData(facet) {
        return this.facetService.hasData(facet.aggregation, this.results);
    }
    addFacetMenu() {
        var _a, _b;
        let outFacets = [];
        outFacets.push(new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__["Action"]({
            name: `add_remove_all`,
            text: this.userFacets.length < this.facets.length ? "msg#facet.filters.addAll" : "msg#facet.filters.removeAll",
            icon: this.hasFacetSelected ?
                (this.userFacets.length < this.facets.length ? "far fa-minus-square mr-1" : "far fa-check-square mr-1")
                : "far fa-square mr-1",
            title: this.userFacets.length < this.facets.length ? "msg#facet.filters.addAll" : "msg#facet.filters.removeAll",
            action: () => {
                if (this.hasFacetSelected && this.userFacets.length === this.facets.length)
                    this.facetService.removeAllFacet();
                else
                    this.facetService.addAllFacet();
                this.buildFilters();
            }
        }));
        for (let facet of this.facets) {
            outFacets.push(new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__["Action"]({
                name: `add_remove_${facet.name}`,
                text: facet.title,
                icon: facet.icon,
                selected: !!((_a = this.userFacets) === null || _a === void 0 ? void 0 : _a.find(userFacet => userFacet.name === facet.name)),
                title: !!((_b = this.userFacets) === null || _b === void 0 ? void 0 : _b.find(userFacet => userFacet.name === facet.name)) ? "msg#facet.filters.add" : "msg#facet.filters.remove",
                action: () => {
                    var _a;
                    if ((_a = this.userFacets) === null || _a === void 0 ? void 0 : _a.find(userFacet => userFacet.name === facet.name))
                        this.facetService.removeFacet({ name: facet.name, position: 0, hidden: false, expanded: true, view: "" });
                    else
                        this.facetService.addFacet({ name: facet.name, position: 0, hidden: false, expanded: true, view: "" });
                    this.buildFilters();
                }
            }));
        }
        let add_action = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__["Action"]({
            name: "facets_config",
            icon: "fas fa-cog",
            title: "msg#facet.filters.customizeFacets",
            children: outFacets
        });
        this.filters = [add_action, ...this.filters];
    }
    get filteredFacets() {
        if (!this.enableCustomization)
            return this.facets;
        let new_facets = [];
        if (this.userFacets) {
            for (let facet of this.facets) {
                let pos = this.userFacets.findIndex((userFacet) => userFacet.name === facet.name);
                if (pos >= 0)
                    new_facets.push(facet);
            }
        }
        return new_facets;
    }
    get userFacets() {
        return this.facetService.facets;
    }
    get hasFacetSelected() {
        if (this.userFacets.length === 0)
            return false;
        for (let facet of this.facets) {
            if (this.userFacets.find(userFacet => userFacet.name === facet.name))
                return true;
        }
        return false;
    }
}
BsFacetFilters.ɵfac = function BsFacetFilters_Factory(t) { return new (t || BsFacetFilters)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_facet_service__WEBPACK_IMPORTED_MODULE_4__["FacetService"])); };
BsFacetFilters.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsFacetFilters, selectors: [["sq-facet-filters"]], inputs: { results: "results", facets: "facets", enableCustomization: "enableCustomization", autoAdjust: "autoAdjust", autoAdjustBreakpoint: "autoAdjustBreakpoint", collapseBreakpoint: "collapseBreakpoint", rightAligned: "rightAligned", size: "size" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 1, vars: 1, consts: [["class", "facet-filters-bar", 4, "ngIf"], [1, "facet-filters-bar"], [3, "items", "autoAdjust", "autoAdjustBreakpoint", "collapseBreakpoint", "right", "size"]], template: function BsFacetFilters_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, BsFacetFilters_div_0_Template, 2, 6, "div", 0);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.hidden);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_5__["NgIf"], _action_bootstrap_action_menu_action_menu__WEBPACK_IMPORTED_MODULE_6__["BsActionMenu"]], styles: [".navbar-nav[_ngcontent-%COMP%] {\n    flex-direction: row;\n    flex-wrap: wrap;\n}\n.nav-item[_ngcontent-%COMP%] {\n    padding: 0.25rem 0.75rem;\n}\ndiv.sq-collapse.ng-animating[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%] {\n    display:none;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2plY3RzL2NvbXBvbmVudHMvZmFjZXQvYm9vdHN0cmFwL2ZhY2V0LWZpbHRlcnMvZmFjZXQtZmlsdGVycy5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFJSSxtQkFBbUI7SUFFbkIsZUFBZTtBQUNuQjtBQUNBO0lBQ0ksd0JBQXdCO0FBQzVCO0FBRUE7SUFDSSxZQUFZO0FBQ2hCIiwiZmlsZSI6InByb2plY3RzL2NvbXBvbmVudHMvZmFjZXQvYm9vdHN0cmFwL2ZhY2V0LWZpbHRlcnMvZmFjZXQtZmlsdGVycy5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubmF2YmFyLW5hdiB7XG4gICAgLXdlYmtpdC1ib3gtb3JpZW50OiBob3Jpem9udGFsO1xuICAgIC13ZWJraXQtYm94LWRpcmVjdGlvbjogbm9ybWFsO1xuICAgIC1tcy1mbGV4LWRpcmVjdGlvbjogcm93O1xuICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XG4gICAgLW1zLWZsZXgtd3JhcDogd3JhcDtcbiAgICBmbGV4LXdyYXA6IHdyYXA7XG59XG4ubmF2LWl0ZW0ge1xuICAgIHBhZGRpbmc6IDAuMjVyZW0gMC43NXJlbTtcbn1cblxuZGl2LnNxLWNvbGxhcHNlLm5nLWFuaW1hdGluZyB1bCB7XG4gICAgZGlzcGxheTpub25lO1xufVxuIl19 */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsFacetFilters, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-facet-filters",
                templateUrl: "./facet-filters.html",
                styleUrls: ["./facet-filters.css"]
            }]
    }], function () { return [{ type: _facet_service__WEBPACK_IMPORTED_MODULE_4__["FacetService"] }]; }, { results: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], facets: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], enableCustomization: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], autoAdjust: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], autoAdjustBreakpoint: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], collapseBreakpoint: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], rightAligned: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], size: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "/2Dk":
/*!**********************************************************!*\
  !*** ../core/load-component/load-component.directive.ts ***!
  \**********************************************************/
/*! exports provided: LoadComponentDirective */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LoadComponentDirective", function() { return LoadComponentDirective; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _load_component_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./load-component.service */ "bpjR");



/**
 * A directive that uses the {@link LoadComponentService} to dynamically load a component.
 * The loaded component's lifecycle is automatically managed with changes to the directive's
 * `options` reflected to the component by rebinding it using {@link LoadComponentService}
 */
class LoadComponentDirective {
    constructor(loadComponentService, viewContainerRef) {
        this.loadComponentService = loadComponentService;
        this.viewContainerRef = viewContainerRef;
        /**
         * Used to emit events when the component is created and destroyed
         */
        this.eventEmitter = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
    }
    /**
     * Handles any changes to the input `options`. On the first call the component is loaded
     * and bound. Subsequent changes to the `options` are handled by rebinding the component unless
     * the component type to load changes in which case the current component is unloaded before
     * loading the new component.
     *
     * The component is loaded using the `ViewContainerRef` associated with the directive
     */
    ngOnChanges() {
        if (this.loadedComponent) {
            if (this.currentComponent === this.options.component) {
                this.loadComponentService.bindComponent(this.options, this.loadedComponent);
                return;
            }
            this.loadComponentService.unbindComponent(this.loadedComponent);
            this.loadedComponent.componentRef.destroy();
            this.eventEmitter.emit({ componentRef: undefined });
        }
        this.loadedComponent = this.loadComponentService.loadComponent(this.options, this.viewContainerRef);
        this.currentComponent = this.options.component;
        this.eventEmitter.emit({ componentRef: !!this.loadedComponent ? this.loadedComponent.componentRef : undefined });
    }
    /**
     * Unbinds the loaded component. It is not destroyed here as angular will automatically destroy
     * the component at the same time as this directive is destroyed as they share the same `ViewContainerRef`
     */
    ngOnDestroy() {
        if (this.loadedComponent) {
            this.loadComponentService.unbindComponent(this.loadedComponent);
            this.eventEmitter.emit({ componentRef: undefined });
        }
    }
}
LoadComponentDirective.ɵfac = function LoadComponentDirective_Factory(t) { return new (t || LoadComponentDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_load_component_service__WEBPACK_IMPORTED_MODULE_1__["LoadComponentService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewContainerRef"])); };
LoadComponentDirective.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({ type: LoadComponentDirective, selectors: [["", "sqLoadComponent", ""]], inputs: { options: ["sqLoadComponent", "options"] }, outputs: { eventEmitter: "sqLoadComponent" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](LoadComponentDirective, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Directive"],
        args: [{
                selector: "[sqLoadComponent]"
            }]
    }], function () { return [{ type: _load_component_service__WEBPACK_IMPORTED_MODULE_1__["LoadComponentService"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewContainerRef"] }]; }, { options: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"],
            args: ["sqLoadComponent"]
        }], eventEmitter: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"],
            args: ["sqLoadComponent"]
        }] }); })();


/***/ }),

/***/ "/6aK":
/*!************************************************!*\
  !*** ../components/advanced/messages/index.ts ***!
  \************************************************/
/*! exports provided: enAdvanced, frAdvanced, deAdvanced */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "enAdvanced", function() { return enAdvanced; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "frAdvanced", function() { return frAdvanced; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "deAdvanced", function() { return deAdvanced; });
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_components_search__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/components/search */ "7+c1");
/* harmony import */ var _en__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./en */ "Xn9Q");
/* harmony import */ var _fr__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./fr */ "PjFU");
/* harmony import */ var _de__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./de */ "fB8O");





const enAdvanced = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].merge({}, _en__WEBPACK_IMPORTED_MODULE_2__["default"], _sinequa_components_search__WEBPACK_IMPORTED_MODULE_1__["enSearch"]);
const frAdvanced = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].merge({}, _fr__WEBPACK_IMPORTED_MODULE_3__["default"], _sinequa_components_search__WEBPACK_IMPORTED_MODULE_1__["frSearch"]);
const deAdvanced = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].merge({}, _de__WEBPACK_IMPORTED_MODULE_4__["default"], _sinequa_components_search__WEBPACK_IMPORTED_MODULE_1__["deSearch"]);



/***/ }),

/***/ "/7yP":
/*!**********************************************************!*\
  !*** ../components/results-view/bootstrap/public-api.ts ***!
  \**********************************************************/
/*! exports provided: BsResultsGridView, BsResultsViewModule, BsResultsViewSelector */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _results_grid_view_results_grid_view__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./results-grid-view/results-grid-view */ "oUuF");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsResultsGridView", function() { return _results_grid_view_results_grid_view__WEBPACK_IMPORTED_MODULE_0__["BsResultsGridView"]; });

/* harmony import */ var _results_view_module__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./results-view-module */ "nodx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsResultsViewModule", function() { return _results_view_module__WEBPACK_IMPORTED_MODULE_1__["BsResultsViewModule"]; });

/* harmony import */ var _results_view_selector_results_view_selector__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./results-view-selector/results-view-selector */ "A1L7");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsResultsViewSelector", function() { return _results_view_selector_results_view_selector__WEBPACK_IMPORTED_MODULE_2__["BsResultsViewSelector"]; });






/***/ }),

/***/ "/RRP":
/*!***********************************************!*\
  !*** ../components/baskets/messages/index.ts ***!
  \***********************************************/
/*! exports provided: enBaskets, frBaskets, deBaskets */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "enBaskets", function() { return enBaskets; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "frBaskets", function() { return frBaskets; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "deBaskets", function() { return deBaskets; });
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_components_search__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/components/search */ "7+c1");
/* harmony import */ var _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/components/selection */ "8GPZ");
/* harmony import */ var _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/components/modal */ "mOpA");
/* harmony import */ var _en__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./en */ "wLz7");
/* harmony import */ var _fr__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./fr */ "cZFO");
/* harmony import */ var _de__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./de */ "oot2");







const enBaskets = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].merge({}, _en__WEBPACK_IMPORTED_MODULE_4__["default"], _sinequa_components_search__WEBPACK_IMPORTED_MODULE_1__["enSearch"], _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_2__["enSelection"], _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_3__["enModal"]);
const frBaskets = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].merge({}, _fr__WEBPACK_IMPORTED_MODULE_5__["default"], _sinequa_components_search__WEBPACK_IMPORTED_MODULE_1__["frSearch"], _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_2__["frSelection"], _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_3__["frModal"]);
const deBaskets = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].merge({}, _de__WEBPACK_IMPORTED_MODULE_6__["default"], _sinequa_components_search__WEBPACK_IMPORTED_MODULE_1__["deSearch"], _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_2__["deSelection"], _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_3__["deModal"]);



/***/ }),

/***/ "/mMY":
/*!******************************************!*\
  !*** ../components/modal/messages/en.ts ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    "help": {
        "title": "Online Help"
    },
    "overrideUser": {
        "title": "Override User",
        "userName": "User name",
        "domain": "Domain"
    },
    "btnClose": {
        "text": "Close"
    }
});


/***/ }),

/***/ 0:
/*!***************************!*\
  !*** multi ./src/main.ts ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! E:\build\Jenkins\workspace\ice_release_11.6.1_2\sba\ng-ws\projects\vanilla-search\src\main.ts */"zUnb");


/***/ }),

/***/ "0+98":
/*!************************************************!*\
  !*** ../components/baskets/bootstrap/index.ts ***!
  \************************************************/
/*! exports provided: BsBasketsModule, BsBasketsMenuComponent, BsEditBasket, BsFacetBasketsComponent, BsManageBaskets, BsResultBaskets, BsSelectBasket */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _public_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./public-api */ "XP+g");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsBasketsModule", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsBasketsModule"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsBasketsMenuComponent", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsBasketsMenuComponent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsEditBasket", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsEditBasket"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFacetBasketsComponent", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsFacetBasketsComponent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsManageBaskets", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsManageBaskets"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsResultBaskets", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsResultBaskets"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsSelectBasket", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsSelectBasket"]; });




/***/ }),

/***/ "03la":
/*!********************************************!*\
  !*** ../components/preview/messages/fr.ts ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    "preview": {
        "noDocumentDataErrorPopupTitle": "Echec d'accès aux données de ce document",
        "highlightsTitle": "Surlignage",
        "noEntityToHighlight": "Aucune entité affichée dans ce document",
        "termXLabel": "Terme recherché {index, number}",
        "otherTerms": "Autres termes",
        "previousDocument": "Précédent",
        "nextDocument": "Suivant",
        "originalDocument": "Document original",
        "selectedHighlight": "Elément sélectionné",
        "noSelectedHighlight": "Aucun élément sélectionné",
        "firstHighlightButtonAltText": "Premier élément",
        "previousHighlightButtonAltText": "Elément précédent",
        "nextHighlightButtonAltText": "Elément suivant",
        "relevanceSortHighlightButtonText": "Pertinence",
        "textOrderSortHighlightButtonText": "Ordre du texte",
        "lastHighlightButtonAltText": "Dernier élément",
        "highlightFilters": {
            "title": "Filtres",
            "keepAll": "Tout inclure",
            "keepNone": "Tout exclure",
            "keepAllInCategory": "Toutes les entités",
            "keepNoneInCategory": "Aucune entité"
        },
        "documentPropertiesTitle": "Détails",
        "similarDocumentsTitle": "Documents similaires",
        "showAll": "Montrer toutes les valeurs",
        "sortAlphabetically": "Trier par ordre alphabetique",
        "sortFrequency": "Trier par fréquence",
        "loading": "Chargement...",
        "noextract": "Pas d'extrait",
        "search": "Recherche",
        "gotopage": "Aller à la page",
        "page": "Page {page}",
        "current": "actuel"
    },
    "facet": {
        "preview": {
            "closeTitle": "Fermer",
            "expandTitle": "Maximiser",
            "minimize": "Réduire",
            "maximize": "Agrandir",
            "toggleExtracts": "Surlignage des extraits pertinents",
            "toggleEntities": "Surlignage des entités"
        }
    }
});


/***/ }),

/***/ "047y":
/*!******************************************!*\
  !*** ../core/web-services/public-api.ts ***!
  \******************************************/
/*! exports provided: ExportSourceType, ExportOutputFormat, MINIMUM_COMPATIBLE_SERVER_API_VERSION, AppWebService, AuditWebService, DatasetWebService, DownloadWebService, SqHttpClient, HttpService, JsonMethodPluginService, LabelsWebService, PreviewWebService, PrincipalWebService, QueryExportWebService, DidYouMeanKind, RFMDisplay, QueryWebService, RecentQueriesList, RecentQueries, RecentQueriesWebService, RfmWebService, SimilarDocumentsWebService, SponsoredLinksWebService, START_CONFIG, StartConfigWebService, SuggestFieldWebService, SuggestQueryWebService, UserRatingsWebService, UserSettingsWebService, QueryIntentWebService, StartConfigInitializer, WebServicesModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _config_ccapp__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./config/ccapp */ "thcF");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ExportSourceType", function() { return _config_ccapp__WEBPACK_IMPORTED_MODULE_0__["ExportSourceType"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ExportOutputFormat", function() { return _config_ccapp__WEBPACK_IMPORTED_MODULE_0__["ExportOutputFormat"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MINIMUM_COMPATIBLE_SERVER_API_VERSION", function() { return _config_ccapp__WEBPACK_IMPORTED_MODULE_0__["MINIMUM_COMPATIBLE_SERVER_API_VERSION"]; });

/* harmony import */ var _query_query__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./query/query */ "z+Zl");
/* empty/unused harmony star reexport *//* harmony import */ var _suggest_suggestion__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./suggest/suggestion */ "xOGb");
/* empty/unused harmony star reexport *//* harmony import */ var _app_web_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app.web.service */ "Mavg");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AppWebService", function() { return _app_web_service__WEBPACK_IMPORTED_MODULE_3__["AppWebService"]; });

/* harmony import */ var _audit_web_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./audit.web.service */ "SJVL");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AuditWebService", function() { return _audit_web_service__WEBPACK_IMPORTED_MODULE_4__["AuditWebService"]; });

/* harmony import */ var _dataset_web_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./dataset.web.service */ "dLol");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "DatasetWebService", function() { return _dataset_web_service__WEBPACK_IMPORTED_MODULE_5__["DatasetWebService"]; });

/* harmony import */ var _download_web_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./download.web.service */ "Cfs9");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "DownloadWebService", function() { return _download_web_service__WEBPACK_IMPORTED_MODULE_6__["DownloadWebService"]; });

/* harmony import */ var _http_client__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./http-client */ "j7UU");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SqHttpClient", function() { return _http_client__WEBPACK_IMPORTED_MODULE_7__["SqHttpClient"]; });

/* harmony import */ var _http_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./http.service */ "3Hvy");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "HttpService", function() { return _http_service__WEBPACK_IMPORTED_MODULE_8__["HttpService"]; });

/* harmony import */ var _json_method_plugin_web_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./json-method-plugin.web.service */ "6/5K");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "JsonMethodPluginService", function() { return _json_method_plugin_web_service__WEBPACK_IMPORTED_MODULE_9__["JsonMethodPluginService"]; });

/* harmony import */ var _labels_web_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./labels.web.service */ "bfbs");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "LabelsWebService", function() { return _labels_web_service__WEBPACK_IMPORTED_MODULE_10__["LabelsWebService"]; });

/* harmony import */ var _preview_web_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./preview.web.service */ "5lQY");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "PreviewWebService", function() { return _preview_web_service__WEBPACK_IMPORTED_MODULE_11__["PreviewWebService"]; });

/* harmony import */ var _principal_web_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./principal.web.service */ "+kZ1");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "PrincipalWebService", function() { return _principal_web_service__WEBPACK_IMPORTED_MODULE_12__["PrincipalWebService"]; });

/* harmony import */ var _query_export_web_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./query-export.web.service */ "KObr");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "QueryExportWebService", function() { return _query_export_web_service__WEBPACK_IMPORTED_MODULE_13__["QueryExportWebService"]; });

/* harmony import */ var _query_web_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./query.web.service */ "yMts");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "DidYouMeanKind", function() { return _query_web_service__WEBPACK_IMPORTED_MODULE_14__["DidYouMeanKind"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RFMDisplay", function() { return _query_web_service__WEBPACK_IMPORTED_MODULE_14__["RFMDisplay"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "QueryWebService", function() { return _query_web_service__WEBPACK_IMPORTED_MODULE_14__["QueryWebService"]; });

/* harmony import */ var _recent_queries_web_service__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./recent-queries.web.service */ "yhAZ");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RecentQueriesList", function() { return _recent_queries_web_service__WEBPACK_IMPORTED_MODULE_15__["RecentQueriesList"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RecentQueries", function() { return _recent_queries_web_service__WEBPACK_IMPORTED_MODULE_15__["RecentQueries"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RecentQueriesWebService", function() { return _recent_queries_web_service__WEBPACK_IMPORTED_MODULE_15__["RecentQueriesWebService"]; });

/* harmony import */ var _rfm_web_service__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./rfm.web.service */ "6Vio");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RfmWebService", function() { return _rfm_web_service__WEBPACK_IMPORTED_MODULE_16__["RfmWebService"]; });

/* harmony import */ var _similar_documents_web_service__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./similar-documents.web.service */ "8crV");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SimilarDocumentsWebService", function() { return _similar_documents_web_service__WEBPACK_IMPORTED_MODULE_17__["SimilarDocumentsWebService"]; });

/* harmony import */ var _sponsored_links_web_service__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./sponsored-links.web.service */ "AqFj");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SponsoredLinksWebService", function() { return _sponsored_links_web_service__WEBPACK_IMPORTED_MODULE_18__["SponsoredLinksWebService"]; });

/* harmony import */ var _start_config_web_service__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./start-config.web.service */ "R3Oh");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "START_CONFIG", function() { return _start_config_web_service__WEBPACK_IMPORTED_MODULE_19__["START_CONFIG"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "StartConfigWebService", function() { return _start_config_web_service__WEBPACK_IMPORTED_MODULE_19__["StartConfigWebService"]; });

/* harmony import */ var _suggest_field_web_service__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./suggest-field.web.service */ "I04D");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SuggestFieldWebService", function() { return _suggest_field_web_service__WEBPACK_IMPORTED_MODULE_20__["SuggestFieldWebService"]; });

/* harmony import */ var _suggest_query_web_service__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./suggest-query.web.service */ "xCsv");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SuggestQueryWebService", function() { return _suggest_query_web_service__WEBPACK_IMPORTED_MODULE_21__["SuggestQueryWebService"]; });

/* harmony import */ var _user_ratings_web_service__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./user-ratings.web.service */ "YEfD");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "UserRatingsWebService", function() { return _user_ratings_web_service__WEBPACK_IMPORTED_MODULE_22__["UserRatingsWebService"]; });

/* harmony import */ var _user_settings_web_service__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./user-settings.web.service */ "XSeM");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "UserSettingsWebService", function() { return _user_settings_web_service__WEBPACK_IMPORTED_MODULE_23__["UserSettingsWebService"]; });

/* harmony import */ var _queryintent_service__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./queryintent.service */ "5c96");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "QueryIntentWebService", function() { return _queryintent_service__WEBPACK_IMPORTED_MODULE_24__["QueryIntentWebService"]; });

/* harmony import */ var _web_services_module__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./web-services.module */ "Qrf+");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "StartConfigInitializer", function() { return _web_services_module__WEBPACK_IMPORTED_MODULE_25__["StartConfigInitializer"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "WebServicesModule", function() { return _web_services_module__WEBPACK_IMPORTED_MODULE_25__["WebServicesModule"]; });





























/***/ }),

/***/ "0G0v":
/*!**********************************************************************************************!*\
  !*** ../components/preview/bootstrap/preview-entity-panel/preview-entity-panel.component.ts ***!
  \**********************************************************************************************/
/*! exports provided: BsPreviewEntityPanelComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsPreviewEntityPanelComponent", function() { return BsPreviewEntityPanelComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _facet_bootstrap_facet_card_facet_card__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../facet/bootstrap/facet-card/facet-card */ "wL8g");
/* harmony import */ var _preview_entity_facet_preview_entity_facet_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../preview-entity-facet/preview-entity-facet.component */ "N2dC");





function BsPreviewEntityPanelComponent_ng_container_0_sq_facet_card_1_Template(rf, ctx) { if (rf & 1) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "sq-facet-card", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "sq-preview-entity-facet", 3, 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("itemsChecked", function BsPreviewEntityPanelComponent_ng_container_0_sq_facet_card_1_Template_sq_preview_entity_facet_itemsChecked_1_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r6); const entity_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit; const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r4.itemsChecked(entity_r1, $event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const entity_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("title", ctx_r2.entityDisplay(entity_r1))("icon", ctx_r2.entityIcon(entity_r1))("collapsible", ctx_r2.collapsible)("buttonsStyle", ctx_r2.style);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("entity", entity_r1)("data", ctx_r2.entityValues(entity_r1))("previewData", ctx_r2.previewData)("previewDocument", ctx_r2.previewDocument)("startUnchecked", ctx_r2.startUnchecked[entity_r1]);
} }
function BsPreviewEntityPanelComponent_ng_container_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsPreviewEntityPanelComponent_ng_container_0_sq_facet_card_1_Template, 3, 9, "sq-facet-card", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const entity_r1 = ctx.$implicit;
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r0.entityValues(entity_r1).length);
} }
class BsPreviewEntityPanelComponent {
    constructor() {
        /**
         * Whether the facets are collapsible
         */
        this.collapsible = true;
        /**
         * Allows to uncheck all items from specific facets
         */
        this.startUnchecked = {};
        /**
         * Triggers an event when check all / check none is use in a facet
         */
        this.facetChecked = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this._entities = [];
    }
    /**
     * Extracts the list of entities from the preview data
     */
    ngOnChanges() {
        if (this.entities && !!this.previewData) { // If the list of entities is provided as input
            this._entities = this.entities;
        }
        else if (this.previewData) { // The list of entities is deduced from the preview data
            this._entities = Object.keys(this.previewData.highlightsPerCategory).filter(value => value !== "extractslocations");
        }
        else { // No entity to show
            this._entities = [];
        }
    }
    /**
     * Return the data for a specific entity category
     * @param entity
     */
    data(entity) {
        return this.previewData.highlightsPerCategory[entity];
    }
    /**
     * Returns the display value of a specific entity
     * @param entity
     */
    entityDisplay(entity) {
        return this.data(entity).categoryDisplayLabelPlural || this.data(entity).categoryDisplayLabel || entity;
    }
    /**
     * Returns the icon of a specific entity
     * @param entity
     */
    entityIcon(entity) {
        return "sq-icon-" + entity;
    }
    /**
     * Returns the list of values of a specific entity
     * @param entity
     */
    entityValues(entity) {
        return this.data(entity).values;
    }
    /**
     * Called by child facet when items are checked/unchecked
     * @param entity
     * @param checked
     */
    itemsChecked(entity, checked) {
        this.facetChecked.next({ entity: entity, checked: checked });
    }
}
BsPreviewEntityPanelComponent.ɵfac = function BsPreviewEntityPanelComponent_Factory(t) { return new (t || BsPreviewEntityPanelComponent)(); };
BsPreviewEntityPanelComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsPreviewEntityPanelComponent, selectors: [["sq-preview-entity-panel"]], inputs: { previewData: "previewData", previewDocument: "previewDocument", style: "style", collapsible: "collapsible", startUnchecked: "startUnchecked", entities: "entities" }, outputs: { facetChecked: "facetChecked" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 1, vars: 1, consts: [[4, "ngFor", "ngForOf"], ["class", "d-block my-3", 3, "title", "icon", "collapsible", "buttonsStyle", 4, "ngIf"], [1, "d-block", "my-3", 3, "title", "icon", "collapsible", "buttonsStyle"], [3, "entity", "data", "previewData", "previewDocument", "startUnchecked", "itemsChecked"], ["facet", ""]], template: function BsPreviewEntityPanelComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, BsPreviewEntityPanelComponent_ng_container_0_Template, 2, 1, "ng-container", 0);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx._entities);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["NgForOf"], _angular_common__WEBPACK_IMPORTED_MODULE_1__["NgIf"], _facet_bootstrap_facet_card_facet_card__WEBPACK_IMPORTED_MODULE_2__["BsFacetCard"], _preview_entity_facet_preview_entity_facet_component__WEBPACK_IMPORTED_MODULE_3__["BsPreviewEntityFacetComponent"]], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwcm9qZWN0cy9jb21wb25lbnRzL3ByZXZpZXcvYm9vdHN0cmFwL3ByZXZpZXctZW50aXR5LXBhbmVsL3ByZXZpZXctZW50aXR5LXBhbmVsLmNvbXBvbmVudC5zY3NzIn0= */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsPreviewEntityPanelComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'sq-preview-entity-panel',
                templateUrl: './preview-entity-panel.component.html',
                styleUrls: ['./preview-entity-panel.component.scss']
            }]
    }], function () { return []; }, { previewData: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], previewDocument: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], style: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], collapsible: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], startUnchecked: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], entities: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], facetChecked: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }] }); })();


/***/ }),

/***/ "0K5/":
/*!**********************************************!*\
  !*** ../components/result/messages/index.ts ***!
  \**********************************************/
/*! exports provided: enResult, frResult, deResult */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "enResult", function() { return enResult; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "frResult", function() { return frResult; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "deResult", function() { return deResult; });
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_components_search__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/components/search */ "7+c1");
/* harmony import */ var _sinequa_components_collapse__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/components/collapse */ "niHV");
/* harmony import */ var _sinequa_components_metadata__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/components/metadata */ "l9Gu");
/* harmony import */ var _en__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./en */ "HsAv");
/* harmony import */ var _fr__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./fr */ "7xQe");
/* harmony import */ var _de__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./de */ "bq2v");







const enResult = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].merge({}, _en__WEBPACK_IMPORTED_MODULE_4__["default"], _sinequa_components_search__WEBPACK_IMPORTED_MODULE_1__["enSearch"], _sinequa_components_metadata__WEBPACK_IMPORTED_MODULE_3__["enMetadata"], _sinequa_components_collapse__WEBPACK_IMPORTED_MODULE_2__["enCollapse"]);
const frResult = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].merge({}, _fr__WEBPACK_IMPORTED_MODULE_5__["default"], _sinequa_components_search__WEBPACK_IMPORTED_MODULE_1__["frSearch"], _sinequa_components_metadata__WEBPACK_IMPORTED_MODULE_3__["frMetadata"], _sinequa_components_collapse__WEBPACK_IMPORTED_MODULE_2__["frCollapse"]);
const deResult = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].merge({}, _de__WEBPACK_IMPORTED_MODULE_6__["default"], _sinequa_components_search__WEBPACK_IMPORTED_MODULE_1__["deSearch"], _sinequa_components_metadata__WEBPACK_IMPORTED_MODULE_3__["deMetadata"], _sinequa_components_collapse__WEBPACK_IMPORTED_MODULE_2__["deCollapse"]);



/***/ }),

/***/ "0Nx2":
/*!******************************************************!*\
  !*** ../components/saved-queries/bootstrap/index.ts ***!
  \******************************************************/
/*! exports provided: BsEditSavedQuery, BsExportQuery, BsManageSavedQueries, BsQueryExporter, BsSavedQueriesModule, BsSavedQueriesMenuComponent, BsFacetSavedQueries, BsFacetRecentQueries, BsFacetRecentDocuments */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _public_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./public-api */ "eksJ");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsEditSavedQuery", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsEditSavedQuery"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsExportQuery", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsExportQuery"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsManageSavedQueries", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsManageSavedQueries"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsQueryExporter", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsQueryExporter"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsSavedQueriesModule", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsSavedQueriesModule"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsSavedQueriesMenuComponent", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsSavedQueriesMenuComponent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFacetSavedQueries", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsFacetSavedQueries"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFacetRecentQueries", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsFacetRecentQueries"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFacetRecentDocuments", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsFacetRecentDocuments"]; });




/***/ }),

/***/ "0Tqz":
/*!***********************************************************************************!*\
  !*** ../components/autocomplete/bootstrap/autocomplete-list/autocomplete-list.ts ***!
  \***********************************************************************************/
/*! exports provided: BsAutocompleteList */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsAutocompleteList", function() { return BsAutocompleteList; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _utils_directives_scroll_into_view__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../utils/directives/scroll-into-view */ "Sc2F");




const _c0 = ["itemTpl"];
const _c1 = ["footerTpl"];
function BsAutocompleteList_div_0_a_2_ng_container_1_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainer"](0);
} }
const _c2 = function (a0) { return { $implicit: a0 }; };
function BsAutocompleteList_div_0_a_2_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsAutocompleteList_div_0_a_2_ng_container_1_ng_container_1_Template, 1, 0, "ng-container", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const item_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngTemplateOutlet", ctx_r5.itemTpl)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](2, _c2, item_r3));
} }
const _c3 = function (a0) { return { "list-group-item-primary": a0 }; };
const _c4 = function (a0, a1) { return { active: a0, first: a1 }; };
function BsAutocompleteList_div_0_a_2_Template(rf, ctx) { if (rf & 1) {
    const _r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "a", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsAutocompleteList_div_0_a_2_Template_a_click_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r9); const item_r3 = ctx.$implicit; const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r8._itemClicked(item_r3, $event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsAutocompleteList_div_0_a_2_ng_container_1_Template, 2, 4, "ng-container", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const item_r3 = ctx.$implicit;
    const i_r4 = ctx.index;
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](3, _c3, ctx_r1._isSelected(item_r3, i_r4)))("sqScrollIntoView", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction2"](5, _c4, ctx_r1._isSelected(item_r3, i_r4), i_r4 === 0));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r1.itemTpl);
} }
function BsAutocompleteList_div_0_div_3_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainer"](0);
} }
function BsAutocompleteList_div_0_div_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsAutocompleteList_div_0_div_3_ng_container_1_Template, 1, 0, "ng-container", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngTemplateOutlet", ctx_r2.footerTpl)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](2, _c2, ctx_r2._items));
} }
function BsAutocompleteList_div_0_Template(rf, ctx) { if (rf & 1) {
    const _r12 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("mousedown", function BsAutocompleteList_div_0_Template_div_mousedown_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r12); const ctx_r11 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r11._mouseDown($event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, BsAutocompleteList_div_0_a_2_Template, 2, 8, "a", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, BsAutocompleteList_div_0_div_3_Template, 2, 4, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx_r0._items);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r0.footerTpl);
} }
class BsAutocompleteList {
    constructor(changeDetectorRef) {
        this.changeDetectorRef = changeDetectorRef;
        /**
         * Event emitter for clicks on an autocomplete item
         */
        this.clicked = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this._active = false;
        this._cursor = -1;
    }
    /**
     * Update the data and state of this component
     * @param active whether the component should be displayed
     * @param items The list of items to display
     */
    update(active, items) {
        //console.log("autocomplete update ", active, items);
        this._active = active;
        this._items = items;
        this._cursor = -1;
        this.changeDetectorRef.markForCheck();
    }
    /**
     * Whether there are any item to display
     */
    get hasItems() {
        return this._active && !!this._items && this._items.length > 0;
    }
    /**
     * Returns the currently selected item, if any
     */
    get selectedValue() {
        if (this._items && this._cursor >= 0 && this._cursor < this._items.length)
            return this._items[this._cursor];
        return undefined;
    }
    /**
     * Select the next item in the list and returns it
     */
    selectNext() {
        if (this._items && this._cursor < this._items.length - 1) {
            this._cursor++;
        }
        return this.selectedValue;
    }
    /**
     * Select the previous item in the list and returns it
     */
    selectPrevious() {
        if (this._cursor > 0)
            this._cursor--;
        return this.selectedValue;
    }
    /**
     * Test whether an item is selected
     * @param item
     * @param i
     */
    _isSelected(item, i) {
        return this._cursor === i;
    }
    /**
     * Listen to click events and emits events
     * @param item
     * @param event
     */
    _itemClicked(item, event) {
        this.clicked.next(item);
        event.stopPropagation();
        return false;
    }
    /**
     * This prevents the focus to be removed from the <input>, which clauses the dropdown
     */
    _mouseDown(event) {
        event.preventDefault();
    }
}
BsAutocompleteList.ɵfac = function BsAutocompleteList_Factory(t) { return new (t || BsAutocompleteList)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"])); };
BsAutocompleteList.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsAutocompleteList, selectors: [["sq-autocomplete-list"]], contentQueries: function BsAutocompleteList_ContentQueries(rf, ctx, dirIndex) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵcontentQuery"](dirIndex, _c0, true);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵcontentQuery"](dirIndex, _c1, true);
    } if (rf & 2) {
        let _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.itemTpl = _t.first);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.footerTpl = _t.first);
    } }, outputs: { clicked: "clicked" }, decls: 1, vars: 1, consts: [["class", "sq-autocomplete-list card position-absolute", 3, "mousedown", 4, "ngIf"], [1, "sq-autocomplete-list", "card", "position-absolute", 3, "mousedown"], [1, "list-group", "list-group-flush"], ["href", "#", "class", "list-group-item list-group-item-action p-0 border-0", 3, "ngClass", "sqScrollIntoView", "click", 4, "ngFor", "ngForOf"], ["class", "card-footer", 4, "ngIf"], ["href", "#", 1, "list-group-item", "list-group-item-action", "p-0", "border-0", 3, "ngClass", "sqScrollIntoView", "click"], [4, "ngIf"], [4, "ngTemplateOutlet", "ngTemplateOutletContext"], [1, "card-footer"]], template: function BsAutocompleteList_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, BsAutocompleteList_div_0_Template, 4, 2, "div", 0);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.hasItems);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["NgIf"], _angular_common__WEBPACK_IMPORTED_MODULE_1__["NgForOf"], _angular_common__WEBPACK_IMPORTED_MODULE_1__["NgClass"], _utils_directives_scroll_into_view__WEBPACK_IMPORTED_MODULE_2__["ScrollIntoView"], _angular_common__WEBPACK_IMPORTED_MODULE_1__["NgTemplateOutlet"]], styles: [".sq-autocomplete-list[_ngcontent-%COMP%] {\n    width: 100%; \n    box-shadow: 0 2px 5px 1px lightgrey;  \n    z-index: 10;\n}\n\n.list-group[_ngcontent-%COMP%] {\n    max-height: 500px; \n    overflow: auto;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2plY3RzL2NvbXBvbmVudHMvYXV0b2NvbXBsZXRlL2Jvb3RzdHJhcC9hdXRvY29tcGxldGUtbGlzdC9hdXRvY29tcGxldGUtbGlzdC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxXQUFXLEVBQUUsMEJBQTBCO0lBQ3ZDLG1DQUFtQyxHQUFHLFdBQVc7SUFDakQsV0FBVztBQUNmOztBQUVBO0lBQ0ksaUJBQWlCLEVBQUUsNEJBQTRCO0lBQy9DLGNBQWM7QUFDbEIiLCJmaWxlIjoicHJvamVjdHMvY29tcG9uZW50cy9hdXRvY29tcGxldGUvYm9vdHN0cmFwL2F1dG9jb21wbGV0ZS1saXN0L2F1dG9jb21wbGV0ZS1saXN0LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5zcS1hdXRvY29tcGxldGUtbGlzdCB7XG4gICAgd2lkdGg6IDEwMCU7IC8qIHRha2UgZnVsbCB3aWR0aCBzcGFjZSAqL1xuICAgIGJveC1zaGFkb3c6IDAgMnB4IDVweCAxcHggbGlnaHRncmV5OyAgLyogc2hhZG93ICovXG4gICAgei1pbmRleDogMTA7XG59XG5cbi5saXN0LWdyb3VwIHtcbiAgICBtYXgtaGVpZ2h0OiA1MDBweDsgLyogbGltaXQgaGVpZ2h0IGFuZCBzY3JvbGwgKi9cbiAgICBvdmVyZmxvdzogYXV0bztcbn0iXX0= */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsAutocompleteList, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-autocomplete-list",
                templateUrl: "./autocomplete-list.html",
                styleUrls: ["./autocomplete-list.css"]
            }]
    }], function () { return [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] }]; }, { itemTpl: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"],
            args: ["itemTpl", { static: false }]
        }], footerTpl: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"],
            args: ["footerTpl", { static: false }]
        }], clicked: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }] }); })();


/***/ }),

/***/ "0U86":
/*!**********************************************************************!*\
  !*** ../components/preview/bootstrap/preview-popup/preview-popup.ts ***!
  \**********************************************************************/
/*! exports provided: BsPreviewPopup */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsPreviewPopup", function() { return BsPreviewPopup; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/modal */ "vMGo");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_components_search__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/components/search */ "7+c1");
/* harmony import */ var _preview_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../preview.service */ "lGAU");
/* harmony import */ var _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sinequa/components/utils */ "DD1E");
/* harmony import */ var _modal_bootstrap_modal_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../modal/bootstrap/modal.component */ "oSLy");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _preview_panel_preview_panel__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../preview-panel/preview-panel */ "szUJ");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/intl/message.pipe */ "X1Kh");











function BsPreviewPopup_div_2_span_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 1, "msg#preview.previousDocument"), "");
} }
function BsPreviewPopup_div_2_span_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 1, "msg#preview.nextDocument"), "");
} }
function BsPreviewPopup_div_2_Template(rf, ctx) { if (rf & 1) {
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "button", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsPreviewPopup_div_2_Template_button_click_1_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r4); const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r3.previous(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "span", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, BsPreviewPopup_div_2_span_3_Template, 3, 3, "span", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "button", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsPreviewPopup_div_2_Template_button_click_4_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r4); const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r5.next(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](5, "span", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](6, BsPreviewPopup_div_2_span_6_Template, 3, 3, "span", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMapInterpolate1"]("btn btn btn-outline-primary ", !ctx_r0.previousEnabled ? "disabled" : "", "");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r0.showPreviousNextText);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMapInterpolate1"]("btn btn btn-outline-primary ", !ctx_r0.nextEnabled ? "disabled" : "", "");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r0.showPreviousNextText);
} }
class BsPreviewPopup {
    constructor(model, searchService, previewService, uiService, changeDetectorRef) {
        this.model = model;
        this.searchService = searchService;
        this.previewService = previewService;
        this.uiService = uiService;
        this.changeDetectorRef = changeDetectorRef;
    }
    ngOnInit() {
        this.screenSize = this.uiService.screenSize;
        this.resizeSubscription = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].subscribe(this.uiService.resizeEvent, (event) => {
            if (this.screenSize !== this.uiService.screenSize) {
                this.screenSize = this.uiService.screenSize;
                this.changeDetectorRef.markForCheck();
            }
        });
        this.updatePreviewData(this.model.record.id);
    }
    ngOnDestroy() {
        this.resizeSubscription.unsubscribe();
    }
    get currentId() {
        if (this.previewData && this.previewData.record) {
            return this.previewData.record.id;
        }
        return "";
    }
    updatePreviewData(id) {
        this.previewService.getPreviewData(id, this.model.query).subscribe(previewData => {
            this.previewData = previewData;
            this.previewDataError = false;
            this.changeDetectorRef.markForCheck();
        }, error => {
            this.previewDataError = true;
        });
    }
    get recordTitle() {
        if (this.previewData && this.previewData.record != null) {
            return this.previewData.record.title;
        }
        return this.previewDataError ? "msg#preview.noDocumentDataErrorPopupTitle" : "";
    }
    get showPreviousNextText() {
        return this.uiService.screenSizeIsGreaterOrEqual("lg");
    }
    get showPreviousNext() {
        return this.getSearchPositionInPage() >= 0 && !!this.searchService.results &&
            !!this.searchService.results.records && this.searchService.results.records.length > 1;
    }
    get previousEnabled() {
        return this.getSearchPositionInPage() > 0;
    }
    get nextEnabled() {
        if (!this.searchService.results || !this.searchService.results.records) {
            return false;
        }
        const searchPosition = this.getSearchPositionInPage();
        return searchPosition >= 0 && searchPosition < (this.searchService.results.records.length - 1);
    }
    getSearchPositionInPage() {
        const id = this.currentId;
        if (id && this.searchService.results && this.searchService.results.records) {
            for (let i = 0, ic = this.searchService.results.records.length; i < ic; i++) {
                const record = this.searchService.results.records[i];
                if (record.id === id) {
                    return i;
                }
            }
        }
        return -1;
    }
    previous() {
        if (!this.searchService.results || !this.searchService.results.records) {
            return;
        }
        const index = this.getSearchPositionInPage();
        if (index <= 0) {
            return;
        }
        const item = this.searchService.results.records[index - 1];
        this.updatePreviewData(item.id);
    }
    next() {
        if (!this.searchService.results || !this.searchService.results.records) {
            return;
        }
        const index = this.getSearchPositionInPage();
        if (index === -1 || index >= (this.searchService.results.records.length - 1)) {
            return;
        }
        const item = this.searchService.results.records[index + 1];
        this.updatePreviewData(item.id);
    }
}
BsPreviewPopup.ɵfac = function BsPreviewPopup_Factory(t) { return new (t || BsPreviewPopup)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_modal__WEBPACK_IMPORTED_MODULE_1__["MODAL_MODEL"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_search__WEBPACK_IMPORTED_MODULE_3__["SearchService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_preview_service__WEBPACK_IMPORTED_MODULE_4__["PreviewService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_utils__WEBPACK_IMPORTED_MODULE_5__["UIService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"])); };
BsPreviewPopup.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsPreviewPopup, selectors: [["sq-preview-popup"]], decls: 4, vars: 8, consts: [[1, "modal-content", "sq-preview-popup"], [3, "title", "showFooter"], ["header", "", "class", "previousNextDocumentButtons", 4, "ngIf"], [3, "leftPaneAdditionalClasses", "query", "previewData", "displaySimilarDocuments", "metadata"], ["header", "", 1, "previousNextDocumentButtons"], [3, "click"], ["aria-hidden", "true", 1, "fas", "fa-arrow-left"], [4, "ngIf"], ["aria-hidden", "true", 1, "fas", "fa-arrow-right"]], template: function BsPreviewPopup_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "sq-modal", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, BsPreviewPopup_div_2_Template, 7, 8, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](3, "sq-preview-panel", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("title", ctx.recordTitle)("showFooter", false);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.showPreviousNext);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("leftPaneAdditionalClasses", "d-none d-lg-block")("query", ctx.model.query)("previewData", ctx.previewData)("displaySimilarDocuments", ctx.model.displaySimilarDocuments)("metadata", ctx.model.metadata);
    } }, directives: [_modal_bootstrap_modal_component__WEBPACK_IMPORTED_MODULE_6__["BsModal"], _angular_common__WEBPACK_IMPORTED_MODULE_7__["NgIf"], _preview_panel_preview_panel__WEBPACK_IMPORTED_MODULE_8__["BsPreviewPanel"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_9__["MessagePipe"]], styles: [".previousNextDocumentButtons[_ngcontent-%COMP%] {\n    display: inline-block;\n    margin-left: auto;\n    white-space: nowrap;\n}\n\n.previousNextDocumentButtons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:first-child) {\n    margin-left: 0.5em;\n}\n\n.sq-preview-popup[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%] {\n    margin: 0 15px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2plY3RzL2NvbXBvbmVudHMvcHJldmlldy9ib290c3RyYXAvcHJldmlldy1wb3B1cC9wcmV2aWV3LXBvcHVwLmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLHFCQUFxQjtJQUNyQixpQkFBaUI7SUFDakIsbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksY0FBYztBQUNsQiIsImZpbGUiOiJwcm9qZWN0cy9jb21wb25lbnRzL3ByZXZpZXcvYm9vdHN0cmFwL3ByZXZpZXctcG9wdXAvcHJldmlldy1wb3B1cC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIucHJldmlvdXNOZXh0RG9jdW1lbnRCdXR0b25zIHtcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgbWFyZ2luLWxlZnQ6IGF1dG87XG4gICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbn1cblxuLnByZXZpb3VzTmV4dERvY3VtZW50QnV0dG9ucyBidXR0b246bm90KDpmaXJzdC1jaGlsZCkge1xuICAgIG1hcmdpbi1sZWZ0OiAwLjVlbTtcbn1cblxuLnNxLXByZXZpZXctcG9wdXAgLm1vZGFsLWhlYWRlciB7XG4gICAgbWFyZ2luOiAwIDE1cHg7XG59XG4iXX0= */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsPreviewPopup, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-preview-popup",
                templateUrl: "./preview-popup.html",
                styleUrls: ["./preview-popup.css"]
            }]
    }], function () { return [{ type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [_sinequa_core_modal__WEBPACK_IMPORTED_MODULE_1__["MODAL_MODEL"]]
            }] }, { type: _sinequa_components_search__WEBPACK_IMPORTED_MODULE_3__["SearchService"] }, { type: _preview_service__WEBPACK_IMPORTED_MODULE_4__["PreviewService"] }, { type: _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_5__["UIService"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] }]; }, null); })();


/***/ }),

/***/ "0USN":
/*!******************************************!*\
  !*** ../components/modal/messages/fr.ts ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    "help": {
        "title": "Aide en ligne"
    },
    "overrideUser": {
        "title": "Emprunt d'identité",
        "userName": "Identifiant",
        "domain": "Domaine"
    },
    "btnClose": {
        "text": "Fermer"
    }
});


/***/ }),

/***/ "0UXu":
/*!***********************************************************!*\
  !*** ../components/result/result-source/result-source.ts ***!
  \***********************************************************/
/*! exports provided: ResultSource */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ResultSource", function() { return ResultSource; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_components_search__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/components/search */ "7+c1");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "2kYt");




function ResultSource_ng_container_1_span_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, " \u203A ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function ResultSource_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    const _r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, ResultSource_ng_container_1_span_1_Template, 2, 0, "span", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "span", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function ResultSource_ng_container_1_Template_span_click_2_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r7); const s_r3 = ctx.$implicit; const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r6.select(s_r3); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const s_r3 = ctx.$implicit;
    const i_r4 = ctx.index;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", i_r4 > 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](s_r3.display);
} }
function ResultSource_span_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, " - ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function ResultSource_a_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "a", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("href", ctx_r2.url, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeUrl"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r2.url);
} }
class ResultSource {
    constructor(searchService) {
        this.searchService = searchService;
        this.displayTreepathMinLevel = 0;
        this.displayUrl = true;
        this.source = [];
    }
    ngOnInit() {
        if (this.displayTreepath && !!this.record.treepath) {
            const treepath = this.record.treepath[0];
            if (!!treepath && treepath.length >= 2) {
                this.source = treepath.substr(1, treepath.length - 2).split('/')
                    .slice(this.displayTreepathMinLevel, this.displayTreepathMaxLevel)
                    .map((path, i, array) => {
                    return {
                        display: path,
                        value: '/' + array.slice(0, i + 1).join('/') + '/*'
                    };
                });
            }
        }
        if (this.displayUrl) {
            this.url = this.record.url1;
        }
    }
    select(item) {
        if (this.searchService.addFieldSelect("treepath", item)) {
            this.searchService.search();
        }
    }
}
ResultSource.ɵfac = function ResultSource_Factory(t) { return new (t || ResultSource)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_search__WEBPACK_IMPORTED_MODULE_1__["SearchService"])); };
ResultSource.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: ResultSource, selectors: [["sq-result-source"]], inputs: { record: "record", displayTreepath: "displayTreepath", displayTreepathMinLevel: "displayTreepathMinLevel", displayTreepathMaxLevel: "displayTreepathMaxLevel", displayUrl: "displayUrl" }, decls: 4, vars: 3, consts: [[1, "sq-result-source"], [4, "ngFor", "ngForOf"], [4, "ngIf"], ["target", "_blank", 3, "href", 4, "ngIf"], ["title", "Select this source", 1, "link", 3, "click"], ["target", "_blank", 3, "href"]], template: function ResultSource_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, ResultSource_ng_container_1_Template, 4, 2, "ng-container", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, ResultSource_span_2_Template, 2, 0, "span", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, ResultSource_a_3_Template, 2, 2, "a", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.source);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.source.length > 0 && !!ctx.url);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.url);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_2__["NgForOf"], _angular_common__WEBPACK_IMPORTED_MODULE_2__["NgIf"]], styles: [".sq-result-source[_ngcontent-%COMP%] {\n    color: #006621;\n    font-size: 0.9rem;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;    \n    width: 100%;\n    display: inline-block;\n}\n\n.link[_ngcontent-%COMP%] {\n    cursor: pointer;\n}\n\n.link[_ngcontent-%COMP%]:hover {\n    text-decoration: underline;\n}\n\na[_ngcontent-%COMP%] {\n    color: inherit;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2plY3RzL2NvbXBvbmVudHMvcmVzdWx0L3Jlc3VsdC1zb3VyY2UvcmVzdWx0LXNvdXJjZS5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUNBO0lBQ0ksY0FBYztJQUNkLGlCQUFpQjtJQUNqQixtQkFBbUI7SUFDbkIsZ0JBQWdCO0lBQ2hCLHVCQUF1QjtJQUN2QixXQUFXO0lBQ1gscUJBQXFCO0FBQ3pCOztBQUVBO0lBQ0ksZUFBZTtBQUNuQjs7QUFFQTtJQUNJLDBCQUEwQjtBQUM5Qjs7QUFFQTtJQUNJLGNBQWM7QUFDbEIiLCJmaWxlIjoicHJvamVjdHMvY29tcG9uZW50cy9yZXN1bHQvcmVzdWx0LXNvdXJjZS9yZXN1bHQtc291cmNlLmNzcyIsInNvdXJjZXNDb250ZW50IjpbIlxuLnNxLXJlc3VsdC1zb3VyY2Uge1xuICAgIGNvbG9yOiAjMDA2NjIxO1xuICAgIGZvbnQtc2l6ZTogMC45cmVtO1xuICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpczsgICAgXG4gICAgd2lkdGg6IDEwMCU7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xufVxuXG4ubGluayB7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xufVxuXG4ubGluazpob3ZlciB7XG4gICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XG59XG5cbmEge1xuICAgIGNvbG9yOiBpbmhlcml0O1xufSJdfQ== */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ResultSource, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-result-source",
                templateUrl: "./result-source.html",
                styleUrls: ["./result-source.css"]
            }]
    }], function () { return [{ type: _sinequa_components_search__WEBPACK_IMPORTED_MODULE_1__["SearchService"] }]; }, { record: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], displayTreepath: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], displayTreepathMinLevel: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], displayTreepathMaxLevel: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], displayUrl: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "0Wug":
/*!*************************************************!*\
  !*** ../components/saved-queries/public-api.ts ***!
  \*************************************************/
/*! exports provided: SAVED_QUERIES_CHANGE_EVENTS, SAVEDQUERY_COMPONENTS, SavedQueriesService, RECENT_QUERIES_CHANGE_EVENTS, MAX_QUERIES, RecentQueriesService, RECENT_DOCUMENTS_CHANGE_EVENTS, MAX_DOCUMENTS, RecentDocumentsService, BsEditSavedQuery, BsExportQuery, BsManageSavedQueries, BsQueryExporter, BsSavedQueriesModule, BsSavedQueriesMenuComponent, BsFacetSavedQueries, BsFacetRecentQueries, BsFacetRecentDocuments, enSavedQueries, frSavedQueries, deSavedQueries */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _saved_queries_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./saved-queries.service */ "6FzQ");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SAVED_QUERIES_CHANGE_EVENTS", function() { return _saved_queries_service__WEBPACK_IMPORTED_MODULE_0__["SAVED_QUERIES_CHANGE_EVENTS"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SAVEDQUERY_COMPONENTS", function() { return _saved_queries_service__WEBPACK_IMPORTED_MODULE_0__["SAVEDQUERY_COMPONENTS"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SavedQueriesService", function() { return _saved_queries_service__WEBPACK_IMPORTED_MODULE_0__["SavedQueriesService"]; });

/* harmony import */ var _recent_queries_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./recent-queries.service */ "m7B1");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RECENT_QUERIES_CHANGE_EVENTS", function() { return _recent_queries_service__WEBPACK_IMPORTED_MODULE_1__["RECENT_QUERIES_CHANGE_EVENTS"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MAX_QUERIES", function() { return _recent_queries_service__WEBPACK_IMPORTED_MODULE_1__["MAX_QUERIES"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RecentQueriesService", function() { return _recent_queries_service__WEBPACK_IMPORTED_MODULE_1__["RecentQueriesService"]; });

/* harmony import */ var _recent_documents_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./recent-documents.service */ "/0s+");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RECENT_DOCUMENTS_CHANGE_EVENTS", function() { return _recent_documents_service__WEBPACK_IMPORTED_MODULE_2__["RECENT_DOCUMENTS_CHANGE_EVENTS"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MAX_DOCUMENTS", function() { return _recent_documents_service__WEBPACK_IMPORTED_MODULE_2__["MAX_DOCUMENTS"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RecentDocumentsService", function() { return _recent_documents_service__WEBPACK_IMPORTED_MODULE_2__["RecentDocumentsService"]; });

/* harmony import */ var _bootstrap_index__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./bootstrap/index */ "0Nx2");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsEditSavedQuery", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_3__["BsEditSavedQuery"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsExportQuery", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_3__["BsExportQuery"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsManageSavedQueries", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_3__["BsManageSavedQueries"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsQueryExporter", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_3__["BsQueryExporter"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsSavedQueriesModule", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_3__["BsSavedQueriesModule"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsSavedQueriesMenuComponent", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_3__["BsSavedQueriesMenuComponent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFacetSavedQueries", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_3__["BsFacetSavedQueries"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFacetRecentQueries", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_3__["BsFacetRecentQueries"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFacetRecentDocuments", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_3__["BsFacetRecentDocuments"]; });

/* harmony import */ var _messages_index__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./messages/index */ "t6Vy");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "enSavedQueries", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_4__["enSavedQueries"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "frSavedQueries", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_4__["frSavedQueries"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "deSavedQueries", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_4__["deSavedQueries"]; });








/***/ }),

/***/ "0XEq":
/*!****************************************!*\
  !*** ../core/base/iterator-adaptor.ts ***!
  \****************************************/
/*! exports provided: IteratorAdaptor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IteratorAdaptor", function() { return IteratorAdaptor; });
class IteratorAdaptor {
    constructor(base, adaptor) {
        this.base = base;
        this.adaptor = adaptor;
        this.return = (base.return) ? (v) => this.translate(this.base.return(v)) : undefined;
        this.throw = (base.throw) ? (e) => this.translate(this.base.throw(e)) : undefined;
    }
    static forIterable(iterable, adaptor) {
        /*if (iterable === undefined) {
            return undefined;
        }*/
        return new IteratorAdaptor(iterable[Symbol.iterator](), adaptor);
    }
    translate(result) {
        if (result.done) {
            return {
                done: result.done,
                value: (result.done && result.value === undefined) ? undefined : this.adaptor(result.value)
            };
        }
        else {
            return {
                value: this.adaptor(result.value)
            };
        }
    }
    next(value) { return this.translate(this.base.next(value)); }
    [Symbol.iterator]() { return this; }
}


/***/ }),

/***/ "0u5f":
/*!*******************************************!*\
  !*** ../components/alerts/messages/de.ts ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    "alerts": {
        "alerts": "Alarme",
        "createAlert": "Alarm erstellen",
        "manageAlerts": "Alarme verwalten",
        "alertAlreadyExists": "Ein Alarm mit diesem Namen existiert bereits. Möchten Sie ihn ersetzen?"
    },
    "editAlert": {
        "title": "Alarm",
        "name": "Name",
        "frequency": "Häufigkeit",
        "days": "Tage",
        "monday": "Montag",
        "tuesday": "Dienstag",
        "wednesday": "Mittwoch",
        "thursday": "Donnerstag",
        "friday": "Freitag",
        "saturday": "Samstag",
        "sunday": "Sonntag",
        "times": "Uhrzeitangaben",
        "active": "Aktiv",
        "updateQuery": "Aktualisiere Suchanfrage",
        "runQuery": "Führe Suchanfrage aus",
        "lossDataMessage": "Möchten Sie gehen, ohne Ihre Änderungen zu speichern?"
    },
    "manageAlerts": {
        "title": "Alarme verwalten",
        "edit": "Bearbeiten",
        "reorder": "Neu sortieren",
        "remove": "Entfernen",
        "removeAll": "Alle entfernen"
    },
});


/***/ }),

/***/ 1:
/*!*******************************************!*\
  !*** ./locale-data/complete.js (ignored) ***!
  \*******************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/* (ignored) */

/***/ }),

/***/ "1A11":
/*!*************************************!*\
  !*** ../core/intl/import-moment.ts ***!
  \*************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment */ "wgY5");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_0__);
// moment locales need moment set globally

window.moment = moment__WEBPACK_IMPORTED_MODULE_0___default.a;


/***/ }),

/***/ "1JZ2":
/*!*************************************************************************!*\
  !*** ../components/notification/bootstrap/notification/notification.ts ***!
  \*************************************************************************/
/*! exports provided: notificationAnimations, BsNotification */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "notificationAnimations", function() { return notificationAnimations; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsNotification", function() { return BsNotification; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_animations__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/animations */ "f7+R");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_core_notification__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/notification */ "mkLw");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/intl/message.pipe */ "X1Kh");







function BsNotification_button_1_Template(rf, ctx) { if (rf & 1) {
    const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsNotification_button_1_Template_button_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r3); const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r2.close(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "span", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2, "\u00D7");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "span", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4, "Close");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function BsNotification_ng_container_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "span", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](3, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](4, "hr");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](3, 1, ctx_r1.notification.title));
} }
const _c0 = function (a0) { return { values: a0 }; };
function notificationAnimations(timings) {
    return [
        Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["trigger"])('autoClose', [
            Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["transition"])('1 => void', [
                Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["animate"])(timings, Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["style"])({ opacity: 0 }))
            ])
        ])
    ];
}
class BsNotification {
    constructor(notificationsService) {
        this.notificationsService = notificationsService;
    }
    ngOnInit() {
        if (this.notification.autoClose && this.notification.state === 0 /* Initial */) {
            this.autoClose = true;
            _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].delay(5000).then(value => {
                if (this.notification.state === 0 /* Initial */) {
                    this.close();
                }
            });
        }
    }
    get alertClass() {
        switch (this.notification.type) {
            case 1 /* Info */: return "info";
            case 0 /* Success */: return "success";
            case 2 /* Warning */: return "warning";
            case 3 /* Error */: return "danger";
        }
        return "";
    }
    get notificationClass() {
        switch (this.notification.type) {
            case 1 /* Info */: return "fas fa-info-circle fa-lg";
            case 0 /* Success */: return "fas fa-check-circle fa-lg";
            case 2 /* Warning */: return "fas fa-exclamation-triangle fa-lg";
            case 3 /* Error */: return "fas fa-exclamation-circle fa-lg";
        }
        return "";
    }
    get showClose() {
        return !this.notification.autoClose || this.notification.state !== 0 /* Initial */;
    }
    close() {
        this.notificationsService.closeNotification(this.notification);
    }
}
BsNotification.ɵfac = function BsNotification_Factory(t) { return new (t || BsNotification)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_notification__WEBPACK_IMPORTED_MODULE_3__["NotificationsService"])); };
BsNotification.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsNotification, selectors: [["sq-notification"]], inputs: { notification: "notification" }, decls: 10, vars: 15, consts: [["role", "alert"], ["type", "button", "class", "close", "aria-label", "Close", 3, "click", 4, "ngIf"], [1, "sq-notification-container"], [1, "sq-notification-icon"], [1, "sq-notification-message"], [4, "ngIf"], [1, "sq-notification-text"], ["type", "button", "aria-label", "Close", 1, "close", 3, "click"], ["aria-hidden", "true"], [1, "sr-only"], [1, "sq-notification-title"]], template: function BsNotification_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsNotification_button_1_Template, 5, 0, "button", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](4, "span");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](6, BsNotification_ng_container_6_Template, 5, 3, "ng-container", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "span", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](8);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](9, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMapInterpolate1"]("alert alert-", ctx.alertClass, " sq-notification");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("@autoClose", ctx.autoClose);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.showClose);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMap"](ctx.notificationClass);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !!ctx.notification.title);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](9, 10, ctx.notification.text, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](13, _c0, ctx.notification.params)));
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_4__["NgIf"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_5__["MessagePipe"]], encapsulation: 2, data: { animation: notificationAnimations(".15s ease-in-out") } });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsNotification, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-notification",
                templateUrl: "./notification.html",
                animations: notificationAnimations(".15s ease-in-out")
            }]
    }], function () { return [{ type: _sinequa_core_notification__WEBPACK_IMPORTED_MODULE_3__["NotificationsService"] }]; }, { notification: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "1ak2":
/*!***************************************************!*\
  !*** ../components/utils/directives/autofocus.ts ***!
  \***************************************************/
/*! exports provided: Autofocus */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Autofocus", function() { return Autofocus; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");



class Autofocus {
    constructor(elementRef) {
        this.element = elementRef.nativeElement;
    }
    setFocus() {
        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].delay()
            .then(() => {
            if (this.element.offsetWidth !== 0) {
                this.element.focus();
            }
        });
    }
    ngOnChanges() {
        this.setFocus();
    }
}
Autofocus.ɵfac = function Autofocus_Factory(t) { return new (t || Autofocus)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"])); };
Autofocus.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({ type: Autofocus, selectors: [["", "sqAutofocus", ""]], inputs: { value: ["sqAutofocus", "value"] }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](Autofocus, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Directive"],
        args: [{
                selector: "[sqAutofocus]"
            }]
    }], function () { return [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"] }]; }, { value: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"],
            args: ["sqAutofocus"]
        }] }); })();


/***/ }),

/***/ "1eSv":
/*!******************************************!*\
  !*** ../analytics/heatmap/public-api.ts ***!
  \******************************************/
/*! exports provided: BsHeatmapModule, BsFacetHeatmapComponent, BsHeatmapComponent, BsTooltipComponent, BsResultsHeatmapView, enHeatmap, frHeatmap, deHeatmap */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _bootstrap_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bootstrap/index */ "tg+F");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsHeatmapModule", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_0__["BsHeatmapModule"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFacetHeatmapComponent", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_0__["BsFacetHeatmapComponent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsHeatmapComponent", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_0__["BsHeatmapComponent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsTooltipComponent", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_0__["BsTooltipComponent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsResultsHeatmapView", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_0__["BsResultsHeatmapView"]; });

/* harmony import */ var _messages_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./messages/index */ "+UNn");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "enHeatmap", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_1__["enHeatmap"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "frHeatmap", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_1__["frHeatmap"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "deHeatmap", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_1__["deHeatmap"]; });





/***/ }),

/***/ "1fEK":
/*!********************************************!*\
  !*** ../components/collapse/public-api.ts ***!
  \********************************************/
/*! exports provided: CollapseModule, collapseButtonAnimations, CollapseButton, collapseAnimations, Collapse, CollapseLink, enCollapse, frCollapse, deCollapse */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _collapse_module__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./collapse.module */ "KKFt");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "CollapseModule", function() { return _collapse_module__WEBPACK_IMPORTED_MODULE_0__["CollapseModule"]; });

/* harmony import */ var _collapse_button_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./collapse-button.component */ "odaa");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "collapseButtonAnimations", function() { return _collapse_button_component__WEBPACK_IMPORTED_MODULE_1__["collapseButtonAnimations"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "CollapseButton", function() { return _collapse_button_component__WEBPACK_IMPORTED_MODULE_1__["CollapseButton"]; });

/* harmony import */ var _collapse_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./collapse.component */ "rVRG");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "collapseAnimations", function() { return _collapse_component__WEBPACK_IMPORTED_MODULE_2__["collapseAnimations"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Collapse", function() { return _collapse_component__WEBPACK_IMPORTED_MODULE_2__["Collapse"]; });

/* harmony import */ var _collapse_link_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./collapse-link.component */ "Xpku");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "CollapseLink", function() { return _collapse_link_component__WEBPACK_IMPORTED_MODULE_3__["CollapseLink"]; });

/* harmony import */ var _messages_index__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./messages/index */ "hU9A");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "enCollapse", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_4__["enCollapse"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "frCollapse", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_4__["frCollapse"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "deCollapse", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_4__["deCollapse"]; });








/***/ }),

/***/ "1q26":
/*!***********************************************************************!*\
  !*** ../components/utils/directives/focus-key-list-item.directive.ts ***!
  \***********************************************************************/
/*! exports provided: FocusKeyListItemDirective */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FocusKeyListItemDirective", function() { return FocusKeyListItemDirective; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");


class FocusKeyListItemDirective {
    constructor(element) {
        this.element = element;
        this.tabindex = -1;
        this.role = "list-item";
    }
    focus() {
        this.element.nativeElement.focus();
    }
}
FocusKeyListItemDirective.ɵfac = function FocusKeyListItemDirective_Factory(t) { return new (t || FocusKeyListItemDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"])); };
FocusKeyListItemDirective.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({ type: FocusKeyListItemDirective, selectors: [["", "sqFocusKeyListItem", ""]], hostVars: 2, hostBindings: function FocusKeyListItemDirective_HostBindings(rf, ctx) { if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵhostProperty"]("tabindex", ctx.tabindex);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵattribute"]("role", ctx.role);
    } } });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](FocusKeyListItemDirective, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Directive"],
        args: [{
                selector: "[sqFocusKeyListItem]"
            }]
    }], function () { return [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"] }]; }, { tabindex: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostBinding"]
        }], role: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostBinding"],
            args: ["attr.role"]
        }] }); })();


/***/ }),

/***/ "1wgL":
/*!***********************************************************************************!*\
  !*** ../components/advanced/bootstrap/advanced-form-input/advanced-form-input.ts ***!
  \***********************************************************************************/
/*! exports provided: BsAdvancedFormInput */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsAdvancedFormInput", function() { return BsAdvancedFormInput; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/app-utils */ "SBPP");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "nIj0");
/* harmony import */ var _advanced_form_autocomplete_directive__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../advanced-form-autocomplete.directive */ "EF9c");
/* harmony import */ var _advanced_form_validation_directive__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../advanced-form-validation.directive */ "TyST");
/* harmony import */ var _autocomplete_bootstrap_autocomplete_list_autocomplete_list__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../autocomplete/bootstrap/autocomplete-list/autocomplete-list */ "0Tqz");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/intl/message.pipe */ "X1Kh");









function BsAdvancedFormInput_ng_template_8_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const item_r3 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](item_r3.display);
} }
class BsAdvancedFormInput {
    constructor(appService) {
        this.appService = appService;
    }
    ngOnChanges() {
        if (this.label === undefined) {
            this.label = this.appService.getLabel(this.field);
        }
        this.control = this.form.get(this.field);
        if (this.control) {
            if (this.control.value) {
                this.viewValue = this.control.value.display
                    ? this.control.value.display
                    : this.control.value.value.toString();
            }
            this._valueChangesSubscription = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].subscribe(this.control.valueChanges, (val) => {
                if (val) {
                    this.viewValue = val.display ? val.display : val.value.toString();
                }
            });
        }
        else {
            throw new Error("No form control named " + this.field);
        }
    }
    ngOnDestroy() {
        if (this._valueChangesSubscription) {
            this._valueChangesSubscription.unsubscribe();
        }
    }
    onItemChange(item) {
        this.viewValue = item === null || item === void 0 ? void 0 : item.display;
        this._updateControl(item);
    }
    _updateControl(item) {
        var _a, _b;
        const value = item
            ? {
                value: item.normalized,
                display: item.display
            } : undefined;
        (_a = this.control) === null || _a === void 0 ? void 0 : _a.markAsDirty();
        (_b = this.control) === null || _b === void 0 ? void 0 : _b.setValue(value, { emitEvent: false });
    }
}
BsAdvancedFormInput.ɵfac = function BsAdvancedFormInput_Factory(t) { return new (t || BsAdvancedFormInput)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_2__["AppService"])); };
BsAdvancedFormInput.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsAdvancedFormInput, selectors: [["sq-advanced-form-input"]], inputs: { form: "form", field: "field", suggestQuery: "suggestQuery", label: "label" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 10, vars: 11, consts: [[1, "form-group"], [3, "for"], [1, "d-flex", "flex-column"], ["sqAdvancedFormAutocomplete", "", "sqAdvancedFormValidation", "", "type", "text", "autocomplete", "off", "spellcheck", "off", 1, "form-control", 3, "off", "suggestQuery", "dropdown", "validationForm", "field", "id", "ngModel", "ngModelChange", "UpdateItem"], ["dropdown", ""], ["itemTpl", ""], [1, "py-2"]], template: function BsAdvancedFormInput_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "label", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](3, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "input", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("ngModelChange", function BsAdvancedFormInput_Template_input_ngModelChange_5_listener($event) { return ctx.viewValue = $event; })("UpdateItem", function BsAdvancedFormInput_Template_input_UpdateItem_5_listener($event) { return ctx.onItemChange($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "sq-autocomplete-list", null, 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](8, BsAdvancedFormInput_ng_template_8_Template, 2, 1, "ng-template", null, 5, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplateRefExtractor"]);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        const _r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](7);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("for", ctx.field);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](3, 9, ctx.label));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("off", !ctx.suggestQuery)("suggestQuery", ctx.suggestQuery)("dropdown", _r0)("validationForm", ctx.form)("field", ctx.field)("id", ctx.field)("ngModel", ctx.viewValue);
    } }, directives: [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["DefaultValueAccessor"], _advanced_form_autocomplete_directive__WEBPACK_IMPORTED_MODULE_4__["BsAdvancedFormAutocomplete"], _advanced_form_validation_directive__WEBPACK_IMPORTED_MODULE_5__["BsAdvancedFormValidation"], _angular_forms__WEBPACK_IMPORTED_MODULE_3__["NgControlStatus"], _angular_forms__WEBPACK_IMPORTED_MODULE_3__["NgModel"], _autocomplete_bootstrap_autocomplete_list_autocomplete_list__WEBPACK_IMPORTED_MODULE_6__["BsAutocompleteList"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_7__["MessagePipe"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsAdvancedFormInput, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-advanced-form-input",
                templateUrl: "./advanced-form-input.html"
            }]
    }], function () { return [{ type: _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_2__["AppService"] }]; }, { form: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], field: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], suggestQuery: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], label: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "1wtQ":
/*!***********************!*\
  !*** ./src/config.ts ***!
  \***********************/
/*! exports provided: FEATURES, FACETS, METADATA */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FEATURES", function() { return FEATURES; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FACETS", function() { return FACETS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "METADATA", function() { return METADATA; });
/**
 * This list is used by Vanilla Search to activate key features in the UI.
 * The order below determines the order of menus, buttons, facets, etc.
 */
const FEATURES = [
    "recent-documents",
    "recent-queries",
    "saved-queries",
    "baskets",
    "labels",
    "alerts",
    "suggests",
    "advanced-form",
    "keep-advanced-form-filters",
    "keep-tab",
    //"keep-filters",                 // When the user makes a new search query, do not reset the filters that are active (eg. from facets)
    "toggle-keep-filters",
];
const FACETS = [
    {
        name: "geo",
        title: "msg#facet.geo.title",
        type: "list",
        aggregation: "Geo",
        icon: "fas fa-globe-americas",
        showCount: true,
        searchable: true,
        allowExclude: true,
        allowOr: true,
        allowAnd: false,
        displayEmptyDistributionIntervals: false,
    },
    {
        name: "company",
        title: "msg#facet.company.title",
        type: "list",
        aggregation: "Company",
        icon: "fas fa-building",
        showCount: true,
        searchable: true,
        allowExclude: true,
        allowOr: true,
        allowAnd: false,
        displayEmptyDistributionIntervals: false,
    },
    {
        name: "person",
        title: "msg#facet.person.title",
        type: "list",
        aggregation: "Person",
        icon: "fas fa-user",
        showCount: true,
        searchable: true,
        allowExclude: true,
        allowOr: true,
        allowAnd: false,
        displayEmptyDistributionIntervals: false,
    },
    {
        name: "docformat",
        title: "msg#facet.docformat.title",
        type: "list",
        aggregation: "DocFormat",
        icon: "far fa-file-word",
        showCount: true,
        searchable: true,
        allowExclude: true,
        allowOr: true,
        allowAnd: false,
        displayEmptyDistributionIntervals: false,
    },
    {
        name: "modified",
        title: "msg#facet.modified.title",
        type: "list",
        aggregation: "Modified",
        icon: "fas fa-calendar-day",
        showCount: true,
        searchable: false,
        allowExclude: true,
        allowOr: true,
        allowAnd: false,
        displayEmptyDistributionIntervals: false,
    },
    {
        name: "size",
        title: "msg#facet.size.title",
        type: "list",
        aggregation: "Size",
        icon: "fas fa-sort-amount-up-alt",
        showCount: true,
        searchable: false,
        allowExclude: true,
        allowOr: true,
        allowAnd: false,
        displayEmptyDistributionIntervals: false,
    },
    {
        name: "documentlanguages",
        title: "msg#facet.documentlanguages.title",
        type: "list",
        aggregation: "DocumentLanguages",
        icon: "far fa-comment",
        showCount: true,
        searchable: true,
        allowExclude: true,
        allowOr: true,
        allowAnd: false,
        displayEmptyDistributionIntervals: false,
    },
    {
        name: "concepts",
        title: "msg#facet.concepts.title",
        type: "list",
        aggregation: "Concepts",
        icon: "fas fa-comment-dots",
        showCount: true,
        searchable: false,
        allowExclude: true,
        allowOr: true,
        allowAnd: false,
        displayEmptyDistributionIntervals: false,
    },
];
const METADATA = [
    "authors", "docformat", "modified", "size", "treepath", "filename"
];


/***/ }),

/***/ "20FV":
/*!**************************************************!*\
  !*** ../components/modal/bootstrap/help/help.ts ***!
  \**************************************************/
/*! exports provided: BsHelp */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsHelp", function() { return BsHelp; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/web-services */ "cIYa");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/platform-browser */ "e4iD");
/* harmony import */ var _modal_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../modal.component */ "oSLy");





class BsHelp {
    constructor(startConfig, sanitizer) {
        this.startConfig = startConfig;
        this.sanitizer = sanitizer;
    }
    ngOnInit() {
        const url = this.startConfig.helpUrl || "assets/help/index.html";
        this.url = this.sanitizer.bypassSecurityTrustResourceUrl(url);
    }
}
BsHelp.ɵfac = function BsHelp_Factory(t) { return new (t || BsHelp)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_1__["START_CONFIG"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_platform_browser__WEBPACK_IMPORTED_MODULE_2__["DomSanitizer"])); };
BsHelp.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsHelp, selectors: [["sq-help"]], hostVars: 2, hostBindings: function BsHelp_HostBindings(rf, ctx) { if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassProp"]("modal-content", true);
    } }, decls: 3, vars: 2, consts: [[3, "title"], [1, "d-flex", "flex-column"], [3, "src"]], template: function BsHelp_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "sq-modal", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "iframe", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("title", "msg#help.title");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("src", ctx.url, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeResourceUrl"]);
    } }, directives: [_modal_component__WEBPACK_IMPORTED_MODULE_3__["BsModal"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsHelp, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-help",
                templateUrl: "./help.html"
            }]
    }], function () { return [{ type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_1__["START_CONFIG"]]
            }] }, { type: _angular_platform_browser__WEBPACK_IMPORTED_MODULE_2__["DomSanitizer"] }]; }, { true: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostBinding"],
            args: ["class.modal-content"]
        }] }); })();


/***/ }),

/***/ "2GHw":
/*!*********************************************!*\
  !*** ../components/modal/messages/index.ts ***!
  \*********************************************/
/*! exports provided: enModal, frModal, deModal */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _en__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./en */ "/mMY");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "enModal", function() { return _en__WEBPACK_IMPORTED_MODULE_0__["default"]; });

/* harmony import */ var _fr__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./fr */ "0USN");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "frModal", function() { return _fr__WEBPACK_IMPORTED_MODULE_1__["default"]; });

/* harmony import */ var _de__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./de */ "ruY2");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "deModal", function() { return _de__WEBPACK_IMPORTED_MODULE_2__["default"]; });







/***/ }),

/***/ "2ZSg":
/*!*******************************************!*\
  !*** ../components/search/breadcrumbs.ts ***!
  \*******************************************/
/*! exports provided: Breadcrumbs */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Breadcrumbs", function() { return Breadcrumbs; });
/* harmony import */ var _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @sinequa/core/app-utils */ "SBPP");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");


/**
 * Description of the Breadcrumbs class - link to {@link SearchService}
 */
class Breadcrumbs {
    constructor(appService, searchService, query) {
        this.appService = appService;
        this.searchService = searchService;
        this.query = query.copy();
        this.items = [];
        this.advanced = [];
        this.fields = new Set();
    }
    static create(appService, searchService, query) {
        const breadcrumbs = new Breadcrumbs(appService, searchService, query);
        return breadcrumbs.init();
    }
    get activeIndex() {
        return this.items.findIndex(item => item.active);
    }
    get activeItem() {
        const index = this.activeIndex;
        if (index !== -1) {
            return this.items[index];
        }
        return undefined;
    }
    get text() {
        return this.items[0].display;
    }
    get textExpr() {
        return this.items[0].expr;
    }
    get selects() {
        return this.items.slice(1);
    }
    get activeSelects() {
        return this.items.slice(1, this.activeIndex + 1);
    }
    get activeItems() {
        return this.items.slice(0, this.activeIndex + 1);
    }
    get isEmpty() {
        if (this.items.length === 0) {
            return true;
        }
        if (this.items.length === 1 && this.items[0].hidden) {
            return true;
        }
        return false;
    }
    find(expr) {
        let expr1 = expr;
        const init = expr;
        if (!(expr instanceof _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_0__["Expr"])) {
            expr1 = new _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_0__["Expr"](init);
        }
        if (!expr1.every((expr2) => {
            const field = expr2.exprContext.appService.resolveColumnAlias(expr2.field);
            return !field || this.fields.has(field);
        })) {
            return undefined;
        }
        for (const expr3 of this.advanced) {
            const expr2 = expr3.find(expr1);
            if (expr2) {
                return expr2;
            }
        }
        for (const select of this.selects) {
            if (select.expr) {
                const expr2 = select.expr.find(expr1);
                if (expr2) {
                    return expr2;
                }
            }
        }
        if (this.textExpr) {
            let expr2 = this.textExpr.find(expr1, (expr3) => expr3.isStructured);
            if (expr2) {
                return expr2;
            }
            expr2 = this.textExpr.find(expr1, (expr3) => !expr3.isStructured);
            if (expr2) {
                return expr2;
            }
        }
        return undefined;
    }
    findSelect(facet, exprOrField) {
        // Active selects only, most recent first
        const activeSelects = this.activeSelects;
        for (let i = activeSelects.length - 1; i >= 0; i--) {
            const select = activeSelects[i];
            if (select.expr && (!facet || _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].eqNC(facet, select.facet || ""))) {
                if (!exprOrField) {
                    return select.expr;
                }
                if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].isString(exprOrField)) {
                    if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].eqNC(exprOrField, select.expr.field || "")) {
                        return select.expr;
                    }
                }
                else {
                    const expr1 = select.expr.find(exprOrField);
                    if (expr1) {
                        return expr1;
                    }
                }
            }
        }
        return undefined;
    }
    addFields(expr) {
        if (expr) {
            const fields = expr.getFields();
            fields.forEach((field) => {
                this.fields.add(field);
            });
        }
    }
    makeBreadcrumbsItemFromExpr(text) {
        let expr = this.appService.parseExpr(text);
        if (!(expr instanceof _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_0__["Expr"])) {
            expr = this.appService.parseExpr(_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_0__["ExprParser"].escape(text));
        }
        if (expr instanceof _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_0__["Expr"]) {
            return { expr, display: expr };
        }
        else {
            return { expr: undefined, display: expr };
        }
    }
    initItems() {
        // Text
        if (this.query && this.query.text) {
            const item = this.makeBreadcrumbsItemFromExpr(this.query.text);
            this.items.push(item);
            this.addFields(item.expr);
        }
        else {
            this.items.push({
                expr: undefined,
                display: this.query && this.query.basket ? this.query.basket : "msg#breadcrumbs.emptySearch",
                hidden: this.appService.ccquery && !this.appService.ccquery.allowEmptySearch &&
                    this.searchService.isEmptySearchIgnoreSelects(this.query)
            });
        }
        // Selects
        if (this.query && this.query.select) {
            for (const select of this.query.select) {
                const item = this.makeBreadcrumbsItemFromExpr(select.expression);
                item.facet = select.facet;
                this.items.push(item);
                this.addFields(item.expr);
            }
        }
        // Set last item active
        this.items[this.items.length - 1].active = true;
    }
    init() {
        this.initItems();
        return this;
    }
    selectItem(item) {
        const index = this.items.indexOf(item);
        if (this.query && index !== -1) {
            const query = this.query.copy();
            if (query.select) {
                query.select.splice(index);
            }
            this.items.forEach(item1 => item1.active = false);
            item.active = true;
            return query;
        }
        return undefined;
    }
    removeItem(item) {
        const index = this.items.indexOf(item);
        if (this.query && index !== -1) {
            let next;
            if (index === 0) { // Text
                if (this.query.text || this.query.basket) {
                    delete this.query.text;
                    delete this.query.basket;
                    item.expr = undefined;
                    item.display = "msg#breadcrumbs.emptySearch";
                    item.hidden = this.appService.ccquery && !this.appService.ccquery.allowEmptySearch &&
                        this.searchService.isEmptySearchIgnoreSelects(this.query);
                }
                if (!item.hidden) {
                    next = this.activeItem;
                }
                else if (this.items.length > 1) {
                    next = this.items[this.items.length - 1];
                }
            }
            else {
                // Find next item to activate, if necessary
                const activeIndex = this.activeIndex;
                if (activeIndex >= index) {
                    if (activeIndex > index) {
                        next = this.items[activeIndex];
                    }
                    else {
                        if (index === this.items.length - 1) {
                            next = this.items[index - 1];
                        }
                        else {
                            next = this.items[index + 1];
                        }
                        if (next.hidden) {
                            next = undefined;
                        }
                    }
                }
                if (this.query.select) {
                    this.query.select.splice(index - 1, 1);
                }
                this.items.splice(index, 1);
            }
            return next;
        }
        return undefined;
    }
    update(query) {
        if (!this.query) {
            this.query = query.copy();
        }
        this.query.text = query.text;
        this.query.basket = query.basket;
        if (!this.query.text && !this.query.basket) {
            const item = this.items[0];
            item.expr = undefined;
            item.display = "msg#breadcrumbs.emptySearch";
            item.hidden = this.appService.ccquery && !this.appService.ccquery.allowEmptySearch &&
                this.searchService.isEmptySearchIgnoreSelects(this.query);
        }
    }
}


/***/ }),

/***/ "2mFK":
/*!**************************************************!*\
  !*** ../components/saved-queries/messages/fr.ts ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    "savedQueries": {
        "savedQueries": "Requêtes sauvegardées",
        "saveCurrentQuery": "Enregistrer la requête courante",
        "manageSavedQueries": "Gérer les requêtes sauvegardées",
        "savedQueryAlreadyExists": "Une requête sauvegardée avec ce nom existe déjà. Voulez-vous la remplacer ?",
        "noSavedQuery": "Vous n'avez pas encore enregistré de requête de recherche...",
        "delete": "Supprimer cette requête enregistrée"
    },
    "recentQueries": {
        "noRecentQuery": "Vous n'avez pas encore effectué de recherche...",
        "delete": "Supprimer cette requête",
        "save": "Enregistrer cette requête"
    },
    "recentDocuments": {
        "recentDocuments": "Documents récents",
        "noRecentDocument": "Vous n'avez pas encore ouvert de document...",
        "delete": "Supprimer ce document récent"
    },
    "editSavedQuery": {
        "title": "Requête sauvegardée",
        "name": "Nom"
    },
    "exportQuery": {
        "dialogTitle": "Export",
        "dialogOutputFormat": "Format de sortie",
        "dialogMaxCount": "Nb max de lignes",
        "dialogSourceType": "Exporter depuis",
        "dialogResult": "Résultat courant",
        "dialogSelection": "Sélection courante",
        "btnTitle": "Exporter les résultats",
        "exportResult": "Exporter le résultat en {type}",
        "exportSelection": "Exporter la sélection en {type}",
        "btnDownload": "Télécharger",
        "btnClose": "Fermer",
        "successNotification": "Téléchargement terminé",
        "exportedColumns": "Colonnes à exporter",
        "exportedColumnsLabelTooltip": "Sélectionnez les colonnes que vous souhaitez exporter, une sélection vide signifie la sélection de tous le colonnes",
        "dialogMaxCountTooltip": "Par défaut, le nombre de résultats est limité à {count}"
    },
    "manageSavedQueries": {
        "title": "Gérer les requêtes sauvegardées",
        "edit": "Editer",
        "reorder": "Réorganiser",
        "remove": "Effacer",
        "removeAll": "Effacer tout",
        "export": "Exporter",
        "name": "Nom",
        "rss": "Flux RSS"
    },
});


/***/ }),

/***/ "2yjL":
/*!************************************************!*\
  !*** ../components/metadata/messages/index.ts ***!
  \************************************************/
/*! exports provided: enMetadata, frMetadata, deMetadata */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "enMetadata", function() { return enMetadata; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "frMetadata", function() { return frMetadata; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "deMetadata", function() { return deMetadata; });
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_components_facet__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/components/facet */ "vbgc");
/* harmony import */ var _sinequa_components_collapse__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/components/collapse */ "niHV");
/* harmony import */ var _en__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./en */ "dXQV");
/* harmony import */ var _fr__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./fr */ "UvRH");
/* harmony import */ var _de__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./de */ "QQOA");






const enMetadata = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].merge({}, _en__WEBPACK_IMPORTED_MODULE_3__["default"], _sinequa_components_facet__WEBPACK_IMPORTED_MODULE_1__["enFacet"], _sinequa_components_collapse__WEBPACK_IMPORTED_MODULE_2__["enCollapse"]);
const frMetadata = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].merge({}, _fr__WEBPACK_IMPORTED_MODULE_4__["default"], _sinequa_components_facet__WEBPACK_IMPORTED_MODULE_1__["frFacet"], _sinequa_components_collapse__WEBPACK_IMPORTED_MODULE_2__["frCollapse"]);
const deMetadata = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].merge({}, _de__WEBPACK_IMPORTED_MODULE_5__["default"], _sinequa_components_facet__WEBPACK_IMPORTED_MODULE_1__["deFacet"], _sinequa_components_collapse__WEBPACK_IMPORTED_MODULE_2__["deCollapse"]);



/***/ }),

/***/ "334M":
/*!******************************************!*\
  !*** ../components/facet/messages/de.ts ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    "facet": {
        "show_text_view": "Text anzeigen",
        "show_chart_view": "Chart anzeigen",
        "itemExclude": "Exkludieren",
        "applyFilters": "{selections, plural, one {Filter anwenden} other {Filter anwenden}}",
        "clearFilters": "{selected, plural, one {Filter löschen} other {Filter löschen}}",
        "loadMore": "Mehr laden",
        "showMore": "Mehr anzeigen",
        "showLess": "Weniger anzeigen",
        "displayed": "Angezeigt",
        "removeAll": "Alle entfernen",
        "searchPlaceholder": "Suche...",
        "itemSelect": "Diesen Wert auswählen",
        "filterItems": "Behalte Dokumente mit MINDESTENS EINEM der ausgewählten Werte",
        "filterItemsAnd": "Behalte Dokumente mit ALLEN ausgewählten Werten",
        "excludeItems": "Exckludiere Dokumente mit den ausgewählten Werten",
        "clearSelects": "Entferne die aktuellen Filter",
        "searchItems": "Suche nach eniem Wert in dieser Liste",
        "searchNoResult": "Keine Ergebnisse",
        "openItem": "Öffnen",
        "closeItem": "Schließen",
        "authors": {
            "title": "Autoren"
        },
        "concepts": {
            "title": "Konzepte"
        },
        "company": {
            "title": "Firmen"
        },
        "docformat": {
            "title": "Formate"
        },
        "doctype": {
            "title": "Dokumenttypen"
        },
        "documentlanguages": {
            "title": "Sprachen"
        },
        "fileext": {
            "title": "Dateierweiterungen"
        },
        "filename": {
            "title": "Dateinamen"
        },
        "geo": {
            "title": "Orte"
        },
        "matchingpartnames": {
            "title": "Übereinstimmende Partnames"
        },
        "modified": {
            "title": "Datumsangaben"
        },
        "person": {
            "title": "Personen"
        },
        "refine": {
            "title": "Suche verfeinern",
            "input": {
                "label": "Verfeinern",
                "buttonTitle": "Verfeinern",
                "placeholder": "Verfeinern nach..."
            }
        },
        "size": {
            "title": "Größen"
        },
        "tagcloud": {
            "title": "Wortwolke"
        },
        "title": {
            "title": "Titel"
        },
        "treepath": {
            "title": "Quellen"
        },
        "recentQueries": {
            "title": "Kürzliche Suchanfragen"
        },
        "recentQueriesPublic": {
            "title": "Kürzliche öffentliche Suchanfragen"
        },
        "mySearch": {
            "title": "Meine Suche",
            "itemRemove": "Entfernen"
        },
        "search": {
            "label": "Suche",
            "buttonTitle": "Suche",
            "placeholder": "Suche...",
            "showSearchForm": "Suchmaske einblenden",
            "hideSearchForm": "Suchmaske ausblenden"
        },
        "range": {
            "year": "{date, date, sqYear}",
            "monthYear": "{date, date, sqMonthYear}",
            "weekYear": "W{week, number, sqWeek} {weekYear, number, sqYear}",
            "apply": "Anwenden",
            "clear": "Löschen",
            "unavailable": "Kein Bereich verfügbar"
        },
        "filters": {
            "add": "Filter hinzufügen",
            "addAll": "Alle Facetten hinzufügen",
            "remove": "Filter entfernen",
            "removeAll": "Alle Facetten entfernen",
            "clear": "Filter löschen",
            "moreFilters": "",
            "showFilters": "Filter einblenden",
            "hideFilters": "Filter ausblenden",
            "back": "Zurück zu den Filtern",
            "selectedFilters": "Dieser Filter ist in der aktuellen Suchanfrage aktiv",
            "customizeFacets": "Facetten zum Anzeigen oder Ausblenden auswählen"
        },
        "selectedValue": "Dieser Wert ist in der aktuellen Anfrage ausgewählt.",
        "previous": "Zurück",
        "next": "Weiter",
        "filterItemCountTooltip": "{count} mögliche Werte für diesen Filter",
    },
    "facetCard": {
        "expand": "Erweitern",
        "collapse": "Reduzieren",
        "enlarge": "Vergrößern",
        "reduce": "Reduzieren",
        "openSettings": "Einstellungen öffnen",
        "saveSettings": "Einstellungen speichern"
    }
});


/***/ }),

/***/ "3FAX":
/*!*****************************!*\
  !*** ../core/base/error.ts ***!
  \*****************************/
/*! exports provided: SqErrorCode, SqError */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SqErrorCode", function() { return SqErrorCode; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SqError", function() { return SqError; });
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ "t6nX");

/**
 * Describes the error codes that can be set in the {@link SqError} class.
 */
var SqErrorCode;
(function (SqErrorCode) {
    SqErrorCode[SqErrorCode["loginCancelled"] = 0] = "loginCancelled";
    SqErrorCode[SqErrorCode["processedCredentialsError"] = 1] = "processedCredentialsError";
    SqErrorCode[SqErrorCode["principalSwitched"] = 2] = "principalSwitched";
    SqErrorCode[SqErrorCode["autoLoginError"] = 3] = "autoLoginError";
})(SqErrorCode || (SqErrorCode = {}));
/**
 * A subclass of the built-in {@link Error} class with added `code` and
 * `data` (optional) properties.
 */
class SqError extends Error {
    constructor(code, message, data) {
        super(message || SqError.message(code));
        this.code = code;
        this.name = "SqError";
        this.message = message || SqError.message(code);
        if (data) {
            this.data = data;
        }
    }
    /**
     * Return `true` if the passed `error` is a valid `SqErrorCode` instance.
     * If the optional `code` parameter is defined then only return true
     * if the code on `error` matches this value.
     */
    static is(error, code) {
        if (error instanceof SqError || (error instanceof Error && error.name === "SqError")) {
            return _utils__WEBPACK_IMPORTED_MODULE_0__["Utils"].isUndefined(code) || error.code === code;
        }
        return false;
    }
    /**
     * Return the message corresponding to the passed error `code`.
     */
    static message(code) {
        switch (code) {
            case SqErrorCode.loginCancelled: return "msg#error.loginCancelled";
            case SqErrorCode.processedCredentialsError: return "msg#error.processedCredentialsError";
            case SqErrorCode.principalSwitched: return "msg#error.principalSwitched";
            case SqErrorCode.autoLoginError: return "msg#error.autoLoginError";
            default: return "msg#error.unknownError";
        }
    }
}


/***/ }),

/***/ "3Hvy":
/*!********************************************!*\
  !*** ../core/web-services/http.service.ts ***!
  \********************************************/
/*! exports provided: HttpService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HttpService", function() { return HttpService; });
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");

/**
 * A base helper class for web services. It holds the {@link StartConfig} for the app
 */
class HttpService {
    /**
     * Constructor
     *
     * @param startConfig The start configuration
     */
    constructor(startConfig) {
        this.startConfig = startConfig;
    }
    /**
     * The name of the application
     */
    get appName() {
        return this.startConfig.app;
    }
    /**
     * Makes an API url by appending the api name to the api path
     * held on the {@link StartConfig}
     *
     * @param api An API name
     */
    makeUrl(api) {
        return _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].addUrl(this.startConfig.apiPath, api);
    }
    /**
     * Makes an Angular {@link HttpParams} object from a basic Javascript object
     *
     * @param params A map of parameter values
     */
    makeParams(params) {
        return _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].makeHttpParams(params);
    }
}


/***/ }),

/***/ "3Nz9":
/*!************************************************!*\
  !*** ../components/baskets/baskets.service.ts ***!
  \************************************************/
/*! exports provided: BASKET_CHANGE_EVENTS, BASKET_COMPONENTS, BasketsService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BASKET_CHANGE_EVENTS", function() { return BASKET_CHANGE_EVENTS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BASKET_COMPONENTS", function() { return BASKET_COMPONENTS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BasketsService", function() { return BasketsService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "+kfY");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_components_action__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/components/action */ "WsHA");
/* harmony import */ var _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/core/web-services */ "cIYa");
/* harmony import */ var _sinequa_components_search__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sinequa/components/search */ "7+c1");
/* harmony import */ var _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @sinequa/core/modal */ "vMGo");
/* harmony import */ var _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @sinequa/components/selection */ "8GPZ");









// Types of events triggering a change event
const BASKET_CHANGE_EVENTS = [
    "Basket_Loaded" /* Loaded */,
    "Basket_Add" /* Add */,
    "Basket_Delete" /* Delete */,
    "Basket_DeleteAll" /* DeleteAll */,
    "Basket_Update" /* Update */,
    "Basket_Rename" /* Rename */
];
const BASKET_COMPONENTS = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["InjectionToken"]('BASKET_COMPONENTS');
class BasketsService {
    constructor(userSettingsService, searchService, modalService, selectionService, basketComponents) {
        this.userSettingsService = userSettingsService;
        this.searchService = searchService;
        this.modalService = modalService;
        this.selectionService = selectionService;
        this.basketComponents = basketComponents;
        this._events = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
        this._changes = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
        // Listen to the user settings
        this.userSettingsService.events.subscribe(event => {
            // E.g. new login occurs
            // ==> Menus need to be rebuilt
            this._events.next({ type: "Basket_Loaded" /* Loaded */ });
        });
        // Listen to own events, to trigger change events
        this._events.subscribe(event => {
            if (BASKET_CHANGE_EVENTS.indexOf(event.type) !== -1) {
                this.changes.next(event);
            }
        });
        // Register a basket action onto the selection service, so that users can add/remove to/from baskets when documents are selected
        this.selectedRecordsAction = this.buildBasketsAction();
    }
    // GETTERS
    /**
     * Returns the list of this user's baskets.
     * The list is stored in the user settings (this is a redirection).
     * Using this service creates the list of baskets if it does not already exist.
     */
    get baskets() {
        if (!this.userSettingsService.userSettings)
            this.userSettingsService.userSettings = {};
        if (!this.userSettingsService.userSettings["baskets"])
            this.userSettingsService.userSettings["baskets"] = [];
        return this.userSettingsService.userSettings["baskets"];
    }
    /**
     * Triggers any event among BasketChangeEvent
     * (use for fine-grained control of baskets workflow)
     */
    get events() {
        return this._events;
    }
    /**
     * Triggers when events affect the list of baskets
     * (use to refresh basket menus)
     * Cf. CHANGE_EVENTS list
     */
    get changes() {
        return this._changes;
    }
    /**
     * @returns true if there is at least one basket
     */
    get hasBasket() {
        return this.baskets.length > 0;
    }
    /**
     * @returns a basket with the given name or null if it does not exist
     * @param name
     */
    basket(name) {
        const i = this.basketIndex(name);
        return i >= 0 ? this.baskets[i] : undefined;
    }
    basketIndex(name) {
        for (let i = 0, ic = this.baskets.length; i < ic; i++) {
            const basket = this.baskets[i];
            if (basket && basket.name === name) {
                return i;
            }
        }
        return -1;
    }
    // CRUD
    /**
     * Creates a new basket unless it already exists.
     * Emits an Basket event.
     * Update the data on the server.
     * @param basket the basket to create
     * @returns true if basket was created
     */
    createBasket(basket) {
        if (this.basketIndex(basket.name) >= 0)
            return false; // This basket already exists
        this.baskets.unshift(basket);
        this._events.next({ type: "Basket_Add" /* Add */, basket: basket });
        this.patchBaskets([{
                type: "Basket_Add" /* Add */,
                detail: {
                    basket: basket.name
                }
            }]);
        return true;
    }
    /**
     * Update the basket at the given index, unless a basket with the same name
     * already exists in the list of baskets.
     * Emits a Basket event.
     * Update the data on the server.
     * @param basket the basket to update
     * @param index the index at which to update the basket
     * @returns true if basket was updated
     */
    updateBasket(basket, index) {
        const prevIndex = this.basketIndex(basket.name);
        if (prevIndex !== -1 && index !== prevIndex)
            return false; // A basket with the same name exists at a different index
        if (index >= 0 && index < this.baskets.length) {
            this.baskets.splice(index, 1, basket);
            this._events.next({ type: "Basket_Update" /* Update */, basket: basket });
            this.patchBaskets([
                {
                    type: "Basket_Update" /* Update */,
                    detail: {
                        basket: basket.name
                    }
                }
            ], true);
            return true;
        }
        return false; // This basket does not exist
    }
    /**
     * Updates the full list of Baskets.
     * Emits a Basket event.
     * Update the data on the server.
     * @param baskets the new list of baskets
     * @param auditEvents the list of audit events to log
     */
    updateBaskets(baskets, auditEvents) {
        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].arraySet(this.baskets, baskets);
        this._events.next({ type: "Basket_Update" /* Update */ });
        this.patchBaskets(auditEvents, true);
        return true;
    }
    /**
     * Deletes the given Basket (based on its name)
     * Emits an Basket event.
     * Update the data on the server.
     * @param basket
     * @returns true if basket was deleted
     */
    deleteBasket(basket) {
        const index = this.basketIndex(basket.name);
        if (index === -1)
            return false; // Nothing to delete
        this.baskets.splice(index, 1);
        this._events.next({ type: "Basket_Delete" /* Delete */, basket: basket });
        this.patchBaskets([
            {
                type: "Basket_Delete" /* Delete */,
                detail: {
                    savedquery: basket.name
                }
            }
        ], true);
        return true;
    }
    /**
     * Adds one or more documents to a basket.
     * Emits a Basket event.
     * Update the data on the server.
     * @param name basket to which to add the document(s)
     * @param ids id(s) of the document(s) to add to the basket
     * @param skipPatch if true, will not update the data on the server (use for bulk updates)
     * @returns true if the document was added
     */
    addToBasket(name, ids, skipPatch) {
        if (!ids) {
            return false;
        }
        const basket = this.basket(name);
        if (!basket)
            return false;
        if (!basket.ids)
            basket.ids = [];
        if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].isArray(ids)) {
            for (let i = 0, ic = ids.length; i < ic; i++) {
                const id = ids[i];
                if (basket.ids.indexOf(id) === -1) {
                    basket.ids.push(id);
                }
            }
        }
        else {
            if (basket.ids.indexOf(ids) === -1) {
                basket.ids.push(ids);
            }
        }
        if (!skipPatch) {
            this._events.next({ type: "Basket_AddDoc" /* AddDoc */ });
            this.patchBaskets({
                type: "Basket_AddDoc" /* AddDoc */,
                detail: {
                    basket: name,
                    "doc-id": basket.ids[0]
                }
            });
        }
        return true;
    }
    /**
     * Removes one or more documents from a basket.
     * Emits a Basket event.
     * Update the data on the server.
     * @param name basket from which to remove the document(s)
     * @param ids id(s) of the document(s) to remove from the basket
     * @param skipPatch if true, will not update the data on the server (use for bulk updates)
     * @returns true if the document was removed
     */
    removeFromBasket(name, ids, skipPatch) {
        if (!ids) {
            return false;
        }
        const basket = this.basket(name);
        if (!basket)
            return false;
        if (!basket.ids)
            basket.ids = [];
        if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].isArray(ids)) {
            for (let i = 0, ic = ids.length; i < ic; i++) {
                const id = ids[i];
                const index = basket.ids.indexOf(id);
                if (index !== -1) {
                    basket.ids.splice(index, 1);
                }
            }
        }
        else {
            const index = basket.ids.indexOf(ids);
            if (index !== -1) {
                basket.ids.splice(index, 1);
            }
        }
        if (!skipPatch) {
            this._events.next({ type: "Basket_RemoveDoc" /* RemoveDoc */ });
            this.patchBaskets({
                type: "Basket_RemoveDoc" /* RemoveDoc */,
                detail: {
                    basket: name,
                    "doc-id": basket.ids[0]
                }
            }, true);
        }
        return true;
    }
    /**
     * Removes a document from all the baskets
     * @param id id of the document to remove
     */
    removeFromAllBaskets(id) {
        const auditEvents = [];
        for (const basket of this.baskets) {
            if (this.removeFromBasket(basket.name, id, true)) {
                auditEvents.push({
                    type: "Basket_RemoveDoc" /* RemoveDoc */,
                    detail: {
                        basket: basket.name,
                        "doc-id": id
                    }
                });
            }
        }
        if (auditEvents.length > 0) {
            this._events.next({ type: "Basket_RemoveDoc" /* RemoveDoc */ });
            this.patchBaskets(auditEvents, true);
            return true;
        }
        return false;
    }
    /**
     * Updates Baskets in User settings.
     * @param auditEvents : Audit Events to be triggered
     * @returns an Observable which can be used to trigger further events
     */
    patchBaskets(auditEvents, updateSearch) {
        const obs = this.userSettingsService.patch({ baskets: this.baskets }, auditEvents);
        obs.subscribe(next => {
            this._events.next({ type: "Basked_Patched" /* Patched */ });
            if (updateSearch && this.searchService.query.basket) {
                this.searchService.search(); // Update search results to reflect the new basket content
            }
        }, error => {
            console.error("Could not patch Baskets!", error);
        });
        return obs;
    }
    // EVENT HANDLERS (Menus)
    /**
     * Uses the SearchService to perform a search returning all
     * the documents in this basket
     * @param basket
     * @param path
     * @returns the search service promise
     */
    searchBasket(basket, path) {
        const query = this.searchService.makeQuery();
        query.basket = basket.name;
        this.searchService.setQuery(query);
        this._events.next({ type: "Basket_Open" /* Open */, basket: basket });
        return this.searchService.search({ path: path }, {
            type: "Basket_Open" /* Open */,
            detail: {
                basket: basket.name
            }
        });
    }
    /**
     * Opens a dialog allowing a user to add one (or more) document(s)
     * to a basket.
     * @param ids id(s) of the documents to add to a basket
     * @param recordBaskets names of the baskets the document already belongs to
     * @returns a boolean promise resolved when the user closes the dialog
     * the result is true if the document was added to a basket
     */
    addToBasketModal(ids, recordBaskets) {
        const model = {
            basket: undefined,
            basketFilter: recordBaskets ? b => !recordBaskets.includes(b.name) : undefined,
            allowNew: true
        };
        return this.modalService
            .open(this.basketComponents.selectBasketModal, { model: model })
            .then(result => {
            if (result === -1 /* OK */ && model.basket) {
                return this.addToBasket(model.basket.name, ids);
            }
            return false;
        });
    }
    /**
     * Opens a dialog allowing a user to remove one (or more) document(s)
     * from a basket.
     * @param ids id(s) of the documents to remove from a basket
     * @param recordBaskets names of the baskets the document already belongs to
     * @returns a boolean promise resolved when the user closes the dialog
     * the result is true if the document was removed from a basket
     */
    removeFromBasketModal(ids, recordBaskets) {
        const model = {
            basket: undefined,
            basketFilter: recordBaskets ? b => recordBaskets.includes(b.name) : undefined
        };
        return this.modalService
            .open(this.basketComponents.selectBasketModal, { model: model })
            .then(result => {
            if (result === -1 /* OK */ && model.basket) {
                return this.removeFromBasket(model.basket.name, ids);
            }
            return false;
        });
    }
    /**
     * Opens a dialog allowing a user to create new basket.
     * @param model the initial basket object model
     * @returns a boolean promise resolved when the user closes the dialog
     * the result is true if the basket was created.
     */
    createBasketModal(model = { name: "" }) {
        return this.modalService.open(this.basketComponents.editBasketModal, { model: model })
            .then((result) => {
            if (result === -1 /* OK */) {
                const index = this.basketIndex(model.name);
                if (index !== -1) {
                    return this.modalService.yesNo("msg#baskets.basketAlreadyExists")
                        .then((result) => {
                        if (result === -3 /* Yes */) {
                            return this.updateBasket(model, index);
                        }
                        return false;
                    });
                }
                else {
                    return this.createBasket(model);
                }
            }
            return false;
        });
    }
    // Not relevant as of now
    // public editBasketModal(basket: Basket)
    /**
     * Opens a dialog allowing a user to reorganize and edit the
     * list of baskets.
     * @returns a boolean promise resolved when the user closes the dialog
     * the result is true is the list was updated.
     */
    manageBasketsModal() {
        const model = { baskets: _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].copy(this.baskets) };
        return this.modalService.open(this.basketComponents.manageBasketsModal, { model: model })
            .then((result) => {
            if (result === -1 /* OK */) {
                return this.updateBaskets(model.baskets, model.auditEvents);
            }
            return false;
        });
    }
    buildBasketsAction() {
        return new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_3__["Action"]({
            icon: "fas fa-shopping-basket",
            title: "msg#baskets.baskets",
            hidden: true,
            children: [
                new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_3__["Action"]({
                    text: "msg#baskets.addToBasket",
                    action: (item, $event) => {
                        this.addToBasketModal(this.selectionService.getSelectedIds());
                    }
                }),
                new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_3__["Action"]({
                    text: "msg#baskets.removeFromBasket",
                    action: (item, $event) => {
                        this.removeFromBasketModal(this.selectionService.getSelectedIds());
                    }
                })
            ],
            updater: (action) => {
                action.hidden = !this.selectionService.haveSelectedRecords;
            }
        });
    }
    makeQuery(basket) {
        const query = this.searchService.makeQuery();
        query.basket = basket.name;
        return query;
    }
    notifyOpenBasket(basket) {
        this._events.next({ type: "Basket_Open" /* Open */, basket });
    }
    ngOnDestroy() {
        this.events.complete();
        this.changes.complete();
    }
}
BasketsService.ɵfac = function BasketsService_Factory(t) { return new (t || BasketsService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_4__["UserSettingsWebService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_components_search__WEBPACK_IMPORTED_MODULE_5__["SearchService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_modal__WEBPACK_IMPORTED_MODULE_6__["ModalService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_components_selection__WEBPACK_IMPORTED_MODULE_7__["SelectionService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](BASKET_COMPONENTS)); };
BasketsService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: BasketsService, factory: BasketsService.ɵfac, providedIn: 'root' });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BasketsService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: 'root',
            }]
    }], function () { return [{ type: _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_4__["UserSettingsWebService"] }, { type: _sinequa_components_search__WEBPACK_IMPORTED_MODULE_5__["SearchService"] }, { type: _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_6__["ModalService"] }, { type: _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_7__["SelectionService"] }, { type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [BASKET_COMPONENTS]
            }] }]; }, null); })();


/***/ }),

/***/ "3S87":
/*!***************************************************!*\
  !*** ../components/status-bar/bootstrap/index.ts ***!
  \***************************************************/
/*! exports provided: BsFullscreenActivator, BsNetworkActivity, BsStatusBarModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _public_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./public-api */ "lwIE");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFullscreenActivator", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsFullscreenActivator"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsNetworkActivity", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsNetworkActivity"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsStatusBarModule", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsStatusBarModule"]; });




/***/ }),

/***/ "3g4L":
/*!******************************************!*\
  !*** ../components/labels/public-api.ts ***!
  \******************************************/
/*! exports provided: LabelsModule, LABELS_COMPONENTS, LabelsService, LabelPipe, Labels, ResultLabels, LabelsAutocomplete, BsLabelsAutocompleteComponent, defaultLabelComponents, BsLabelsModule, BsRenameLabel, BsLabelsMenuComponent, BsDeleteLabel, BsAddLabel, BsEditLabel, enLabels, frLabels, deLabels */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _labels_module__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./labels.module */ "dYsR");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "LabelsModule", function() { return _labels_module__WEBPACK_IMPORTED_MODULE_0__["LabelsModule"]; });

/* harmony import */ var _labels_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./labels.service */ "OpW8");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "LABELS_COMPONENTS", function() { return _labels_service__WEBPACK_IMPORTED_MODULE_1__["LABELS_COMPONENTS"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "LabelsService", function() { return _labels_service__WEBPACK_IMPORTED_MODULE_1__["LabelsService"]; });

/* harmony import */ var _label_pipe__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./label.pipe */ "8LQl");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "LabelPipe", function() { return _label_pipe__WEBPACK_IMPORTED_MODULE_2__["LabelPipe"]; });

/* harmony import */ var _labels_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./labels.component */ "4yRq");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Labels", function() { return _labels_component__WEBPACK_IMPORTED_MODULE_3__["Labels"]; });

/* harmony import */ var _result_labels_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./result-labels.component */ "7Uvu");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ResultLabels", function() { return _result_labels_component__WEBPACK_IMPORTED_MODULE_4__["ResultLabels"]; });

/* harmony import */ var _labels_autocomplete_directive__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./labels-autocomplete.directive */ "QfBj");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "LabelsAutocomplete", function() { return _labels_autocomplete_directive__WEBPACK_IMPORTED_MODULE_5__["LabelsAutocomplete"]; });

/* harmony import */ var _bootstrap_index__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./bootstrap/index */ "MFxU");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsLabelsAutocompleteComponent", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_6__["BsLabelsAutocompleteComponent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "defaultLabelComponents", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_6__["defaultLabelComponents"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsLabelsModule", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_6__["BsLabelsModule"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsRenameLabel", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_6__["BsRenameLabel"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsLabelsMenuComponent", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_6__["BsLabelsMenuComponent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsDeleteLabel", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_6__["BsDeleteLabel"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsAddLabel", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_6__["BsAddLabel"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsEditLabel", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_6__["BsEditLabel"]; });

/* harmony import */ var _messages_index__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./messages/index */ "ng5l");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "enLabels", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_7__["enLabels"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "frLabels", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_7__["frLabels"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "deLabels", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_7__["deLabels"]; });











/***/ }),

/***/ "3n3i":
/*!*************************************************!*\
  !*** ../components/notification/messages/fr.ts ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    "notification": {
        "title": "Notifications",
        "showNotifications": "Afficher les notifications",
        "hideNotifications": "Masquer les notifications",
        "clearNotifications": "Effacer les notifications",
    }
});


/***/ }),

/***/ "3rLT":
/*!**********************************************************************!*\
  !*** ../components/preview/bootstrap/facet-preview/facet-preview.ts ***!
  \**********************************************************************/
/*! exports provided: BsFacetPreview */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsFacetPreview", function() { return BsFacetPreview; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _preview_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../preview.service */ "lGAU");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _preview_document_iframe_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../preview-document-iframe.component */ "sUkJ");
/* harmony import */ var _preview_tooltip_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../preview-tooltip.component */ "n+UL");
/* harmony import */ var _result_result_title_result_title__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../result/result-title/result-title */ "HBFV");







const _c0 = function (a0) { return { height: a0 }; };
function BsFacetPreview_div_0_Template(rf, ctx) { if (rf & 1) {
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "sq-preview-document-iframe", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("onPreviewReady", function BsFacetPreview_div_0_Template_sq_preview_document_iframe_onPreviewReady_1_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r4); const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r3.document = $event; });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "sq-preview-tooltip", 4, 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMapInterpolate1"]("d-flex flex-column ", ctx_r0.iframeClass, "");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngStyle", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](8, _c0, ctx_r0.height));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("sandbox", ctx_r0.sandbox)("downloadUrl", ctx_r0.downloadUrl);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("previewDocument", ctx_r0.document)("previewData", ctx_r0.data);
} }
function BsFacetPreview_ul_1_li_1_Template(rf, ctx) { if (rf & 1) {
    const _r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "li", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "sq-result-title", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "span", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](5, "number");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "a", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsFacetPreview_ul_1_li_1_Template_a_click_6_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r8); const doc_r6 = ctx.$implicit; const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r7.openSimilarDoc(doc_r6); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](7, "i", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const doc_r6 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("record", doc_r6)("titleLinkBehavior", "open");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](5, 3, 100 * doc_r6.globalrelevance, "1.0-0"));
} }
function BsFacetPreview_ul_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "ul", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsFacetPreview_ul_1_li_1_Template, 8, 6, "li", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx_r1.similarDocuments);
} }
class BsFacetPreview {
    constructor(previewService) {
        this.previewService = previewService;
        this.recordOpened = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
    }
    ngOnChanges(changes) {
        if (changes["record"] || changes["query"]) {
            this.previewService.getPreviewData(this.record.id, this.query).subscribe(previewData => {
                this.data = previewData;
                this.downloadUrl = this.data ? this.previewService.makeDownloadUrl(this.data.documentCachedContentUrl) : undefined;
            });
        }
    }
    openSimilarDoc(doc) {
        this.recordOpened.next({
            record: doc,
            query: this.query,
            startSmall: true,
            iframeClass: this.iframeClass
        });
        return false;
    }
}
BsFacetPreview.ɵfac = function BsFacetPreview_Factory(t) { return new (t || BsFacetPreview)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_preview_service__WEBPACK_IMPORTED_MODULE_1__["PreviewService"])); };
BsFacetPreview.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsFacetPreview, selectors: [["sq-facet-preview"]], inputs: { record: "record", sandbox: "sandbox", query: "query", height: "height", iframeClass: "iframeClass", similarDocuments: "similarDocuments" }, outputs: { recordOpened: "recordOpened" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 2, vars: 2, consts: [[3, "class", "ngStyle", 4, "ngIf"], ["class", "list-group", 4, "ngIf"], [3, "ngStyle"], [3, "sandbox", "downloadUrl", "onPreviewReady"], [3, "previewDocument", "previewData"], ["tooltip", ""], [1, "list-group"], ["class", "list-group-item d-flex justify-content-between align-items-center", "style", "background-color: transparent;", 4, "ngFor", "ngForOf"], [1, "list-group-item", "d-flex", "justify-content-between", "align-items-center", 2, "background-color", "transparent"], [3, "record", "titleLinkBehavior"], [1, "d-flex"], [1, "badge", "badge-pill", "badge-secondary", 2, "padding-top", "5px"], ["href", "#", "title", "Open document in workspace", 1, "open-record", "ml-2", 3, "click"], [1, "fas", "fa-arrow-circle-right"]], template: function BsFacetPreview_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, BsFacetPreview_div_0_Template, 4, 10, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsFacetPreview_ul_1_Template, 2, 1, "ul", 1);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.similarDocuments);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !!ctx.similarDocuments);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_2__["NgIf"], _angular_common__WEBPACK_IMPORTED_MODULE_2__["NgStyle"], _preview_document_iframe_component__WEBPACK_IMPORTED_MODULE_3__["PreviewDocumentIframe"], _preview_tooltip_component__WEBPACK_IMPORTED_MODULE_4__["PreviewTooltip"], _angular_common__WEBPACK_IMPORTED_MODULE_2__["NgForOf"], _result_result_title_result_title__WEBPACK_IMPORTED_MODULE_5__["ResultTitle"]], pipes: [_angular_common__WEBPACK_IMPORTED_MODULE_2__["DecimalPipe"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsFacetPreview, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-facet-preview",
                templateUrl: "./facet-preview.html",
            }]
    }], function () { return [{ type: _preview_service__WEBPACK_IMPORTED_MODULE_1__["PreviewService"] }]; }, { record: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], sandbox: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], query: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], height: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], iframeClass: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], similarDocuments: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], recordOpened: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }] }); })();


/***/ }),

/***/ "3wad":
/*!*************************************************************!*\
  !*** ../components/selection/bootstrap/selection.module.ts ***!
  \*************************************************************/
/*! exports provided: BsSelectionModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsSelectionModule", function() { return BsSelectionModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _angular_cdk_drag_drop__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/cdk/drag-drop */ "oqI+");
/* harmony import */ var _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/intl */ "EfqX");
/* harmony import */ var _sinequa_components_action__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/components/action */ "WsHA");
/* harmony import */ var _results_selector_results_selector__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./results-selector/results-selector */ "HNPw");
/* harmony import */ var _result_selector_result_selector__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./result-selector/result-selector */ "7RQc");
/* harmony import */ var _selection_arranger_selection_arranger_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./selection-arranger/selection-arranger.component */ "ZdwQ");
/* harmony import */ var _selection_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../selection.service */ "Sg0G");










class BsSelectionModule {
}
BsSelectionModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: BsSelectionModule });
BsSelectionModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function BsSelectionModule_Factory(t) { return new (t || BsSelectionModule)(); }, providers: [
        { provide: _selection_service__WEBPACK_IMPORTED_MODULE_8__["SELECTION_OPTIONS"], useValue: _selection_service__WEBPACK_IMPORTED_MODULE_8__["defaultSelectionOptions"] }
    ], imports: [[
            _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
            _angular_cdk_drag_drop__WEBPACK_IMPORTED_MODULE_2__["DragDropModule"],
            _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_3__["IntlModule"],
            _sinequa_components_action__WEBPACK_IMPORTED_MODULE_4__["BsActionModule"],
        ]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](BsSelectionModule, { declarations: [_results_selector_results_selector__WEBPACK_IMPORTED_MODULE_5__["BsResultsSelector"], _result_selector_result_selector__WEBPACK_IMPORTED_MODULE_6__["BsResultSelector"], _selection_arranger_selection_arranger_component__WEBPACK_IMPORTED_MODULE_7__["BsSelectionArranger"]], imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
        _angular_cdk_drag_drop__WEBPACK_IMPORTED_MODULE_2__["DragDropModule"],
        _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_3__["IntlModule"],
        _sinequa_components_action__WEBPACK_IMPORTED_MODULE_4__["BsActionModule"]], exports: [_results_selector_results_selector__WEBPACK_IMPORTED_MODULE_5__["BsResultsSelector"], _result_selector_result_selector__WEBPACK_IMPORTED_MODULE_6__["BsResultSelector"], _selection_arranger_selection_arranger_component__WEBPACK_IMPORTED_MODULE_7__["BsSelectionArranger"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsSelectionModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                    _angular_cdk_drag_drop__WEBPACK_IMPORTED_MODULE_2__["DragDropModule"],
                    _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_3__["IntlModule"],
                    _sinequa_components_action__WEBPACK_IMPORTED_MODULE_4__["BsActionModule"],
                ],
                declarations: [
                    _results_selector_results_selector__WEBPACK_IMPORTED_MODULE_5__["BsResultsSelector"], _result_selector_result_selector__WEBPACK_IMPORTED_MODULE_6__["BsResultSelector"], _selection_arranger_selection_arranger_component__WEBPACK_IMPORTED_MODULE_7__["BsSelectionArranger"]
                ],
                exports: [
                    _results_selector_results_selector__WEBPACK_IMPORTED_MODULE_5__["BsResultsSelector"], _result_selector_result_selector__WEBPACK_IMPORTED_MODULE_6__["BsResultSelector"], _selection_arranger_selection_arranger_component__WEBPACK_IMPORTED_MODULE_7__["BsSelectionArranger"]
                ],
                providers: [
                    { provide: _selection_service__WEBPACK_IMPORTED_MODULE_8__["SELECTION_OPTIONS"], useValue: _selection_service__WEBPACK_IMPORTED_MODULE_8__["defaultSelectionOptions"] }
                ]
            }]
    }], null, null); })();


/***/ }),

/***/ "4Jkf":
/*!**********************************!*\
  !*** ../core/base/array-view.ts ***!
  \**********************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);



/***/ }),

/***/ "4Ncj":
/*!********************************************************************************!*\
  !*** ../components/preview/bootstrap/preview-highlights/preview-highlights.ts ***!
  \********************************************************************************/
/*! exports provided: BsPreviewHighlights */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsPreviewHighlights", function() { return BsPreviewHighlights; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _preview_document__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../preview-document */ "4uMq");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/forms */ "nIj0");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/intl/message.pipe */ "X1Kh");
/* harmony import */ var _utils_pipes_number_pipe__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../utils/pipes/number-pipe */ "FbeZ");








function BsPreviewHighlights_ng_container_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](3, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](3, 1, "msg#preview.noEntityToHighlight"), " ");
} }
function BsPreviewHighlights_ng_template_5_div_6_span_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "span", 30);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](4, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const categoryId_r9 = ctx.$implicit;
    const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMapInterpolate2"]("fas fa-bullseye ", ctx_r8.categoryIconClass(categoryId_r9), " ", categoryId_r9, "");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](4, 5, ctx_r8.categoryDisplayLabel(categoryId_r9), ctx_r8.categoryLabelPipeParams(categoryId_r9)));
} }
function BsPreviewHighlights_ng_template_5_div_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 26);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 27);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, BsPreviewHighlights_ng_template_5_div_6_span_2_Template, 5, 8, "span", 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](3, "div", 29);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx_r3.currentCategories);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("innerHTML", ctx_r3.currentValue, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeHtml"]);
} }
function BsPreviewHighlights_ng_template_5_ng_template_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 31);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4, "\u00A0");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 1, "msg#preview.noSelectedHighlight"), " ");
} }
function BsPreviewHighlights_ng_template_5_div_36_Template(rf, ctx) { if (rf & 1) {
    const _r11 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 32);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "div", 33);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "div", 33);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 34);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "div", 35);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "button", 36);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsPreviewHighlights_ng_template_5_div_36_Template_button_click_5_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r11); const ctx_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r10.selectAll(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](6, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](7, "span", 37);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](9, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](10, "div", 35);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](11, "button", 36);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsPreviewHighlights_ng_template_5_div_36_Template_button_click_11_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r11); const ctx_r12 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r12.selectNone(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](12, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](13, "span", 38);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](15, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("title", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](6, 6, "msg#preview.highlightFilters.keepAll"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("disabled", !ctx_r6.previewReady || ctx_r6.allSelected);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](9, 8, "msg#preview.highlightFilters.keepAll"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("title", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](12, 10, "msg#preview.highlightFilters.keepNone"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("disabled", !ctx_r6.previewReady || ctx_r6.noneSelected);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](15, 12, "msg#preview.highlightFilters.keepNone"), " ");
} }
function BsPreviewHighlights_ng_template_5_div_38_ng_container_7_option_11_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "option", 45);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const entityValue_r18 = ctx.$implicit;
    const ctx_r17 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngValue", ctx_r17.newFilter(entityValue_r18.value));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](entityValue_r18.displayValue);
} }
function BsPreviewHighlights_ng_template_5_div_38_ng_container_7_Template(rf, ctx) { if (rf & 1) {
    const _r20 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "select", 44);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("ngModelChange", function BsPreviewHighlights_ng_template_5_div_38_ng_container_7_Template_select_ngModelChange_1_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r20); const categoryId_r13 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit; const ctx_r19 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return (ctx_r19.navigationState.filters[categoryId_r13] = $event); })("ngModelChange", function BsPreviewHighlights_ng_template_5_div_38_ng_container_7_Template_select_ngModelChange_1_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r20); const categoryId_r13 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit; const ctx_r22 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r22.selectFilter(categoryId_r13, $event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "option", 45);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](4, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](5, "sqNumber");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "option", 45);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](8, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](9, "option", 46);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](10, "\u00A0");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](11, BsPreviewHighlights_ng_template_5_div_38_ng_container_7_option_11_Template, 2, 2, "option", 47);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const categoryId_r13 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    const ctx_r14 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    let tmp_3_0 = null;
    let tmp_5_0 = null;
    let tmp_6_0 = null;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngModel", ctx_r14.navigationState.filters[categoryId_r13])("compareWith", ctx_r14.compareFilters);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngValue", ctx_r14.keepAllFilter);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate2"]("", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](4, 8, (tmp_3_0 = ctx_r14.getCategoryHighlightData(categoryId_r13)) == null ? null : tmp_3_0.categoryFilterAllLabel), " (", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](5, 10, ctx_r14.getHighlightValueCount(categoryId_r13)), ")");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngValue", ctx_r14.keepNoneFilter);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](8, 12, (tmp_5_0 = ctx_r14.getCategoryHighlightData(categoryId_r13)) == null ? null : tmp_5_0.categoryFilterNoneLabel));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", (tmp_6_0 = ctx_r14.getCategoryHighlightData(categoryId_r13)) == null ? null : tmp_6_0.values);
} }
function BsPreviewHighlights_ng_template_5_div_38_ng_template_8_ng_container_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const displayValue_r26 = ctx.ngIf;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" (", displayValue_r26, ") ");
} }
function BsPreviewHighlights_ng_template_5_div_38_ng_template_8_Template(rf, ctx) { if (rf & 1) {
    const _r28 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "select", 44);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("ngModelChange", function BsPreviewHighlights_ng_template_5_div_38_ng_template_8_Template_select_ngModelChange_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r28); const categoryId_r13 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit; const ctx_r27 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return (ctx_r27.navigationState.filters[categoryId_r13] = $event); })("ngModelChange", function BsPreviewHighlights_ng_template_5_div_38_ng_template_8_Template_select_ngModelChange_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r28); const categoryId_r13 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit; const ctx_r30 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r30.selectFilter(categoryId_r13, $event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "option", 45);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](3, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, BsPreviewHighlights_ng_template_5_div_38_ng_template_8_ng_container_4_Template, 2, 1, "ng-container", 48);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "option", 45);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](7, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const categoryId_r13 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    const ctx_r16 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    let tmp_3_0 = null;
    let tmp_4_0 = null;
    let tmp_6_0 = null;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngModel", ctx_r16.navigationState.filters[categoryId_r13])("compareWith", ctx_r16.compareFilters);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngValue", ctx_r16.keepAllFilter);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](3, 7, (tmp_3_0 = ctx_r16.getCategoryHighlightData(categoryId_r13)) == null ? null : tmp_3_0.categoryFilterAllLabel), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", (tmp_4_0 = ctx_r16.getCategoryHighlightData(categoryId_r13)) == null ? null : tmp_4_0.values[0].displayValue);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngValue", ctx_r16.keepNoneFilter);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](7, 9, (tmp_6_0 = ctx_r16.getCategoryHighlightData(categoryId_r13)) == null ? null : tmp_6_0.categoryFilterNoneLabel));
} }
function BsPreviewHighlights_ng_template_5_div_38_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 39);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 40);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 41);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](5, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "div", 42);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](7, BsPreviewHighlights_ng_template_5_div_38_ng_container_7_Template, 12, 14, "ng-container", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](8, BsPreviewHighlights_ng_template_5_div_38_ng_template_8_Template, 8, 11, "ng-template", null, 43, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplateRefExtractor"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const categoryId_r13 = ctx.$implicit;
    const _r15 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](9);
    const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    let tmp_1_0 = null;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMapInterpolate2"]("fas fa-bullseye ", ctx_r7.categoryIconClass(categoryId_r13), " ", categoryId_r13, "");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](5, 7, (tmp_1_0 = ctx_r7.getCategoryHighlightData(categoryId_r13)) == null ? null : tmp_1_0.categoryDisplayLabelPlural, ctx_r7.categoryLabelPipeParams(categoryId_r13)), ": ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r7.categoryHasMultipleValues(categoryId_r13))("ngIfElse", _r15);
} }
function BsPreviewHighlights_ng_template_5_Template(rf, ctx) { if (rf & 1) {
    const _r34 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](4, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](6, BsPreviewHighlights_ng_template_5_div_6_Template, 4, 2, "div", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](7, BsPreviewHighlights_ng_template_5_ng_template_7_Template, 5, 3, "ng-template", null, 10, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplateRefExtractor"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](9, "div", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](10, "button", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsPreviewHighlights_ng_template_5_Template_button_click_10_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r34); const ctx_r33 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r33.first(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](11, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](12, "span", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](13, "button", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsPreviewHighlights_ng_template_5_Template_button_click_13_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r34); const ctx_r35 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r35.previous(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](14, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](15, "span", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](16, "div", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](17, "span", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](18);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](19, "sqNumber");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](20, "sqNumber");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](21, "span", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](22);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](23, "sqNumber");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](24, "sqNumber");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](25, "button", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsPreviewHighlights_ng_template_5_Template_button_click_25_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r34); const ctx_r36 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r36.next(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](26, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](27, "span", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](28, "button", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsPreviewHighlights_ng_template_5_Template_button_click_28_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r34); const ctx_r37 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r37.last(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](29, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](30, "span", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](31, "div", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](32, "div", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](33, "span", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](34);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](35, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](36, BsPreviewHighlights_ng_template_5_div_36_Template, 16, 14, "div", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](37, "div", 24);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](38, BsPreviewHighlights_ng_template_5_div_38_Template, 10, 10, "div", 25);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](8);
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"]("", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](4, 18, "msg#preview.selectedHighlight"), ":");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r2.currentValue || ctx_r2.currentCategories)("ngIfElse", _r4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("title", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](11, 20, "msg#preview.firstHighlightButtonAltText"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("disabled", !ctx_r2.previewReady);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("title", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](14, 22, "msg#preview.previousHighlightButtonAltText"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("disabled", !ctx_r2.previewReady);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate2"]("", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](19, 24, ctx_r2.current), " / ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](20, 26, ctx_r2.total), "");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate2"]("", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](23, 28, ctx_r2.total), " / ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](24, 30, ctx_r2.total), "");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("title", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](26, 32, "msg#preview.nextHighlightButtonAltText"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("disabled", !ctx_r2.previewReady);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("title", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](29, 34, "msg#preview.lastHighlightButtonAltText"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("disabled", !ctx_r2.previewReady);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"]("", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](35, 36, "msg#preview.highlightFilters.title"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r2.nonEmptyCategoryIds.length > 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx_r2.nonEmptyCategoryIds);
} }
class BsPreviewHighlights {
    constructor() {
        // Entity filters
        // Trivial filters
        this.keepAllFilter = new SimpleHighlightCategoryFilterState();
        this.keepNoneFilter = new SimpleHighlightCategoryFilterState(_preview_document__WEBPACK_IMPORTED_MODULE_2__["HighlightCategoryFilterChoice"].None);
    }
    ngOnChanges(changes) {
        if (changes["previewData"]) {
            this.initialize();
        }
        if (changes["previewDocument"]) {
            if (this.previewReady) {
                this.moveToFirstSearchTerm();
            }
        }
    }
    initialize() {
        this.highlightDataPerCategory = !this.previewData ? undefined : this.previewData.highlightsPerCategory;
        this.highlightDataPerLocation = !this.previewData ? undefined : this.previewData.highlightsPerLocation;
        this.navigationState = new SimpleHighlightNavigationState(this.nonEmptyCategoryIds);
        this.reset();
    }
    /**
     * Called on init and when non-value filters are clicked
     * Resets the navigationState entity selection.
     * Applies the filters to the preview document.
     * Updates the filtered data.
     */
    reset() {
        this.navigationState.current = -1; // Resets the navigationState entity selection.
        if (this.previewReady) // Applies the filters to the preview document.
            this.previewDocument.filterHighlights(this.navigationState.filters);
        // Updates the filtered data.
        this.filteredHighlightData = this.highlightDataPerLocation ?
            new FilteredHighlightDataPerLocation(this.highlightDataPerLocation, this.navigationState.filters) : undefined;
    }
    /**
     * Selects the first match location (highlight classes and scrolls to it)
     */
    moveToFirstSearchTerm() {
        if (this.filteredHighlightData) {
            for (let i = 0, ic = this.total; i < ic; i++) {
                const highlight = this.filteredHighlightData[i];
                if (highlight.positionInCategories) {
                    let category = "term1";
                    let position = highlight.positionInCategories[category];
                    if (!_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].isNumber(position)) {
                        category = "matchlocations";
                        position = highlight.positionInCategories[category];
                    }
                    if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].isNumber(position)) {
                        this.navigationState.current = i;
                        this.previewDocument.selectHighlight(category, position);
                        break;
                    }
                }
            }
        }
    }
    /**
     * Index of currently selected entity (from 1)
     */
    get current() {
        return this.navigationState.current + 1;
    }
    /**
     * No categories to highlight
     */
    get noData() {
        return this.nonEmptyCategoryIds.length === 0;
    }
    /**
     * Total number of highlights
     */
    get total() {
        return this.filteredHighlightData ? this.filteredHighlightData.size() : 0;
    }
    /**
     * @returns true when the document is ready to be interacted with
     */
    get previewReady() {
        return !!this.previewDocument;
    }
    /**
     * Returns the currently selected entity/match/extract based on the PreviewData
     * or potentially by fetching it directly from the HTML document.
     */
    get currentValue() {
        if (this.navigationState.current < 0 || !this.filteredHighlightData) {
            return "";
        }
        const result = this.filteredHighlightData[this.navigationState.current].displayValue;
        if (result) {
            return result;
        }
        const values = this.filteredHighlightData[this.navigationState.current].values;
        if (values && values.length > 0 && values[0] && values[0].length > 0) {
            return values[0];
        }
        if (Object.keys(this.filteredHighlightData[this.navigationState.current].positionInCategories).length === 1
            && this.filteredHighlightData[this.navigationState.current].positionInCategories["extractslocations"]) {
            return this.previewDocument.getHighlightText("extractslocations", this.filteredHighlightData[this.navigationState.current].positionInCategories["extractslocations"]);
        }
        return "";
    }
    /**
     * Get categories of the currently selected entity/match/extract
     * based on the filtered Highlight data per location
     */
    get currentCategories() {
        const result = [];
        if (this.navigationState.current < 0 || !this.filteredHighlightData || this.navigationState.current >= this.filteredHighlightData.size()) {
            return result;
        }
        for (const categoryId in this.filteredHighlightData[this.navigationState.current].positionInCategories) {
            result.push(categoryId);
        }
        return result;
    }
    categoryIconClass(categoryId) {
        if (categoryId.startsWith("term")) {
            return "far fa-flag";
        }
        return "sq-icon-" + categoryId;
    }
    getCategoryHighlightData(categoryId) {
        return this.highlightDataPerCategory ? this.highlightDataPerCategory[categoryId] : undefined;
    }
    categoryDisplayLabel(categoryId) {
        return this.highlightDataPerCategory ? this.highlightDataPerCategory[categoryId].categoryDisplayLabel : "";
    }
    categoryLabelPipeParams(categoryId) {
        if (!categoryId.startsWith("term")) {
            return {};
        }
        const index = Number(categoryId.slice("term".length));
        if (isNaN(index)) {
            return {};
        }
        return { values: { index: index } };
    }
    /**
     * Returns the list of entity categories that contain values
     */
    get nonEmptyCategoryIds() {
        const result = [];
        for (const categoryId in this.highlightDataPerCategory) {
            if (!this.categoryIsEmpty(categoryId, this.highlightDataPerCategory)) {
                result.push(categoryId);
            }
        }
        return result;
    }
    categoryIsEmpty(categoryId, highlightData) {
        return highlightData[categoryId] == null
            || highlightData[categoryId].values == null
            || highlightData[categoryId].values.length <= 0;
    }
    /**
     * @returns true if there is more than one option per category
     * @param categoryId the category id
     */
    categoryHasMultipleValues(categoryId) {
        return this.getHighlightValueCount(categoryId) > 1;
    }
    /**
     * @returns the number of options per category
     * @param categoryId the category id
     */
    getHighlightValueCount(categoryId) {
        if (!this.highlightDataPerCategory || this.categoryIsEmpty(categoryId, this.highlightDataPerCategory)) {
            return 0;
        }
        const values = this.highlightDataPerCategory[categoryId].values;
        if (values == null) {
            return 0;
        }
        return values.length;
    }
    // Navigation buttons handlers
    first() {
        if (this.navigationState.current > 0) {
            this.navigationState.current = 0;
            this.selectHighlight();
        }
    }
    previous() {
        if (this.navigationState.current > 0) {
            this.navigationState.current--;
            this.selectHighlight();
        }
    }
    next() {
        if (this.navigationState.current < this.total - 1) {
            this.navigationState.current++;
            this.selectHighlight();
        }
    }
    last() {
        if (this.navigationState.current !== this.total - 1) {
            this.navigationState.current = this.total - 1;
            this.selectHighlight();
        }
    }
    selectHighlight() {
        if (this.filteredHighlightData) {
            const positionInCategories = this.filteredHighlightData[this.navigationState.current].positionInCategories;
            const firstCategory = Object.keys(positionInCategories)[0];
            this.previewDocument.selectHighlight(firstCategory, positionInCategories[firstCategory]);
        }
    }
    selectAll() {
        for (const categoryId in this.navigationState.filters) {
            this.navigationState.filters[categoryId] = this.keepAllFilter;
        }
        this.reset();
    }
    selectNone() {
        for (const categoryId in this.navigationState.filters) {
            this.navigationState.filters[categoryId] = this.keepNoneFilter;
        }
        this.reset();
    }
    get allSelected() {
        for (const categoryId in this.navigationState.filters) {
            const filter = this.navigationState.filters[categoryId];
            if (filter && filter.choice !== _preview_document__WEBPACK_IMPORTED_MODULE_2__["HighlightCategoryFilterChoice"].All) {
                return false;
            }
        }
        return true;
    }
    get noneSelected() {
        for (const categoryId in this.navigationState.filters) {
            const filter = this.navigationState.filters[categoryId];
            if (!filter || filter.choice !== _preview_document__WEBPACK_IMPORTED_MODULE_2__["HighlightCategoryFilterChoice"].None) {
                return false;
            }
        }
        return true;
    }
    // Filter created for each option
    newFilter(value) {
        return new SimpleHighlightCategoryFilterState(value);
    }
    // A filter was clicked
    selectFilter(categoryId, value) {
        //console.log(categoryId, value);
        // If a specific entity/extract is selected we want to select it, rather than filter other entities
        if (value.choice === _preview_document__WEBPACK_IMPORTED_MODULE_2__["HighlightCategoryFilterChoice"].Value) {
            // First, let's cancel value filters EXCEPT the one that was just selected
            for (const key in this.navigationState.filters) {
                if (key !== categoryId && this.navigationState.filters[key] !== this.keepAllFilter && this.navigationState.filters[key] !== this.keepNoneFilter) {
                    this.navigationState.filters[key] = this.keepAllFilter;
                }
            }
            // Search the entity ID
            let highlight;
            for (const key in this.highlightDataPerLocation) {
                highlight = this.highlightDataPerLocation[key];
                if (highlight.positionInCategories[categoryId] && highlight.values.includes(value.filterValue)) {
                    break;
                }
            }
            if (highlight) {
                this.previewDocument.selectHighlight(categoryId, highlight.positionInCategories[categoryId]);
            }
        }
        else {
            // Cancel value filters
            for (const key in this.navigationState.filters) {
                if (this.navigationState.filters[key] !== this.keepAllFilter && this.navigationState.filters[key] !== this.keepNoneFilter) {
                    this.navigationState.filters[key] = this.keepAllFilter;
                }
            }
            // Reset just applies the (non-value) filters as they are and removes selection
            this.reset();
        }
    }
    /**
     * Comparator allowing to sort the filters in the select
     */
    compareFilters(filter1, filter2) {
        return SimpleHighlightCategoryFilterState.compare(filter1, filter2);
    }
}
BsPreviewHighlights.ɵfac = function BsPreviewHighlights_Factory(t) { return new (t || BsPreviewHighlights)(); };
BsPreviewHighlights.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsPreviewHighlights, selectors: [["sq-preview-highlights"]], inputs: { previewDocument: "previewDocument", previewData: "previewData" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 7, vars: 5, consts: [[1, "card", "sq-facet"], [1, "card-header"], [4, "ngIf", "ngIfElse"], ["normalCase", ""], [1, "card-body", "noEntityToHighlightMessage"], [1, "card-body"], [1, "currentSelection"], [1, "selectedHighlightTitle"], [1, "currentSelectionPanel"], ["class", "selectedHighlight", 4, "ngIf", "ngIfElse"], ["noSelection", ""], [1, "navigation-buttons"], [1, "btn", "btn-secondary", 3, "disabled", "title", "click"], [1, "fas", "fa-fast-backward"], [1, "fas", "fa-step-backward"], [1, "counter-container"], [1, "counter"], [1, "counter", "ghost"], [1, "fas", "fa-step-forward"], [1, "fas", "fa-fast-forward"], [1, "card-body", "filterPanel"], [1, "filterPanelTitle"], [1, "fas", "fa-filter"], ["class", "batchSelectButtonsContainer", 4, "ngIf"], [1, "filters"], ["class", "sq-highlight", 4, "ngFor", "ngForOf"], [1, "selectedHighlight"], [1, "currentCategories"], [4, "ngFor", "ngForOf"], [1, "selectedHighlightValue", 3, "innerHTML"], [1, "currentCategoryLabel"], [1, "noSelectionMessage"], [1, "batchSelectButtonsContainer"], [1, "batchSelectButtonsPaddingPlaceholder"], [1, "batchSelectButtons"], [1, "batchSelectButton"], [1, "btn", 3, "disabled", "title", "click"], [1, "far", "fa-check-square"], [1, "fas", "fa-times"], [1, "sq-highlight"], [1, "categoryIcon"], [1, "categoryLabel"], [1, "categoryFilter"], ["singleValue", ""], [1, "custom-select", 3, "ngModel", "compareWith", "ngModelChange"], [3, "ngValue"], ["disabled", "", 1, "selectSeparator"], [3, "ngValue", 4, "ngFor", "ngForOf"], [4, "ngIf"]], template: function BsPreviewHighlights_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](3, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, BsPreviewHighlights_ng_container_4_Template, 4, 3, "ng-container", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](5, BsPreviewHighlights_ng_template_5_Template, 39, 38, "ng-template", null, 3, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplateRefExtractor"]);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](3, 3, "msg#preview.highlightsTitle"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.noData)("ngIfElse", _r1);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_3__["NgIf"], _angular_common__WEBPACK_IMPORTED_MODULE_3__["NgForOf"], _angular_forms__WEBPACK_IMPORTED_MODULE_4__["SelectControlValueAccessor"], _angular_forms__WEBPACK_IMPORTED_MODULE_4__["NgControlStatus"], _angular_forms__WEBPACK_IMPORTED_MODULE_4__["NgModel"], _angular_forms__WEBPACK_IMPORTED_MODULE_4__["NgSelectOption"], _angular_forms__WEBPACK_IMPORTED_MODULE_4__["ɵangular_packages_forms_forms_x"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_5__["MessagePipe"], _utils_pipes_number_pipe__WEBPACK_IMPORTED_MODULE_6__["NumberPipe"]], styles: [".noEntityToHighlightMessage[_ngcontent-%COMP%] {\n  opacity: 0.5;\n}\n\n.currentSelection[_ngcontent-%COMP%] {\n  margin-bottom: 0.75rem;\n}\n\n.selectedHighlightTitle[_ngcontent-%COMP%] {\n  padding-bottom: 0.375em;\n}\n\n.currentSelectionPanel[_ngcontent-%COMP%] {\n  border: 1px solid rgba(0, 0, 0, 0.125);\n  padding: 0.5rem 0.5rem;\n  text-align: center;\n}\n\n.currentCategories[_ngcontent-%COMP%] {\n  height: 1.5em;\n}\n\n.selectedHighlightValue[_ngcontent-%COMP%] {\n  font-weight: bold;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\n.noSelectionMessage[_ngcontent-%COMP%] {\n  opacity: 0.5;\n}\n\n.navigation-buttons[_ngcontent-%COMP%] {\n  text-align: center;\n}\n\n.counter-container[_ngcontent-%COMP%] {\n  display: inline-block;\n  position: relative;\n}\n\n.counter[_ngcontent-%COMP%] {\n  padding-left: 0.125rem;\n  padding-right: 0.125rem;\n  position: absolute;\n  right: 0;\n}\n\n.ghost[_ngcontent-%COMP%] {\n  position: static;\n  visibility: hidden;\n}\n\n.filterPanel[_ngcontent-%COMP%] {\n  display: table;\n  border-spacing: 0 0.375em;\n}\n\n.filterPanelTitle[_ngcontent-%COMP%] {\n  display: table-caption;\n  padding-top: 0.75em;\n  padding-left: 0.75em;\n  border-top: 1px solid rgba(0, 0, 0, 0.125);\n  margin-bottom: -0.5em;\n}\n\n.batchSelectButtonsContainer[_ngcontent-%COMP%] {\n  display: table-row;\n}\n\n.batchSelectButtonsPaddingPlaceholder[_ngcontent-%COMP%] {\n  display: table-cell;\n}\n\n.batchSelectButtons[_ngcontent-%COMP%] {\n  display: table;\n  width: 100%;\n  table-layout: fixed;\n  border-spacing: 0;\n}\n\n.batchSelectButton[_ngcontent-%COMP%] {\n  display: table-cell;\n}\n\n.batchSelectButton[_ngcontent-%COMP%]:not(:last-child) {\n  padding-right: 0.5rem;\n}\n\n.batchSelectButton[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\n  display: block;\n  width: 100%;\n  white-space: normal;\n}\n\n.filterPanelTitle[_ngcontent-%COMP%]   .fa-filter[_ngcontent-%COMP%] {\n  padding-right: 0.375em;\n}\n\n.filters[_ngcontent-%COMP%] {\n  display: table-row-group;\n}\n\n.sq-highlight[_ngcontent-%COMP%] {\n  display: table-row;\n}\n\n.categoryIcon[_ngcontent-%COMP%], .categoryLabel[_ngcontent-%COMP%] {\n  display: table-cell;\n  padding-right: 0.375em;\n  white-space: nowrap;\n}\n\n.categoryFilter[_ngcontent-%COMP%] {\n  display: table-cell;\n  width: 100%;\n}\n\n.selectSeparator[_ngcontent-%COMP%] {\n  font-size: 1pt;\n  background-color: #CCCCCC;\n}\n\n.sq-highlight[_ngcontent-%COMP%] {\n  flex-wrap: nowrap;\n}\n\n.sq-highlight[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus {\n  z-index: 4;\n}\n\n.sq-highlight[_ngcontent-%COMP%]   .sq-highlight-btns[_ngcontent-%COMP%] {\n  flex-direction: row;\n}\n\n.sq-highlight[_ngcontent-%COMP%]   .sq-highlight-item[_ngcontent-%COMP%] {\n  width: 100%;\n}\n\n.sq-highlight[_ngcontent-%COMP%]   .sq-highlight-item[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%] {\n  width: 100%;\n  white-space: normal;\n}\n\n.sq-highlight[_ngcontent-%COMP%]:not(:first-child) {\n  margin-top: 0.25rem;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2plY3RzL2NvbXBvbmVudHMvcHJldmlldy9ib290c3RyYXAvcHJldmlldy1oaWdobGlnaHRzL3ByZXZpZXctaGlnaGxpZ2h0cy5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsWUFBQTtBQUNGOztBQUVBO0VBQ0Usc0JBQUE7QUFDRjs7QUFFQTtFQUNFLHVCQUFBO0FBQ0Y7O0FBRUE7RUFDRSxzQ0FBQTtFQUNBLHNCQUFBO0VBQ0Esa0JBQUE7QUFDRjs7QUFFQTtFQUNFLGFBQUE7QUFDRjs7QUFFQTtFQUNFLGlCQUFBO0VBQ0EsZ0JBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0FBQ0Y7O0FBRUE7RUFDRSxZQUFBO0FBQ0Y7O0FBRUE7RUFDRSxrQkFBQTtBQUNGOztBQUVBO0VBQ0UscUJBQUE7RUFDQSxrQkFBQTtBQUNGOztBQUVBO0VBQ0Usc0JBQUE7RUFDQSx1QkFBQTtFQUNBLGtCQUFBO0VBQ0EsUUFBQTtBQUNGOztBQUVBO0VBQ0UsZ0JBQUE7RUFDQSxrQkFBQTtBQUNGOztBQUVBO0VBQ0UsY0FBQTtFQUNBLHlCQUFBO0FBQ0Y7O0FBRUE7RUFDRSxzQkFBQTtFQUNBLG1CQUFBO0VBQ0Esb0JBQUE7RUFDQSwwQ0FBQTtFQUNBLHFCQUFBO0FBQ0Y7O0FBRUE7RUFDRSxrQkFBQTtBQUNGOztBQUVBO0VBQ0UsbUJBQUE7QUFDRjs7QUFFQTtFQUNFLGNBQUE7RUFDQSxXQUFBO0VBQ0EsbUJBQUE7RUFDQSxpQkFBQTtBQUNGOztBQUVBO0VBQ0UsbUJBQUE7QUFDRjs7QUFFQTtFQUNFLHFCQUFBO0FBQ0Y7O0FBRUE7RUFDRSxjQUFBO0VBQ0EsV0FBQTtFQUNBLG1CQUFBO0FBQ0Y7O0FBRUE7RUFDRSxzQkFBQTtBQUNGOztBQUVBO0VBQ0Usd0JBQUE7QUFDRjs7QUFFQTtFQUNFLGtCQUFBO0FBQ0Y7O0FBRUE7RUFDRSxtQkFBQTtFQUNBLHNCQUFBO0VBQ0EsbUJBQUE7QUFDRjs7QUFFQTtFQUNFLG1CQUFBO0VBQ0EsV0FBQTtBQUNGOztBQUVBO0VBQ0UsY0FBQTtFQUNBLHlCQUFBO0FBQ0Y7O0FBRUE7RUFDRSxpQkFBQTtBQUNGOztBQUNBO0VBQ0UsVUFBQTtBQUVGOztBQUFBO0VBQ0UsbUJBQUE7QUFHRjs7QUFEQTtFQUNFLFdBQUE7QUFJRjs7QUFGQTtFQUNFLFdBQUE7RUFDQSxtQkFBQTtBQUtGOztBQUhBO0VBQ0UsbUJBQUE7QUFNRiIsImZpbGUiOiJwcm9qZWN0cy9jb21wb25lbnRzL3ByZXZpZXcvYm9vdHN0cmFwL3ByZXZpZXctaGlnaGxpZ2h0cy9wcmV2aWV3LWhpZ2hsaWdodHMuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5ub0VudGl0eVRvSGlnaGxpZ2h0TWVzc2FnZSB7XG4gIG9wYWNpdHk6IDAuNTtcbn1cblxuLmN1cnJlbnRTZWxlY3Rpb24ge1xuICBtYXJnaW4tYm90dG9tOiAwLjc1cmVtO1xufVxuXG4uc2VsZWN0ZWRIaWdobGlnaHRUaXRsZSB7XG4gIHBhZGRpbmctYm90dG9tOiAwLjM3NWVtO1xufVxuXG4uY3VycmVudFNlbGVjdGlvblBhbmVsIHtcbiAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgwLCAwLCAwLCAwLjEyNSk7XG4gIHBhZGRpbmc6IDAuNXJlbSAwLjVyZW07XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxuLmN1cnJlbnRDYXRlZ29yaWVzIHtcbiAgaGVpZ2h0OiAxLjVlbTtcbn1cblxuLnNlbGVjdGVkSGlnaGxpZ2h0VmFsdWUge1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XG59XG5cbi5ub1NlbGVjdGlvbk1lc3NhZ2Uge1xuICBvcGFjaXR5OiAwLjU7XG59XG5cbi5uYXZpZ2F0aW9uLWJ1dHRvbnMge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5cbi5jb3VudGVyLWNvbnRhaW5lciB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xufVxuXG4uY291bnRlciB7XG4gIHBhZGRpbmctbGVmdDogMC4xMjVyZW07XG4gIHBhZGRpbmctcmlnaHQ6IDAuMTI1cmVtO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHJpZ2h0OiAwO1xufVxuXG4uZ2hvc3Qge1xuICBwb3NpdGlvbjogc3RhdGljO1xuICB2aXNpYmlsaXR5OiBoaWRkZW47XG59XG5cbi5maWx0ZXJQYW5lbCB7XG4gIGRpc3BsYXk6IHRhYmxlO1xuICBib3JkZXItc3BhY2luZzogMCAwLjM3NWVtO1xufVxuXG4uZmlsdGVyUGFuZWxUaXRsZSB7XG4gIGRpc3BsYXk6IHRhYmxlLWNhcHRpb247XG4gIHBhZGRpbmctdG9wOiAwLjc1ZW07XG4gIHBhZGRpbmctbGVmdDogMC43NWVtO1xuICBib3JkZXItdG9wOiAxcHggc29saWQgcmdiYSgwLCAwLCAwLCAwLjEyNSk7XG4gIG1hcmdpbi1ib3R0b206IC0wLjVlbTtcbn1cblxuLmJhdGNoU2VsZWN0QnV0dG9uc0NvbnRhaW5lciB7XG4gIGRpc3BsYXk6IHRhYmxlLXJvdztcbn1cblxuLmJhdGNoU2VsZWN0QnV0dG9uc1BhZGRpbmdQbGFjZWhvbGRlciB7XG4gIGRpc3BsYXk6IHRhYmxlLWNlbGw7XG59XG5cbi5iYXRjaFNlbGVjdEJ1dHRvbnMge1xuICBkaXNwbGF5OiB0YWJsZTtcbiAgd2lkdGg6IDEwMCU7XG4gIHRhYmxlLWxheW91dDogZml4ZWQ7XG4gIGJvcmRlci1zcGFjaW5nOiAwO1xufVxuXG4uYmF0Y2hTZWxlY3RCdXR0b24ge1xuICBkaXNwbGF5OiB0YWJsZS1jZWxsO1xufVxuXG4uYmF0Y2hTZWxlY3RCdXR0b246bm90KDpsYXN0LWNoaWxkKSB7XG4gIHBhZGRpbmctcmlnaHQ6IDAuNXJlbTtcbn1cblxuLmJhdGNoU2VsZWN0QnV0dG9uIGJ1dHRvbiB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICB3aWR0aDogMTAwJTtcbiAgd2hpdGUtc3BhY2U6IG5vcm1hbDtcbn1cblxuLmZpbHRlclBhbmVsVGl0bGUgLmZhLWZpbHRlciB7XG4gIHBhZGRpbmctcmlnaHQ6IDAuMzc1ZW07XG59XG5cbi5maWx0ZXJzIHtcbiAgZGlzcGxheTogdGFibGUtcm93LWdyb3VwO1xufVxuXG4uc3EtaGlnaGxpZ2h0IHtcbiAgZGlzcGxheTogdGFibGUtcm93O1xufVxuXG4uY2F0ZWdvcnlJY29uLCAuY2F0ZWdvcnlMYWJlbCB7XG4gIGRpc3BsYXk6IHRhYmxlLWNlbGw7XG4gIHBhZGRpbmctcmlnaHQ6IDAuMzc1ZW07XG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XG59XG5cbi5jYXRlZ29yeUZpbHRlciB7XG4gIGRpc3BsYXk6IHRhYmxlLWNlbGw7XG4gIHdpZHRoOiAxMDAlO1xufVxuXG4uc2VsZWN0U2VwYXJhdG9yIHtcbiAgZm9udC1zaXplOiAxcHQ7XG4gIGJhY2tncm91bmQtY29sb3I6ICNDQ0NDQ0M7XG59XG5cbi5zcS1oaWdobGlnaHQge1xuICBmbGV4LXdyYXA6IG5vd3JhcDtcbn1cbi5zcS1oaWdobGlnaHQgLmJ0bjpmb2N1cyB7XG4gIHotaW5kZXg6IDQ7XG59XG4uc3EtaGlnaGxpZ2h0IC5zcS1oaWdobGlnaHQtYnRucyB7XG4gIGZsZXgtZGlyZWN0aW9uOiByb3c7XG59XG4uc3EtaGlnaGxpZ2h0IC5zcS1oaWdobGlnaHQtaXRlbSB7XG4gIHdpZHRoOiAxMDAlO1xufVxuLnNxLWhpZ2hsaWdodCAuc3EtaGlnaGxpZ2h0LWl0ZW0gLmJ0biB7XG4gIHdpZHRoOiAxMDAlO1xuICB3aGl0ZS1zcGFjZTogbm9ybWFsO1xufVxuLnNxLWhpZ2hsaWdodDpub3QoOmZpcnN0LWNoaWxkKSB7XG4gIG1hcmdpbi10b3A6IDAuMjVyZW07XG59Il19 */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsPreviewHighlights, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-preview-highlights",
                templateUrl: "./preview-highlights.html",
                styleUrls: ["./preview-highlights.scss"]
            }]
    }], null, { previewDocument: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], previewData: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();
// Implementation of data structures
class SimpleHighlightNavigationState {
    constructor(categories) {
        this.current = -1; // No selection
        this.filters = {};
        for (const category of categories) {
            this.filters[category] = new SimpleHighlightCategoryFilterState(); // All entities visible by default
        }
    }
}
class SimpleHighlightCategoryFilterState {
    constructor(param) {
        this.choice = _preview_document__WEBPACK_IMPORTED_MODULE_2__["HighlightCategoryFilterChoice"].All;
        this._filterValue = "";
        if (param == null) {
            return;
        }
        if (typeof param === "string") {
            this.choice = _preview_document__WEBPACK_IMPORTED_MODULE_2__["HighlightCategoryFilterChoice"].Value;
            this._filterValue = param;
        }
        else {
            this.choice = param;
        }
    }
    get filterValue() {
        if (this.choice === _preview_document__WEBPACK_IMPORTED_MODULE_2__["HighlightCategoryFilterChoice"].Value) {
            return this._filterValue;
        }
        return "";
    }
    static compare(filter1, filter2) {
        if (filter1 && filter2) {
            if (filter1.choice !== filter2.choice) {
                return false;
            }
            return filter1.choice !== _preview_document__WEBPACK_IMPORTED_MODULE_2__["HighlightCategoryFilterChoice"].Value
                || filter1.filterValue === filter2.filterValue;
        }
        return filter1 === filter2;
    }
}
class FilteredHighlightDataPerLocation {
    constructor(baseData, filters) {
        let counter = 0;
        for (const i in baseData) {
            const categories = !baseData[i].positionInCategories ? undefined : Object.keys(baseData[i].positionInCategories);
            if (categories && this.locationIsIncluded(baseData[i].values, categories, filters)) {
                this[counter] = baseData[i];
                counter++;
            }
        }
    }
    size() {
        return Object.keys(this).length;
    }
    locationIsIncluded(values, categories, filters) {
        if (!categories) {
            return false;
        }
        for (const category of categories) {
            if (filters[category] &&
                (filters[category].choice === _preview_document__WEBPACK_IMPORTED_MODULE_2__["HighlightCategoryFilterChoice"].All
                    || filters[category].choice === _preview_document__WEBPACK_IMPORTED_MODULE_2__["HighlightCategoryFilterChoice"].Value && values != null && values.includes(filters[category].filterValue))) {
                return true;
            }
        }
        return false;
    }
}


/***/ }),

/***/ "4Oqr":
/*!*****************************************************!*\
  !*** ../core/login/authentication-oauth.service.ts ***!
  \*****************************************************/
/*! exports provided: AuthenticationOauthService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthenticationOauthService", function() { return AuthenticationOauthService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs/operators */ "0Wlh");
/* harmony import */ var ng2_ui_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ng2-ui-auth */ "ygqg");
/* harmony import */ var _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/web-services */ "cIYa");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common/http */ "vobO");








/**
 * Override ng2-ui-auth's state handling to retrieve a state from the Sinequa server
 */
class AuthenticationOauthService extends ng2_ui_auth__WEBPACK_IMPORTED_MODULE_2__["OauthService"] {
    constructor(startConfig, httpClient, sharedService, popupService, configService) {
        super(httpClient, sharedService, configService, popupService);
        this.startConfig = startConfig;
        this.httpClient = httpClient;
        this.sharedService = sharedService;
        this.popupService = popupService;
        this.configService = configService;
    }
    authenticate(name, userData) {
        const options = this.configService.options.providers[name];
        if (options.sqInitState) {
            return this.httpClient.get(_sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__["Utils"].addUrl(this.startConfig.apiPath, "oauth"), {
                params: _sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__["Utils"].makeHttpParams({
                    action: "initstate",
                    provider: options.name,
                    tokenInCookie: true,
                    loginInPopup: true,
                    noUserOverride: true,
                    noAutoAuthentication: true
                })
            }).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["flatMap"])((ret) => {
                options.state = ret.state;
                return super.authenticate(name, userData);
            }));
        }
        return super.authenticate(name, userData);
    }
}
AuthenticationOauthService.ɵfac = function AuthenticationOauthService_Factory(t) { return new (t || AuthenticationOauthService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_3__["START_CONFIG"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_angular_common_http__WEBPACK_IMPORTED_MODULE_5__["HttpClient"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](ng2_ui_auth__WEBPACK_IMPORTED_MODULE_2__["SharedService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](ng2_ui_auth__WEBPACK_IMPORTED_MODULE_2__["PopupService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](ng2_ui_auth__WEBPACK_IMPORTED_MODULE_2__["ConfigService"])); };
AuthenticationOauthService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: AuthenticationOauthService, factory: AuthenticationOauthService.ɵfac, providedIn: "root" });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AuthenticationOauthService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: "root"
            }]
    }], function () { return [{ type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_3__["START_CONFIG"]]
            }] }, { type: _angular_common_http__WEBPACK_IMPORTED_MODULE_5__["HttpClient"] }, { type: ng2_ui_auth__WEBPACK_IMPORTED_MODULE_2__["SharedService"] }, { type: ng2_ui_auth__WEBPACK_IMPORTED_MODULE_2__["PopupService"] }, { type: ng2_ui_auth__WEBPACK_IMPORTED_MODULE_2__["ConfigService"] }]; }, null); })();


/***/ }),

/***/ "4Yz/":
/*!*******************************************!*\
  !*** ../components/baskets/public-api.ts ***!
  \*******************************************/
/*! exports provided: BASKET_CHANGE_EVENTS, BASKET_COMPONENTS, BasketsService, BsBasketsModule, BsBasketsMenuComponent, BsEditBasket, BsFacetBasketsComponent, BsManageBaskets, BsResultBaskets, BsSelectBasket, enBaskets, frBaskets, deBaskets */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _baskets_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./baskets.service */ "3Nz9");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BASKET_CHANGE_EVENTS", function() { return _baskets_service__WEBPACK_IMPORTED_MODULE_0__["BASKET_CHANGE_EVENTS"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BASKET_COMPONENTS", function() { return _baskets_service__WEBPACK_IMPORTED_MODULE_0__["BASKET_COMPONENTS"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BasketsService", function() { return _baskets_service__WEBPACK_IMPORTED_MODULE_0__["BasketsService"]; });

/* harmony import */ var _bootstrap_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./bootstrap/index */ "0+98");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsBasketsModule", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_1__["BsBasketsModule"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsBasketsMenuComponent", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_1__["BsBasketsMenuComponent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsEditBasket", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_1__["BsEditBasket"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFacetBasketsComponent", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_1__["BsFacetBasketsComponent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsManageBaskets", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_1__["BsManageBaskets"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsResultBaskets", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_1__["BsResultBaskets"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsSelectBasket", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_1__["BsSelectBasket"]; });

/* harmony import */ var _messages_index__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./messages/index */ "/RRP");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "enBaskets", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_2__["enBaskets"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "frBaskets", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_2__["frBaskets"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "deBaskets", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_2__["deBaskets"]; });






/***/ }),

/***/ "4gZ9":
/*!******************************************!*\
  !*** ../components/facet/messages/en.ts ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    "facet": {
        "showFacetTextView": "Show text",
        "showFacetChartView": "Show chart",
        "itemExclude": "Exclude",
        "applyFilters": "{selections, plural, one {Apply filter} other {Apply filters}}",
        "clearFilters": "{selected, plural, one {Clear filter} other {Clear filters}}",
        "loadMore": "Load more",
        "showMore": "Show more",
        "showLess": "Show less",
        "displayed": "Displayed",
        "removeAll": "Remove all",
        "searchPlaceholder": "Search...",
        "itemSelect": "Select this value",
        "itemUnselect": "Unselect this value",
        "filterItem": "Keep documents with {terme}",
        "filterItems": "Keep documents with ANY of the selected items",
        "filterItemsAnd": "Keep documents with ALL the selected items",
        "excludeItems": "Exclude document with selected items",
        "clearSelects": "Clear the current filters",
        "searchItems": "Search for a value in this list",
        "searchNoResult": "No results",
        "openItem": "Open",
        "closeItem": "Close",
        "authors": {
            "title": "Authors"
        },
        "concepts": {
            "title": "Concepts"
        },
        "company": {
            "title": "Companies"
        },
        "docformat": {
            "title": "Formats"
        },
        "doctype": {
            "title": "Document Types"
        },
        "documentlanguages": {
            "title": "Languages"
        },
        "fileext": {
            "title": "File Extensions"
        },
        "filename": {
            "title": "Filenames"
        },
        "geo": {
            "title": "Places"
        },
        "matchingpartnames": {
            "title": "Matching Partnames"
        },
        "modified": {
            "title": "Dates"
        },
        "person": {
            "title": "People"
        },
        "refine": {
            "title": "Refine Search",
            "input": {
                "label": "Refine",
                "buttonTitle": "Refine",
                "placeholder": "Refine by..."
            }
        },
        "size": {
            "title": "Sizes"
        },
        "tagcloud": {
            "title": "Tag Cloud"
        },
        "title": {
            "title": "Titles"
        },
        "treepath": {
            "title": "Sources"
        },
        "recentQueries": {
            "title": "Recent queries"
        },
        "recentQueriesPublic": {
            "title": "Public recent queries"
        },
        "mySearch": {
            "title": "My Search",
            "itemRemove": "Remove"
        },
        "search": {
            "label": "Search",
            "buttonTitle": "Search",
            "placeholder": "Search...",
            "showSearchForm": "Show search form",
            "hideSearchForm": "Hide search form"
        },
        "range": {
            "year": "{date, date, sqYear}",
            "monthYear": "{date, date, sqMonthYear}",
            "weekYear": "W{week, number, sqWeek} {weekYear, number, sqYear}",
            "apply": "Apply",
            "clear": "Clear",
            "unavailable": "No available range"
        },
        "filters": {
            "add": "Add facet",
            "addAll": "Add all facets",
            "remove": "Remove facet",
            "removeAll": "Remove all facets",
            "clear": "Clear filter",
            "moreFilters": "",
            "showFilters": "Show filters",
            "hideFilters": "Hide filters",
            "back": "Back to filters",
            "selectedFilters": "This filter is active in the current query",
            "customizeFacets": "Select facets to display or hide"
        },
        "selectedValue": "This value is selected in the current query",
        "previous": "Previous",
        "next": "Next",
        "filterItemCountTooltip": "{count} possible values for this filter",
    },
    "facetCard": {
        "expand": "Expand",
        "collapse": "Collapse",
        "enlarge": "Enlarge",
        "reduce": "Reduce",
        "openSettings": "Open settings",
        "saveSettings": "Save settings"
    }
});


/***/ }),

/***/ "4nM0":
/*!*************************************************************!*\
  !*** ../components/metadata/metadata-item/metadata-item.ts ***!
  \*************************************************************/
/*! exports provided: MetadataItem */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MetadataItem", function() { return MetadataItem; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/app-utils */ "SBPP");
/* harmony import */ var _sinequa_components_facet__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/components/facet */ "vbgc");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _metadata_access_lists_item_metadata_access_lists_item__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../metadata-access-lists-item/metadata-access-lists-item */ "zhgx");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/intl/message.pipe */ "X1Kh");
/* harmony import */ var _utils_pipes_value_pipe__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../utils/pipes/value-pipe */ "7U+I");










function MetadataItem_div_0_span_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "span", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "sqMessage");
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMapInterpolate2"]("sq-metadata-item-icon sq-icon-", ctx_r1.item, " ", ctx_r1.docFormatIconClass, " fa-fw pr-2");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("title", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](1, 5, ctx_r1.label));
} }
function MetadataItem_div_0_span_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](2, 1, "msg#metadata.item.label", ctx_r2.itemLabelMessageParams));
} }
function MetadataItem_div_0_a_5_Template(rf, ctx) { if (rf & 1) {
    const _r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "a", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function MetadataItem_div_0_a_5_Template_a_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r9); const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r8.toggleCollapse(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "i");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMapInterpolate1"]("fas fa-fw fa-chevron-", ctx_r4.collapsed ? "right" : "down", "");
} }
function MetadataItem_div_0_sq_metadata_access_lists_item_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "sq-metadata-access-lists-item", 11);
} if (rf & 2) {
    const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("accessLists", ctx_r5.accessListsData);
} }
function MetadataItem_div_0_ng_template_7_ng_container_0_ng_container_1_ol_1_li_1_a_1_Template(rf, ctx) { if (rf & 1) {
    const _r26 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "a", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function MetadataItem_div_0_ng_template_7_ng_container_0_ng_container_1_ol_1_li_1_a_1_Template_a_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r26); const $subIndex_r20 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().index; const $index_r15 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2).index; const ctx_r24 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](4); return ctx_r24.select($index_r15, $subIndex_r20); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqValue");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const part_r19 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    const ctx_r21 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", "sq-metadata-item-" + ctx_r21.item);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](2, 2, part_r19, ctx_r21.column));
} }
function MetadataItem_div_0_ng_template_7_ng_container_0_ng_container_1_ol_1_li_1_span_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqValue");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const part_r19 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    const ctx_r22 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", "sq-metadata-item-" + ctx_r22.item);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](2, 2, part_r19, ctx_r22.column));
} }
function MetadataItem_div_0_ng_template_7_ng_container_0_ng_container_1_ol_1_li_1_span_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 1, "msg#metadata.item.treeNodeSeparator"));
} }
function MetadataItem_div_0_ng_template_7_ng_container_0_ng_container_1_ol_1_li_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "li");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, MetadataItem_div_0_ng_template_7_ng_container_0_ng_container_1_ol_1_li_1_a_1_Template, 3, 5, "a", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, MetadataItem_div_0_ng_template_7_ng_container_0_ng_container_1_ol_1_li_1_span_2_Template, 3, 5, "span", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, MetadataItem_div_0_ng_template_7_ng_container_0_ng_container_1_ol_1_li_1_span_3_Template, 3, 3, "span", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const $subIndex_r20 = ctx.index;
    const valueItem_r14 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2).$implicit;
    const ctx_r18 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r18.clickable);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx_r18.clickable);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", $subIndex_r20 < valueItem_r14.parts.length - 1);
} }
function MetadataItem_div_0_ng_template_7_ng_container_0_ng_container_1_ol_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "ol", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, MetadataItem_div_0_ng_template_7_ng_container_0_ng_container_1_ol_1_li_1_Template, 4, 3, "li", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const valueItem_r14 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", valueItem_r14.parts);
} }
function MetadataItem_div_0_ng_template_7_ng_container_0_ng_container_1_span_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span", 24);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 1, "msg#metadata.item.treeSeparator"));
} }
function MetadataItem_div_0_ng_template_7_ng_container_0_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, MetadataItem_div_0_ng_template_7_ng_container_0_ng_container_1_ol_1_Template, 2, 1, "ol", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, MetadataItem_div_0_ng_template_7_ng_container_0_ng_container_1_span_2_Template, 3, 3, "span", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const valueItem_r14 = ctx.$implicit;
    const $index_r15 = ctx.index;
    const ctx_r13 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !!valueItem_r14.parts && valueItem_r14.parts.length > 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", $index_r15 < ctx_r13.valueItems.length - 1);
} }
function MetadataItem_div_0_ng_template_7_ng_container_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, MetadataItem_div_0_ng_template_7_ng_container_0_ng_container_1_Template, 3, 2, "ng-container", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx_r10.valueItems);
} }
function MetadataItem_div_0_ng_template_7_ng_template_1_ng_container_0_a_1_span_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span", 29);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const valueItem_r36 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("title", valueItem_r36.count + " occurrences in document");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](valueItem_r36.count);
} }
function MetadataItem_div_0_ng_template_7_ng_template_1_ng_container_0_a_1_Template(rf, ctx) { if (rf & 1) {
    const _r41 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "a", 27);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function MetadataItem_div_0_ng_template_7_ng_template_1_ng_container_0_a_1_Template_a_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r41); const $index_r37 = ctx.index; const ctx_r40 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](5); return ctx_r40.select($index_r37); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](3, "sqValue");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, MetadataItem_div_0_ng_template_7_ng_template_1_ng_container_0_a_1_span_4_Template, 2, 2, "span", 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const valueItem_r36 = ctx.$implicit;
    const ctx_r35 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMapInterpolate1"]("badge badge-pill ", "sq-metadata-item-" + ctx_r35.item, " mr-1");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵattribute"]("title", ctx_r35.showTitle ? null : _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](1, 6, ctx_r35.label));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"]("", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](3, 8, valueItem_r36, ctx_r35.column), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r35.showCounts && valueItem_r36.count);
} }
function MetadataItem_div_0_ng_template_7_ng_template_1_ng_container_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, MetadataItem_div_0_ng_template_7_ng_template_1_ng_container_0_a_1_Template, 5, 11, "a", 26);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r32 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx_r32.valueItems);
} }
function MetadataItem_div_0_ng_template_7_ng_template_1_ng_template_1_ng_container_0_span_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span", 32);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const valueItem_r43 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("title", valueItem_r43.count + " occurrences in document");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"]("(", valueItem_r43.count, ")");
} }
function MetadataItem_div_0_ng_template_7_ng_template_1_ng_template_1_ng_container_0_span_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span", 33);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 1, "msg#metadata.item.listSeparator"));
} }
function MetadataItem_div_0_ng_template_7_ng_template_1_ng_template_1_ng_container_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](4, "sqValue");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](5, MetadataItem_div_0_ng_template_7_ng_template_1_ng_template_1_ng_container_0_span_5_Template, 2, 2, "span", 30);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](6, MetadataItem_div_0_ng_template_7_ng_template_1_ng_template_1_ng_container_0_span_6_Template, 3, 3, "span", 31);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const valueItem_r43 = ctx.$implicit;
    const $index_r44 = ctx.index;
    const ctx_r42 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMap"]("sq-metadata-item-" + ctx_r42.item);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵattribute"]("title", ctx_r42.showTitle ? null : _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 7, ctx_r42.label));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"]("", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](4, 9, valueItem_r43, ctx_r42.column), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r42.showCounts && valueItem_r43.count);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", $index_r44 < ctx_r42.valueItems.length - 1);
} }
function MetadataItem_div_0_ng_template_7_ng_template_1_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, MetadataItem_div_0_ng_template_7_ng_template_1_ng_template_1_ng_container_0_Template, 7, 12, "ng-container", 14);
} if (rf & 2) {
    const ctx_r34 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx_r34.valueItems);
} }
function MetadataItem_div_0_ng_template_7_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, MetadataItem_div_0_ng_template_7_ng_template_1_ng_container_0_Template, 2, 1, "ng-container", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, MetadataItem_div_0_ng_template_7_ng_template_1_ng_template_1_Template, 1, 1, "ng-template", null, 25, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplateRefExtractor"]);
} if (rf & 2) {
    const _r33 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](2);
    const ctx_r12 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r12.clickable)("ngIfElse", _r33);
} }
function MetadataItem_div_0_ng_template_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, MetadataItem_div_0_ng_template_7_ng_container_0_Template, 2, 1, "ng-container", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, MetadataItem_div_0_ng_template_7_ng_template_1_Template, 3, 2, "ng-template", null, 13, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplateRefExtractor"]);
} if (rf & 2) {
    const _r11 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](2);
    const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r7.isTree)("ngIfElse", _r11);
} }
const _c0 = function (a0) { return { collapsed: a0 }; };
function MetadataItem_div_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, MetadataItem_div_0_span_1_Template, 2, 7, "span", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, MetadataItem_div_0_span_2_Template, 3, 4, "span", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "span", 3, 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](5, MetadataItem_div_0_a_5_Template, 2, 3, "a", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](6, MetadataItem_div_0_sq_metadata_access_lists_item_6_Template, 1, 1, "sq-metadata-access-lists-item", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](7, MetadataItem_div_0_ng_template_7_Template, 3, 2, "ng-template", null, 7, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplateRefExtractor"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵprojection"](9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](8);
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMapInterpolate1"]("sq-metadata-item ", ctx_r0.itemClasses, "");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r0.showIcon && !!ctx_r0.item);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r0.showTitle && !!ctx_r0.item);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](9, _c0, !!ctx_r0.collapsed));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r0.collapseRows && ctx_r0.needsCollapse);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r0.isAccessLists)("ngIfElse", _r6);
} }
const _c1 = ["*"];
class MetadataItem {
    constructor(appService, formatService) {
        this.appService = appService;
        this.formatService = formatService;
        this.showTitle = true;
        this.showIcon = false;
        this.showCounts = true;
        this.clickable = true;
        this.tabular = true;
        this.collapseRows = true;
        this._select = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.needsCollapse = false;
        this.valueItems = [];
    }
    get hidden() { return this.isEmpty; }
    ensureScalarValue(value) {
        if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].isEmpty(value) && this.column) {
            if (_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_2__["AppService"].isBoolean(this.column)) {
                value = 'msg#metadata.item.empty_boolean';
            }
            else if (_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_2__["AppService"].isNumber(this.column)) {
                value = 'msg#metadata.item.empty_number';
            }
        }
        return value;
    }
    ngOnChanges(changes) {
        if (!this.column) {
            this.column = this.appService.getColumn(this.item);
            this.itemLabelMessageParams = { values: { label: this.label } };
        }
        this.valueItems = [];
        this.isTree = !!this.column && _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_2__["AppService"].isTree(this.column);
        this.isEntity = !!this.column && _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_2__["AppService"].isEntity(this.column);
        this.isCsv = !!this.column && _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_2__["AppService"].isCsv(this.column);
        const values = this.record[this.appService.getColumnAlias(this.column, this.item)];
        if (this.isTree) {
            const paths = values;
            if (paths) {
                for (const path of paths) {
                    const parts = path.split("/");
                    if (parts.length > 0 && parts[0] === "") {
                        parts.splice(0, 1);
                    }
                    if (parts.length > 0 && parts[parts.length - 1] === "") {
                        parts.splice(parts.length - 1, 1);
                    }
                    const item = { value: path, parts: parts.map(value => ({ value: value })) };
                    this.valueItems.push(item);
                }
            }
        }
        else if (this.isEntity) {
            const entityItems = values;
            if (entityItems) {
                this.valueItems.push(...entityItems);
            }
        }
        else if (this.isCsv) {
            if (values && values instanceof Array) {
                this.valueItems.push(...values.map(value => ({ value: value })));
            }
            else if (!_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].isEmpty(values)) {
                this.valueItems.push({ value: values });
            }
        }
        else {
            const value = this.ensureScalarValue(values);
            if (!_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].isEmpty(value)) {
                this.valueItems.push({ value: value });
            }
        }
        const collapsable = (this.isEntity || this.isCsv) && !this.isTree; // Tree columns are multivalues, and therefore isCsv=true
        if (changes.collapseRows || this.collapsed === undefined) {
            this.collapsed = collapsable && this.collapseRows;
        }
        this.needsCollapse = collapsable && this.collapseRows && this.tabular && this.valueItems.length > 1; // We display the collapse button as soon as the number of values is >1 which does not take into account the actualy width of each value...
    }
    get isEmpty() {
        if (!this.item) {
            return true;
        }
        if (this.item === "accesslists") {
            if (!this.record.accesslists || !this.record.accesslists.accessListIndices
                || this.record.accesslists.accessListIndices.length === 0) {
                return true;
            }
        }
        else {
            if (this.valueItems.length === 0) {
                return true;
            }
        }
        return false;
    }
    get itemClasses() {
        let classes = "sq-text";
        if (this.clickable) {
            classes += " sq-clickable";
        }
        if (this.tabular) {
            classes += " sq-tabular";
        }
        return classes;
    }
    get label() {
        return this.appService.getLabel(this.item);
    }
    get isAccessLists() {
        return this.item === "accesslists";
    }
    get accessListsData() {
        return this.record.accesslists;
    }
    get docFormatIconClass() {
        if (this.item == null || this.item !== "docformat" && this.item !== "fileext") {
            return "";
        }
        const value = this.record[this.item];
        if (!value) {
            return "far fa-file";
        }
        return "far fa-file sq-icon-file-" + value;
    }
    select(index, subIndex = 0) {
        if (this.isTree) {
            const valueItem = this.valueItems[index];
            const parts = valueItem.parts.map((item) => item.value).slice(0, subIndex + 1);
            if (parts.length > 0) {
                parts.unshift("");
                parts.push("");
            }
            const path = parts.join("/");
            this._select.emit({ item: this.item, valueItem: { value: path + "*", display: _sinequa_components_facet__WEBPACK_IMPORTED_MODULE_3__["FacetService"].treepathLast(path) } });
        }
        else {
            this._select.emit({ item: this.item, valueItem: this.valueItems[index] });
        }
        return false; // prevent default
    }
    toggleCollapse() {
        this.collapsed = !this.collapsed;
        return false;
    }
}
MetadataItem.ɵfac = function MetadataItem_Factory(t) { return new (t || MetadataItem)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_2__["AppService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_2__["FormatService"])); };
MetadataItem.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: MetadataItem, selectors: [["sq-metadata-item"]], hostVars: 1, hostBindings: function MetadataItem_HostBindings(rf, ctx) { if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵhostProperty"]("hidden", ctx.hidden);
    } }, inputs: { record: "record", item: "item", showTitle: "showTitle", showIcon: "showIcon", showCounts: "showCounts", clickable: "clickable", tabular: "tabular", collapseRows: "collapseRows" }, outputs: { _select: "select" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], ngContentSelectors: _c1, decls: 1, vars: 1, consts: [[3, "class", 4, "ngIf"], [3, "class", "title", 4, "ngIf"], ["class", "sq-metadata-item-label pr-2", 4, "ngIf"], [1, "sq-metadata-item-values", 3, "ngClass"], ["values", ""], ["href", "#", "class", "collapse-button mr-1", 3, "click", 4, "ngIf"], [3, "accessLists", 4, "ngIf", "ngIfElse"], ["default", ""], [3, "title"], [1, "sq-metadata-item-label", "pr-2"], ["href", "#", 1, "collapse-button", "mr-1", 3, "click"], [3, "accessLists"], [4, "ngIf", "ngIfElse"], ["isNotTree", ""], [4, "ngFor", "ngForOf"], ["class", "breadcrumb", 4, "ngIf"], ["class", "sq-metadata-item-tree-separator", 4, "ngIf"], [1, "breadcrumb"], ["class", "badge badge-pill", "href", "#", 3, "ngClass", "click", 4, "ngIf"], [3, "ngClass", 4, "ngIf"], ["class", "sq-metadata-item-tree-node-separator", 4, "ngIf"], ["href", "#", 1, "badge", "badge-pill", 3, "ngClass", "click"], [3, "ngClass"], [1, "sq-metadata-item-tree-node-separator"], [1, "sq-metadata-item-tree-separator"], ["notTreeNonClickable", ""], ["href", "#", 3, "class", "click", 4, "ngFor", "ngForOf"], ["href", "#", 3, "click"], ["class", "counter badge badge-light ml-1", 3, "title", 4, "ngIf"], [1, "counter", "badge", "badge-light", "ml-1", 3, "title"], ["class", "small", 3, "title", 4, "ngIf"], ["class", "sq-metadata-item-list-separator", 4, "ngIf"], [1, "small", 3, "title"], [1, "sq-metadata-item-list-separator"]], template: function MetadataItem_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵprojectionDef"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, MetadataItem_div_0_Template, 10, 11, "div", 0);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.isEmpty);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_4__["NgIf"], _angular_common__WEBPACK_IMPORTED_MODULE_4__["NgClass"], _metadata_access_lists_item_metadata_access_lists_item__WEBPACK_IMPORTED_MODULE_5__["MetadataAccessListsItem"], _angular_common__WEBPACK_IMPORTED_MODULE_4__["NgForOf"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_6__["MessagePipe"], _utils_pipes_value_pipe__WEBPACK_IMPORTED_MODULE_7__["ValuePipe"]], styles: [".sq-metadata-item-label[_ngcontent-%COMP%] {\n  width: 1px;\n  white-space: nowrap;\n}\n\n.sq-metadata-item-values[_ngcontent-%COMP%] {\n  max-height: 15rem;\n  overflow: hidden;\n  transition: max-height 0.2s ease-in-out;\n}\n\n.sq-metadata-item-values[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%] {\n  padding: 0;\n  background-color: inherit;\n  display: inline;\n}\n\n.sq-metadata-item-values[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]    > li[_ngcontent-%COMP%] {\n  display: inline;\n}\n\n.sq-metadata-item-values[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]:after {\n  display: inline;\n}\n\n.sq-metadata-item-values[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%] {\n  font-size: 83%;\n}\n\n.sq-metadata-item-values.collapsed[_ngcontent-%COMP%] {\n  display: block;\n  max-height: 1.5rem;\n}\n\n.sq-metadata-item-values[_ngcontent-%COMP%]   .collapse-button[_ngcontent-%COMP%] {\n  font-size: 0.9rem;\n}\n\n.sq-metadata-item.sq-tabular[_ngcontent-%COMP%] {\n  display: table-row;\n}\n\n.sq-metadata-item.sq-tabular[_ngcontent-%COMP%]   .sq-metadata-item-icon[_ngcontent-%COMP%], .sq-metadata-item.sq-tabular[_ngcontent-%COMP%]   .sq-metadata-item-label[_ngcontent-%COMP%] {\n  display: table-cell;\n}\n\n.sq-metadata-item[_ngcontent-%COMP%]:not(.sq-tabular) {\n  display: inline;\n}\n\n.sq-metadata-item[_ngcontent-%COMP%]:not(.sq-tabular)   .sq-metadata-item-label[_ngcontent-%COMP%], .sq-metadata-item[_ngcontent-%COMP%]:not(.sq-tabular)   .sq-metadata-item-values[_ngcontent-%COMP%] {\n  display: inline;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2plY3RzL2NvbXBvbmVudHMvbWV0YWRhdGEvbWV0YWRhdGEtaXRlbS9tZXRhZGF0YS1pdGVtLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxVQUFBO0VBQ0EsbUJBQUE7QUFDRjs7QUFFQTtFQUNFLGlCQUFBO0VBQ0EsZ0JBQUE7RUFDQSx1Q0FBQTtBQUNGOztBQUNBO0VBQ0UsVUFBQTtFQUNBLHlCQUFBO0VBQ0EsZUFBQTtBQUVGOztBQUFBO0VBQ0UsZUFBQTtBQUdGOztBQURBO0VBQ0UsZUFBQTtBQUlGOztBQUZBO0VBQ0UsY0FBQTtBQUtGOztBQUhBO0VBQ0UsY0FBQTtFQUNBLGtCQUFBO0FBTUY7O0FBSkE7RUFDRSxpQkFBQTtBQU9GOztBQUpBO0VBQ0Usa0JBQUE7QUFPRjs7QUFMQTtFQUNFLG1CQUFBO0FBUUY7O0FBTEE7RUFDRSxlQUFBO0FBUUY7O0FBTkE7RUFDRSxlQUFBO0FBU0YiLCJmaWxlIjoicHJvamVjdHMvY29tcG9uZW50cy9tZXRhZGF0YS9tZXRhZGF0YS1pdGVtL21ldGFkYXRhLWl0ZW0uc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5zcS1tZXRhZGF0YS1pdGVtLWxhYmVsIHtcbiAgd2lkdGg6IDFweDtcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbn1cblxuLnNxLW1ldGFkYXRhLWl0ZW0tdmFsdWVzIHtcbiAgbWF4LWhlaWdodDogMTVyZW07XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIHRyYW5zaXRpb246IG1heC1oZWlnaHQgMC4ycyBlYXNlLWluLW91dDtcbn1cbi5zcS1tZXRhZGF0YS1pdGVtLXZhbHVlcyAuYnJlYWRjcnVtYiB7XG4gIHBhZGRpbmc6IDA7XG4gIGJhY2tncm91bmQtY29sb3I6IGluaGVyaXQ7XG4gIGRpc3BsYXk6IGlubGluZTtcbn1cbi5zcS1tZXRhZGF0YS1pdGVtLXZhbHVlcyAuYnJlYWRjcnVtYiA+IGxpIHtcbiAgZGlzcGxheTogaW5saW5lO1xufVxuLnNxLW1ldGFkYXRhLWl0ZW0tdmFsdWVzIC5icmVhZGNydW1iOmFmdGVyIHtcbiAgZGlzcGxheTogaW5saW5lO1xufVxuLnNxLW1ldGFkYXRhLWl0ZW0tdmFsdWVzIC5jb3VudGVyIHtcbiAgZm9udC1zaXplOiA4MyU7XG59XG4uc3EtbWV0YWRhdGEtaXRlbS12YWx1ZXMuY29sbGFwc2VkIHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIG1heC1oZWlnaHQ6IDEuNXJlbTtcbn1cbi5zcS1tZXRhZGF0YS1pdGVtLXZhbHVlcyAuY29sbGFwc2UtYnV0dG9uIHtcbiAgZm9udC1zaXplOiAwLjlyZW07XG59XG5cbi5zcS1tZXRhZGF0YS1pdGVtLnNxLXRhYnVsYXIge1xuICBkaXNwbGF5OiB0YWJsZS1yb3c7XG59XG4uc3EtbWV0YWRhdGEtaXRlbS5zcS10YWJ1bGFyIC5zcS1tZXRhZGF0YS1pdGVtLWljb24sIC5zcS1tZXRhZGF0YS1pdGVtLnNxLXRhYnVsYXIgLnNxLW1ldGFkYXRhLWl0ZW0tbGFiZWwge1xuICBkaXNwbGF5OiB0YWJsZS1jZWxsO1xufVxuXG4uc3EtbWV0YWRhdGEtaXRlbTpub3QoLnNxLXRhYnVsYXIpIHtcbiAgZGlzcGxheTogaW5saW5lO1xufVxuLnNxLW1ldGFkYXRhLWl0ZW06bm90KC5zcS10YWJ1bGFyKSAuc3EtbWV0YWRhdGEtaXRlbS1sYWJlbCwgLnNxLW1ldGFkYXRhLWl0ZW06bm90KC5zcS10YWJ1bGFyKSAuc3EtbWV0YWRhdGEtaXRlbS12YWx1ZXMge1xuICBkaXNwbGF5OiBpbmxpbmU7XG59Il19 */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](MetadataItem, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-metadata-item",
                templateUrl: "./metadata-item.html",
                styleUrls: ['./metadata-item.scss']
            }]
    }], function () { return [{ type: _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_2__["AppService"] }, { type: _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_2__["FormatService"] }]; }, { record: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], item: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], showTitle: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], showIcon: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], showCounts: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], clickable: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], tabular: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], collapseRows: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], _select: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"],
            args: ["select"]
        }], hidden: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostBinding"],
            args: ['hidden']
        }] }); })();


/***/ }),

/***/ "4uMq":
/*!*************************************************!*\
  !*** ../components/preview/preview-document.ts ***!
  \*************************************************/
/*! exports provided: HighlightCategoryFilterChoice, PreviewDocument */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HighlightCategoryFilterChoice", function() { return HighlightCategoryFilterChoice; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PreviewDocument", function() { return PreviewDocument; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");


var HighlightCategoryFilterChoice;
(function (HighlightCategoryFilterChoice) {
    HighlightCategoryFilterChoice[HighlightCategoryFilterChoice["All"] = 0] = "All";
    HighlightCategoryFilterChoice[HighlightCategoryFilterChoice["None"] = 1] = "None";
    HighlightCategoryFilterChoice[HighlightCategoryFilterChoice["Value"] = 2] = "Value";
})(HighlightCategoryFilterChoice || (HighlightCategoryFilterChoice = {}));
// forEach on a NodeList is polyfilled for IE but not at all necessarily when the list comes from a document
// in another frame. This function is used to perform the forEach taking this into account.
function forEach(nodeList, callbackfn) {
    if (!nodeList.forEach) {
        Array.from(nodeList).forEach(callbackfn);
    }
    else {
        nodeList.forEach(callbackfn);
    }
}
/**
 * This class offers an API to manipulate the HTML of a preview document.
 * - Insert elements dynamically in the DOM of the preview (eg. tooltips)
 * - Retrieve the text of entities or extracts
 * - Select the elements of entities or extracts (by altering their CSS classes)
 * - Highlight (or not) specific entities or categories in the HTML (by altering their CSS classes)
 */
class PreviewDocument {
    constructor(element) {
        var _a, _b;
        if (element instanceof _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"]) {
            this._window = (_a = element === null || element === void 0 ? void 0 : element.nativeElement) === null || _a === void 0 ? void 0 : _a.contentWindow;
            if (((_b = this._window) === null || _b === void 0 ? void 0 : _b.frames) && this._window.frames["frSheet"]) {
                this._window = this._window.frames["frSheet"]; // aspose xls preview
            }
        }
        else {
            this._document = element;
        }
    }
    // PUBLIC METHODS
    /**
     * Return the Window of the iframe containing the element
     */
    getContentWindow() {
        return this._window;
    }
    /**
     * Returns the root Document element of the HTML Preview
     */
    get document() {
        return this._document || this._window.document;
    }
    /**
     * Insert a given DOM Element in the body of the document preview
     * @param component
     */
    insertComponent(component) {
        this.document.body.appendChild(component);
    }
    /**
     * Returns the text of a given entity
     * @param categoryId Category of the entity
     * @param index Index of the entity in that category
     */
    getHighlightText(categoryId, index) {
        if (index < 0) {
            return "";
        }
        const nodes = this.document.querySelectorAll("#" + categoryId + "_" + index);
        if (!nodes || nodes.length === 0) {
            return "";
        }
        let text = "";
        forEach(nodes, n => text += (n['innerHTML'] || n.textContent));
        return text;
    }
    /**
     * Update the location of the entities' SVG background (for some converters)
     */
    setSvgBackgroundPositionAndSize() {
        const svgList = this.document.querySelectorAll("svg");
        if (svgList != null) {
            for (let i = 0, ic = svgList.length; i < ic; i++) {
                const svg = svgList.item(i);
                const tspanList = svg.getElementsByTagName("tspan");
                if (tspanList != null) {
                    for (let j = 0, jc = tspanList.length; j < jc; j++) {
                        const tspan = tspanList.item(j);
                        if (tspan) {
                            const bgId = tspan.getAttribute("data-entity-background");
                            if (bgId) {
                                const rect = this.getFirst(this.getDocElements(bgId));
                                if (rect) {
                                    this.resizeSvgBackground(rect, tspan);
                                }
                            }
                        }
                    }
                }
            }
        }
    }
    /**
     * Select a specific entity by applying specific highlight classes
     * to the DOM elements and scrolling the view to center around them.
     * @param categoryId Category of the entity
     * @param index Index of the entity in that category
     */
    selectHighlight(categoryId, index) {
        this.clearHighlightSelection();
        // current element becomes previous element
        this.previousElement = this.document.getElementById(categoryId + '_' + index);
        if (this.previousElement) {
            // highlight new selected element
            this.setHighlightSelection(this.previousElement, true, true);
            this.previousElement.scrollIntoView({ block: 'center' });
        }
    }
    /**
     * Removes all entity selection classes from the document HTML elements
     */
    clearHighlightSelection() {
        // Clear HTML elements borders
        if (this.previousElement) {
            this.previousElement.classList.remove(PreviewDocument.SELECTED_HIGHLIGHT_CLASS);
        }
        // Clear SVG elements borders
        const elements = this.document.querySelectorAll("line.sq-svg");
        for (let i = 0; i < elements.length; i++) {
            const parentNode = elements[i].parentNode;
            if (parentNode) {
                parentNode.removeChild(elements[i]);
            }
        }
    }
    /**
     * Turns highlights on or off based on the provided filter object. Additionally clears the selected entity
     * @param filters object where each key provides a filter for each category of entity/highlight
     */
    filterHighlights(filters) {
        this.updateHighlightFilterState(filters);
        this.clearHighlightSelection();
    }
    /**
     * Loop through every highlighted element in the document and turn highlights on or off based on the filters object.
     * If the filters object is an array then only the specified categories are highlighted.
     * @param filters object where each key provides a filter for each category of entity/highlight
     */
    updateHighlightFilterState(filters) {
        const elements = this.document.querySelectorAll("[data-entity-display], .extractslocations, .matchlocations");
        if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].isArray(filters)) {
            forEach(elements, element => {
                const highlight = filters.some(category => element.classList.contains(category));
                if (highlight) {
                    element.classList.remove(PreviewDocument.FILTERED_OUT_HIGHLIGHT_CLASS);
                }
                else {
                    element.classList.add(PreviewDocument.FILTERED_OUT_HIGHLIGHT_CLASS);
                }
            });
        }
        else {
            forEach(elements, element => {
                if (PreviewDocument.elementIsFilteredOut(element, filters)) {
                    element.classList.add(PreviewDocument.FILTERED_OUT_HIGHLIGHT_CLASS);
                }
                else {
                    element.classList.remove(PreviewDocument.FILTERED_OUT_HIGHLIGHT_CLASS);
                }
            });
        }
    }
    /**
     * Turns on/off the highlights of one category of entities or a specific value if provided
     * @param category e.g. person
     * @param on true for highlighting / false for turning off
     * @param value e.g. "BILL GATES"
     */
    toggleHighlight(category, on, value) {
        const elements = this.document.querySelectorAll("." + category);
        forEach(elements, element => {
            if (!value
                || (element.hasAttribute(PreviewDocument.BASIC_ENTITY_DISPLAY_ELEMENT_ATTRIBUTE) && value === element.getAttribute(PreviewDocument.BASIC_ENTITY_DISPLAY_ELEMENT_ATTRIBUTE))
                || (element.hasAttribute(PreviewDocument.ADVANCED_ENTITY_DISPLAY_ELEMENT_ATTRIBUTE) && value === element.getAttribute(PreviewDocument.ADVANCED_ENTITY_DISPLAY_ELEMENT_ATTRIBUTE))) {
                if (on) {
                    element.classList.remove(PreviewDocument.FILTERED_OUT_HIGHLIGHT_CLASS);
                }
                else {
                    element.classList.add(PreviewDocument.FILTERED_OUT_HIGHLIGHT_CLASS);
                }
            }
        });
    }
    // PRIVATE METHODS
    setHighlightSelection(elt, isFirst, isLast) {
        if (this.isSvgElement(elt)) {
            this.setHighlightSelectionSVG(elt, isFirst, isLast);
        }
        else {
            this.setHighlightSelectionHTML(elt, isFirst, isLast);
        }
    }
    setHighlightSelectionHTML(elt, isFirst, isLast) {
        elt.classList.add(PreviewDocument.SELECTED_HIGHLIGHT_CLASS);
        if (isFirst) {
            elt.classList.add(PreviewDocument.SELECTED_HIGHLIGHT_FIRST_FRAGMENT_CLASS);
        }
        if (isLast) {
            elt.classList.add(PreviewDocument.SELECTED_HIGHLIGHT_LAST_FRAGMENT_CLASS);
        }
    }
    setHighlightSelectionSVG(elt, isFirst, isLast) {
        const bgId = elt.getAttribute("data-entity-background");
        if (!bgId)
            return;
        const rect = this.getFirst(this.getDocElements(bgId));
        const group = rect.parentNode;
        const rectPosition = rect.getBBox();
        if (group) {
            const top = rectPosition.y;
            const bottom = rectPosition.y + rectPosition.height;
            const left = rectPosition.x;
            const right = rectPosition.x + rectPosition.width;
            const valueTransform = rect.getAttribute("transform");
            this.addSvgLine(group, left, top, right, top, valueTransform);
            this.addSvgLine(group, left, bottom, right, bottom, valueTransform);
            if (isFirst)
                this.addSvgLine(group, left, top, left, bottom, valueTransform);
            if (isLast)
                this.addSvgLine(group, right, top, right, bottom, valueTransform);
        }
    }
    addSvgLine(group, x1, y1, x2, y2, transform) {
        const line = this.document.createElementNS("http://www.w3.org/2000/svg", "line");
        line.setAttribute("class", PreviewDocument.SVG_LINE_CLASS);
        line.setAttribute("x1", String(x1));
        line.setAttribute("y1", String(y1));
        line.setAttribute("x2", String(x2));
        line.setAttribute("y2", String(y2));
        if (transform)
            line.setAttribute("transform", transform);
        group.appendChild(line);
    }
    resizeSvgBackground(rect, tspan) {
        let elt = tspan;
        while (elt.tagName !== "text") {
            elt = elt.parentNode;
            if (elt == null)
                break;
        }
        const text = elt;
        const textBoxPixel = text.getBoundingClientRect();
        const textBoxSVG = text.getBBox();
        if (textBoxPixel.height === 0 || textBoxPixel.width === 0)
            return;
        const scaleX = textBoxSVG.width / textBoxPixel.width;
        const scaleY = textBoxSVG.height / textBoxPixel.height;
        const deltaX = 2 * scaleX;
        const deltaY = 2 * scaleY;
        const firstCharRect = tspan.getExtentOfChar(0);
        const tspanWidth = tspan.getComputedTextLength();
        rect.setAttribute("x", String(firstCharRect.x - deltaX));
        rect.setAttribute("y", String(firstCharRect.y - deltaY));
        rect.setAttribute("width", String(tspanWidth + 2 * deltaX));
        rect.setAttribute("height", String(textBoxSVG.height + 2 * deltaY));
        const valueTransform = text.getAttribute("transform");
        if (valueTransform)
            rect.setAttribute("transform", valueTransform);
    }
    getDocElements(id) {
        const list = Array();
        // Get HTML elements directly by id
        const eltList = this.document.querySelectorAll("#" + id);
        for (let i = 0; i < eltList.length; i++) {
            list.push(eltList[i]);
        }
        // Get SVG tspan iterating on them (jquery querySelectorAll didn't return SVG inner elements)
        const svgList = this.document.querySelectorAll("svg");
        if (svgList != null) {
            for (let i = 0, ic = svgList.length; i < ic; i++) {
                const svg = svgList.item(i);
                const tspanList = svg.getElementsByTagName("tspan");
                if (tspanList != null) {
                    for (let j = 0, jc = tspanList.length; j < jc; j++) {
                        const tspan = tspanList.item(j);
                        if (tspan) {
                            if (tspan.id === id)
                                list.push(tspan);
                        }
                    }
                }
            }
        }
        return list;
    }
    getFirst(nodes) {
        return (nodes != null && nodes.length > 0) ? nodes[0] : null;
    }
    isSvgElement(elt) {
        if (elt == null)
            return false;
        return "viewportElement" in elt;
    }
    // PRIVATE STATIC (from highlight helper)
    static elementIsFilteredOut(element, filters) {
        const elementClass = this.getElementCategory(element, Object.keys(filters));
        if (elementClass == null) {
            return false;
        }
        const filterState = filters[elementClass];
        if (filterState == null) {
            return false;
        }
        if (filterState.choice === HighlightCategoryFilterChoice.None) {
            return true;
        }
        if (filterState.choice === HighlightCategoryFilterChoice.All) {
            return false;
        }
        if (element.hasAttribute(PreviewDocument.BASIC_ENTITY_DISPLAY_ELEMENT_ATTRIBUTE)) {
            return filterState.filterValue !== element.getAttribute(PreviewDocument.BASIC_ENTITY_DISPLAY_ELEMENT_ATTRIBUTE);
        }
        return filterState.filterValue !== element.getAttribute(PreviewDocument.ADVANCED_ENTITY_DISPLAY_ELEMENT_ATTRIBUTE);
    }
    static getElementCategory(element, categoryIds) {
        for (const categoryId of categoryIds) {
            if (element.classList.contains(categoryId)) {
                return categoryId;
            }
        }
        return "";
    }
}
PreviewDocument.SELECTED_HIGHLIGHT_CLASS = "sq-current";
PreviewDocument.SELECTED_HIGHLIGHT_FIRST_FRAGMENT_CLASS = "sq-first";
PreviewDocument.SELECTED_HIGHLIGHT_LAST_FRAGMENT_CLASS = "sq-last";
PreviewDocument.FILTERED_OUT_HIGHLIGHT_CLASS = "sq-inactive";
PreviewDocument.SVG_LINE_CLASS = "sq-svg";
PreviewDocument.BASIC_ENTITY_DISPLAY_ELEMENT_ATTRIBUTE = "data-entity-basic";
PreviewDocument.ADVANCED_ENTITY_DISPLAY_ELEMENT_ATTRIBUTE = "data-entity-display";


/***/ }),

/***/ "4yRq":
/*!************************************************!*\
  !*** ../components/labels/labels.component.ts ***!
  \************************************************/
/*! exports provided: Labels */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Labels", function() { return Labels; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/app-utils */ "SBPP");
/* harmony import */ var _labels_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./labels.service */ "OpW8");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../core/intl/message.pipe */ "X1Kh");
/* harmony import */ var _label_pipe__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./label.pipe */ "8LQl");








function Labels_div_0_span_1_i_6_Template(rf, ctx) { if (rf & 1) {
    const _r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "i", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function Labels_div_0_span_1_i_6_Template_i_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r7); const $index_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().index; const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r5.remove($index_r3); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("title", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](1, 1, ctx_r4.public ? "msg#labels.removePublicLabelTitle" : "msg#labels.removePrivateLabelTitle"));
} }
const _c0 = function (a0, a1) { return { "sq-labels-public": a0, "sq-labels-private": a1 }; };
function Labels_div_0_span_1_Template(rf, ctx) { if (rf & 1) {
    const _r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "span", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function Labels_div_0_span_1_Template_span_click_3_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r9); const label_r2 = ctx.$implicit; const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r8.select(label_r2); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](5, "sqLabel");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](6, Labels_div_0_span_1_i_6_Template, 2, 3, "i", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const label_r2 = ctx.$implicit;
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("title", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 4, ctx_r1.public ? "msg#labels.selectPublicLabelTitle" : "msg#labels.selectPrivateLabelTitle"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction2"](9, _c0, ctx_r1.public, !ctx_r1.public));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](5, 6, label_r2, ctx_r1.public));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r1.canRemove());
} }
function Labels_div_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, Labels_div_0_span_1_Template, 7, 12, "span", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx_r0.labels);
} }
class Labels {
    constructor(appService, labelsService) {
        this.appService = appService;
        this.labelsService = labelsService;
        this.enableDelete = false; /** Display the delete button in the label tag */
    }
    ngOnChanges() {
        const field = this.public
            ? this.labelsService.publicLabelsField
            : this.labelsService.privateLabelsField;
        this.labelsField = this.appService.resolveColumnAlias(field);
        this.showLabels = !!this.labelsField;
        this.makeLabels();
    }
    makeLabels() {
        if (!this.showLabels) {
            this.labels = [];
            return;
        }
        const labels = this.record[this.labelsField];
        if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].isArray(labels)) {
            this.labels = this.labelsService.sort(labels.slice(), this.public);
        }
        else {
            this.labels = [];
        }
    }
    select(label) {
        if (!this.public) {
            label = this.labelsService.removePrivatePrefix(label);
        }
        this.labelsService.selectLabels([label], this.public);
    }
    remove(index) {
        if (this.canRemove()) {
            let label = this.labels[index];
            if (!this.public) {
                label = this.labelsService.removePrivatePrefix(label);
            }
            this.labelsService.removeLabels([label], [this.record.id], this.public);
        }
    }
    canRemove() {
        return this.public
            ? this.enableDelete &&
                this.labelsService.allowPublicLabelsManagement &&
                this.labelsService.userLabelsRights &&
                this.labelsService.userLabelsRights.canManagePublicLabels
            : this.enableDelete && true;
    }
}
Labels.ɵfac = function Labels_Factory(t) { return new (t || Labels)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_2__["AppService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_labels_service__WEBPACK_IMPORTED_MODULE_3__["LabelsService"])); };
Labels.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: Labels, selectors: [["sq-labels"]], hostVars: 2, hostBindings: function Labels_HostBindings(rf, ctx) { if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMap"](ctx.hostClasses);
    } }, inputs: { record: "record", public: "public", enableDelete: "enableDelete" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 1, vars: 1, consts: [["class", "d-inline", 4, "ngIf"], [1, "d-inline"], ["class", "d-inline", 4, "ngFor", "ngForOf"], [1, "badge", "badge-pill", "badge-info", "align-self-center", "mr-1", "d-inline", 3, "ngClass", "title"], [3, "click"], ["class", "sq-label-remove fas fa-times-circle clickable", 3, "title", "click", 4, "ngIf"], [1, "sq-label-remove", "fas", "fa-times-circle", "clickable", 3, "title", "click"]], template: function Labels_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, Labels_div_0_Template, 2, 1, "div", 0);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.showLabels);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_4__["NgIf"], _angular_common__WEBPACK_IMPORTED_MODULE_4__["NgForOf"], _angular_common__WEBPACK_IMPORTED_MODULE_4__["NgClass"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_5__["MessagePipe"], _label_pipe__WEBPACK_IMPORTED_MODULE_6__["LabelPipe"]], styles: [".sq-labels-public[_ngcontent-%COMP%] {\n                background-color: #4fc3f7;\n            }\n            .sq-labels-private[_ngcontent-%COMP%] {\n                background-color: #7283a7;\n            }\n            .sq-label-remove[_ngcontent-%COMP%] {\n                margin-left: 3px;\n            }\n            .clickable[_ngcontent-%COMP%] {\n                cursor: pointer;\n            }\n            .clickable[_ngcontent-%COMP%]:hover {\n                opacity: 85%;\n            }"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](Labels, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-labels",
                // We need the two spans to get whitespace between each label
                // change size by adding h1-6 class to .sq-label div (default is h5)
                templateUrl: "./labels.component.html",
                styles: [
                    `
            .sq-labels-public {
                background-color: #4fc3f7;
            }
            .sq-labels-private {
                background-color: #7283a7;
            }
            .sq-label-remove {
                margin-left: 3px;
            }
            .clickable {
                cursor: pointer;
            }
            .clickable:hover {
                opacity: 85%;
            }
        `,
                ],
            }]
    }], function () { return [{ type: _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_2__["AppService"] }, { type: _labels_service__WEBPACK_IMPORTED_MODULE_3__["LabelsService"] }]; }, { record: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], public: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], enableDelete: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], hostClasses: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostBinding"],
            args: ["class"]
        }] }); })();


/***/ }),

/***/ "5Hmq":
/*!******************************************************!*\
  !*** ../components/feedback/bootstrap/public-api.ts ***!
  \******************************************************/
/*! exports provided: BsFeedbackMenu, BsFeedbackModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _feedback_menu_feedback_menu__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./feedback-menu/feedback-menu */ "7eWH");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFeedbackMenu", function() { return _feedback_menu_feedback_menu__WEBPACK_IMPORTED_MODULE_0__["BsFeedbackMenu"]; });

/* harmony import */ var _feedback_module__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./feedback.module */ "OQ2v");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFeedbackModule", function() { return _feedback_module__WEBPACK_IMPORTED_MODULE_1__["BsFeedbackModule"]; });





/***/ }),

/***/ "5bmX":
/*!******************************************!*\
  !*** ../core/modal/confirm.component.ts ***!
  \******************************************/
/*! exports provided: Confirm */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Confirm", function() { return Confirm; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _modal_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./modal.service */ "sZXJ");
/* harmony import */ var _modal_ref__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./modal-ref */ "Mvhk");
/* harmony import */ var _angular_cdk_a11y__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/cdk/a11y */ "sg/T");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _intl_message_pipe__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../intl/message.pipe */ "X1Kh");







function Confirm_ng_container_8_button_1_Template(rf, ctx) { if (rf & 1) {
    const _r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function Confirm_ng_container_8_button_1_Template_button_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r5); const button_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit; const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r3.buttonClick(button_r1); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const button_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("type", button_r1.primary ? "submit" : "button");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 2, button_r1.getText()));
} }
function Confirm_ng_container_8_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, Confirm_ng_container_8_button_1_Template, 3, 4, "button", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const button_r1 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", button_r1.visible);
} }
class Confirm {
    constructor(model, modalRef) {
        this.model = model;
        this.modalRef = modalRef;
    }
    get title() {
        return this.model.title ? this.model.title : "msg#modal.confirm.title";
    }
    buttonClick(button) {
        button.click(this.modalRef);
    }
}
Confirm.ɵfac = function Confirm_Factory(t) { return new (t || Confirm)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_modal_service__WEBPACK_IMPORTED_MODULE_1__["MODAL_MODEL"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_modal_ref__WEBPACK_IMPORTED_MODULE_2__["ModalRef"])); };
Confirm.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: Confirm, selectors: [["sq-core-confirm"]], decls: 9, vars: 9, consts: [["cdkTrapFocus", "", 2, "border", "solid", "padding", "16px", "background-color", "white", 3, "cdkTrapFocusAutoCapture"], [2, "margin-top", "0"], [4, "ngFor", "ngForOf"], [3, "type", "click", 4, "ngIf"], [3, "type", "click"]], template: function Confirm_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "h3", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](3, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "div");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](6, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](7, "hr");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](8, Confirm_ng_container_8_Template, 2, 1, "ng-container", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("cdkTrapFocusAutoCapture", true);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](3, 4, ctx.title));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](6, 6, ctx.model.message, ctx.model.messageParams));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.model.buttons);
    } }, directives: [_angular_cdk_a11y__WEBPACK_IMPORTED_MODULE_3__["CdkTrapFocus"], _angular_common__WEBPACK_IMPORTED_MODULE_4__["NgForOf"], _angular_common__WEBPACK_IMPORTED_MODULE_4__["NgIf"]], pipes: [_intl_message_pipe__WEBPACK_IMPORTED_MODULE_5__["MessagePipe"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](Confirm, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-core-confirm",
                template: `
        <div style="border: solid;padding: 16px;background-color: white;" cdkTrapFocus [cdkTrapFocusAutoCapture]="true">
            <h3 style="margin-top: 0;">{{title | sqMessage}}</h3>
            <div>{{model.message | sqMessage:model.messageParams}}</div>
            <hr>
            <ng-container *ngFor="let button of model.buttons">
                <button *ngIf="button.visible" type="{{button.primary ? 'submit' : 'button'}}"
                    (click)="buttonClick(button)">{{button.getText() | sqMessage}}</button>
            </ng-container>
        </div>
    `
            }]
    }], function () { return [{ type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [_modal_service__WEBPACK_IMPORTED_MODULE_1__["MODAL_MODEL"]]
            }] }, { type: _modal_ref__WEBPACK_IMPORTED_MODULE_2__["ModalRef"] }]; }, null); })();


/***/ }),

/***/ "5c96":
/*!***************************************************!*\
  !*** ../core/web-services/queryintent.service.ts ***!
  \***************************************************/
/*! exports provided: QueryIntentWebService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "QueryIntentWebService", function() { return QueryIntentWebService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _http_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./http.service */ "3Hvy");
/* harmony import */ var _start_config_web_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./start-config.web.service */ "R3Oh");
/* harmony import */ var _http_client__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./http-client */ "j7UU");





/**
 * A service for calling the queryintent web service
 */
class QueryIntentWebService extends _http_service__WEBPACK_IMPORTED_MODULE_1__["HttpService"] {
    constructor(startConfig, httpClient) {
        super(startConfig);
        this.httpClient = httpClient;
        this.endpoint = "queryintent";
    }
    getQueryIntent(query) {
        const data = {
            query,
            app: this.appName
        };
        return this.httpClient.post(this.makeUrl(this.endpoint), data);
    }
}
QueryIntentWebService.ɵfac = function QueryIntentWebService_Factory(t) { return new (t || QueryIntentWebService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_start_config_web_service__WEBPACK_IMPORTED_MODULE_2__["START_CONFIG"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_http_client__WEBPACK_IMPORTED_MODULE_3__["SqHttpClient"])); };
QueryIntentWebService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: QueryIntentWebService, factory: QueryIntentWebService.ɵfac, providedIn: "root" });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](QueryIntentWebService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: "root"
            }]
    }], function () { return [{ type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [_start_config_web_service__WEBPACK_IMPORTED_MODULE_2__["START_CONFIG"]]
            }] }, { type: _http_client__WEBPACK_IMPORTED_MODULE_3__["SqHttpClient"] }]; }, null); })();


/***/ }),

/***/ "5e9m":
/*!*******************************************!*\
  !*** ../components/notification/index.ts ***!
  \*******************************************/
/*! exports provided: BsNotificationModule, notificationAnimations, BsNotification, BsNotifications, BsNotificationsManager, enNotification, frNotification, deNotification */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _public_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./public-api */ "tG2r");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsNotificationModule", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsNotificationModule"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "notificationAnimations", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["notificationAnimations"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsNotification", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsNotification"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsNotifications", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsNotifications"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsNotificationsManager", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsNotificationsManager"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "enNotification", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["enNotification"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "frNotification", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["frNotification"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "deNotification", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["deNotification"]; });




/***/ }),

/***/ "5lQY":
/*!***************************************************!*\
  !*** ../core/web-services/preview.web.service.ts ***!
  \***************************************************/
/*! exports provided: PreviewWebService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PreviewWebService", function() { return PreviewWebService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "+kfY");
/* harmony import */ var _http_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./http.service */ "3Hvy");
/* harmony import */ var _start_config_web_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./start-config.web.service */ "R3Oh");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/operators */ "0Wlh");
/* harmony import */ var _http_client__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./http-client */ "j7UU");







/**
 * A service for calling the preview web service
 */
class PreviewWebService extends _http_service__WEBPACK_IMPORTED_MODULE_2__["HttpService"] {
    constructor(startConfig, httpClient) {
        super(startConfig);
        this.httpClient = httpClient;
    }
    /**
     * Gets {@link PreviewData} for a document in the context of a {@link IQuery}
     *
     * @param id The document id
     * @param query The query context
     * @param auditEvents Audit events to store on the server
     */
    get(id, query, auditEvents) {
        return this.httpClient.post(this.makeUrl("preview"), {
            app: this.appName,
            action: "get",
            id,
            query,
            browserUrl: this.startConfig.browserUrl,
            $auditRecord: auditEvents
        }).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["shareReplay"])(1));
    }
    /**
     * Gets document's preview HTML content
     *
     * @param url The document preview URL
     * @returns
     */
    getHtmlPreview(url) {
        return this.httpClient.get(url, { responseType: "text" }).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["catchError"])(err => Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["throwError"])(err)), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["distinctUntilChanged"])(), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["shareReplay"])(1));
    }
}
PreviewWebService.ɵfac = function PreviewWebService_Factory(t) { return new (t || PreviewWebService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_start_config_web_service__WEBPACK_IMPORTED_MODULE_3__["START_CONFIG"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_http_client__WEBPACK_IMPORTED_MODULE_5__["SqHttpClient"])); };
PreviewWebService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: PreviewWebService, factory: PreviewWebService.ɵfac, providedIn: "root" });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](PreviewWebService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: "root"
            }]
    }], function () { return [{ type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [_start_config_web_service__WEBPACK_IMPORTED_MODULE_3__["START_CONFIG"]]
            }] }, { type: _http_client__WEBPACK_IMPORTED_MODULE_5__["SqHttpClient"] }]; }, null); })();


/***/ }),

/***/ "5yUi":
/*!***********************************************************!*\
  !*** ../components/user-settings/bootstrap/public-api.ts ***!
  \***********************************************************/
/*! exports provided: JsonInfo, BsEditUserSettings, BsUserSettingsEditor, BsUserSettingsModule, BsUserMenuComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _edit_user_settings_edit_user_settings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./edit-user-settings/edit-user-settings */ "i40w");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "JsonInfo", function() { return _edit_user_settings_edit_user_settings__WEBPACK_IMPORTED_MODULE_0__["JsonInfo"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsEditUserSettings", function() { return _edit_user_settings_edit_user_settings__WEBPACK_IMPORTED_MODULE_0__["BsEditUserSettings"]; });

/* harmony import */ var _user_settings_editor_user_settings_editor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./user-settings-editor/user-settings-editor */ "xyZx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsUserSettingsEditor", function() { return _user_settings_editor_user_settings_editor__WEBPACK_IMPORTED_MODULE_1__["BsUserSettingsEditor"]; });

/* harmony import */ var _user_settings_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./user-settings.module */ "8Z7d");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsUserSettingsModule", function() { return _user_settings_module__WEBPACK_IMPORTED_MODULE_2__["BsUserSettingsModule"]; });

/* harmony import */ var _user_menu_user_menu_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./user-menu/user-menu.component */ "D8t6");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsUserMenuComponent", function() { return _user_menu_user_menu_component__WEBPACK_IMPORTED_MODULE_3__["BsUserMenuComponent"]; });







/***/ }),

/***/ "6/5K":
/*!**************************************************************!*\
  !*** ../core/web-services/json-method-plugin.web.service.ts ***!
  \**************************************************************/
/*! exports provided: JsonMethodPluginService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "JsonMethodPluginService", function() { return JsonMethodPluginService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "+kfY");
/* harmony import */ var _http_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./http.service */ "3Hvy");
/* harmony import */ var _start_config_web_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./start-config.web.service */ "R3Oh");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _http_client__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./http-client */ "j7UU");







/**
 * A generic service for invoking JsonMethod plugins
 */
class JsonMethodPluginService extends _http_service__WEBPACK_IMPORTED_MODULE_2__["HttpService"] {
    constructor(httpClient, startConfig) {
        super(startConfig);
        this.httpClient = httpClient;
    }
    /**
     * Call a JsonMethod plugin using an HTTP POST
     *
     * @param method The name of the JsonMethod plugin
     * @param query Parameters to pass to the plugin
     * @param options HTTP options for the request
     * @returns An observable of the plugin's return value
     */
    post(method, query, options) {
        if (!_sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__["Utils"].isObject(query)) {
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["throwError"])({ error: "invalid query object" });
        }
        const observable = this.httpClient.post(this.makeUrl(method), query, options);
        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__["Utils"].subscribe(observable, (response) => {
            console.log("JsonMethodPluginService.post success - data: ", response);
        }, (error) => {
            console.log("JsonMethodPluginService.post failure - error: ", error);
        }, () => {
            console.log("JsonMethodPluginService.post complete");
        });
        return observable;
    }
    /**
     * Call a JsonMethod plugin using an HTTP POST
     *
     * @param method The name of the JsonMethod plugin
     * @param query Parameters to pass to the plugin
     * @param options HTTP options for the request
     * @returns An observable of the plugin's return value
     */
    call(method, query, options) {
        return this.post(method, query, options);
    }
    /**
     * Call a JsonMethod plugin using an HTTP GET
     *
     * @param method The name of the JsonMethod plugin
     * @param query Parameters to pass to the plugin
     * @param options HTTP options for the request
     * @returns An observable of the plugin's return value
     */
    get(method, query, options) {
        const observable = this.httpClient.get(this.makeUrl(method), Object.assign({ params: this.makeParams(query) }, options));
        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__["Utils"].subscribe(observable, (response) => {
            console.log("JsonMethodPluginService.get success - data: ", response);
        }, (error) => {
            console.log("JsonMethodPluginService.get failure - error: ", error);
        }, () => {
            console.log("JsonMethodPluginService.get complete");
        });
        return observable;
    }
    makeUrl(api) {
        return super.makeUrl('plugin/' + api);
    }
}
JsonMethodPluginService.ɵfac = function JsonMethodPluginService_Factory(t) { return new (t || JsonMethodPluginService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_http_client__WEBPACK_IMPORTED_MODULE_5__["SqHttpClient"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_start_config_web_service__WEBPACK_IMPORTED_MODULE_3__["START_CONFIG"])); };
JsonMethodPluginService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: JsonMethodPluginService, factory: JsonMethodPluginService.ɵfac, providedIn: "root" });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](JsonMethodPluginService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: "root"
            }]
    }], function () { return [{ type: _http_client__WEBPACK_IMPORTED_MODULE_5__["SqHttpClient"] }, { type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [_start_config_web_service__WEBPACK_IMPORTED_MODULE_3__["START_CONFIG"]]
            }] }]; }, null); })();


/***/ }),

/***/ "6BzM":
/*!***************************!*\
  !*** ./src/locales/de.ts ***!
  \***************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var moment_locale_de__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment/locale/de */ "BKZ+");
/* harmony import */ var moment_locale_de__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment_locale_de__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var d3_format_locale_de_DE_json__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! d3-format/locale/de-DE.json */ "wVQM");
var d3_format_locale_de_DE_json__WEBPACK_IMPORTED_MODULE_1___namespace = /*#__PURE__*/__webpack_require__.t(/*! d3-format/locale/de-DE.json */ "wVQM", 1);
/* harmony import */ var d3_time_format_locale_de_DE_json__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! d3-time-format/locale/de-DE.json */ "oOPZ");
var d3_time_format_locale_de_DE_json__WEBPACK_IMPORTED_MODULE_2___namespace = /*#__PURE__*/__webpack_require__.t(/*! d3-time-format/locale/de-DE.json */ "oOPZ", 1);
/* harmony import */ var _sinequa_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core */ "8UJf");
/* harmony import */ var _messages_de_json__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./messages/de.json */ "uOYS");
var _messages_de_json__WEBPACK_IMPORTED_MODULE_4___namespace = /*#__PURE__*/__webpack_require__.t(/*! ./messages/de.json */ "uOYS", 1);
/* harmony import */ var intl_locale_data_jsonp_de_DE__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! intl/locale-data/jsonp/de-DE */ "cmlg");
/* harmony import */ var intl_locale_data_jsonp_de_DE__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(intl_locale_data_jsonp_de_DE__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _formatjs_intl_relativetimeformat_dist_locale_data_de__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @formatjs/intl-relativetimeformat/dist/locale-data/de */ "VuJI");
/* harmony import */ var _formatjs_intl_relativetimeformat_dist_locale_data_de__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_formatjs_intl_relativetimeformat_dist_locale_data_de__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @sinequa/components/utils */ "DD1E");
/* harmony import */ var _sinequa_components_advanced__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @sinequa/components/advanced */ "c96x");
/* harmony import */ var _sinequa_components_alerts__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @sinequa/components/alerts */ "wg+P");
/* harmony import */ var _sinequa_components_baskets__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @sinequa/components/baskets */ "jOUn");
/* harmony import */ var _sinequa_components_facet__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @sinequa/components/facet */ "vbgc");
/* harmony import */ var _sinequa_components_feedback__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @sinequa/components/feedback */ "+3Y0");
/* harmony import */ var _sinequa_analytics_heatmap__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @sinequa/analytics/heatmap */ "vvgm");
/* harmony import */ var _sinequa_components_labels__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @sinequa/components/labels */ "URQe");
/* harmony import */ var _sinequa_components_metadata__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @sinequa/components/metadata */ "l9Gu");
/* harmony import */ var _sinequa_components_notification__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @sinequa/components/notification */ "5e9m");
/* harmony import */ var _sinequa_components_preview__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @sinequa/components/preview */ "XNLR");
/* harmony import */ var _sinequa_components_result__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @sinequa/components/result */ "fMrC");
/* harmony import */ var _sinequa_components_results_view__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @sinequa/components/results-view */ "DYFJ");
/* harmony import */ var _sinequa_components_saved_queries__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @sinequa/components/saved-queries */ "vQnv");
/* harmony import */ var _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @sinequa/components/selection */ "8GPZ");
/* harmony import */ var _sinequa_components_search__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @sinequa/components/search */ "7+c1");
/* harmony import */ var _sinequa_components_status_bar__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @sinequa/components/status-bar */ "P4gH");
/* harmony import */ var _sinequa_components_user_settings__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! @sinequa/components/user-settings */ "ooqV");





 // Safari




















const messages = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_7__["Utils"].merge({}, _sinequa_core__WEBPACK_IMPORTED_MODULE_3__["deCore"], _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_8__["deUtils"], _sinequa_components_advanced__WEBPACK_IMPORTED_MODULE_9__["deAdvanced"], _sinequa_components_alerts__WEBPACK_IMPORTED_MODULE_10__["deAlerts"], _sinequa_components_baskets__WEBPACK_IMPORTED_MODULE_11__["deBaskets"], _sinequa_components_facet__WEBPACK_IMPORTED_MODULE_12__["deFacet"], _sinequa_components_feedback__WEBPACK_IMPORTED_MODULE_13__["deFeedback"], _sinequa_analytics_heatmap__WEBPACK_IMPORTED_MODULE_14__["deHeatmap"], _sinequa_components_labels__WEBPACK_IMPORTED_MODULE_15__["deLabels"], _sinequa_components_metadata__WEBPACK_IMPORTED_MODULE_16__["deMetadata"], _sinequa_components_notification__WEBPACK_IMPORTED_MODULE_17__["deNotification"], _sinequa_components_preview__WEBPACK_IMPORTED_MODULE_18__["dePreview"], _sinequa_components_result__WEBPACK_IMPORTED_MODULE_19__["deResult"], _sinequa_components_results_view__WEBPACK_IMPORTED_MODULE_20__["deResultsView"], _sinequa_components_saved_queries__WEBPACK_IMPORTED_MODULE_21__["deSavedQueries"], _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_22__["deSelection"], _sinequa_components_search__WEBPACK_IMPORTED_MODULE_23__["deSearch"], _sinequa_components_status_bar__WEBPACK_IMPORTED_MODULE_24__["deStatusBar"], _sinequa_components_user_settings__WEBPACK_IMPORTED_MODULE_25__["deUserSettings"], _messages_de_json__WEBPACK_IMPORTED_MODULE_4__);
/* harmony default export */ __webpack_exports__["default"] = ({
    intl: {
        locale: "de-DE"
    },
    moment: {
        locale: "de"
    },
    d3: {
        locale: "de-DE",
        format: d3_format_locale_de_DE_json__WEBPACK_IMPORTED_MODULE_1__,
        time: d3_time_format_locale_de_DE_json__WEBPACK_IMPORTED_MODULE_2__
    },
    messages: messages
});


/***/ }),

/***/ "6FzQ":
/*!************************************************************!*\
  !*** ../components/saved-queries/saved-queries.service.ts ***!
  \************************************************************/
/*! exports provided: SAVED_QUERIES_CHANGE_EVENTS, SAVEDQUERY_COMPONENTS, SavedQueriesService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SAVED_QUERIES_CHANGE_EVENTS", function() { return SAVED_QUERIES_CHANGE_EVENTS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SAVEDQUERY_COMPONENTS", function() { return SAVEDQUERY_COMPONENTS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SavedQueriesService", function() { return SavedQueriesService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "+kfY");
/* harmony import */ var _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/web-services */ "cIYa");
/* harmony import */ var _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/app-utils */ "SBPP");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_components_action__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sinequa/components/action */ "WsHA");
/* harmony import */ var _sinequa_components_search__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @sinequa/components/search */ "7+c1");
/* harmony import */ var _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @sinequa/core/modal */ "vMGo");
/* harmony import */ var _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @sinequa/components/selection */ "8GPZ");












// Types of events triggering a change event
const SAVED_QUERIES_CHANGE_EVENTS = [
    "SavedQuery_Add" /* Add */,
    "SavedQuery_Delete" /* Delete */,
    "SavedQuery_DeleteAll" /* DeleteAll */,
    "SavedQuery_Rename" /* Rename */,
    "SavedQuery_Update" /* Update */
];
const SAVEDQUERY_COMPONENTS = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["InjectionToken"]('SAVEDQUERY_COMPONENTS');
class SavedQueriesService {
    constructor(userSettingsService, searchService, modalService, appService, queryExportService, downloadService, selectionService, savedQueryComponents) {
        this.userSettingsService = userSettingsService;
        this.searchService = searchService;
        this.modalService = modalService;
        this.appService = appService;
        this.queryExportService = queryExportService;
        this.downloadService = downloadService;
        this.selectionService = selectionService;
        this.savedQueryComponents = savedQueryComponents;
        this._events = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
        this._changes = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
        // Listen to the user settings
        this.userSettingsService.events.subscribe(event => {
            // E.g. new login occurs
            // ==> Menus need to be rebuilt
            this._events.next({ type: "SavedQuery_Loaded" /* Loaded */ });
        });
        // Listen to own events, to trigger change events
        this._events.subscribe(event => {
            if (SAVED_QUERIES_CHANGE_EVENTS.indexOf(event.type) !== -1) {
                this.changes.next(event);
            }
        });
        // Initialize selection action
        this.selectedRecordsAction = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_5__["Action"]({
            icon: 'fas fa-download',
            title: 'msg#exportQuery.btnTitle',
            action: (_item, _event) => {
                this.exportModal(this.selectionService.haveSelectedRecords
                    ? _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_2__["ExportSourceType"].Selection
                    : _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_2__["ExportSourceType"].Result);
            },
        });
    }
    // GETTERS
    /**
     * Returns the list of this user's saved queries.
     * The list is stored in the user settings (this is a redirection).
     * Using this service creates the list of saved queries if it does not already exist.
     */
    get savedqueries() {
        if (!this.userSettingsService.userSettings)
            this.userSettingsService.userSettings = {};
        if (!this.userSettingsService.userSettings["savedQueries"])
            this.userSettingsService.userSettings["savedQueries"] = [];
        return this.userSettingsService.userSettings["savedQueries"];
    }
    /**
     * Triggers any event among SavedQueryChangeEvent
     * (use for fine-grained control of saved queries workflow)
     */
    get events() {
        return this._events;
    }
    /**
     * Triggers when events affect the list of saved queries
     * (use to refresh saved queries menus)
     * Cf. CHANGE_EVENTS list
     */
    get changes() {
        return this._changes;
    }
    /**
     * @returns true if there is at least one saved query
     */
    get hasSavedQuery() {
        return this.savedqueries.length > 0;
    }
    /**
     * @returns a saved query with the given name or null if it does not exist
     * @param name
     */
    savedquery(name) {
        const i = this.savedqueryIndex(name);
        return i >= 0 ? this.savedqueries[i] : undefined;
    }
    savedqueryIndex(name) {
        for (let i = 0, ic = this.savedqueries.length; i < ic; i++) {
            const savedquery = this.savedqueries[i];
            if (savedquery && savedquery.name === name) {
                return i;
            }
        }
        return -1;
    }
    // CRUD
    /**
     * Creates a new saved query unless it already exists.
     * Emits an savedquery event.
     * Update the data on the server.
     * @param savedquery the savedquery to create
     * @returns true if savedquery was created
     */
    createSavedQuery(savedquery) {
        if (this.savedqueryIndex(savedquery.name) >= 0)
            return false; // This savedquery already exists
        this.savedqueries.unshift(savedquery);
        this._events.next({ type: "SavedQuery_Add" /* Add */, savedquery });
        this.patchSavedQueries([{
                type: "SavedQuery_Add" /* Add */,
                detail: {
                    savedquery: savedquery.name
                }
            }]);
        return true;
    }
    /**
     * Update the saved query at the given index, unless a saved query with the same name
     * already exists in the list of saved queries.
     * Emits an Saved Query event.
     * Update the data on the server.
     * @param savedquery the saved query to update
     * @param index the index at which to update the saved query
     * @returns true if saved query was updated
     */
    updateSavedQuery(savedquery, index) {
        const prevIndex = this.savedqueryIndex(savedquery.name);
        if (prevIndex !== -1 && index !== prevIndex)
            return false; // A saved query with the same name exists at a different index
        if (index >= 0 && index < this.savedqueries.length) {
            this.savedqueries.splice(index, 1, savedquery);
            this._events.next({ type: "SavedQuery_Update" /* Update */, savedquery });
            this.patchSavedQueries([
                {
                    type: "SavedQuery_Update" /* Update */,
                    detail: {
                        savedquery: savedquery.name
                    }
                }
            ]);
            return true;
        }
        return false; // This saved query does not exist
    }
    /**
     * Updates the full list of saved queries.
     * Emits an SavedQuery event.
     * Update the data on the server.
     * @param savedqueries the new list of saved queries
     * @param auditEvents the list of audit events to log
     */
    updateSavedQueries(savedqueries, auditEvents) {
        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__["Utils"].arraySet(this.savedqueries, savedqueries);
        this._events.next({ type: "SavedQuery_Update" /* Update */ });
        this.patchSavedQueries(auditEvents);
        return true;
    }
    /**
     * Deletes the given SavedQuery (based on its name)
     * Emits an SavedQuery event.
     * Update the data on the server.
     * @param savedquery
     * @returns true if saved query was deleted
     */
    deleteSavedQuery(savedquery) {
        const index = this.savedqueryIndex(savedquery.name);
        if (index === -1)
            return false; // Nothing to delete
        this.savedqueries.splice(index, 1);
        this._events.next({ type: "SavedQuery_Delete" /* Delete */, savedquery });
        this.patchSavedQueries([
            {
                type: "SavedQuery_Delete" /* Delete */,
                detail: {
                    savedquery: savedquery.name
                }
            }
        ]);
        return true;
    }
    /**
     * Sets this saved query to the current search context, using the search service
     */
    setSavedQueryToCurrentQuery(savedquery) {
        savedquery.query = _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__["Query"].copy(this.searchService.query);
    }
    /**
     * Updates Saved Queries in User settings.
     * @param auditEvents : Audit Events to be triggered
     * @returns an Observable which can be used to trigger further events
     */
    patchSavedQueries(auditEvents) {
        return this.userSettingsService.patch({ savedQueries: this.savedqueries }, auditEvents)
            .subscribe(next => {
            this._events.next({ type: "SavedQuery_Patched" /* Patched */ });
        }, error => {
            console.error("Could not patch Saved queries!", error);
        });
    }
    rssHref(item) {
        return _sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__["Utils"].addSearchParams(this.appService.appWebService.makeUrl("query.rss"), {
            app: this.appService.appName,
            name: item.name
        });
    }
    hasRssEnabled() {
        return !!this.appService.app && !!this.appService.app.queryRssEnabled;
    }
    /**
     * Checks if there is a configuration for the export web service.
     *
     * @returns true if there is a configuration for the export web service.
     */
    hasExportConfig() {
        return !!this.appService.app && !!this.appService.app.queryExport;
    }
    download(model) {
        return this.downloadService.download(this.requestExport(model));
    }
    requestExport(model) {
        switch (model.export) {
            case _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_2__["ExportSourceType"].Result:
                return this.queryExportService.exportResult(model.webService, this.searchService.query, this.searchService.results, model.format, model.maxCount, model.exportedColumns);
            case _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_2__["ExportSourceType"].Selection:
                return this.queryExportService.exportSelection(model.webService, this.searchService.query, this.searchService.results, this.selectionService.getSelectedIds(), model.format, model.maxCount, model.exportedColumns);
            case _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_2__["ExportSourceType"].SavedQuery:
                return this.queryExportService.exportSavedQuery(model.webService, model.queryName || "", model.format, model.maxCount, model.exportedColumns);
            default:
                console.log('QueryExporter.export unexpected export type: ', _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_2__["ExportSourceType"][model.export]);
                return Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["throwError"])('QueryExporter.export unexpected export type: ');
        }
    }
    // EVENT HANDLERS (Menus)
    /**
     * Uses the SearchService to perform a search returning all
     * the documents matching this saved query.
     * @param saved query
     * @returns the search service promise
     */
    searchSavedQuery(savedquery, path) {
        this.searchService.setQuery(_sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__["Utils"].extend(this.searchService.makeQuery(), _sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__["Utils"].copy(savedquery.query)));
        this._events.next({ type: "Search_SavedQuery" /* Search */, savedquery });
        return this.searchService.search({ path: path }, {
            type: "Search_SavedQuery" /* Search */,
            detail: {
                "saved-query": savedquery.name
            }
        });
    }
    /**
     * Opens a dialog allowing a user to save the current query.
     * @returns a boolean promise resolved when the user closes the dialog
     * the result is true if the query was saved.
     */
    createSavedQueryModal(query = this.searchService.query) {
        const savedQuery = {
            name: query.text || "",
            query: _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__["Query"].copy(query)
        };
        return this.modalService.open(this.savedQueryComponents.editSavedQueryModal, { model: savedQuery })
            .then((result) => {
            if (result === -1 /* OK */) {
                const index = this.savedqueryIndex(savedQuery.name);
                if (index !== -1) {
                    return this.modalService.yesNo("msg#savedQueries.savedQueryAlreadyExists")
                        .then((result) => {
                        if (result === -3 /* Yes */) {
                            return this.updateSavedQuery(savedQuery, index);
                        }
                        return false;
                    });
                }
                else {
                    return this.createSavedQuery(savedQuery);
                }
            }
            return false;
        });
    }
    /**
     * Opens a dialog allowing a user to reorganize and edit the
     * list of saved queries.
     * @returns a boolean promise resolved when the user closes the dialog
     * the result is true is the list was updated.
     */
    manageSavedQueriesModal() {
        const model = { savedQueries: _sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__["Utils"].copy(this.savedqueries) };
        return this.modalService.open(this.savedQueryComponents.manageSavedQueriesModal, { model })
            .then((result) => {
            if (result === -1 /* OK */) {
                return this.updateSavedQueries(model.savedQueries, model.auditEvents);
            }
            return false;
        });
    }
    /**
     * Exports a query via a modal dialog.
     *
     * @param exportType type of export to perform (selection, saved query, results)
     * @param savedQuery The saved query
     */
    exportModal(exportType, savedQuery) {
        if (!this.hasExportConfig() || !this.appService.app) {
            return Promise.resolve(-2 /* Cancel */);
        }
        const model = {
            format: _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_2__["ExportOutputFormat"].Csv,
            export: exportType,
            webService: this.appService.app.queryExport
        };
        if (savedQuery && exportType === _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_2__["ExportSourceType"].SavedQuery) {
            model.queryName = savedQuery.name;
        }
        return this.modalService.open(this.savedQueryComponents.exportSavedQueryModal, { model });
    }
    notifyOpenSavedQuery(savedquery) {
        this._events.next({ type: "Search_SavedQuery" /* Search */, savedquery });
    }
    ngOnDestroy() {
        this.events.complete();
        this.changes.complete();
    }
}
SavedQueriesService.ɵfac = function SavedQueriesService_Factory(t) { return new (t || SavedQueriesService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_2__["UserSettingsWebService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_components_search__WEBPACK_IMPORTED_MODULE_6__["SearchService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_modal__WEBPACK_IMPORTED_MODULE_7__["ModalService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__["AppService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_2__["QueryExportWebService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_2__["DownloadWebService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_components_selection__WEBPACK_IMPORTED_MODULE_8__["SelectionService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](SAVEDQUERY_COMPONENTS)); };
SavedQueriesService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: SavedQueriesService, factory: SavedQueriesService.ɵfac, providedIn: 'root' });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](SavedQueriesService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: 'root',
            }]
    }], function () { return [{ type: _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_2__["UserSettingsWebService"] }, { type: _sinequa_components_search__WEBPACK_IMPORTED_MODULE_6__["SearchService"] }, { type: _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_7__["ModalService"] }, { type: _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__["AppService"] }, { type: _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_2__["QueryExportWebService"] }, { type: _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_2__["DownloadWebService"] }, { type: _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_8__["SelectionService"] }, { type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [SAVEDQUERY_COMPONENTS]
            }] }]; }, null); })();


/***/ }),

/***/ "6GXl":
/*!******************************************************************************************!*\
  !*** ../components/saved-queries/bootstrap/manage-saved-queries/manage-saved-queries.ts ***!
  \******************************************************************************************/
/*! exports provided: BsManageSavedQueries */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsManageSavedQueries", function() { return BsManageSavedQueries; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ "nIj0");
/* harmony import */ var _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/modal */ "vMGo");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/core/web-services */ "cIYa");
/* harmony import */ var _saved_queries_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../saved-queries.service */ "6FzQ");
/* harmony import */ var _modal_bootstrap_modal_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../modal/bootstrap/modal.component */ "oSLy");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _angular_cdk_drag_drop__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/cdk/drag-drop */ "oqI+");
/* harmony import */ var _modal_bootstrap_editable_editable__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../modal/bootstrap/editable/editable */ "lolS");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../core/intl/message.pipe */ "X1Kh");













function BsManageSavedQueries_div_2_Template(rf, ctx) { if (rf & 1) {
    const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "button", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsManageSavedQueries_div_2_Template_button_click_1_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r3); const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r2.reorder(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](3, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](3, 1, ctx_r0.reordering ? "msg#manageSavedQueries.edit" : "msg#manageSavedQueries.reorder"));
} }
function BsManageSavedQueries_div_5_div_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const savedQuery_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](savedQuery_r4.name);
} }
function BsManageSavedQueries_div_5_sq_editable_2_Template(rf, ctx) { if (rf & 1) {
    const _r15 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "sq-editable", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("valueChange", function BsManageSavedQueries_div_5_sq_editable_2_Template_sq_editable_valueChange_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r15); const savedQuery_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit; const ctx_r13 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r13.setName(savedQuery_r4, $event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const savedQuery_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", savedQuery_r4.name)("model", savedQuery_r4)("validators", ctx_r7.nameValidators);
} }
function BsManageSavedQueries_div_5_a_4_Template(rf, ctx) { if (rf & 1) {
    const _r19 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "a", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsManageSavedQueries_div_5_a_4_Template_a_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r19); const savedQuery_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit; const ctx_r17 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r17.export(savedQuery_r4); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "span", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("title", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](1, 1, "msg#manageSavedQueries.export"));
} }
function BsManageSavedQueries_div_5_a_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "a", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "span", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const savedQuery_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("href", ctx_r9.savedQueriesService.rssHref(savedQuery_r4), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeUrl"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("title", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](1, 2, "msg#manageSavedQueries.rss"));
} }
function BsManageSavedQueries_div_5_a_6_Template(rf, ctx) { if (rf & 1) {
    const _r23 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "a", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsManageSavedQueries_div_5_a_6_Template_a_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r23); const ctx_r22 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); const savedQuery_r4 = ctx_r22.$implicit; const $index_r5 = ctx_r22.index; const ctx_r21 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r21.remove(savedQuery_r4, $index_r5); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "span", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("title", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](1, 1, "msg#manageSavedQueries.remove"));
} }
function BsManageSavedQueries_div_5_span_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "span", 23);
} }
const _c0 = "list-group-item list-group-item-action d-flex w-auto-unimportant";
const _c1 = function (a1) { return [_c0, a1]; };
function BsManageSavedQueries_div_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsManageSavedQueries_div_5_div_1_Template, 2, 1, "div", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, BsManageSavedQueries_div_5_sq_editable_2_Template, 1, 3, "sq-editable", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, BsManageSavedQueries_div_5_a_4_Template, 3, 3, "a", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](5, BsManageSavedQueries_div_5_a_5_Template, 3, 4, "a", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](6, BsManageSavedQueries_div_5_a_6_Template, 3, 3, "a", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](7, BsManageSavedQueries_div_5_span_7_Template, 1, 0, "span", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](7, _c1, ctx_r1.reordering ? "cursor-move" : ""));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r1.reordering);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx_r1.reordering);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx_r1.reordering && ctx_r1.savedQueriesService.hasExportConfig());
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx_r1.reordering && ctx_r1.savedQueriesService.hasRssEnabled());
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx_r1.reordering);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r1.reordering);
} }
class BsManageSavedQueries {
    constructor(model, savedQueriesService) {
        this.model = model;
        this.savedQueriesService = savedQueriesService;
        this.reordering = false;
        this.nameValidators = [
            _angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required,
            (control) => {
                const modelControl = control.root.get("model");
                if (modelControl) {
                    for (const item of this.model.savedQueries) {
                        if (modelControl.value === item) {
                            continue;
                        }
                        if (control.value === item.name) {
                            return {
                                unique: true
                            };
                        }
                    }
                }
                return null;
            }
        ];
    }
    ngOnInit() {
        this.buttons = [
            this.removeAllButton = new _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_2__["ModalButton"]({
                text: "msg#manageSavedQueries.removeAll",
                result: 0 /* Custom */,
                action: (button) => {
                    this.model.savedQueries.splice(0);
                    button.visible = false;
                    this.addAuditEvent({
                        type: "SavedQuery_DeleteAll" /* DeleteAll */
                    });
                },
                visible: this.model.savedQueries.length > 0
            }),
            new _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_2__["ModalButton"]({
                result: -1 /* OK */,
                primary: true
            }),
            new _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_2__["ModalButton"]({
                result: -2 /* Cancel */
            })
        ];
    }
    addAuditEvent(auditEvent) {
        if (!this.model.auditEvents) {
            this.model.auditEvents = [];
        }
        this.model.auditEvents.push(auditEvent);
    }
    reorder() {
        this.reordering = !this.reordering;
    }
    setName(savedQuery, name) {
        if (!_sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].eqNC(savedQuery.name, name)) {
            this.addAuditEvent({
                type: "SavedQuery_Rename" /* Rename */,
                detail: {
                    query: name,
                    "old-name": savedQuery.name
                }
            });
            savedQuery.name = name;
        }
    }
    remove(savedQuery, index) {
        this.model.savedQueries.splice(index, 1);
        this.removeAllButton.visible = this.model.savedQueries.length > 0;
        this.addAuditEvent({
            type: "SavedQuery_Delete" /* Delete */,
            detail: {
                query: savedQuery.name
            }
        });
        return false;
    }
    export(savedQuery) {
        this.savedQueriesService.exportModal(_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_4__["ExportSourceType"].SavedQuery, savedQuery);
        return false;
    }
    dropped(drop) {
        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].arrayMove(this.model.savedQueries, drop.previousIndex, drop.currentIndex);
    }
}
BsManageSavedQueries.ɵfac = function BsManageSavedQueries_Factory(t) { return new (t || BsManageSavedQueries)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_modal__WEBPACK_IMPORTED_MODULE_2__["MODAL_MODEL"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_saved_queries_service__WEBPACK_IMPORTED_MODULE_5__["SavedQueriesService"])); };
BsManageSavedQueries.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsManageSavedQueries, selectors: [["sq-manage-saved-queries"]], decls: 6, vars: 6, consts: [["name", "manageSavedQueries", "novalidate", ""], [3, "title", "buttons"], ["class", "form-group clearfix", 4, "ngIf"], [1, "form-group"], ["cdkDropList", "", 1, "list-group", 3, "cdkDropListData", "cdkDropListDisabled", "cdkDropListDropped"], ["cdkDrag", "", 3, "ngClass", 4, "ngFor", "ngForOf"], [1, "form-group", "clearfix"], ["type", "button", 1, "btn", "btn-secondary", "float-right", 3, "click"], ["cdkDrag", "", 3, "ngClass"], ["class", "sq-saved-query-text", 4, "ngIf"], ["name", "msg#manageSavedQueries.name", 3, "value", "model", "validators", "valueChange", 4, "ngIf"], [1, "ml-auto"], ["class", "ml-2", "href", "#", 3, "title", "click", 4, "ngIf"], ["class", "ml-2", "target", "_blank", 3, "href", "title", 4, "ngIf"], ["href", "#", "class", "ml-2", 3, "title", "click", 4, "ngIf"], ["class", "ml-2 fas fa-bars sq-move", 4, "ngIf"], [1, "sq-saved-query-text"], ["name", "msg#manageSavedQueries.name", 3, "value", "model", "validators", "valueChange"], ["href", "#", 1, "ml-2", 3, "title", "click"], [1, "fas", "fa-download", "sq-export"], ["target", "_blank", 1, "ml-2", 3, "href", "title"], [1, "fas", "fa-rss", "sq-rss"], [1, "fas", "fa-times", "sq-remove"], [1, "ml-2", "fas", "fa-bars", "sq-move"]], template: function BsManageSavedQueries_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "form", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "sq-modal", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, BsManageSavedQueries_div_2_Template, 4, 3, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("cdkDropListDropped", function BsManageSavedQueries_Template_div_cdkDropListDropped_4_listener($event) { return ctx.dropped($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](5, BsManageSavedQueries_div_5_Template, 8, 9, "div", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("title", "msg#manageSavedQueries.title")("buttons", ctx.buttons);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.model.savedQueries.length);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("cdkDropListData", ctx.model.savedQueries)("cdkDropListDisabled", !ctx.reordering);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.model.savedQueries);
    } }, directives: [_angular_forms__WEBPACK_IMPORTED_MODULE_1__["ɵangular_packages_forms_forms_y"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["NgControlStatusGroup"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["NgForm"], _modal_bootstrap_modal_component__WEBPACK_IMPORTED_MODULE_6__["BsModal"], _angular_common__WEBPACK_IMPORTED_MODULE_7__["NgIf"], _angular_cdk_drag_drop__WEBPACK_IMPORTED_MODULE_8__["CdkDropList"], _angular_common__WEBPACK_IMPORTED_MODULE_7__["NgForOf"], _angular_cdk_drag_drop__WEBPACK_IMPORTED_MODULE_8__["CdkDrag"], _angular_common__WEBPACK_IMPORTED_MODULE_7__["NgClass"], _modal_bootstrap_editable_editable__WEBPACK_IMPORTED_MODULE_9__["BsEditable"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_10__["MessagePipe"]], styles: [".list-group[_ngcontent-%COMP%] {\n  max-height: 18.5rem;\n  overflow-y: auto;\n  width: 100%;\n}\n\n.sq-saved-query-text[_ngcontent-%COMP%] {\n  width: 100%;\n  overflow-wrap: break-word;\n  word-wrap: break-word;\n  word-break: break-word;\n}\n\n.sq-move[_ngcontent-%COMP%] {\n  cursor: move;\n}\n\nspan.sq-move[_ngcontent-%COMP%] {\n  color: gray;\n}\n\n.sq-remove[_ngcontent-%COMP%] {\n  cursor: pointer;\n  color: lightgray;\n}\n\n.sq-remove[_ngcontent-%COMP%]:hover {\n  color: darkred;\n}\n\n.w-auto-unimportant[_ngcontent-%COMP%] {\n  width: auto;\n}\n\n.cursor-move[_ngcontent-%COMP%] {\n  cursor: move;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2plY3RzL2NvbXBvbmVudHMvc2F2ZWQtcXVlcmllcy9ib290c3RyYXAvbWFuYWdlLXNhdmVkLXF1ZXJpZXMvbWFuYWdlLXNhdmVkLXF1ZXJpZXMuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLG1CQUFBO0VBQ0EsZ0JBQUE7RUFDQSxXQUFBO0FBQ0Y7O0FBRUE7RUFDRSxXQUFBO0VBQ0EseUJBQUE7RUFDQSxxQkFBQTtFQUNBLHNCQUFBO0FBQ0Y7O0FBRUE7RUFDRSxZQUFBO0FBQ0Y7O0FBRUE7RUFDRSxXQUFBO0FBQ0Y7O0FBRUE7RUFDRSxlQUFBO0VBQ0EsZ0JBQUE7QUFDRjs7QUFDQTtFQUNFLGNBQUE7QUFFRjs7QUFDQTtFQUNFLFdBQUE7QUFFRjs7QUFDQTtFQUNFLFlBQUE7QUFFRiIsImZpbGUiOiJwcm9qZWN0cy9jb21wb25lbnRzL3NhdmVkLXF1ZXJpZXMvYm9vdHN0cmFwL21hbmFnZS1zYXZlZC1xdWVyaWVzL21hbmFnZS1zYXZlZC1xdWVyaWVzLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubGlzdC1ncm91cCB7XG4gIG1heC1oZWlnaHQ6IDE4LjVyZW07XG4gIG92ZXJmbG93LXk6IGF1dG87XG4gIHdpZHRoOiAxMDAlO1xufVxuXG4uc3Etc2F2ZWQtcXVlcnktdGV4dCB7XG4gIHdpZHRoOiAxMDAlO1xuICBvdmVyZmxvdy13cmFwOiBicmVhay13b3JkO1xuICB3b3JkLXdyYXA6IGJyZWFrLXdvcmQ7XG4gIHdvcmQtYnJlYWs6IGJyZWFrLXdvcmQ7XG59XG5cbi5zcS1tb3ZlIHtcbiAgY3Vyc29yOiBtb3ZlO1xufVxuXG5zcGFuLnNxLW1vdmUge1xuICBjb2xvcjogZ3JheTtcbn1cblxuLnNxLXJlbW92ZSB7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgY29sb3I6IGxpZ2h0Z3JheTtcbn1cbi5zcS1yZW1vdmU6aG92ZXIge1xuICBjb2xvcjogZGFya3JlZDtcbn1cblxuLnctYXV0by11bmltcG9ydGFudCB7XG4gIHdpZHRoOiBhdXRvO1xufVxuXG4uY3Vyc29yLW1vdmUge1xuICBjdXJzb3I6IG1vdmU7XG59Il19 */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsManageSavedQueries, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-manage-saved-queries",
                templateUrl: "./manage-saved-queries.html",
                styleUrls: ["./manage-saved-queries.scss"]
            }]
    }], function () { return [{ type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [_sinequa_core_modal__WEBPACK_IMPORTED_MODULE_2__["MODAL_MODEL"]]
            }] }, { type: _saved_queries_service__WEBPACK_IMPORTED_MODULE_5__["SavedQueriesService"] }]; }, null); })();


/***/ }),

/***/ "6K/e":
/*!*******************************************!*\
  !*** ../components/labels/messages/en.ts ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    "labels": {
        "labels": "Labels",
        "publicLabels": "Public Labels",
        "privateLabels": "Private Labels",
        "public": "Public",
        "private": "Private",
        "selectLabel": "Select label(s)",
        "deleteLabelAreYouSure": "Are you sure you want to remove the label: {name}?",
        "bulkAddLabelAreYouSure": "Are you sure you want to bulk add the label: {name} to the results of the current query?",
        "bulkRemoveLabelAreYouSure": "Are you sure you want to bulk remove the label: {name} to the results of the current query?",
        "addPublicLabelText": "+",
        "removePublicLabelText": "×",
        "addPublicLabelTitle": "Add public label",
        "selectPublicLabelTitle": "Select public label",
        "removePublicLabelTitle": "Remove public label",
        "addPrivateLabelText": "+",
        "removePrivateLabelText": "×",
        "addPrivateLabelTitle": "Add private label",
        "selectPrivateLabelTitle": "Select private label",
        "removePrivateLabelTitle": "Remove private label"
    },
    "renameLabel": {
        "title": "Rename Label(s) globally",
        "btnRename": "Rename",
        "newLabel": "New Label",
        "oldLabels": "Old label(s)",
        "alertText": "This action renames the label(s) in the index and is irreversible",
        "successFeedback": "Label(s) renamed in the index",
        "errorFeedback": "An error occurred. Request failed"
    },
    "deleteLabel": {
        "title": "Delete label(s) globally",
        "btnDelete": "Delete",
        "alertText": "This action deletes the selected label(s) from the index and is irreversible",
        "successFeedback": "Label(s) deleted from the index",
        "errorFeedback": "An error occurred. Request failed"
    },
    "bulkRemoveLabel": {
        "title": "Remove label(s) from the current results",
        "btnBulkRemove": "Remove",
        "alertText": "This action removes the selected label(s) from all results reported by the engine (not only from the first page)",
        "successFeedback": "Label(s) removed from all results reported by the engine",
        "errorFeedback": "An error occurred. Request failed"
    },
    "bulkAddLabel": {
        "title": "Add label(s) to the current results",
        "btnBulkAdd": "Add",
        "alertText": "This action assigns the selected label(s) to all results reported by the engine (not only to the first page)",
        "infoText": "Press 'Enter' to add a new label that does not exist in the suggestions",
        "successFeedback": "Label(s) assigned to all results reported by the engine",
        "errorFeedback": "An error occurred. Request failed"
    },
    "editLabel": {
        "title": "Edit the label(s) of the selected result(s)",
        "btnEdit": "Save",
        "alertText": "This action edits the label(s) of the selected result(s)",
        "infoText": "Press 'Enter' to add a new label that does not exist in the suggestions",
        "labelsToBeRemoved": "Label(s) to be removed",
        "labelsToBeAdded": "Label(s) to be added",
        "successFeedback": "Label(s) of the selected result(s) edited",
        "errorFeedback": "An error occurred. Request failed"
    }
});


/***/ }),

/***/ "6MTU":
/*!******************************************!*\
  !*** ../components/utils/messages/de.ts ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    "clipboard": {
        "success": "{data} in die Zwischenablage kopiert",
        "error": "Zwischenablagefehler"
    }
});


/***/ }),

/***/ "6MfX":
/*!****************************************************!*\
  !*** ../components/search/bootstrap/public-api.ts ***!
  \****************************************************/
/*! exports provided: BsBreadcrumbs, BsDidYouMean, BsPageSizeSelector, BsPager, BsSearchModule, BsSortSelector, BsTabs, BsLoadingBar, BsScroller, BsLoadMore */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _breadcrumbs_breadcrumbs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./breadcrumbs/breadcrumbs */ "BmYW");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsBreadcrumbs", function() { return _breadcrumbs_breadcrumbs__WEBPACK_IMPORTED_MODULE_0__["BsBreadcrumbs"]; });

/* harmony import */ var _did_you_mean_did_you_mean__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./did-you-mean/did-you-mean */ "zj6v");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsDidYouMean", function() { return _did_you_mean_did_you_mean__WEBPACK_IMPORTED_MODULE_1__["BsDidYouMean"]; });

/* harmony import */ var _page_size_selector_page_size_selector__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./page-size-selector/page-size-selector */ "DJod");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsPageSizeSelector", function() { return _page_size_selector_page_size_selector__WEBPACK_IMPORTED_MODULE_2__["BsPageSizeSelector"]; });

/* harmony import */ var _pager_pager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pager/pager */ "VxCu");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsPager", function() { return _pager_pager__WEBPACK_IMPORTED_MODULE_3__["BsPager"]; });

/* harmony import */ var _search_module__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./search.module */ "SKA6");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsSearchModule", function() { return _search_module__WEBPACK_IMPORTED_MODULE_4__["BsSearchModule"]; });

/* harmony import */ var _sort_selector_sort_selector__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./sort-selector/sort-selector */ "BWoz");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsSortSelector", function() { return _sort_selector_sort_selector__WEBPACK_IMPORTED_MODULE_5__["BsSortSelector"]; });

/* harmony import */ var _tabs_tabs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./tabs/tabs */ "+6eA");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsTabs", function() { return _tabs_tabs__WEBPACK_IMPORTED_MODULE_6__["BsTabs"]; });

/* harmony import */ var _loading_bar_loading_bar__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./loading-bar/loading-bar */ "U/EC");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsLoadingBar", function() { return _loading_bar_loading_bar__WEBPACK_IMPORTED_MODULE_7__["BsLoadingBar"]; });

/* harmony import */ var _scroller_scroller__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./scroller/scroller */ "N5TP");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsScroller", function() { return _scroller_scroller__WEBPACK_IMPORTED_MODULE_8__["BsScroller"]; });

/* harmony import */ var _load_more_load_more__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./load-more/load-more */ "vf5w");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsLoadMore", function() { return _load_more_load_more__WEBPACK_IMPORTED_MODULE_9__["BsLoadMore"]; });













/***/ }),

/***/ "6NaI":
/*!*********************************************!*\
  !*** ../components/feedback/messages/en.ts ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    "feedback": {
        "text": "",
        "title": "Send feedback to the Sinequa admin",
        "content": {
            "text": "Content",
            "title": "Propose to add new content or improve the current content"
        },
        "ui": {
            "text": "User Interface",
            "title": "Propose improvements to the User Interface"
        },
        "lang": {
            "text": "Language",
            "title": "Propose language processing improvements, like new words, synonyms to add to the dictionaries (this affects directly the relevance of the search engine)"
        },
        "other": {
            "text": "Other",
            "title": "Submit feature requests, and other improvement ideas"
        },
        "thankyou": "Thank you for your feedback!",
        "quality": {
            "label": "Quality of the document:"
        },
        "relevance": {
            "label": "Relevance of the document:"
        },
        "labels": {
            "public": {
                "label": "Tags:"
            },
            "private": {
                "label": "Private tags:"
            }
        }
    }
});


/***/ }),

/***/ "6Vio":
/*!***********************************************!*\
  !*** ../core/web-services/rfm.web.service.ts ***!
  \***********************************************/
/*! exports provided: RfmWebService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RfmWebService", function() { return RfmWebService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "+kfY");
/* harmony import */ var _http_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./http.service */ "3Hvy");
/* harmony import */ var _start_config_web_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./start-config.web.service */ "R3Oh");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _http_client__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./http-client */ "j7UU");







/**
 * A service for calling the search.rfm web service
 */
class RfmWebService extends _http_service__WEBPACK_IMPORTED_MODULE_2__["HttpService"] {
    constructor(startConfig, httpClient) {
        super(startConfig);
        this.httpClient = httpClient;
    }
    /**
     * Get RFM data for a set of results
     *
     * @param rfm The name of the RFM
     * @param results The results for which to retrieve RFM data
     */
    getRfmData(rfm, results) {
        const ids = [];
        for (const record of results.records) {
            if (!!record.flags && record.flags.indexOf("r") !== -1) {
                ids.push(record.id);
            }
        }
        if (ids.length === 0) {
            return rxjs__WEBPACK_IMPORTED_MODULE_1__["EMPTY"];
        }
        const data = {
            rfm,
            queryHash: results.rfmQueryHash,
            ids
        };
        const observable = this.httpClient.post(this.makeUrl(RfmWebService.endpoint), data);
        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__["Utils"].subscribe(observable, (response) => {
            return response;
        }, (error) => {
            console.log("rfmService.getRfmData failure - error: ", error);
        });
        return observable;
    }
}
RfmWebService.endpoint = "search.rfm";
RfmWebService.ɵfac = function RfmWebService_Factory(t) { return new (t || RfmWebService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_start_config_web_service__WEBPACK_IMPORTED_MODULE_3__["START_CONFIG"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_http_client__WEBPACK_IMPORTED_MODULE_5__["SqHttpClient"])); };
RfmWebService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: RfmWebService, factory: RfmWebService.ɵfac, providedIn: "root" });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](RfmWebService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: "root"
            }]
    }], function () { return [{ type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [_start_config_web_service__WEBPACK_IMPORTED_MODULE_3__["START_CONFIG"]]
            }] }, { type: _http_client__WEBPACK_IMPORTED_MODULE_5__["SqHttpClient"] }]; }, null); })();


/***/ }),

/***/ "6WT0":
/*!*****************************************!*\
  !*** ../core/default-locales-config.ts ***!
  \*****************************************/
/*! exports provided: DefaultLocalesConfig */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DefaultLocalesConfig", function() { return DefaultLocalesConfig; });
/* harmony import */ var _messages__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./messages */ "LH3E");

class DefaultLocalesConfig {
    constructor() {
        this.defaultLocale = {
            name: "en",
            display: "English",
            data: {
                intl: {
                    locale: "en-US"
                },
                messages: _messages__WEBPACK_IMPORTED_MODULE_0__["enCore"],
            }
        };
        this.locales = [this.defaultLocale];
    }
}


/***/ }),

/***/ "6XGU":
/*!****************************************************************************************!*\
  !*** ../components/saved-queries/bootstrap/facet-saved-queries/facet-saved-queries.ts ***!
  \****************************************************************************************/
/*! exports provided: BsFacetSavedQueries */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsFacetSavedQueries", function() { return BsFacetSavedQueries; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_components_facet__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/components/facet */ "vbgc");
/* harmony import */ var _sinequa_components_action__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/components/action */ "WsHA");
/* harmony import */ var _saved_queries_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../saved-queries.service */ "6FzQ");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/router */ "sEIs");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/intl/message.pipe */ "X1Kh");








function BsFacetSavedQueries_a_1_span_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const query_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"]("\"", query_r2.query.text, "\"");
} }
function BsFacetSavedQueries_a_1_i_4_Template(rf, ctx) { if (rf & 1) {
    const _r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "i", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsFacetSavedQueries_a_1_i_4_Template_i_click_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r8); const query_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit; const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r6.deleteQuery(query_r2, $event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("title", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](1, 1, "msg#savedQueries.delete"));
} }
const _c0 = function (a0) { return [a0]; };
function BsFacetSavedQueries_a_1_Template(rf, ctx) { if (rf & 1) {
    const _r10 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "a", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsFacetSavedQueries_a_1_Template_a_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r10); const query_r2 = ctx.$implicit; const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r9.openSavedQuery(query_r2); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "span", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, BsFacetSavedQueries_a_1_span_3_Template, 2, 1, "span", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, BsFacetSavedQueries_a_1_i_4_Template, 2, 3, "i", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const query_r2 = ctx.$implicit;
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("routerLink", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](7, _c0, ctx_r0.searchRoute))("queryParams", ctx_r0.getQueryParams(query_r2))("state", ctx_r0.getRouterState(query_r2));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("title", query_r2.name);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](query_r2.name);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", query_r2.query.text);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r0.enableDelete);
} }
function BsFacetSavedQueries_div_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 1, "msg#savedQueries.noSavedQuery"), " ");
} }
class BsFacetSavedQueries extends _sinequa_components_facet__WEBPACK_IMPORTED_MODULE_1__["AbstractFacet"] {
    constructor(savedQueriesService) {
        super();
        this.savedQueriesService = savedQueriesService;
        this.searchRoute = "/search";
        this.maxQueries = 5;
        this.enableDelete = true;
        this.page = 0;
        this.manageSavedQueries = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_2__["Action"]({
            icon: "fas fa-cog",
            title: "msg#savedQueries.manageSavedQueries",
            action: () => {
                this.savedQueriesService.manageSavedQueriesModal();
            }
        });
        this.previousPage = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_2__["Action"]({
            icon: "fas fa-chevron-left",
            title: "msg#facet.previous",
            action: () => {
                this.page--;
            },
            updater: (action) => {
                action.disabled = this.page <= 0;
                action.hidden = this.maxPage === 0;
            }
        });
        this.nextPage = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_2__["Action"]({
            icon: "fas fa-chevron-right",
            title: "msg#facet.next",
            action: () => {
                this.page++;
            },
            updater: (action) => {
                action.disabled = this.page >= this.maxPage;
                action.hidden = this.maxPage === 0;
            }
        });
    }
    get maxPage() {
        return Math.max(0, Math.ceil(this.savedQueriesService.savedqueries.length / this.maxQueries) - 1);
    }
    get startIndex() {
        return this.page * this.maxQueries;
    }
    get endIndex() {
        return (this.page + 1) * this.maxQueries;
    }
    get actions() {
        this.previousPage.update();
        this.nextPage.update();
        return [this.previousPage, this.nextPage, this.manageSavedQueries];
    }
    openSavedQuery(query) {
        this.savedQueriesService.notifyOpenSavedQuery(query);
        return true;
    }
    deleteQuery(query, event) {
        event.stopPropagation();
        this.savedQueriesService.deleteSavedQuery(query);
        this.page = Math.min(this.page, this.maxPage);
        return false;
    }
    getQueryParams(savedQuery) {
        const query = this.savedQueriesService.searchService.makeQuery(savedQuery.query);
        const queryParams = query.toJsonForQueryString();
        return { query: queryParams };
    }
    getRouterState(savedQuery) {
        return {
            audit: {
                type: "Search_SavedQuery" /* Search */,
                detail: {
                    "saved-query": savedQuery.name
                }
            }
        };
    }
}
BsFacetSavedQueries.ɵfac = function BsFacetSavedQueries_Factory(t) { return new (t || BsFacetSavedQueries)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_saved_queries_service__WEBPACK_IMPORTED_MODULE_3__["SavedQueriesService"])); };
BsFacetSavedQueries.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsFacetSavedQueries, selectors: [["sq-facet-saved-queries"]], inputs: { searchRoute: "searchRoute", maxQueries: "maxQueries", enableDelete: "enableDelete" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"]], decls: 4, vars: 6, consts: [[1, "list-group", "list-group-flush"], ["class", "saved-query-item list-group-item list-group-item-action d-flex align-items-center", 3, "routerLink", "queryParams", "state", "click", 4, "ngFor", "ngForOf"], ["class", "list-group-item text-center text-muted font-italic small py-5", 4, "ngIf"], [1, "saved-query-item", "list-group-item", "list-group-item-action", "d-flex", "align-items-center", 3, "routerLink", "queryParams", "state", "click"], [1, "query-name", "mr-auto", "text-truncate", 3, "title"], ["class", "query-text text-muted small font-italic text-right text-truncate ml-2", 4, "ngIf"], ["class", "query-delete ml-2 fas fa-times", 3, "title", "click", 4, "ngIf"], [1, "query-text", "text-muted", "small", "font-italic", "text-right", "text-truncate", "ml-2"], [1, "query-delete", "ml-2", "fas", "fa-times", 3, "title", "click"], [1, "list-group-item", "text-center", "text-muted", "font-italic", "small", "py-5"]], template: function BsFacetSavedQueries_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsFacetSavedQueries_a_1_Template, 5, 9, "a", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "slice");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, BsFacetSavedQueries_div_3_Template, 3, 3, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind3"](2, 2, ctx.savedQueriesService.savedqueries, ctx.startIndex, ctx.endIndex));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.savedQueriesService.savedqueries.length == 0);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_4__["NgForOf"], _angular_common__WEBPACK_IMPORTED_MODULE_4__["NgIf"], _angular_router__WEBPACK_IMPORTED_MODULE_5__["RouterLinkWithHref"]], pipes: [_angular_common__WEBPACK_IMPORTED_MODULE_4__["SlicePipe"], _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_6__["MessagePipe"]], styles: [".saved-query-item[_ngcontent-%COMP%]   .query-delete[_ngcontent-%COMP%]{\n    opacity: 0;\n}\n\n.saved-query-item[_ngcontent-%COMP%]:hover   .query-delete[_ngcontent-%COMP%]{\n    opacity: 1;\n    transition: opacity 0.2s ease-in-out;\n}"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsFacetSavedQueries, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'sq-facet-saved-queries',
                templateUrl: './facet-saved-queries.html',
                styles: [`
.saved-query-item .query-delete{
    opacity: 0;
}

.saved-query-item:hover .query-delete{
    opacity: 1;
    transition: opacity 0.2s ease-in-out;
}
  `]
            }]
    }], function () { return [{ type: _saved_queries_service__WEBPACK_IMPORTED_MODULE_3__["SavedQueriesService"] }]; }, { searchRoute: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], maxQueries: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], enableDelete: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "6haZ":
/*!************************************************!*\
  !*** ../components/preview/bootstrap/index.ts ***!
  \************************************************/
/*! exports provided: BsFacetPreview, BsFacetPreviewComponent2, BsPreviewHighlights, BsPreviewLinks, BsPreviewModule, BsPreviewPanel, BsPreviewPopup, BsResultLinkPreview, BsSimilarDocuments, BsPreviewEntityFacetComponent, BsPreviewEntityPanelComponent, Extract, BsPreviewExtractsPanelComponent, BsPreviewSearchFormComponent, BsPreviewPageFormComponent, BsPreviewPagesPanelComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _public_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./public-api */ "DcY0");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFacetPreview", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsFacetPreview"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFacetPreviewComponent2", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsFacetPreviewComponent2"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsPreviewHighlights", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsPreviewHighlights"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsPreviewLinks", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsPreviewLinks"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsPreviewModule", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsPreviewModule"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsPreviewPanel", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsPreviewPanel"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsPreviewPopup", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsPreviewPopup"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsResultLinkPreview", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsResultLinkPreview"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsSimilarDocuments", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsSimilarDocuments"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsPreviewEntityFacetComponent", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsPreviewEntityFacetComponent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsPreviewEntityPanelComponent", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsPreviewEntityPanelComponent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Extract", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["Extract"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsPreviewExtractsPanelComponent", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsPreviewExtractsPanelComponent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsPreviewSearchFormComponent", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsPreviewSearchFormComponent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsPreviewPageFormComponent", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsPreviewPageFormComponent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsPreviewPagesPanelComponent", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsPreviewPagesPanelComponent"]; });




/***/ }),

/***/ "6i6m":
/*!*************************************************************************!*\
  !*** ../components/autocomplete/autocomplete-field-search.directive.ts ***!
  \*************************************************************************/
/*! exports provided: AutocompleteFieldSearch */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AutocompleteFieldSearch", function() { return AutocompleteFieldSearch; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "+kfY");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/app-utils */ "SBPP");
/* harmony import */ var _autocomplete_directive__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./autocomplete.directive */ "xqzj");
/* harmony import */ var _suggest_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./suggest.service */ "9VEG");
/* harmony import */ var _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @sinequa/components/utils */ "DD1E");









class AutocompleteFieldSearch extends _autocomplete_directive__WEBPACK_IMPORTED_MODULE_4__["Autocomplete"] {
    constructor(elementRef, suggestService, appService, uiService, exprBuilder) {
        super(elementRef, suggestService, appService, uiService);
        this.exprBuilder = exprBuilder;
        // FIELDED SEARCH
        /**
         * "text" mode: fielded search is entirely managed as text in the <input> component
         * "selects" mode: fielded search stores the selected autocomplete items to create selections, while keeping a clean <input> content (better UI/UX but does not support operators like OR, NOT, and parentheses)
         */
        this.fieldSearchMode = "text";
        /** Fields excluded from fielded search (searched as regular strings if selected) */
        this.excludedFields = ["concepts"];
        /** Stores the selected fielded search items selected via Tab */
        this.fieldSearchItems = [];
        // Event emitters
        this.parse = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
    }
    /**
     * If the off input changes state, react accordingly
     * @param changes
     */
    ngOnChanges(changes) {
        var _a;
        super.ngOnChanges(changes);
        // Subscribe to the field search items's container
        if (changes["fieldSearchItemsContainer"] && this.fieldSearchItemsContainer) {
            if (this._fieldSearchSubscription) {
                this._fieldSearchSubscription.unsubscribe();
            }
            this._fieldSearchSubscription = this.fieldSearchItemsContainer.itemRemoved.subscribe(item => {
                this.fieldSearchItems.splice(this.fieldSearchItems.indexOf(item), 1);
                this.updatePlaceholder();
                this.submit.next();
            });
        }
        // Transform the field search expresion (Expr string) into a list of autocomplete items displayed in the field search container
        if (changes["fieldSearchExpression"] && this.fieldSearchMode === "selects") {
            if (this.fieldSearchExpression) {
                const expr = this.appService.parseExpr(this.fieldSearchExpression);
                if (expr instanceof _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__["Expr"] && this.fieldSearchItems.length !== expr.getFields().length) {
                    this.fieldSearchItems.splice(0);
                    if (expr.and) {
                        expr.operands.forEach(e => this.fieldSearchItems.push(this.exprToItem(e)));
                    }
                    else {
                        this.fieldSearchItems.push(this.exprToItem(expr));
                    }
                }
            }
            else {
                this.fieldSearchItems.splice(0);
            }
        }
        // If fieldSearchMode changes from selects to something else, we must remove the field search items
        if (changes["fieldSearchMode"] && this.fieldSearchMode !== "selects" && this.fieldSearchItems.length > 0) {
            this.fieldSearchItems.splice(0);
        }
        this.updatePlaceholder();
        (_a = this.fieldSearchItemsContainer) === null || _a === void 0 ? void 0 : _a.update(this.fieldSearchItems);
    }
    /**
     * Unsubscribe when destroying the component
     */
    ngOnDestroy() {
        super.ngOnDestroy();
        if (this._fieldSearchSubscription) {
            this._fieldSearchSubscription.unsubscribe();
        }
    }
    /**
     * Insert the given autocomplete item into the current search input
     * at the right location
     * @param item
     */
    insertAutocompleteItem(item) {
        var _a, _b;
        const value = this.getInputValue(); // Current text in the input
        if (value) { // There should always be text
            const parseResult = this.parseQuery(); // Parse the current text
            if (parseResult.result) { // (if no result, a parsing error occurred)
                const res = parseResult.result.findValue(this.getInputPosition()); // Get the expression at the caret location
                // Autocomplete "compa" => "company:"
                if (res && item.category === "$field$") {
                    this.replaceValueInForm(res, item.display + ": ");
                    return false;
                }
                // Autocomplete "company:Goo" => "company:`GOOGLE`"
                if (res && res.field === item.category) {
                    this.replaceValueInForm(res, _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__["ExprParser"].escape(item.normalized || item.display));
                    return true;
                }
                // Autocomplete "Goo" => "company:`GOOGLE`"
                if (res && !res.field && item.category &&
                    (this.includedFields && ((_a = this.includedFields) === null || _a === void 0 ? void 0 : _a.includes(item.category)) ||
                        (!this.includedFields && !((_b = this.excludedFields) === null || _b === void 0 ? void 0 : _b.includes(item.category))))) { // Filter out fields if not in fieldSearch mode
                    this.replaceValueInForm(res, this.exprBuilder.makeExpr(item.category, item.normalized || item.display));
                    return true;
                }
                // Autocomplete "Search eng" => "Search engine"
                if (res && !res.field) {
                    this.replaceValueInForm(res, item.display);
                    return true;
                }
                // Remaining edge case ?
                console.error(item, parseResult.result);
            }
        }
        console.error("Shouldn't be here: an autocomplete item is selected, but there is no text or a parse error!");
        // Default to just overriding the current value (a complex query with multiple items might become reduced to this single item!)
        if (item.category === "$field$") {
            this.setInputValue(item.display + ":");
            return false;
        }
        this.setInputValue(this.exprBuilder.makeExpr(item.category, item.normalized || item.display)); // person: `Bill Gates`
        return true;
    }
    /**
     * Replaces the piece of expression (res) with a new value
     * in the input form
     * @param res The piece of expression parsed from the input content
     * @param value The new value
     */
    replaceValueInForm(res, value) {
        this.uiService.setCaret(this.inputElement, res.start, res.start + res.length, value);
    }
    /**
     * Sets the content of the <input> based on the given
     * Autocomplete Item (various implementations are possible,
     * depending on the item content and nature).
     * This would be the right method to override to implement
     * fielded search autocomplete.
     * @returns true if this autocomplete item should be searched
     */
    setAutocompleteItem(item) {
        var _a, _b, _c;
        if (item) {
            if (this.fieldSearchMode === "text") {
                return this.insertAutocompleteItem(item);
            }
            else if (this.fieldSearchMode === "selects" && item.category &&
                (this.includedFields && ((_a = this.includedFields) === null || _a === void 0 ? void 0 : _a.includes(item.category)) ||
                    (!this.includedFields && !((_b = this.excludedFields) === null || _b === void 0 ? void 0 : _b.includes(item.category))))) { // Filter out fields if not in fieldSearch mode
                // In the case of of a field name, we display the field for autocomplete, but we don't want to search for it
                if (item.category === "$field$") {
                    this.setInputValue(item.display + ":");
                    return false;
                }
                // Store the autocomplete item that will be used to create a selection
                this.setInputValue("");
                this.fieldSearchItems.push(item);
                this.updatePlaceholder();
                (_c = this.fieldSearchItemsContainer) === null || _c === void 0 ? void 0 : _c.update(this.fieldSearchItems);
                return true;
            }
            else {
                this.setInputValue(item.display);
                return true;
            }
        }
        return false;
    }
    /**
     * Returns an expression (Expr) for the fielded search items
     */
    getFieldSearchExpression() {
        return this.itemsToExpr(this.fieldSearchItems);
    }
    /**
     * Transforms a list of AutocompleteItems into an expression
     * @param items list of AutocompleteItems
     */
    itemsToExpr(items) {
        if (items.length > 0) {
            return this.exprBuilder.concatAndExpr(items.map(item => this.exprBuilder.makeExpr(item.category, item.normalized || item.display, item.display)));
        }
        return undefined;
    }
    /**
     * Transforms an expression into a list of AutocompleteItems
     * @param expr an expression
     */
    exprToItem(expr) {
        return {
            category: expr.field,
            display: expr.display,
            normalized: expr.value,
        };
    }
    /**
     * Takes the text from the <input> element and parse it to
     * determine what type of suggestion to request from the server.
     * The suggestions are then fetched by getSuggestsObs() and processed
     * by processSuggests().
     */
    getSuggests() {
        let value = this.getInputValue();
        if (value) { // If there is text, make a call to the suggest API
            const parseResult = this.parseQuery(); // If using fieldSearch, the result can be used to detect an active field
            let fields;
            if (parseResult.result && this.fieldSearchMode !== "off") {
                const position = this.getInputPosition(); // Position of the caret, if needed
                const res = parseResult.result.findValue(position);
                // Field Search suggest
                if (!!res && !!res.field) {
                    fields = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].startsWith(res.field, "@") ? ["text"] : [res.field];
                    value = res.value;
                }
                if (!!res && this.fieldSearchMode === "text") {
                    value = res.value;
                }
            }
            if (parseResult.error && this.fieldSearchMode !== "off") {
                this.processSuggests(Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["of"])([])); // Empty autocomplete if parsing errors
                return;
            }
            this.processSuggests(this.getSuggestsObs(value, fields));
        }
        else { // If empty input, restart autocomplete
            this.parse.next({}); // remove error messages if any
            this.start();
        }
    }
    /**
     * Process suggestions obtained (from whatever mean):
     * - If data available, filter out fields
     * - update the dropdown content
     * - Switch between OPEN and ACTIVE states
     * - Use changeDetectorRef to update display
     * @param obs an observable of AutocompleteItem suggestions
     */
    processSuggests(obs) {
        obs.subscribe(suggests => {
            if (this.getState() === _autocomplete_directive__WEBPACK_IMPORTED_MODULE_4__["AutocompleteState"].ACTIVE || this.getState() === _autocomplete_directive__WEBPACK_IMPORTED_MODULE_4__["AutocompleteState"].OPENED) {
                this.dropdown.update(true, suggests
                    .filter(item => {
                    var _a, _b;
                    return item.category !== "$field$" || (this.fieldSearchMode !== "off" &&
                        (this.includedFields && ((_a = this.includedFields) === null || _a === void 0 ? void 0 : _a.includes(item.display)) ||
                            (!this.includedFields && !((_b = this.excludedFields) === null || _b === void 0 ? void 0 : _b.includes(item.display)))));
                }) // Filter out fields if not in fieldSearch mode
                    .map(item => {
                    if (!item.label) {
                        if (item.category === "$field$") {
                            item.label = "Field";
                        }
                        else {
                            item.label = this.appService.getLabel(item.category);
                        }
                    }
                    return item;
                }));
            }
        }, err => {
            this.dropdown.update(false);
        }, () => {
            if (this.dropdown.hasItems && this.getState() === _autocomplete_directive__WEBPACK_IMPORTED_MODULE_4__["AutocompleteState"].ACTIVE) {
                this.open(); // Switch from ACTIVE to OPENED (if not already)
            }
            else if (!this.dropdown.hasItems && this.getState() === _autocomplete_directive__WEBPACK_IMPORTED_MODULE_4__["AutocompleteState"].OPENED) { // No data
                this.active(); // Switch from OPENED to ACTIVE (if not already)
            }
        });
    }
    /**
     * Parse the query for syntax errors (also allows to detect field search if needed).
     * Fires a parse event.
     */
    parseQuery() {
        const value = this.getInputValue();
        const result = this.appService.parseExpr(value, { allowEmptyValues: true });
        const event = result instanceof _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__["Expr"] ? { result: result } : { error: result };
        this.parse.next(event);
        return event;
    }
    /**
     * Listen to user's keyboard actions in the <input>, in order to navigate
     * and select the autocomplete suggestions.
     * Overrides the parent keydown method, adds the management of the backspace key
     * to remove field search items.
     * @param event the keyboard
     */
    keydown(event) {
        var _a;
        const keydown = super.keydown(event);
        if (keydown === undefined) {
            // In fielded search mode, we can remove selections by typing <backspace> when the input is empty
            if (event.keyCode === _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Keys"].backspace) {
                if (this.fieldSearchMode === "selects" && this.getInputValue() === '') {
                    this.fieldSearchItems.pop();
                    this.updatePlaceholder();
                    (_a = this.fieldSearchItemsContainer) === null || _a === void 0 ? void 0 : _a.update(this.fieldSearchItems);
                }
            }
        }
        return keydown;
    }
    /**
     * Updates the <input>'s placeholder to avoid displaying something
     * when there are fieldSearchItems displayed to the left.
     */
    updatePlaceholder() {
        this._placeholder = this.fieldSearchItems.length > 0 ? '' : this.placeholder;
    }
}
AutocompleteFieldSearch.ɵfac = function AutocompleteFieldSearch_Factory(t) { return new (t || AutocompleteFieldSearch)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_suggest_service__WEBPACK_IMPORTED_MODULE_5__["SuggestService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__["AppService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_utils__WEBPACK_IMPORTED_MODULE_6__["UIService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__["ExprBuilder"])); };
AutocompleteFieldSearch.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({ type: AutocompleteFieldSearch, selectors: [["", "sqAutocompleteFieldSearch", ""]], inputs: { fieldSearchMode: "fieldSearchMode", excludedFields: "excludedFields", includedFields: "includedFields", fieldSearchItemsContainer: "fieldSearchItemsContainer", fieldSearchExpression: "fieldSearchExpression" }, outputs: { parse: "parse" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"], _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AutocompleteFieldSearch, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Directive"],
        args: [{
                selector: "[sqAutocompleteFieldSearch]"
            }]
    }], function () { return [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"] }, { type: _suggest_service__WEBPACK_IMPORTED_MODULE_5__["SuggestService"] }, { type: _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__["AppService"] }, { type: _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_6__["UIService"] }, { type: _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__["ExprBuilder"] }]; }, { fieldSearchMode: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], excludedFields: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], includedFields: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], fieldSearchItemsContainer: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], fieldSearchExpression: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], parse: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }] }); })();


/***/ }),

/***/ "6sWL":
/*!*******************************************************!*\
  !*** ../components/result/result-icon/result-icon.ts ***!
  \*******************************************************/
/*! exports provided: ResultIcon */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ResultIcon", function() { return ResultIcon; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");


/**
 * This component requires a global CSS file to map file extensions (doc, ppt, xls, etc.)
 * to Font Awesome icons via a class `sq-icon-file-{{fileext}}`
 */
class ResultIcon {
    constructor() {
        /**
         * Integer controlling the icon's size
         */
        this.size = 1;
    }
}
ResultIcon.ɵfac = function ResultIcon_Factory(t) { return new (t || ResultIcon)(); };
ResultIcon.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: ResultIcon, selectors: [["sq-result-icon"]], inputs: { record: "record", size: "size" }, decls: 1, vars: 5, consts: [[3, "title"]], template: function ResultIcon_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "span", 0);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMapInterpolate2"]("far fa-file sq-icon-file-", ctx.record.fileext, " fa-", ctx.size, "x fa-fw");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("title", ctx.record.fileext);
    } }, encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ResultIcon, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-result-icon",
                templateUrl: "./result-icon.html"
            }]
    }], null, { record: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], size: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "6xtN":
/*!*******************************************************************!*\
  !*** ../components/labels/bootstrap/delete-label/delete-label.ts ***!
  \*******************************************************************/
/*! exports provided: BsDeleteLabel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsDeleteLabel", function() { return BsDeleteLabel; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/modal */ "vMGo");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _labels_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../labels.service */ "OpW8");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/forms */ "nIj0");
/* harmony import */ var _modal_bootstrap_modal_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../modal/bootstrap/modal.component */ "oSLy");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _labels_autocomplete_labels_autocomplete_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../labels-autocomplete/labels-autocomplete.component */ "o8/e");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/intl/message.pipe */ "X1Kh");











const _c0 = function (a0, a1) { return { "disabled": a0, "clickable": a1 }; };
function BsDeleteLabel_div_7_Template(rf, ctx) { if (rf & 1) {
    const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "input", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsDeleteLabel_div_7_Template_input_click_1_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r3); const item_r1 = ctx.$implicit; const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r2.updateLabelsNature(item_r1.value); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "label", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](4, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const item_r1 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("id", item_r1.id);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("value", item_r1.value);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("checked", item_r1.checked)("disabled", item_r1.disabled)("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction2"](9, _c0, item_r1.disabled, !item_r1.disabled));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("for", item_r1.id);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](4, 7, item_r1.name));
} }
const _c1 = function (a0, a1) { return { "alert-danger": a0, "alert-warning": a1 }; };
class BsDeleteLabel {
    constructor(model, labelsService, changeDetectorRef, modalRef) {
        this.model = model;
        this.labelsService = labelsService;
        this.changeDetectorRef = changeDetectorRef;
        this.modalRef = modalRef;
        this.isProcessing = false;
    }
    ngOnInit() {
        switch (this.model.properties.action) {
            case 3 /* delete */:
                this.title = "msg#deleteLabel.title";
                this.btnText = "msg#deleteLabel.btnDelete";
                this.alert = "msg#deleteLabel.alertText";
                this._action = () => {
                    const observable = this.labelsService.deleteLabels(this.model.values, this.model.properties.public);
                    if (observable) {
                        this.isProcessing = true;
                        this.changeDetectorRef.markForCheck();
                        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].subscribe(observable, () => { }, (error) => {
                            this.modalRef.close(error);
                        }, () => {
                            this.isProcessing = false;
                            this.modalRef.close(-1 /* OK */);
                        });
                    }
                };
                break;
            case 5 /* bulkRemove */:
                this.title = "msg#bulkRemoveLabel.title";
                this.btnText = "msg#bulkRemoveLabel.btnBulkRemove";
                this.alert = "msg#bulkRemoveLabel.alertText";
                this._action = () => {
                    const observable = this.labelsService.bulkRemoveLabels(this.model.values, this.model.properties.public);
                    if (observable) {
                        this.isProcessing = true;
                        this.changeDetectorRef.markForCheck();
                        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].subscribe(observable, () => { }, (error) => {
                            this.modalRef.close(error);
                        }, () => {
                            this.isProcessing = false;
                            this.modalRef.close(-1 /* OK */);
                        });
                    }
                };
                break;
            default:
                this.title = "";
                this.btnText = "";
                this.alert = "";
                break;
        }
        this.buttons = [
            new _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_1__["ModalButton"]({
                text: this.btnText,
                primary: true,
                result: 0 /* Custom */,
                anchor: true,
                action: this._action,
            }),
            new _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_1__["ModalButton"]({
                result: -2 /* Cancel */,
            }),
        ];
    }
    updateLabelsNature(nature) {
        this.model.properties.public = nature;
    }
    onLabelsChanged(values) {
        this.model.values = values;
    }
}
BsDeleteLabel.ɵfac = function BsDeleteLabel_Factory(t) { return new (t || BsDeleteLabel)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_modal__WEBPACK_IMPORTED_MODULE_1__["MODAL_MODEL"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_labels_service__WEBPACK_IMPORTED_MODULE_3__["LabelsService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_modal__WEBPACK_IMPORTED_MODULE_1__["ModalRef"])); };
BsDeleteLabel.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsDeleteLabel, selectors: [["sq-delete-label"]], decls: 13, vars: 18, consts: [["name", "deleteLabel", "novalidate", ""], [3, "title", "buttons", "isProcessingState"], [1, "form-group", "sq-form-group"], ["role", "alert", 1, "alert", 3, "ngClass"], ["class", "custom-control custom-radio custom-control-inline", 4, "ngFor", "ngForOf"], ["for", "label"], [3, "public", "disableAutocomplete", "allowNewLabels", "allowManagePublicLabels", "labelsUpdate"], [1, "custom-control", "custom-radio", "custom-control-inline"], ["type", "radio", "name", "nature", 1, "custom-control-input", 3, "id", "value", "checked", "disabled", "ngClass", "click"], [1, "custom-control-label", 3, "for"]], template: function BsDeleteLabel_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "form", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "sq-modal", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](5, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "section");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](7, BsDeleteLabel_div_7_Template, 5, 12, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "b");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](9, "label", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](10);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](11, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](12, "sq-labels-autocomplete", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("labelsUpdate", function BsDeleteLabel_Template_sq_labels_autocomplete_labelsUpdate_12_listener($event) { return ctx.onLabelsChanged($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("title", ctx.title)("buttons", ctx.buttons)("isProcessingState", ctx.isProcessing);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction2"](15, _c1, ctx.model.properties.action === 3, ctx.model.properties.action === 5));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](5, 11, ctx.alert), " ");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.model.properties.radioButtons);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](11, 13, "msg#labels.labels"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("public", ctx.model.properties.public)("disableAutocomplete", ctx.model.properties.disableAutocomplete)("allowNewLabels", ctx.model.properties.allowNewLabels)("allowManagePublicLabels", ctx.model.properties.allowManagePublicLabels);
    } }, directives: [_angular_forms__WEBPACK_IMPORTED_MODULE_4__["ɵangular_packages_forms_forms_y"], _angular_forms__WEBPACK_IMPORTED_MODULE_4__["NgControlStatusGroup"], _angular_forms__WEBPACK_IMPORTED_MODULE_4__["NgForm"], _modal_bootstrap_modal_component__WEBPACK_IMPORTED_MODULE_5__["BsModal"], _angular_common__WEBPACK_IMPORTED_MODULE_6__["NgClass"], _angular_common__WEBPACK_IMPORTED_MODULE_6__["NgForOf"], _labels_autocomplete_labels_autocomplete_component__WEBPACK_IMPORTED_MODULE_7__["BsLabelsAutocompleteComponent"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_8__["MessagePipe"]], styles: [".clickable[_ngcontent-%COMP%] {\n                cursor: pointer;\n            }\n            .clickable[_ngcontent-%COMP%]:hover {\n                opacity: 85%;\n            }"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsDeleteLabel, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-delete-label",
                templateUrl: "./delete-label.html",
                styles: [
                    `
            .clickable {
                cursor: pointer;
            }
            .clickable:hover {
                opacity: 85%;
            }
        `,
                ],
            }]
    }], function () { return [{ type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [_sinequa_core_modal__WEBPACK_IMPORTED_MODULE_1__["MODAL_MODEL"]]
            }] }, { type: _labels_service__WEBPACK_IMPORTED_MODULE_3__["LabelsService"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] }, { type: _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_1__["ModalRef"] }]; }, null); })();


/***/ }),

/***/ "7+c1":
/*!*************************************!*\
  !*** ../components/search/index.ts ***!
  \*************************************/
/*! exports provided: Breadcrumbs, SEARCH_OPTIONS, SearchService, FIRST_PAGE_OPTIONS, FirstPageService, BsBreadcrumbs, BsDidYouMean, BsPageSizeSelector, BsPager, BsSearchModule, BsSortSelector, BsTabs, BsLoadingBar, BsScroller, BsLoadMore, enSearch, frSearch, deSearch */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _public_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./public-api */ "vvW3");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Breadcrumbs", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["Breadcrumbs"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SEARCH_OPTIONS", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["SEARCH_OPTIONS"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SearchService", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["SearchService"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "FIRST_PAGE_OPTIONS", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["FIRST_PAGE_OPTIONS"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "FirstPageService", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["FirstPageService"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsBreadcrumbs", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsBreadcrumbs"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsDidYouMean", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsDidYouMean"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsPageSizeSelector", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsPageSizeSelector"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsPager", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsPager"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsSearchModule", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsSearchModule"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsSortSelector", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsSortSelector"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsTabs", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsTabs"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsLoadingBar", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsLoadingBar"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsScroller", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsScroller"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsLoadMore", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsLoadMore"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "enSearch", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["enSearch"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "frSearch", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["frSearch"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "deSearch", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["deSearch"]; });




/***/ }),

/***/ "7Dk4":
/*!***********************************************!*\
  !*** ../core/app-utils/query/expr-builder.ts ***!
  \***********************************************/
/*! exports provided: ExprBuilder */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ExprBuilder", function() { return ExprBuilder; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _expr_parser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./expr-parser */ "PyBi");




class ExprBuilder {
    /**
     * Make a standard selection expression
     * (resulting in a SQL clause like "company contains 'BOEING'")
     * @param field Name of the field to select (eg. "company")
     * @param value Value of the field to select (eg. "BOEING")
     * @param display Optional string to display that value (eg. "Boeing")
     */
    makeExpr(field, value, display) {
        field = this.formatField(field, display);
        return `${field}: ${_expr_parser__WEBPACK_IMPORTED_MODULE_2__["ExprParser"].escape(value)}`; // company`Boeing`: BOEING
    }
    /**
     * Make a boolean expression
     * @param field Name of the field to select (eg. "toto")
     * @param value Value of the field to select (eg. "true")
     * @param display Optional string to display that value (eg. "True")
     */
    makeBooleanExpr(field, value, display) {
        field = this.formatField(field, display);
        return `${field}: ${_expr_parser__WEBPACK_IMPORTED_MODULE_2__["ExprParser"].escape(_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].toSqlValue(value))}`; // toto`True`: true
    }
    /**
     * Make a numerical expression using a comparison operator (>, <, <=, >=, etc.)
     * @param field Name of the field to select (eg. "modified")
     * @param operator Comparison operator used for that selection (eg. ">")
     * @param value Value of the field to select (eg. "2020-12-15")
     * @param display Optional string to display that value (eg. "After Dec 15 2020")
     */
    makeNumericalExpr(field, operator, value, display) {
        field = this.formatField(field, display);
        if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].isString(value)) {
            value = _expr_parser__WEBPACK_IMPORTED_MODULE_2__["ExprParser"].escape(value);
        }
        if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].isDate(value) || _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].isNumber(value)) {
            value = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].toSqlValue(value);
        }
        return `${field}:${operator} ${value}`; // modified`After Dec 15 2020`:> 2020-12-15
    }
    /**
     * Make a list expression
     * @param field Name of the field to select (eg. "docformat")
     * @param values Values of the field to select (eg. ['htm','pdf'])
     * @param display Optional string to display that value (eg. "htm, pdf")
     */
    makeListExpr(field, values, display) {
        field = this.formatField(field, display);
        return `${field}: [${values.map(v => _expr_parser__WEBPACK_IMPORTED_MODULE_2__["ExprParser"].escape(v)).join(',')}]`; // docformat`htm, pdf`:[`htm`,`pdf`]
    }
    /**
     * Make a range expression
     * @param field Name of the field to select (eg. "modified")
     * @param from Begining of the range (eg. 2020-12-15)
     * @param to End of the range (eg. 2020-12-20)
     * @param display Optional string to display that value (eg. "[Dec 15 2020, Dec 20 2020]")
     */
    makeRangeExpr(field, from, to, display) {
        field = this.formatField(field, display);
        return `${field}: [${_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].toSqlValue(from)}..${_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].toSqlValue(to)}]`; // modified`[Dec 15 2020, Dec 20 2020]`: [2020-12-15..2020-12-20]
    }
    /**
     * Make a RegExp expression
     * @param field Name of the field to select (eg. "company")
     * @param value Value of the regular expression to match (eg. "BOE.*")
     * @param display Optional string to display that value (eg. "Boe...")
     */
    makeRegexpExpr(field, value, display) {
        field = this.formatField(field, display);
        return `${field}:~ ${_expr_parser__WEBPACK_IMPORTED_MODULE_2__["ExprParser"].escape(value)}`; // company`Boe...`:~ BOE.*
    }
    /**
     * Make a refine expression
     * @param text The text to add to the query
     */
    makeRefineExpr(text) {
        return `refine: ${_expr_parser__WEBPACK_IMPORTED_MODULE_2__["ExprParser"].escape(text)}`;
    }
    /**
     * Return an expression that selects multiple values for a field
     * (All values are ANDed)
     * @param field Name of the field to select (eg. "company")
     * @param values Values of the field to select (eg. ['IBM','APPLE'])
     * @param display Optional string to display that value (eg. "IBM and Apple")
     */
    makeAndExpr(field, values, display) {
        field = this.formatField(field, display);
        return `${field}: (${this.concatWithOperator(values, 'AND')})`; // company: (IBM AND APPLE AND GOOGLE)
    }
    /**
     * Return an expression that selects multiple values for a field
     * (All values are ORed)
     * This function should be equivalent to using makeListExpr
     * @param field Name of the field to select (eg. "company")
     * @param values Values of the field to select (eg. ['IBM','APPLE'])
     * @param display Optional string to display that value (eg. "IBM and Apple")
     */
    makeOrExpr(field, values, display) {
        field = this.formatField(field, display);
        return `${field}: (${this.concatWithOperator(values, 'OR')})`; // company: (IBM OR APPLE OR GOOGLE)
    }
    /**
     * Combine a list of values with AND or OR operators
     * @param values the list of values
     * @param operator the operator
     */
    concatWithOperator(values, operator) {
        return values.map(v => {
            if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].isString(v)) {
                return _expr_parser__WEBPACK_IMPORTED_MODULE_2__["ExprParser"].escape(v);
            }
            if (v.display) {
                return `${_expr_parser__WEBPACK_IMPORTED_MODULE_2__["ExprParser"].escape(v.display)}:${_expr_parser__WEBPACK_IMPORTED_MODULE_2__["ExprParser"].escape(_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].toSqlValue(v.value))}`;
            }
            return _expr_parser__WEBPACK_IMPORTED_MODULE_2__["ExprParser"].escape(_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].toSqlValue(v.value));
        }).join(' ' + operator + ' ');
    }
    /**
     * Returns the negative expression of the given expression
     * eg. NOT(person:Bill GATES)
     * @param expr
     */
    makeNotExpr(expr) {
        return `NOT (${expr})`;
    }
    /**
     * Returns an expression that is the union of given expressions
     * eg. person:Bill GATES OR company:MICROSOFT
     * @param exprs
     */
    concatOrExpr(exprs) {
        if (exprs.length <= 1) {
            return exprs[0] || '';
        }
        return `(${exprs.join(') OR (')})`;
    }
    /**
     * Returns an expression that is the intersection of given expressions
     * eg. person:Bill GATES AND company:MICROSOFT
     * @param exprs
     */
    concatAndExpr(exprs) {
        if (exprs.length <= 1) {
            return exprs[0] || '';
        }
        return `(${exprs.join(') AND (')})`;
    }
    /**
     * Returns an expression to select the given item
     * @param field Name of the field to select (eg. "company")
     * @param items A single or list of ValueItem object(s) (eg. content of a record)
     */
    makeFieldExpr(field, items, combineWithAnd) {
        if (!_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].isArray(items)) {
            items = [items];
        }
        if (items.length === 0) {
            return ""; // Return a falsy string instead of "()" or "``" which would be truthy
        }
        return combineWithAnd ? this.makeAndExpr(field, items) : this.makeOrExpr(field, items);
    }
    /**
     * Create an expression for the given aggregation item
     * @param aggregation The aggregation containing this object
     * @param items The AggregationItem(s) to select
     * @param combineWithAnd If there are multiple values, combine them with AND (instead of OR)
     */
    makeAggregationExpr(aggregation, items, combineWithAnd) {
        if (!_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].isArray(items)) {
            items = [items];
        }
        if (aggregation.valuesAreExpressions) {
            const exprs = items.map(i => i.value.toString()); // .toString() is to avoid typing issues. With valuesAreExpressions = true, item.value is expected to be a string
            return combineWithAnd ? this.concatAndExpr(exprs) : this.concatOrExpr(exprs);
        }
        else {
            const _items = this.asValueItems(items, aggregation.isTree);
            return this.makeFieldExpr(aggregation.column, _items, combineWithAnd);
        }
    }
    /**
     * Combines the field with the optional display value(s)
     * @param field
     * @param display
     */
    formatField(field, display) {
        if (display) {
            field = `${field}${_expr_parser__WEBPACK_IMPORTED_MODULE_2__["ExprParser"].escape(display)}`;
        }
        return field;
    }
    /**
     * Return the AggregationItem list as a ValueItem list
     * @param items
     * @param isTree
     */
    asValueItems(items, isTree) {
        if (isTree) {
            return items.map(i => {
                return {
                    value: i.$path + "*",
                    display: i.display || i.value
                };
            });
        }
        return items; // This works because ValueItem and AggregationItem share the value and display properties
    }
}
ExprBuilder.ɵfac = function ExprBuilder_Factory(t) { return new (t || ExprBuilder)(); };
ExprBuilder.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: ExprBuilder, factory: ExprBuilder.ɵfac, providedIn: 'root' });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ExprBuilder, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: 'root'
            }]
    }], null, null); })();


/***/ }),

/***/ "7IKG":
/*!***********************************************!*\
  !*** ../components/status-bar/messages/de.ts ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    "statusBar": {
        "fullscreenTitleEnter": "Vollbildmodus",
        "fullscreenTitleExit": "Volbildmodus verlassen",
        "networkActivity": "Netzwerk-Aktivität"
    }
});


/***/ }),

/***/ "7O5u":
/*!******************************!*\
  !*** ../core/login/index.ts ***!
  \******************************/
/*! exports provided: AuthenticationService, TokenService, ComponentWithLogin, JWTService, AuthConfig, LoginModule, MODAL_LOGIN, LoginService, Login, HTTP_REQUEST_INITIALIZERS, LoginInterceptor, AuthenticationOauthService, AuthenticationPopupService, enLogin, frLogin, deLogin */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _public_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./public-api */ "F1FI");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AuthenticationService", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["AuthenticationService"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TokenService", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["TokenService"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ComponentWithLogin", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["ComponentWithLogin"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "JWTService", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["JWTService"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AuthConfig", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["AuthConfig"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "LoginModule", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["LoginModule"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MODAL_LOGIN", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["MODAL_LOGIN"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "LoginService", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["LoginService"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Login", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["Login"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "HTTP_REQUEST_INITIALIZERS", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["HTTP_REQUEST_INITIALIZERS"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "LoginInterceptor", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["LoginInterceptor"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AuthenticationOauthService", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["AuthenticationOauthService"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AuthenticationPopupService", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["AuthenticationPopupService"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "enLogin", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["enLogin"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "frLogin", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["frLogin"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "deLogin", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["deLogin"]; });




/***/ }),

/***/ "7RQc":
/*!****************************************************************************!*\
  !*** ../components/selection/bootstrap/result-selector/result-selector.ts ***!
  \****************************************************************************/
/*! exports provided: BsResultSelector */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsResultSelector", function() { return BsResultSelector; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _selection_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../selection.service */ "Sg0G");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/intl/message.pipe */ "X1Kh");




class BsResultSelector {
    constructor(selectionService) {
        this.selectionService = selectionService;
    }
}
BsResultSelector.ɵfac = function BsResultSelector_Factory(t) { return new (t || BsResultSelector)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_selection_service__WEBPACK_IMPORTED_MODULE_1__["SelectionService"])); };
BsResultSelector.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsResultSelector, selectors: [["sq-result-selector"]], inputs: { record: "record" }, decls: 6, vars: 7, consts: [[1, "sq-select-results-item", "custom-control", "custom-control-inline", "custom-checkbox", 3, "title"], ["type", "checkbox", 1, "custom-control-input", 3, "checked", "change"], [1, "custom-control-label"]], template: function BsResultSelector_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "label", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "input", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("change", function BsResultSelector_Template_input_change_3_listener() { return ctx.selectionService.toggleSelectedRecords(ctx.record, "result"); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "span", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5, "\u200B");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("title", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](1, 3, ctx.record.$selected ? "msg#resultSelector.unselectDocument" : "msg#resultSelector.selectDocument"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵattribute"]("aria-label", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 5, ctx.record.$selected ? "msg#resultSelector.unselectDocument" : "msg#resultSelector.selectDocument"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("checked", ctx.record.$selected);
    } }, pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_2__["MessagePipe"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsResultSelector, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-result-selector",
                templateUrl: "./result-selector.html"
            }]
    }], function () { return [{ type: _selection_service__WEBPACK_IMPORTED_MODULE_1__["SelectionService"] }]; }, { record: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "7U+I":
/*!***********************************************!*\
  !*** ../components/utils/pipes/value-pipe.ts ***!
  \***********************************************/
/*! exports provided: ValuePipe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ValuePipe", function() { return ValuePipe; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/intl */ "EfqX");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/app-utils */ "SBPP");






class ValuePipe extends _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_1__["AbstractIntlPipe"] {
    constructor(formatService, intlService, changeDetectorRef) {
        super(intlService, changeDetectorRef);
        this.formatService = formatService;
    }
    updateValue(key, params) {
        super.updateValue(key, params);
        this.value = this.formatService.formatFieldValue(key, params);
        this.value = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].replace(this.value, /;/g, "$&\u200B");
    }
}
ValuePipe.ɵfac = function ValuePipe_Factory(t) { return new (t || ValuePipe)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__["FormatService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_intl__WEBPACK_IMPORTED_MODULE_1__["IntlService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinjectPipeChangeDetectorRef"]()); };
ValuePipe.ɵpipe = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefinePipe"]({ name: "sqValue", type: ValuePipe, pure: false });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ValuePipe, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Pipe"],
        args: [{ name: "sqValue", pure: false }]
    }], function () { return [{ type: _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__["FormatService"] }, { type: _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_1__["IntlService"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] }]; }, null); })();


/***/ }),

/***/ "7Uvu":
/*!*******************************************************!*\
  !*** ../components/labels/result-labels.component.ts ***!
  \*******************************************************/
/*! exports provided: ResultLabels */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ResultLabels", function() { return ResultLabels; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _labels_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./labels.component */ "4yRq");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/intl/message.pipe */ "X1Kh");





function ResultLabels_span_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 1, ctx_r0.caption));
} }
class ResultLabels {
}
ResultLabels.ɵfac = function ResultLabels_Factory(t) { return new (t || ResultLabels)(); };
ResultLabels.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: ResultLabels, selectors: [["sq-result-labels"]], inputs: { record: "record", caption: "caption", public: "public" }, decls: 2, vars: 3, consts: [["class", "sq-text", 4, "ngIf"], [3, "record", "public"], [1, "sq-text"]], template: function ResultLabels_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, ResultLabels_span_0_Template, 3, 3, "span", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "sq-labels", 1);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.caption);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("record", ctx.record)("public", ctx.public);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["NgIf"], _labels_component__WEBPACK_IMPORTED_MODULE_2__["Labels"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_3__["MessagePipe"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ResultLabels, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-result-labels",
                templateUrl: "./result-labels.component.html"
            }]
    }], null, { record: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], caption: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], public: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "7aSS":
/*!**********************************************************************************!*\
  !*** ../components/preview/bootstrap/result-link-preview/result-link-preview.ts ***!
  \**********************************************************************************/
/*! exports provided: BsResultLinkPreview */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsResultLinkPreview", function() { return BsResultLinkPreview; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/modal */ "vMGo");
/* harmony import */ var _preview_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../preview.service */ "lGAU");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/intl/message.pipe */ "X1Kh");






function BsResultLinkPreview_ng_container_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMap"](ctx_r0.icon);
} }
function BsResultLinkPreview_ng_container_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 1, ctx_r1.text));
} }
class BsResultLinkPreview {
    constructor(modalService, previewService) {
        this.modalService = modalService;
        this.previewService = previewService;
        this.icon = "fas fa-search";
        this.text = "";
        this.title = "";
    }
    click(event) {
        if (this.usePopup) {
            if (event.ctrlKey) {
                this.previewService.openNewWindow(this.record, this.query);
            }
            else {
                this.previewService.openModal(this.record, this.query, { displaySimilarDocuments: this.displaySimilarDocuments, metadata: this.metadata });
            }
        }
        else {
            if (this.newWindow) {
                this.previewService.openNewWindow(this.record, this.query);
            }
            else {
                this.previewService.openRoute(this.record, this.query);
            }
        }
        return false;
    }
}
BsResultLinkPreview.ɵfac = function BsResultLinkPreview_Factory(t) { return new (t || BsResultLinkPreview)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_modal__WEBPACK_IMPORTED_MODULE_1__["ModalService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_preview_service__WEBPACK_IMPORTED_MODULE_2__["PreviewService"])); };
BsResultLinkPreview.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsResultLinkPreview, selectors: [["sq-result-link-preview"]], inputs: { query: "query", record: "record", icon: "icon", text: "text", title: "title", usePopup: "usePopup", newWindow: "newWindow", displaySimilarDocuments: "displaySimilarDocuments", metadata: "metadata" }, decls: 4, vars: 5, consts: [["href", "#", 3, "title", "click"], [4, "ngIf"]], template: function BsResultLinkPreview_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "a", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsResultLinkPreview_Template_a_click_0_listener($event) { return ctx.click($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, BsResultLinkPreview_ng_container_2_Template, 2, 3, "ng-container", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, BsResultLinkPreview_ng_container_3_Template, 3, 3, "ng-container", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("title", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](1, 3, ctx.title));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !!ctx.icon);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !!ctx.text);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_3__["NgIf"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_4__["MessagePipe"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsResultLinkPreview, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-result-link-preview",
                templateUrl: "./result-link-preview.html"
            }]
    }], function () { return [{ type: _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_1__["ModalService"] }, { type: _preview_service__WEBPACK_IMPORTED_MODULE_2__["PreviewService"] }]; }, { query: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], record: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], icon: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], text: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], title: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], usePopup: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], newWindow: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], displaySimilarDocuments: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], metadata: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "7eWH":
/*!***********************************************************************!*\
  !*** ../components/feedback/bootstrap/feedback-menu/feedback-menu.ts ***!
  \***********************************************************************/
/*! exports provided: BsFeedbackMenu */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsFeedbackMenu", function() { return BsFeedbackMenu; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _feedback_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../feedback.service */ "8xsx");
/* harmony import */ var _action_bootstrap_action_buttons_action_buttons__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../action/bootstrap/action-buttons/action-buttons */ "9+ai");




class BsFeedbackMenu {
    constructor(feedbackService) {
        this.feedbackService = feedbackService;
    }
    ngOnInit() {
        this.items = this.feedbackService.buildFeedbackAction();
        this.options = {
            items: this.items,
            autoAdjust: true,
            rightAligned: this.rightAligned,
            size: this.size,
            style: this.style
        };
    }
}
BsFeedbackMenu.ɵfac = function BsFeedbackMenu_Factory(t) { return new (t || BsFeedbackMenu)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_feedback_service__WEBPACK_IMPORTED_MODULE_1__["FeedbackService"])); };
BsFeedbackMenu.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsFeedbackMenu, selectors: [["sq-feedback-menu"]], inputs: { size: "size", style: "style", rightAligned: "rightAligned" }, decls: 1, vars: 1, consts: [[3, "sq-action-buttons"]], template: function BsFeedbackMenu_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "div", 0);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("sq-action-buttons", ctx.options);
    } }, directives: [_action_bootstrap_action_buttons_action_buttons__WEBPACK_IMPORTED_MODULE_2__["BsActionButtons"]], encapsulation: 2, changeDetection: 0 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsFeedbackMenu, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-feedback-menu",
                templateUrl: "./feedback-menu.html",
                changeDetection: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectionStrategy"].OnPush
            }]
    }], function () { return [{ type: _feedback_service__WEBPACK_IMPORTED_MODULE_1__["FeedbackService"] }]; }, { size: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], style: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], rightAligned: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "7jOd":
/*!***********************************!*\
  !*** ../core/intl/messages/de.ts ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    "system": {
        "date": "{time, selectordinal, =0 {{date, date}} other {{date, date}, {date, time, medium}}}",
        "number": "{value, number}",
        "boolean": "{value, select, true {wahr} other {falsch}}",
        "percent": "{value, number, percent}",
        "fieldSeparator": ": ",
        "memorySize": {
            "bytes": "{value, number, sqZeroDecimalPlaces} B",
            "kb": "{value, number, sqZeroDecimalPlaces} KB",
            "mb": "{value, number, sqOneDecimalPlace} MB",
            "gb": "{value, number, sqTwoDecimalPlaces} GB",
            "tb": "{value, number, sqThreeDecimalPlaces} TB",
            "pb": "{value, number, sqFourDecimalPlaces} PB"
        }
    },
    "error": {
        "serverError": "Serverfehler",
        "loginCancelled": "Anmeldung abgebrochen (login cancelled)",
        "processedCredentialsError": "Verarbeitete Anmeldeinformationen konnten nicht ermittelt werden (unable to get processed credentials)",
        "autoLoginError": "Anmeldung fehlgeschlagen (login failed)",
        "principalSwitched": "Der angemeldete Benutzer hat sich geändert (the logged in user has changed)",
        "userOverrideFailure": "Benutzerwechsel fehlgeschlagen (unable to override user)",
        "responseLoadFailure": "Antwort konnte nicht geladen werden (failed to load response)",
        "unknownError": "Unbekannter Fehler"
    },
    "language": {
        "ar": "Arabisch",
        "da": "Dänisch",
        "de": "Deutsch",
        "el": "Griechisch",
        "en": "Englisch",
        "es": "Spanisch",
        "fi": "Finnisch",
        "fr": "Französisch",
        "it": "Italienisch",
        "ja": "Japanisch",
        "ko": "Koreanisch",
        "nl": "Niederländisch",
        "no": "Norwegisch",
        "pl": "Polnisch",
        "pt": "Portugiesisch",
        "ro": "Rumänisch",
        "ru": "Russisch",
        "sv": "Schwedisch",
        "th": "Thailändisch",
        "zh": "Traditionelles Chinesisch",
        "zs": "Vereinfachtes Chinesisch",
        "zz": "Unbekannt"
    },
});


/***/ }),

/***/ "7rcO":
/*!**********************************************************!*\
  !*** ../components/autocomplete/bootstrap/public-api.ts ***!
  \**********************************************************/
/*! exports provided: BsAutocompleteList, BsFieldSearchItemsComponent, BsAutocompleteModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _autocomplete_list_autocomplete_list__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./autocomplete-list/autocomplete-list */ "0Tqz");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsAutocompleteList", function() { return _autocomplete_list_autocomplete_list__WEBPACK_IMPORTED_MODULE_0__["BsAutocompleteList"]; });

/* harmony import */ var _field_search_items_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./field-search-items.component */ "rccd");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFieldSearchItemsComponent", function() { return _field_search_items_component__WEBPACK_IMPORTED_MODULE_1__["BsFieldSearchItemsComponent"]; });

/* harmony import */ var _autocomplete_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./autocomplete.module */ "8wxN");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsAutocompleteModule", function() { return _autocomplete_module__WEBPACK_IMPORTED_MODULE_2__["BsAutocompleteModule"]; });






/***/ }),

/***/ "7xQe":
/*!*******************************************!*\
  !*** ../components/result/messages/fr.ts ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    results: {
        missingTerms: "Termes manquants :",
        resultsCount: "{count, plural, =0 {aucune réponse} one {# réponse} other {# réponses}}",
    },
    userRatings: {
        average: "Moyenne : {average}"
    },
});


/***/ }),

/***/ "86dQ":
/*!*****************************************!*\
  !*** ../core/validation/messages/de.ts ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    "validation": {
        "min": "Der Mindestwert ist {min}",
        "max": "Der Wert kann nicht größer sein als {max}",
        "required": "Dies ist ein Mussfeld",
        "requiredTrue": "Dieses Feld muss ausgefüllt werden",
        "email": "Eine gültige E-Mail-Adresse ist einzutragen",
        "minLength": "Die Mindestlänge des Wertes beträgt {requiredLength, plural, one {# Zeichen} other {# Zeichen}}",
        "maxLength": "Der Wert darf nicht mehr als {requiredLength, plural, one {# Zeichen} other {# Zeichen}} haben",
        "pattern": "Der Wert ist ungültig",
        "unique": "Dieses Feld muss eindeutig sein",
        "integer": "Der Wert muss eine ganze Zahl sein",
        "number": "Der Wert muss eine Nummer sein",
        "date": "",
        "range": "Der erste Wert muss kleiner oder gleich dem zweiten Wert sein"
    }
});


/***/ }),

/***/ "8GPZ":
/*!****************************************!*\
  !*** ../components/selection/index.ts ***!
  \****************************************/
/*! exports provided: SelectionEventType, defaultSelectionOptions, SELECTION_OPTIONS, SelectionService, BsResultSelector, BsResultsSelector, BsSelectionModule, BsSelectionArranger, enSelection, frSelection, deSelection */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _public_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./public-api */ "+Ee6");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SelectionEventType", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["SelectionEventType"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "defaultSelectionOptions", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["defaultSelectionOptions"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SELECTION_OPTIONS", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["SELECTION_OPTIONS"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SelectionService", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["SelectionService"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsResultSelector", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsResultSelector"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsResultsSelector", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsResultsSelector"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsSelectionModule", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsSelectionModule"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsSelectionArranger", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsSelectionArranger"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "enSelection", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["enSelection"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "frSelection", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["frSelection"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "deSelection", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["deSelection"]; });




/***/ }),

/***/ "8J2X":
/*!********************************************!*\
  !*** ../components/metadata/public-api.ts ***!
  \********************************************/
/*! exports provided: Metadata, MetadataAccessListsItem, MetadataAccessListsItemSingleAccessList, MetadataItem, MetadataModule, enMetadata, frMetadata, deMetadata */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _metadata_metadata__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./metadata/metadata */ "dxkz");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Metadata", function() { return _metadata_metadata__WEBPACK_IMPORTED_MODULE_0__["Metadata"]; });

/* harmony import */ var _metadata_access_lists_item_metadata_access_lists_item__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./metadata-access-lists-item/metadata-access-lists-item */ "zhgx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MetadataAccessListsItem", function() { return _metadata_access_lists_item_metadata_access_lists_item__WEBPACK_IMPORTED_MODULE_1__["MetadataAccessListsItem"]; });

/* harmony import */ var _metadata_access_lists_item_single_access_list_metadata_access_lists_item_single_access_list__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./metadata-access-lists-item-single-access-list/metadata-access-lists-item-single-access-list */ "PrpF");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MetadataAccessListsItemSingleAccessList", function() { return _metadata_access_lists_item_single_access_list_metadata_access_lists_item_single_access_list__WEBPACK_IMPORTED_MODULE_2__["MetadataAccessListsItemSingleAccessList"]; });

/* harmony import */ var _metadata_item_metadata_item__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./metadata-item/metadata-item */ "4nM0");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MetadataItem", function() { return _metadata_item_metadata_item__WEBPACK_IMPORTED_MODULE_3__["MetadataItem"]; });

/* harmony import */ var _metadata_module__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./metadata.module */ "iX9l");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MetadataModule", function() { return _metadata_module__WEBPACK_IMPORTED_MODULE_4__["MetadataModule"]; });

/* harmony import */ var _messages_index__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./messages/index */ "2yjL");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "enMetadata", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_5__["enMetadata"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "frMetadata", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_5__["frMetadata"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "deMetadata", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_5__["deMetadata"]; });









/***/ }),

/***/ "8LMT":
/*!*************************************************************************!*\
  !*** ../components/result/result-missing-terms/result-missing-terms.ts ***!
  \*************************************************************************/
/*! exports provided: ResultMissingTerms */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ResultMissingTerms", function() { return ResultMissingTerms; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/intl/message.pipe */ "X1Kh");





function ResultMissingTerms_ng_container_0_span_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const term_r2 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", term_r2, "");
} }
function ResultMissingTerms_ng_container_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "span", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](3, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "span", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](5, ResultMissingTerms_ng_container_0_span_5_Template, 2, 1, "span", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](3, 2, "msg#results.missingTerms"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx_r0.missingTerms);
} }
class ResultMissingTerms {
    ngOnChanges(changes) {
        if (changes["record"]) {
            this.missingTerms = [];
            if (this.record.termspresence) {
                for (const tp of this.record.termspresence) {
                    if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].eqNC(tp.presence, "missing")) {
                        this.missingTerms.push(tp.term);
                    }
                }
            }
        }
    }
}
ResultMissingTerms.ɵfac = function ResultMissingTerms_Factory(t) { return new (t || ResultMissingTerms)(); };
ResultMissingTerms.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: ResultMissingTerms, selectors: [["sq-result-missing-terms"]], inputs: { record: "record" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 1, vars: 1, consts: [[4, "ngIf"], [1, "sq-missing-terms-label", "sq-text"], [1, "sq-missing-terms", "sq-text"], ["class", "sq-missing-term", 4, "ngFor", "ngForOf"], [1, "sq-missing-term"]], template: function ResultMissingTerms_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, ResultMissingTerms_ng_container_0_Template, 6, 4, "ng-container", 0);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.missingTerms.length > 0);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_2__["NgIf"], _angular_common__WEBPACK_IMPORTED_MODULE_2__["NgForOf"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_3__["MessagePipe"]], styles: ["[_nghost-%COMP%] {\n    display: block;\n    color: #707070;\n    font-size: 0.9rem;\n}\n\n.sq-missing-term[_ngcontent-%COMP%] {\n    -webkit-text-decoration-line: line-through;\n            text-decoration-line: line-through;\n}\n\n.sq-missing-term[_ngcontent-%COMP%]:not(:first-child) {\n    margin-left: 0.25em;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2plY3RzL2NvbXBvbmVudHMvcmVzdWx0L3Jlc3VsdC1taXNzaW5nLXRlcm1zL3Jlc3VsdC1taXNzaW5nLXRlcm1zLmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGNBQWM7SUFDZCxjQUFjO0lBQ2QsaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0ksMENBQWtDO1lBQWxDLGtDQUFrQztBQUN0Qzs7QUFFQTtJQUNJLG1CQUFtQjtBQUN2QiIsImZpbGUiOiJwcm9qZWN0cy9jb21wb25lbnRzL3Jlc3VsdC9yZXN1bHQtbWlzc2luZy10ZXJtcy9yZXN1bHQtbWlzc2luZy10ZXJtcy5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCB7XG4gICAgZGlzcGxheTogYmxvY2s7XG4gICAgY29sb3I6ICM3MDcwNzA7XG4gICAgZm9udC1zaXplOiAwLjlyZW07XG59XG5cbi5zcS1taXNzaW5nLXRlcm0ge1xuICAgIHRleHQtZGVjb3JhdGlvbi1saW5lOiBsaW5lLXRocm91Z2g7XG59XG5cbi5zcS1taXNzaW5nLXRlcm06bm90KDpmaXJzdC1jaGlsZCkge1xuICAgIG1hcmdpbi1sZWZ0OiAwLjI1ZW07XG59XG4iXX0= */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ResultMissingTerms, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-result-missing-terms",
                templateUrl: "./result-missing-terms.html",
                styleUrls: ["./result-missing-terms.css"]
            }]
    }], null, { record: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "8LQl":
/*!******************************************!*\
  !*** ../components/labels/label.pipe.ts ***!
  \******************************************/
/*! exports provided: LabelPipe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LabelPipe", function() { return LabelPipe; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/intl */ "EfqX");
/* harmony import */ var _labels_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./labels.service */ "OpW8");





class LabelPipe extends _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_1__["AbstractIntlPipe"] {
    constructor(labelsService, intlService, changeDetectorRef) {
        super(intlService, changeDetectorRef);
        this.labelsService = labelsService;
    }
    updateValue(value, _public) {
        super.updateValue(value, _public);
        this.value = value;
        if (!_public) {
            this.value = this.labelsService.removePrivatePrefix(this.value);
        }
        this.value = this.intlService.formatMessage(this.value);
    }
}
LabelPipe.ɵfac = function LabelPipe_Factory(t) { return new (t || LabelPipe)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_labels_service__WEBPACK_IMPORTED_MODULE_2__["LabelsService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_intl__WEBPACK_IMPORTED_MODULE_1__["IntlService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinjectPipeChangeDetectorRef"]()); };
LabelPipe.ɵpipe = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefinePipe"]({ name: "sqLabel", type: LabelPipe, pure: false });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](LabelPipe, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Pipe"],
        args: [{ name: "sqLabel", pure: false }]
    }], function () { return [{ type: _labels_service__WEBPACK_IMPORTED_MODULE_2__["LabelsService"] }, { type: _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_1__["IntlService"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] }]; }, null); })();


/***/ }),

/***/ "8QOD":
/*!**********************************************!*\
  !*** ../components/facet/bootstrap/index.ts ***!
  \**********************************************/
/*! exports provided: BsFacetBar, BsFacetCard, BsFacetFilters, BsFacetList, BsFacetModule, BsMySearch, RoundTarget, RoundType, BsFacetRange, BsRefine, BsFacetTree, BsFacetMultiComponent, BsFacetTagCloud */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _public_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./public-api */ "mD7x");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFacetBar", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsFacetBar"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFacetCard", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsFacetCard"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFacetFilters", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsFacetFilters"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFacetList", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsFacetList"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFacetModule", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsFacetModule"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsMySearch", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsMySearch"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RoundTarget", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["RoundTarget"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RoundType", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["RoundType"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFacetRange", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsFacetRange"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsRefine", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsRefine"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFacetTree", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsFacetTree"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFacetMultiComponent", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsFacetMultiComponent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFacetTagCloud", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsFacetTagCloud"]; });




/***/ }),

/***/ "8UJf":
/*!*****************************!*\
  !*** ../core/public-api.ts ***!
  \*****************************/
/*! exports provided: enCore, frCore, deCore, DefaultLocalesConfig */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _messages_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./messages/index */ "LH3E");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "enCore", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_0__["enCore"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "frCore", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_0__["frCore"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "deCore", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_0__["deCore"]; });

/* harmony import */ var _default_locales_config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./default-locales-config */ "6WT0");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "DefaultLocalesConfig", function() { return _default_locales_config__WEBPACK_IMPORTED_MODULE_1__["DefaultLocalesConfig"]; });





/***/ }),

/***/ "8Ux6":
/*!****************************************************!*\
  !*** ../components/notification/messages/index.ts ***!
  \****************************************************/
/*! exports provided: enNotification, frNotification, deNotification */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _en__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./en */ "pCk5");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "enNotification", function() { return _en__WEBPACK_IMPORTED_MODULE_0__["default"]; });

/* harmony import */ var _fr__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./fr */ "3n3i");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "frNotification", function() { return _fr__WEBPACK_IMPORTED_MODULE_1__["default"]; });

/* harmony import */ var _de__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./de */ "DJWS");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "deNotification", function() { return _de__WEBPACK_IMPORTED_MODULE_2__["default"]; });







/***/ }),

/***/ "8XSK":
/*!******************************************!*\
  !*** ../core/intl/abstract-intl.pipe.ts ***!
  \******************************************/
/*! exports provided: AbstractIntlPipe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AbstractIntlPipe", function() { return AbstractIntlPipe; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _intl_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./intl.service */ "Lvit");




/**
 * An abstract base class for pipes that should refresh automatically
 * when the current locale on {@link IntlService} changes. Pipes should
 * be declared as `pure: false` - the current value is cached to avoid
 * unnecessary processing
 */
class AbstractIntlPipe {
    constructor(intlService, changeDetectorRef) {
        this.intlService = intlService;
        this.changeDetectorRef = changeDetectorRef;
        this.value = "";
    }
    updateValue(value, params) {
        this.lastValue = value;
        this.lastParams = params;
        this.changeDetectorRef.markForCheck();
    }
    transform(value, params) {
        // if we ask another time for the same key, return the last value
        if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].equals(value, this.lastValue) && _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].equals(params, this.lastParams)) {
            return this.value;
        }
        // set the value
        this.updateValue(value, params);
        // subscribe to localeChange event
        if (!this.localeChange) {
            this.localeChange = this.intlService.events.subscribe((event) => {
                if (!_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].isEmpty(this.lastValue)) {
                    this.lastValue = null;
                    this.updateValue(value, params);
                }
            });
        }
        return this.value;
    }
    ngOnDestroy() {
        if (this.localeChange) {
            this.localeChange.unsubscribe();
        }
    }
}
AbstractIntlPipe.ɵfac = function AbstractIntlPipe_Factory(t) { return new (t || AbstractIntlPipe)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_intl_service__WEBPACK_IMPORTED_MODULE_2__["IntlService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinjectPipeChangeDetectorRef"]()); };
AbstractIntlPipe.ɵpipe = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefinePipe"]({ name: "sqAbstractIntlPipe", type: AbstractIntlPipe, pure: false });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AbstractIntlPipe, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Pipe"],
        args: [{ name: "sqAbstractIntlPipe", pure: false }]
    }], function () { return [{ type: _intl_service__WEBPACK_IMPORTED_MODULE_2__["IntlService"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] }]; }, null); })();


/***/ }),

/***/ "8Z7d":
/*!*********************************************************************!*\
  !*** ../components/user-settings/bootstrap/user-settings.module.ts ***!
  \*********************************************************************/
/*! exports provided: BsUserSettingsModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsUserSettingsModule", function() { return BsUserSettingsModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "nIj0");
/* harmony import */ var _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/intl */ "EfqX");
/* harmony import */ var _sinequa_core_validation__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/core/validation */ "BovW");
/* harmony import */ var _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sinequa/components/modal */ "mOpA");
/* harmony import */ var _sinequa_components_action__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @sinequa/components/action */ "WsHA");
/* harmony import */ var _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @sinequa/components/utils */ "DD1E");
/* harmony import */ var _edit_user_settings_edit_user_settings__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./edit-user-settings/edit-user-settings */ "i40w");
/* harmony import */ var _user_settings_editor_user_settings_editor__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./user-settings-editor/user-settings-editor */ "xyZx");
/* harmony import */ var _user_menu_user_menu_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./user-menu/user-menu.component */ "D8t6");
/* harmony import */ var _modal_bootstrap_modal_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../modal/bootstrap/modal.component */ "oSLy");














class BsUserSettingsModule {
}
BsUserSettingsModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: BsUserSettingsModule });
BsUserSettingsModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function BsUserSettingsModule_Factory(t) { return new (t || BsUserSettingsModule)(); }, imports: [[
            _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"], _angular_forms__WEBPACK_IMPORTED_MODULE_2__["ReactiveFormsModule"],
            _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_3__["IntlModule"],
            _sinequa_core_validation__WEBPACK_IMPORTED_MODULE_4__["ValidationModule"],
            _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_5__["BsModalModule"],
            _sinequa_components_action__WEBPACK_IMPORTED_MODULE_6__["BsActionModule"],
            _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_7__["UtilsModule"],
        ]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](BsUserSettingsModule, { declarations: [_edit_user_settings_edit_user_settings__WEBPACK_IMPORTED_MODULE_8__["BsEditUserSettings"], _user_settings_editor_user_settings_editor__WEBPACK_IMPORTED_MODULE_9__["BsUserSettingsEditor"], _user_menu_user_menu_component__WEBPACK_IMPORTED_MODULE_10__["BsUserMenuComponent"]], imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
        _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"], _angular_forms__WEBPACK_IMPORTED_MODULE_2__["ReactiveFormsModule"],
        _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_3__["IntlModule"],
        _sinequa_core_validation__WEBPACK_IMPORTED_MODULE_4__["ValidationModule"],
        _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_5__["BsModalModule"],
        _sinequa_components_action__WEBPACK_IMPORTED_MODULE_6__["BsActionModule"],
        _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_7__["UtilsModule"]], exports: [_edit_user_settings_edit_user_settings__WEBPACK_IMPORTED_MODULE_8__["BsEditUserSettings"], _user_settings_editor_user_settings_editor__WEBPACK_IMPORTED_MODULE_9__["BsUserSettingsEditor"], _user_menu_user_menu_component__WEBPACK_IMPORTED_MODULE_10__["BsUserMenuComponent"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsUserSettingsModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                    _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"], _angular_forms__WEBPACK_IMPORTED_MODULE_2__["ReactiveFormsModule"],
                    _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_3__["IntlModule"],
                    _sinequa_core_validation__WEBPACK_IMPORTED_MODULE_4__["ValidationModule"],
                    _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_5__["BsModalModule"],
                    _sinequa_components_action__WEBPACK_IMPORTED_MODULE_6__["BsActionModule"],
                    _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_7__["UtilsModule"],
                ],
                declarations: [
                    _edit_user_settings_edit_user_settings__WEBPACK_IMPORTED_MODULE_8__["BsEditUserSettings"], _user_settings_editor_user_settings_editor__WEBPACK_IMPORTED_MODULE_9__["BsUserSettingsEditor"], _user_menu_user_menu_component__WEBPACK_IMPORTED_MODULE_10__["BsUserMenuComponent"]
                ],
                exports: [
                    _edit_user_settings_edit_user_settings__WEBPACK_IMPORTED_MODULE_8__["BsEditUserSettings"], _user_settings_editor_user_settings_editor__WEBPACK_IMPORTED_MODULE_9__["BsUserSettingsEditor"], _user_menu_user_menu_component__WEBPACK_IMPORTED_MODULE_10__["BsUserMenuComponent"]
                ],
            }]
    }], null, null); })();
_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetComponentScope"](_edit_user_settings_edit_user_settings__WEBPACK_IMPORTED_MODULE_8__["BsEditUserSettings"], [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["ɵangular_packages_forms_forms_y"], _angular_forms__WEBPACK_IMPORTED_MODULE_2__["NgControlStatusGroup"], _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormGroupDirective"], _modal_bootstrap_modal_component__WEBPACK_IMPORTED_MODULE_11__["BsModal"], _user_settings_editor_user_settings_editor__WEBPACK_IMPORTED_MODULE_9__["BsUserSettingsEditor"]], []);


/***/ }),

/***/ "8crV":
/*!*************************************************************!*\
  !*** ../core/web-services/similar-documents.web.service.ts ***!
  \*************************************************************/
/*! exports provided: SimilarDocumentsWebService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SimilarDocumentsWebService", function() { return SimilarDocumentsWebService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs/operators */ "0Wlh");
/* harmony import */ var _http_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./http.service */ "3Hvy");
/* harmony import */ var _start_config_web_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./start-config.web.service */ "R3Oh");
/* harmony import */ var _http_client__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./http-client */ "j7UU");






/**
 * A service for calling the similardocuments web service
 */
class SimilarDocumentsWebService extends _http_service__WEBPACK_IMPORTED_MODULE_2__["HttpService"] {
    constructor(startConfig, httpClient) {
        super(startConfig);
        this.httpClient = httpClient;
    }
    /**
     * Gets an array of documents (records) similar to the passed document
     *
     * @param sourceDocumentId The id of the document for which to retrieve similar documents
     * @param queryName The name of the query
     */
    get(sourceDocumentId, queryName) {
        return this.httpClient.post(this.makeUrl("similardocuments"), {
            app: this.appName,
            sourceDocumentId,
            query: {
                name: queryName
            }
        }).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])((response) => response.data));
    }
}
SimilarDocumentsWebService.ɵfac = function SimilarDocumentsWebService_Factory(t) { return new (t || SimilarDocumentsWebService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_start_config_web_service__WEBPACK_IMPORTED_MODULE_3__["START_CONFIG"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_http_client__WEBPACK_IMPORTED_MODULE_4__["SqHttpClient"])); };
SimilarDocumentsWebService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: SimilarDocumentsWebService, factory: SimilarDocumentsWebService.ɵfac, providedIn: "root" });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](SimilarDocumentsWebService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: "root"
            }]
    }], function () { return [{ type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [_start_config_web_service__WEBPACK_IMPORTED_MODULE_3__["START_CONFIG"]]
            }] }, { type: _http_client__WEBPACK_IMPORTED_MODULE_4__["SqHttpClient"] }]; }, null); })();


/***/ }),

/***/ "8nAe":
/*!**************************************************!*\
  !*** ../components/advanced/advanced.service.ts ***!
  \**************************************************/
/*! exports provided: AdvancedService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AdvancedService", function() { return AdvancedService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ "nIj0");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/app-utils */ "SBPP");
/* harmony import */ var _sinequa_components_search__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/components/search */ "7+c1");
/* harmony import */ var _sinequa_core_validation__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sinequa/core/validation */ "BovW");
/* Dépendences fonctionnelles internes d'Angular */


/* Services */






class AdvancedService {
    constructor(appService, searchService, validationService, formatService, exprBuilder) {
        this.appService = appService;
        this.searchService = searchService;
        this.validationService = validationService;
        this.formatService = formatService;
        this.exprBuilder = exprBuilder;
        /**
         * Default form validators packaged within SBA to standardize advanced-search validation
         */
        this.validators = {
            min: (min, field) => this.validationService.minValidator(min, this._parser(field)),
            max: (max, field) => this.validationService.maxValidator(max, this._parser(field)),
            required: _angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required,
            email: _angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].email,
            pattern: (pattern) => _angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].pattern(pattern),
            integer: (field) => this.validationService.integerValidator(this._parser(field)),
            number: (field) => this.validationService.numberValidator(this._parser(field)),
            date: (field) => this.validationService.dateValidator(this._parser(field)),
            range: (field) => this.validationService.rangeValidator(this._rangeType(field), this._parser(field)),
        };
    }
    /**
     * Return a standard FormControl compatible with a select component
     * @param field
     * @param validators optional validators to be added to the returned FormControl
     * @param asyncValidators optional asyncValidators to be added to the returned FormControl
     * @param query Query where to fetch advanced values, if omitted, use searchService.query
     */
    createSelectControl(field, validators, asyncValidators, query = this.searchService.query) {
        const value = this.getValue(field, query);
        return this.createControl(value, validators, asyncValidators);
    }
    /**
     * Return a standard FormControl compatible with a range-input component
     * @param field
     * @param validators optional validators to be added to the returned FormControl
     * @param asyncValidators optional asyncValidators to be added to the returned FormControl
     * @param query Query where to fetch advanced values, if omitted, use searchService.query
     */
    createRangeControl(field, validators, asyncValidators, query = this.searchService.query) {
        const value = this.getRangeValue(field, query);
        return this.createControl(value, validators, asyncValidators);
    }
    /**
     * Return a standard FormControl compatible with a text input component
     * @param field
     * @param validators optional validators to be added to the returned FormControl
     * @param asyncValidators optional asyncValidators to be added to the returned FormControl
     * @param query Query where to fetch advanced values, if omitted, use searchService.query
     */
    createInputControl(field, validators, asyncValidators, query = this.searchService.query) {
        const value = this.getValue(field, query);
        return this.createControl(value, validators, asyncValidators);
    }
    /**
     * Return a standard FormControl compatible with a multi-value text input component
     * @param field
     * @param validators optional validators to be added to the returned FormControl
     * @param asyncValidators optional asyncValidators to be added to the returned FormControl
     * @param query Query where to fetch advanced values, if omitted, use searchService.query
     */
    createMultiInputControl(field, validators, asyncValidators, query = this.searchService.query) {
        const value = this.getValue(field, query);
        return this.createControl(value, validators, asyncValidators);
    }
    /**
     * Return a standard FormControl compatible with a checkbox component
     * @param field
     * @param validators optional validators to be added to the returned FormControl
     * @param asyncValidators optional asyncValidators to be added to the returned FormControl
     * @param query Query where to fetch advanced values, if omitted, use searchService.query
     */
    createCheckboxControl(field, validators, asyncValidators, query = this.searchService.query) {
        const value = this.getBooleanValue(field, query);
        return this.createControl(value, validators, asyncValidators);
    }
    /**
     * Reset the supplied AbstractControl (and its validation) and sets its value to undefined
     * @param control
     */
    resetControl(control) {
        control.reset();
        control.setValue(undefined);
    }
    /**
     * Reset the supplied AbstractControl (and its validation) and sets its value to [undefined, undefined]
     * @param control
     */
    resetRangeControl(control) {
        control.reset();
        control.setValue([undefined, undefined]);
    }
    /**
     * Retrieve the value (ValueItem | ValueItem[] | undefined) to be set to the FormControl from the Query
     * @param field
     * @param query Query where to fetch advanced values, if omitted, use searchService.query
     */
    getValue(field, query = this.searchService.query) {
        const expr = this.getAdvancedExpr(field, query);
        if (expr) {
            const value = this.getValueFromExpr(expr);
            return this.formatValueItems(field, value);
        }
        return undefined;
    }
    /**
     * Retrieve the boolean value to be set to the FormControl from the Query
     * @param field
     * @param query Query where to fetch advanced values, if omitted, use searchService.query
     */
    getBooleanValue(field, query = this.searchService.query) {
        const expr = this.getAdvancedExpr(field, query);
        if (expr) {
            const value = this.getValueFromExpr(expr);
            return this.formatAdvancedValue(field, value.value);
        }
        return undefined;
    }
    /**
     * Retrieve the range value to be set to the FormControl from the Query
     * @param field
     * @param query Query where to fetch advanced values, if omitted, use searchService.query
     */
    getRangeValue(field, query = this.searchService.query) {
        const expr = this.getAdvancedExpr(field, query);
        if (expr) {
            const value = this.getValueFromExpr(expr);
            if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].isArray(value)) {
                return value.map((e) => this.formatAdvancedValue(field, e.value));
            }
            else {
                const _value = this.formatAdvancedValue(field, value.value);
                if (expr.operator === 3 /* gte */) {
                    return [_value, undefined];
                }
                else if (expr.operator === 5 /* lte */) {
                    return [undefined, _value];
                }
            }
        }
        return [undefined, undefined];
    }
    /**
     * Return the select expression of an advanced filter
     * @param field
     * @param query Query where to fetch advanced values, if omitted, use searchService.query
     */
    getAdvancedExpr(field, query = this.searchService.query) {
        var _a;
        let expr;
        const expression = (_a = query.findSelect(_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__["advancedFacetPrefix"] + field)) === null || _a === void 0 ? void 0 : _a.expression;
        if (expression) {
            expr = this.appService.parseExpr(expression);
            if (expr instanceof _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__["Expr"]) {
                return expr;
            }
        }
        return undefined;
    }
    /**
     * Extract values from an expression
     * @param expr
     */
    getValueFromExpr(expr) {
        var _a;
        let value;
        if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].isString(expr.value) && expr.value.indexOf("[") > -1) {
            value = JSON.parse(expr.value.replace(/`/g, '"')).map((e) => ({
                value: e.value,
                display: !!e.display ? e.display : e.value,
            }));
        }
        else if (((_a = expr.operands) === null || _a === void 0 ? void 0 : _a.length) > 0) {
            value = expr.operands.map((e) => ({
                value: e.value,
                display: !!e.display ? e.display : e.value,
            }));
        }
        if (!value) {
            if (expr.values && expr.values.length > 1) {
                value = expr.values.map((e) => ({ value: e, display: e }));
            }
            else {
                value = {
                    value: expr.value,
                    display: !!expr.display ? expr.display : expr.value,
                };
            }
        }
        return value;
    }
    /**
     * Sets a select on a query (defaults to searchService.query) for a given
     * field and value(s)
     * @param field
     * @param value
     * @param query Query where to fetch advanced values, if omitted, use searchService.query
     * @param combineWithAnd
     */
    setSelect(field, value, query, combineWithAnd) {
        let expr;
        if (value !== undefined) {
            const _value = this.asValueItems(value, field);
            if (combineWithAnd) {
                expr = this.exprBuilder.makeAndExpr(field, _value);
            }
            else {
                expr = this.exprBuilder.makeOrExpr(field, _value);
            }
        }
        // When expr is not defined, this simply removes the selection
        this.setAdvancedSelect(field, expr, query);
    }
    /**
     * Sets a select on a query (defaults to searchService.query) for a given
     * field and a boolean value
     * @param field
     * @param value
     * @param discardFalsy by default it is 'false', so a false value is used to be undefined
     * @param query
     */
    setBooleanSelect(field, value, allowFalsy = false, query) {
        let expr;
        if (value === true || (value === false && allowFalsy)) {
            expr = this.exprBuilder.makeBooleanExpr(field, value);
        }
        // When expr is not defined, this simply removes the selection
        this.setAdvancedSelect(field, expr, query);
    }
    /**
     * Sets a select on a query (defaults to searchService.query) for a given
     * field, operator and value
     * @param field
     * @param value
     * @param operator
     * @param query
     */
    setNumericalSelect(field, value, operator, query) {
        let expr;
        if (value !== undefined) {
            if (this._isValueItem(value)) {
                value = value.value;
            }
            value = this.parse(value, field);
            expr = this.exprBuilder.makeNumericalExpr(field, operator, value);
        }
        // When expr is not defined, this simply removes the selection
        this.setAdvancedSelect(field, expr, query);
    }
    /**
     * Sets a select on a query (defaults to searchService.query) for a given
     * field and range of values
     * @param field
     * @param range
     * @param query
     */
    setRangeSelect(field, range, query) {
        let expr;
        if (range && range.length === 2) {
            const from = this.parse(range[0] || undefined, field);
            const to = this.parse(range[1] || undefined, field);
            if (from && to) {
                expr = this.exprBuilder.makeRangeExpr(field, from, to);
            }
            else if (from) {
                expr = this.exprBuilder.makeNumericalExpr(field, ">=", from);
            }
            else if (to) {
                expr = this.exprBuilder.makeNumericalExpr(field, "<=", to);
            }
        }
        // When expr is not defined, this simply removes the selection
        this.setAdvancedSelect(field, expr, query);
    }
    /**
     * Sets a select for a given field and expression on the query (defaults to searchService.query)
     * @param query Query where to fetch advanced values, if omitted, use searchService.query
     * @param field
     * @param expr
     */
    setAdvancedSelect(field, expr, query = this.searchService.query) {
        query.removeSelect(_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__["advancedFacetPrefix"] + field);
        if (expr) {
            query.addSelect(expr, _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__["advancedFacetPrefix"] + field);
        }
    }
    /**
     * Remove a specific advanced value by its field name.
     * By default, Trigger search() action
     * @param field
     * @param query Query from which will remove the specific advanced value, if omitted, use searchService.query
     * @param search
     */
    removeAdvancedValue(field, search = true, query = this.searchService.query) {
        if (field) {
            query.removeSelect(_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__["advancedFacetPrefix"] + field);
            this.searchService.setQuery(query, false);
            if (search) {
                this.searchService.search();
            }
        }
    }
    /**
     * Remove all related advanced-search select(s) from a given query and update searchService.query accordingly
     * By default, Trigger search() action
     * @param query Query from which will remove all advanced values, if omitted, use searchService.query
     * @param search
     */
    resetAdvancedValues(search = true, query = this.searchService.query) {
        this.searchService.setQuery(query.toStandard(), false);
        if (search) {
            this.searchService.search();
        }
    }
    /**
     * Transforms a value to a parsed ValueItem[]
     * @param value
     * @param field
     */
    asValueItems(value, field) {
        if (this._isValueItemArray(value)) {
            return value.map((val) => ({
                value: this.parse(val.value, field),
                display: val.display,
            }));
        }
        return [
            {
                value: this.parse(value.value, field),
                display: value.display,
            },
        ];
    }
    formatValueItems(field, value) {
        if (this._isValueItemArray(value)) {
            return value.map((val) => this.formatValueItem(field, val));
        }
        return this.formatValueItem(field, value);
    }
    /**
     * Format the display property of the ValueItem according its related column definition
     * @param field
     * @param value
     */
    formatValueItem(field, value) {
        const column = this.appService.getColumn(field);
        if (column) {
            value.display = this.formatBaseAdvancedValue(value.display, column).toString();
        }
        return value;
    }
    /**
     * Format a given advanced value according to its column definition
     * @param field
     * @param value
     */
    formatAdvancedValue(field, value) {
        if (value) {
            const column = this.appService.getColumn(field);
            if (column) {
                if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].isArray(value)) {
                    return value.map((v) => v ? this.formatBaseAdvancedValue(v, column) : v);
                }
                return this.formatBaseAdvancedValue(value, column);
            }
        }
        return value;
    }
    formatBaseAdvancedValue(value, column) {
        if (value) {
            value = this.castAdvancedValue(value, column);
            return column.formatter ? this.formatService.formatValue(value, column) : value;
        }
        return value;
    }
    /**
     * Cast a given value as per its column definition
     * @param value
     * @param column
     */
    castAdvancedValue(value, column) {
        if (column) {
            if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].isString(value)) {
                if (_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__["AppService"].isDate(column)) {
                    value = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].toDate(value);
                }
                else if (_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__["AppService"].isInteger(column)) {
                    if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].testInteger(value)) {
                        value = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].toInt(value);
                    }
                }
                else if (_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__["AppService"].isDouble(column)) {
                    if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].testFloat(value)) {
                        value = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].toNumber(value);
                    }
                }
                else if (_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__["AppService"].isBoolean(column)) {
                    value = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].isTrue(value);
                }
            }
        }
        return value;
    }
    /**
     * Create a generic FormControl
     * @param value value of the FormControl
     * @param validators optional validators to be added to the returned FormControl
     * @param asyncValidators optional asyncValidators to be added to the returned FormControl
     */
    createControl(value, validators, asyncValidators) {
        return new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"]({
            value,
            disabled: false,
        }, {
            validators: !!validators ? validators : [],
            asyncValidators: !!asyncValidators ? asyncValidators : [],
            updateOn: "change",
        });
    }
    /**
     * Parse a value according to its column definition
     * @param value
     * @param field
     */
    parse(value, field) {
        const parser = this._parser(field);
        if (parser && _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].isString(value)) {
            return this.formatService.parseValue(value, parser);
        }
        return value;
    }
    /**
     * Return the parser if existing in the given field
     * @param field
     */
    _parser(field) {
        const column = this.appService.getColumn(field);
        return column ? column.parser : undefined;
    }
    _rangeType(field) {
        const column = this.appService.getColumn(field);
        let rangeType;
        if (column &&
            (_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__["AppService"].isInteger(column) || _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__["AppService"].isDouble(column))) {
            rangeType = 0;
        }
        else if (column && _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__["AppService"].isDate(column)) {
            rangeType = new Date();
        }
        else {
            rangeType = "";
        }
        return rangeType;
    }
    /**
     * Return `true` if the passed value is an `ValueItem[]`
     */
    _isValueItemArray(value) {
        if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].isArray(value)) {
            const condition = (element) => this._isValueItem(element);
            return value.every(condition);
        }
        return false;
    }
    /**
     * Return `true` if the passed value is an `ValueItem`
     */
    _isValueItem(value) {
        if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].isObject(value) &&
            !_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].isArray(value) &&
            !_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].isDate(value)) {
            if (value.hasOwnProperty("value")) {
                return true;
            }
        }
        return false;
    }
}
AdvancedService.ɵfac = function AdvancedService_Factory(t) { return new (t || AdvancedService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__["AppService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_components_search__WEBPACK_IMPORTED_MODULE_4__["SearchService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_validation__WEBPACK_IMPORTED_MODULE_5__["ValidationService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__["FormatService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__["ExprBuilder"])); };
AdvancedService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: AdvancedService, factory: AdvancedService.ɵfac, providedIn: "root" });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AdvancedService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: "root",
            }]
    }], function () { return [{ type: _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__["AppService"] }, { type: _sinequa_components_search__WEBPACK_IMPORTED_MODULE_4__["SearchService"] }, { type: _sinequa_core_validation__WEBPACK_IMPORTED_MODULE_5__["ValidationService"] }, { type: _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__["FormatService"] }, { type: _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__["ExprBuilder"] }]; }, null); })();


/***/ }),

/***/ "8wxN":
/*!*******************************************************************!*\
  !*** ../components/autocomplete/bootstrap/autocomplete.module.ts ***!
  \*******************************************************************/
/*! exports provided: BsAutocompleteModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsAutocompleteModule", function() { return BsAutocompleteModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _autocomplete_directive__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../autocomplete.directive */ "xqzj");
/* harmony import */ var _autocomplete_field_search_directive__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../autocomplete-field-search.directive */ "6i6m");
/* harmony import */ var _autocomplete_list_autocomplete_list__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./autocomplete-list/autocomplete-list */ "0Tqz");
/* harmony import */ var _field_search_items_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./field-search-items.component */ "rccd");
/* harmony import */ var _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @sinequa/components/utils */ "DD1E");








class BsAutocompleteModule {
}
BsAutocompleteModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: BsAutocompleteModule });
BsAutocompleteModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function BsAutocompleteModule_Factory(t) { return new (t || BsAutocompleteModule)(); }, imports: [[
            _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
            _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_6__["UtilsModule"]
        ]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](BsAutocompleteModule, { declarations: [_autocomplete_list_autocomplete_list__WEBPACK_IMPORTED_MODULE_4__["BsAutocompleteList"], _field_search_items_component__WEBPACK_IMPORTED_MODULE_5__["BsFieldSearchItemsComponent"], _autocomplete_directive__WEBPACK_IMPORTED_MODULE_2__["Autocomplete"], _autocomplete_field_search_directive__WEBPACK_IMPORTED_MODULE_3__["AutocompleteFieldSearch"]], imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
        _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_6__["UtilsModule"]], exports: [_autocomplete_list_autocomplete_list__WEBPACK_IMPORTED_MODULE_4__["BsAutocompleteList"], _field_search_items_component__WEBPACK_IMPORTED_MODULE_5__["BsFieldSearchItemsComponent"], _autocomplete_directive__WEBPACK_IMPORTED_MODULE_2__["Autocomplete"], _autocomplete_field_search_directive__WEBPACK_IMPORTED_MODULE_3__["AutocompleteFieldSearch"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsAutocompleteModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                    _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_6__["UtilsModule"]
                ],
                declarations: [
                    _autocomplete_list_autocomplete_list__WEBPACK_IMPORTED_MODULE_4__["BsAutocompleteList"], _field_search_items_component__WEBPACK_IMPORTED_MODULE_5__["BsFieldSearchItemsComponent"], _autocomplete_directive__WEBPACK_IMPORTED_MODULE_2__["Autocomplete"], _autocomplete_field_search_directive__WEBPACK_IMPORTED_MODULE_3__["AutocompleteFieldSearch"]
                ],
                exports: [
                    _autocomplete_list_autocomplete_list__WEBPACK_IMPORTED_MODULE_4__["BsAutocompleteList"], _field_search_items_component__WEBPACK_IMPORTED_MODULE_5__["BsFieldSearchItemsComponent"], _autocomplete_directive__WEBPACK_IMPORTED_MODULE_2__["Autocomplete"], _autocomplete_field_search_directive__WEBPACK_IMPORTED_MODULE_3__["AutocompleteFieldSearch"]
                ]
            }]
    }], null, null); })();


/***/ }),

/***/ "8xsx":
/*!**************************************************!*\
  !*** ../components/feedback/feedback.service.ts ***!
  \**************************************************/
/*! exports provided: AuditFeedbackType, FeedbackService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuditFeedbackType", function() { return AuditFeedbackType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FeedbackService", function() { return FeedbackService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_components_action__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/components/action */ "WsHA");
/* harmony import */ var _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/web-services */ "cIYa");
/* harmony import */ var _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/core/modal */ "vMGo");
/* harmony import */ var _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sinequa/core/app-utils */ "SBPP");
/* harmony import */ var _sinequa_core_notification__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @sinequa/core/notification */ "mkLw");








const AuditFeedbackType = "UserFeedback";
class FeedbackService {
    constructor(auditService, modalService, appService, notificationsService) {
        this.auditService = auditService;
        this.modalService = modalService;
        this.appService = appService;
        this.notificationsService = notificationsService;
    }
    sendUserFeedback(type, message, thankUser) {
        const event = {
            type: AuditFeedbackType,
            detail: {
                app: this.appService.appName,
                message: type,
                detail: message
            }
        };
        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].subscribe(this.auditService.notify([event]), (result) => {
            if (thankUser)
                this.notificationsService.success("msg#feedback.thankyou");
        });
    }
    buildFeedbackAction() {
        return [new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_2__["Action"]({
                text: "msg#feedback.text",
                title: "msg#feedback.title",
                icon: "fas fa-comment",
                headerGroup: true,
                children: [
                    this.createAction("content", "msg#feedback.content.text", "msg#feedback.content.title", "far fa-file-alt fa-fw"),
                    this.createAction("ui", "msg#feedback.ui.text", "msg#feedback.ui.title", "fas fa-desktop fa-fw"),
                    this.createAction("lang", "msg#feedback.lang.text", "msg#feedback.lang.title", "far fa-comments fa-fw"),
                    this.createAction("other", "msg#feedback.other.text", "msg#feedback.other.title", "far fa-lightbulb fa-fw"),
                ]
            })];
    }
    createAction(type, text, title, icon) {
        return new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_2__["Action"]({
            text: text,
            title: title,
            icon: icon,
            action: () => this.openFeedbackModal(type, title)
        });
    }
    openFeedbackModal(type, title) {
        const model = { title: 'msg#feedback.title', message: title, output: '', buttons: [], rowCount: 5 };
        this.modalService.prompt(model)
            .then((result) => {
            if (result === -1 /* OK */ && model.output.trim() !== "") {
                this.sendUserFeedback(type, model.output, true);
            }
        });
    }
}
FeedbackService.ɵfac = function FeedbackService_Factory(t) { return new (t || FeedbackService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_3__["AuditWebService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_modal__WEBPACK_IMPORTED_MODULE_4__["ModalService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_5__["AppService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_notification__WEBPACK_IMPORTED_MODULE_6__["NotificationsService"])); };
FeedbackService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: FeedbackService, factory: FeedbackService.ɵfac, providedIn: 'root' });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](FeedbackService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: 'root',
            }]
    }], function () { return [{ type: _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_3__["AuditWebService"] }, { type: _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_4__["ModalService"] }, { type: _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_5__["AppService"] }, { type: _sinequa_core_notification__WEBPACK_IMPORTED_MODULE_6__["NotificationsService"] }]; }, null); })();


/***/ }),

/***/ "9+ai":
/*!***********************************************************************!*\
  !*** ../components/action/bootstrap/action-buttons/action-buttons.ts ***!
  \***********************************************************************/
/*! exports provided: BsActionButtons */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsActionButtons", function() { return BsActionButtons; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _action_item_action_item__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../action-item/action-item */ "TE8J");
/* harmony import */ var _utils_directives_tooltip_tooltip_directive__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../utils/directives/tooltip/tooltip.directive */ "v6qE");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/intl/message.pipe */ "X1Kh");






const _c0 = ["sq-action-buttons", ""];
function BsActionButtons_ng_container_0_a_1_Template(rf, ctx) { if (rf & 1) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "a", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsActionButtons_ng_container_0_a_1_Template_a_click_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r6); const item_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit; const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r4.itemClick(item_r1, $event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const item_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("sq-action-item", ctx_r2.getActionItemOptions(item_r1));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵattribute"]("href", !item_r1.disabled ? item_r1.href : null, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeUrl"]);
} }
function BsActionButtons_ng_container_0_ng_container_2_div_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "div", 6);
} if (rf & 2) {
    const item_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2).$implicit;
    const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("sq-action-item", ctx_r8.getActionItemOptions(item_r1));
} }
function BsActionButtons_ng_container_0_ng_container_2_button_2_Template(rf, ctx) { if (rf & 1) {
    const _r13 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsActionButtons_ng_container_0_ng_container_2_button_2_Template_button_click_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r13); const item_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2).$implicit; const ctx_r11 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r11.itemClick(item_r1, $event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const item_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2).$implicit;
    const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMapInterpolate4"]("btn ", ctx_r9.styleClass, " ", ctx_r9.sizeClass, " ", item_r1.selected ? "active" : "", " ", item_r1.disabled ? "disabled" : "", "");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("sqTooltip", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](1, 9, item_r1.title, item_r1.messageParams));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("sq-action-item", ctx_r9.getActionItemOptions(item_r1));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵattribute"]("aria-label", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](2, 12, item_r1.title, item_r1.messageParams));
} }
function BsActionButtons_ng_container_0_ng_container_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsActionButtons_ng_container_0_ng_container_2_div_1_Template, 1, 1, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, BsActionButtons_ng_container_0_ng_container_2_button_2_Template, 3, 15, "button", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const item_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", item_r1.hasChildren);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !item_r1.hasChildren);
} }
function BsActionButtons_ng_container_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsActionButtons_ng_container_0_a_1_Template, 1, 2, "a", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, BsActionButtons_ng_container_0_ng_container_2_Template, 3, 2, "ng-container", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const item_r1 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", item_r1.href);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !item_r1.href);
} }
class BsActionButtons {
    set options(opts) {
        this._options = opts;
    }
    get options() {
        return this._options;
    }
    get sizeClass() {
        return this._options.size ? `btn-${this._options.size}` : "";
    }
    get styleClass() {
        return this._options.style ? `btn-${this._options.style}` : "btn-light";
    }
    get itemsVisible() {
        // hidden items are not displayed
        return (Array.isArray(this._options.items)) ? this._options.items.filter(item => !item.hidden) : this._options.items.hidden ? [] : [this._options.items];
    }
    getActionItemOptions(item) {
        return (Object.assign(Object.assign({}, this._options), { item, inMenu: false }));
    }
    itemClick(item, event) {
        if (!item.disabled && item.action) {
            item.action(item, event);
        }
        if (item.href === "#" || (!!item.href && item.disabled)) {
            event.preventDefault();
        }
    }
}
BsActionButtons.ɵfac = function BsActionButtons_Factory(t) { return new (t || BsActionButtons)(); };
BsActionButtons.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsActionButtons, selectors: [["", "sq-action-buttons", ""]], inputs: { options: ["sq-action-buttons", "options"] }, attrs: _c0, decls: 1, vars: 1, consts: [[4, "ngFor", "ngForOf"], ["class", "btn-text", 3, "sq-action-item", "click", 4, "ngIf"], [4, "ngIf"], [1, "btn-text", 3, "sq-action-item", "click"], ["class", "btn-group dropdown", 3, "sq-action-item", 4, "ngIf"], ["type", "button", 3, "class", "sq-action-item", "sqTooltip", "click", 4, "ngIf"], [1, "btn-group", "dropdown", 3, "sq-action-item"], ["type", "button", 3, "sq-action-item", "sqTooltip", "click"]], template: function BsActionButtons_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, BsActionButtons_ng_container_0_Template, 3, 2, "ng-container", 0);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.itemsVisible);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["NgForOf"], _angular_common__WEBPACK_IMPORTED_MODULE_1__["NgIf"], _action_item_action_item__WEBPACK_IMPORTED_MODULE_2__["BsActionItem"], _utils_directives_tooltip_tooltip_directive__WEBPACK_IMPORTED_MODULE_3__["TooltipDirective"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_4__["MessagePipe"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsActionButtons, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "[sq-action-buttons]",
                templateUrl: "./action-buttons.html"
            }]
    }], null, { options: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"],
            args: ["sq-action-buttons"]
        }] }); })();


/***/ }),

/***/ "90KJ":
/*!************************************!*\
  !*** ../core/login/messages/de.ts ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    "modal": {
        "login": {
            "title": "Anmeldung",
            "userName": "Benutzername",
            "password": "Passwort",
            "singleSignOn": "Einmalanmeldung (Single sign-on)",
            "signInWith": "Anmelden mit..."
        }
    }
});


/***/ }),

/***/ "9VEG":
/*!*****************************************************!*\
  !*** ../components/autocomplete/suggest.service.ts ***!
  \*****************************************************/
/*! exports provided: SuggestService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SuggestService", function() { return SuggestService; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "D57K");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "+kfY");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ "0Wlh");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sinequa/core/app-utils */ "SBPP");
/* harmony import */ var _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @sinequa/core/web-services */ "cIYa");









class SuggestService {
    constructor(suggestQueryWebService, suggestFieldWebService, appService) {
        this.suggestQueryWebService = suggestQueryWebService;
        this.suggestFieldWebService = suggestFieldWebService;
        this.appService = appService;
        this.fieldCategory = "$field$";
    }
    addFields(text, suggests) {
        if (text.includes(" ")) {
            return;
        }
        for (const field of this.appService.fields) {
            if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__["Utils"].startsWith(field, text)) {
                suggests.unshift({
                    category: this.fieldCategory,
                    display: field
                });
            }
        }
    }
    get(suggestQuery, text, fields, query) {
        if (!this.appService.ccquery) {
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["of"])([]);
        }
        const observable = this.suggestQueryWebService.get(suggestQuery, text, this.appService.ccquery.name, fields);
        return observable.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["flatMap"])(suggests => {
            if (!fields) {
                if (!suggests) {
                    suggests = [];
                }
                this.addFields(text, suggests);
            }
            else {
                if (!suggests || suggests.length === 0) {
                    const _fields = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__["Utils"].isArray(fields) ? fields : [fields];
                    fields = [];
                    for (const field of _fields) {
                        const column = this.appService.getColumn(field);
                        if (!!column && (column.eType === 15 /* csv */ || _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_5__["AppService"].isScalar(column))) {
                            fields.push(field);
                        }
                    }
                    if (fields.length > 0) {
                        return this.suggestFieldWebService.get(text, fields, query).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])((suggests) => {
                            suggests.forEach(value => value.display = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__["Utils"].toSqlValue(value.display)); // because dates get automatically converted by the interceptor
                            return suggests;
                        }));
                    }
                }
            }
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["of"])(suggests);
        }));
    }
    /**
     * Search for the input text in a list of objects and return autocomplete items asynchronously
     * @param query The text to search for
     * @param data The list of objects
     * @param primaryText A function that returns the primary text input given the object
     * @param secondaryText An (optional) function that returns a list of secondary text inputs given the object
     */
    searchData(category, query, data, primaryText, secondaryText, label) {
        return Object(tslib__WEBPACK_IMPORTED_MODULE_0__["__awaiter"])(this, void 0, void 0, function* () {
            return data
                .map(obj => SuggestService.findMatch(primaryText(obj), query, !!secondaryText ? secondaryText(obj) : [], obj)) // Look for matches in all saved queries
                .filter(item => !!item) // Keep only the matches
                .sort((a, b) => b.score - a.score) // Sort by decreasing score
                .map(item => {
                item = item;
                return {
                    display: item.display,
                    displayHtml: item.displayHtml,
                    category,
                    label: label || category,
                    data: item.data,
                    score: item.score
                };
            });
        });
    }
    /**
     * Searches for the query string inside a given text. Returns a match object containing:
     * - a score proportional to the number and quality of matches
     * - the text formatted as HTML with the query found in the text
     * @param text The text to search
     * @param query The string to search for
     * @param secondaryText Secondary fields to search input, with less importance than the primary field
     * @param data A data object to be included in the match object (for convenience mostly)
     */
    static findMatch(text, query, secondaryText, data) {
        if (!text || !query) {
            return undefined;
        }
        // pass text and query in lower case and no accent to make search case insensitive
        const textLower = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__["Utils"].removeAccents(text.toLowerCase());
        query = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__["Utils"].removeAccents(query.toLowerCase());
        let i = 0;
        const matches = [];
        let score = 0;
        // Compute score of the match
        i = textLower.indexOf(query);
        while (i !== -1) { // While there's a match
            matches.push(i);
            if (i === 0) { // Start of the text
                score += 4;
            }
            else if (textLower[i - 1] === " ") { // Start of a word
                score += 2;
            }
            else {
                score += 1; // Middle of a word
            }
            i = textLower.indexOf(query, i + query.length);
        }
        // Format HTML display
        let html = text;
        for (let j = matches.length - 1; j >= 0; j--) { // decreasing order so the indices remain valid
            i = matches[j];
            html = html.slice(0, i).concat("<strong>", html.slice(i, i + query.length), "</strong>", html.slice(i + query.length));
        }
        // Secondary text
        if (secondaryText) {
            secondaryText
                .map(t => this.findMatch(t, query)) // Search each secondary text for matches
                .filter(item => !!item) // Keep only the matches
                .sort((a, b) => b.score - a.score) // Sort by decreasing score
                .forEach(match => {
                match = match;
                score += match.score / 2; // Secondary matches added to the score, but count half
                html += " <small>" + match.displayHtml + "</small>"; // Concatenate secondary match html to the main html
            });
        }
        if (score > 0) {
            return {
                display: text,
                displayHtml: html,
                score: score,
                data: data
            };
        }
        return undefined;
    }
}
SuggestService.ɵfac = function SuggestService_Factory(t) { return new (t || SuggestService)(_angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_6__["SuggestQueryWebService"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_6__["SuggestFieldWebService"]), _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵinject"](_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_5__["AppService"])); };
SuggestService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjectable"]({ token: SuggestService, factory: SuggestService.ɵfac, providedIn: "root" });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](SuggestService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"],
        args: [{
                providedIn: "root"
            }]
    }], function () { return [{ type: _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_6__["SuggestQueryWebService"] }, { type: _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_6__["SuggestFieldWebService"] }, { type: _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_5__["AppService"] }]; }, null); })();


/***/ }),

/***/ "9eIx":
/*!************************************!*\
  !*** ../core/modal/messages/de.ts ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    "modal": {
        "buttons": {
            "ok": "OK",
            "cancel": "Abbrechen",
            "yes": "Ja",
            "no": "Nein",
            "abort": "Abbrechen",
            "retry": "Wiederholen",
            "ignore": "Ignorieren"
        },
        "confirm": {
            "title": "Bestätigen"
        },
        "prompt": {
            "title": "Geben Sie einen Wert ein"
        }
    }
});


/***/ }),

/***/ "9vUh":
/*!****************************************!*\
  !*** ./src/app/home/home.component.ts ***!
  \****************************************/
/*! exports provided: HomeComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HomeComponent", function() { return HomeComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../config */ "1wtQ");
/* harmony import */ var _sinequa_core_login__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/login */ "7O5u");
/* harmony import */ var _sinequa_components_search__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/components/search */ "7+c1");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/platform-browser */ "e4iD");
/* harmony import */ var _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sinequa/core/intl */ "EfqX");
/* harmony import */ var _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @sinequa/core/app-utils */ "SBPP");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _search_form_search_form_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../search-form/search-form.component */ "kruh");
/* harmony import */ var _components_facet_bootstrap_facet_card_facet_card__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../components/facet/bootstrap/facet-card/facet-card */ "wL8g");
/* harmony import */ var _components_saved_queries_bootstrap_facet_recent_documents_facet_recent_documents__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../components/saved-queries/bootstrap/facet-recent-documents/facet-recent-documents */ "KVpc");
/* harmony import */ var _components_saved_queries_bootstrap_facet_recent_queries_facet_recent_queries__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../components/saved-queries/bootstrap/facet-recent-queries/facet-recent-queries */ "wgEc");
/* harmony import */ var _components_saved_queries_bootstrap_facet_saved_queries_facet_saved_queries__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../components/saved-queries/bootstrap/facet-saved-queries/facet-saved-queries */ "6XGU");
/* harmony import */ var _components_baskets_bootstrap_facet_baskets_facet_baskets_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../components/baskets/bootstrap/facet-baskets/facet-baskets.component */ "Xg0A");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../core/intl/message.pipe */ "X1Kh");
















function HomeComponent_img_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "img", 6);
} }
function HomeComponent_img_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "img", 7);
} }
function HomeComponent_div_16_div_1_ng_container_1_sq_facet_card_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "sq-facet-card", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "sq-facet-recent-documents", 15, 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const i_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().index;
    const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMapInterpolate1"]("", ctx_r7.facetSizing(i_r6, ctx_r7.homeFacets.length), " mb-3");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("title", "msg#recentDocuments.recentDocuments")("collapsible", false)("icon", "fas fa-file-alt")("buttonsStyle", ctx_r7.isDark() ? "dark" : "light");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("maxDocuments", 5);
} }
function HomeComponent_div_16_div_1_ng_container_1_sq_facet_card_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "sq-facet-card", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "sq-facet-recent-queries", 17, 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const i_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().index;
    const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMapInterpolate1"]("", ctx_r8.facetSizing(i_r6, ctx_r8.homeFacets.length), " mb-3");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("title", "msg#facet.recentQueries.title")("collapsible", false)("icon", "fas fa-history")("buttonsStyle", ctx_r8.isDark() ? "dark" : "light");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("maxQueries", 5);
} }
function HomeComponent_div_16_div_1_ng_container_1_sq_facet_card_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "sq-facet-card", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "sq-facet-saved-queries", 17, 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const i_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().index;
    const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMapInterpolate1"]("", ctx_r9.facetSizing(i_r6, ctx_r9.homeFacets.length), " mb-3");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("title", "msg#savedQueries.savedQueries")("collapsible", false)("icon", "fas fa-save")("buttonsStyle", ctx_r9.isDark() ? "dark" : "light");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("maxQueries", 5);
} }
function HomeComponent_div_16_div_1_ng_container_1_sq_facet_card_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "sq-facet-card", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "sq-facet-baskets", 18, 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const i_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().index;
    const ctx_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMapInterpolate1"]("", ctx_r10.facetSizing(i_r6, ctx_r10.homeFacets.length), " mb-3");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("title", "msg#baskets.baskets")("collapsible", false)("icon", "fas fa-inbox")("buttonsStyle", ctx_r10.isDark() ? "dark" : "light");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("maxBaskets", 5);
} }
function HomeComponent_div_16_div_1_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0, 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, HomeComponent_div_16_div_1_ng_container_1_sq_facet_card_1_Template, 3, 8, "sq-facet-card", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, HomeComponent_div_16_div_1_ng_container_1_sq_facet_card_2_Template, 3, 8, "sq-facet-card", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, HomeComponent_div_16_div_1_ng_container_1_sq_facet_card_3_Template, 3, 8, "sq-facet-card", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, HomeComponent_div_16_div_1_ng_container_1_sq_facet_card_4_Template, 3, 8, "sq-facet-card", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const facet_r5 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngSwitch", facet_r5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngSwitchCase", "recent-documents");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngSwitchCase", "recent-queries");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngSwitchCase", "saved-queries");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngSwitchCase", "baskets");
} }
function HomeComponent_div_16_div_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, HomeComponent_div_16_div_1_ng_container_1_Template, 5, 5, "ng-container", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx_r3.homeFacets);
} }
function HomeComponent_div_16_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, HomeComponent_div_16_div_1_Template, 2, 1, "div", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r2.loginService.complete);
} }
class HomeComponent {
    constructor(loginService, searchService, titleService, intlService, appService) {
        this.loginService = loginService;
        this.searchService = searchService;
        this.titleService = titleService;
        this.intlService = intlService;
        this.appService = appService;
    }
    /**
     * On initialization set the page title
     */
    ngOnInit() {
        this.titleService.setTitle(this.intlService.formatMessage("msg#app.name"));
    }
    /**
     * Manage login and logout
     */
    toggleLogin() {
        if (!!this.loginService.complete) {
            this.loginService.logout();
        }
        else {
            this.loginService.login();
        }
        return false;
    }
    /**
     * Whether the UI is in dark or light mode
     */
    isDark() {
        return document.body.classList.contains("dark");
    }
    /**
     * Toggle dark mode
     */
    toggleDark() {
        document.body.classList.toggle("dark");
        localStorage.setItem('sinequa-theme', this.isDark() ? 'dark' : 'normal');
        return false;
    }
    /**
     * Returns the list of features activated in the top right menus.
     * The configuration from the config.ts file can be overriden by configuration from
     * the app configuration on the server
     */
    get features() {
        if (this.appService.app && this.appService.app.data && this.appService.app.data.features) {
            return this.appService.app.data.features;
        }
        return _config__WEBPACK_IMPORTED_MODULE_1__["FEATURES"];
    }
    /**
     * Returns the sublist of features which gets displayed on the home page.
     */
    get homeFacets() {
        return this.features.filter(feature => ['recent-documents', 'recent-queries', 'saved-queries', 'baskets'].indexOf(feature) !== -1);
    }
    /**
     * Return bootstrap classes allowing to position and size each facet on the home page.
     * @param i The index of the facet in the list
     * @param n The number of facets
     */
    facetSizing(i, n) {
        switch (n) {
            case 1: return 'offset-md-3 col-md-6 offset-lg-4 col-lg-4';
            case 2: return i === 0 ? 'offset-md-1 col-md-5 offset-lg-3 col-lg-3' : 'col-md-5 col-lg-3';
            case 3: return i === 0 ? 'offset-md-1 col-md-5 offset-lg-0 col-lg-4' : i === 1 ? 'col-md-5 col-lg-4' : 'offset-md-3 col-md-6 offset-lg-0 col-lg-4';
            case 4: return i % 2 === 0 ? 'offset-md-1 col-md-5 offset-lg-0 col-lg-3' : 'col-md-5 col-lg-3';
            case 5: return i === 0 || i === 2 ? 'offset-md-1 col-md-5 offset-lg-0 col-lg-4' : i === 1 ? 'col-md-5 col-lg-4' : i === 3 ? 'offset-md-0 col-md-5 offset-lg-3 col-lg-3' : 'offset-md-3 col-md-6 offset-lg-0 col-lg-3';
        }
        return i % 2 === 0 ? 'offset-md-1 col-md-5 offset-lg-0 col-lg-3' : 'col-md-5 col-lg-3';
    }
}
HomeComponent.ɵfac = function HomeComponent_Factory(t) { return new (t || HomeComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_login__WEBPACK_IMPORTED_MODULE_2__["LoginService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_search__WEBPACK_IMPORTED_MODULE_3__["SearchService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_platform_browser__WEBPACK_IMPORTED_MODULE_4__["Title"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_intl__WEBPACK_IMPORTED_MODULE_5__["IntlService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_6__["AppService"])); };
HomeComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: HomeComponent, selectors: [["app-home"]], decls: 17, vars: 12, consts: [[1, "d-flex", "flex-column", "align-items-center", "justify-content-center", "home"], ["src", "assets/vanilla-logo.png", "id", "logo", 4, "ngIf"], ["src", "assets/vanilla-logo-dark.png", "id", "logo", 4, "ngIf"], [1, "d-flex", "align-items-center", "mt-2"], [1, "btn", "btn-link", 3, "click"], ["class", "sq-home-facet-bar container mt-5", 4, "ngIf"], ["src", "assets/vanilla-logo.png", "id", "logo"], ["src", "assets/vanilla-logo-dark.png", "id", "logo"], [1, "sq-home-facet-bar", "container", "mt-5"], ["class", "row", 4, "ngIf"], [1, "row"], [3, "ngSwitch", 4, "ngFor", "ngForOf"], [3, "ngSwitch"], [3, "title", "collapsible", "icon", "buttonsStyle", "class", 4, "ngSwitchCase"], [3, "title", "collapsible", "icon", "buttonsStyle"], [3, "maxDocuments"], ["facet", ""], [3, "maxQueries"], [3, "maxBaskets"]], template: function HomeComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, HomeComponent_img_1_Template, 1, 0, "img", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, HomeComponent_img_2_Template, 1, 0, "img", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "h1");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](5, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](6, "app-search-form");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "div", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "button", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function HomeComponent_Template_button_click_8_listener() { return ctx.toggleLogin(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](9);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](10, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](11, "span");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](12, " \u2022 ");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](13, "button", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function HomeComponent_Template_button_click_13_listener() { return ctx.toggleDark(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](14);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](15, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](16, HomeComponent_div_16_Template, 2, 1, "div", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.isDark());
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.isDark());
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](5, 6, "msg#app.name"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](10, 8, ctx.loginService.complete ? "msg#userMenu.logout" : "msg#userMenu.login"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](15, 10, ctx.isDark() ? "msg#home.lightMode" : "msg#home.darkMode"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.homeFacets.length);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_7__["NgIf"], _search_form_search_form_component__WEBPACK_IMPORTED_MODULE_8__["SearchFormComponent"], _angular_common__WEBPACK_IMPORTED_MODULE_7__["NgForOf"], _angular_common__WEBPACK_IMPORTED_MODULE_7__["NgSwitch"], _angular_common__WEBPACK_IMPORTED_MODULE_7__["NgSwitchCase"], _components_facet_bootstrap_facet_card_facet_card__WEBPACK_IMPORTED_MODULE_9__["BsFacetCard"], _components_saved_queries_bootstrap_facet_recent_documents_facet_recent_documents__WEBPACK_IMPORTED_MODULE_10__["BsFacetRecentDocuments"], _components_saved_queries_bootstrap_facet_recent_queries_facet_recent_queries__WEBPACK_IMPORTED_MODULE_11__["BsFacetRecentQueries"], _components_saved_queries_bootstrap_facet_saved_queries_facet_saved_queries__WEBPACK_IMPORTED_MODULE_12__["BsFacetSavedQueries"], _components_baskets_bootstrap_facet_baskets_facet_baskets_component__WEBPACK_IMPORTED_MODULE_13__["BsFacetBasketsComponent"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_14__["MessagePipe"]], styles: ["#logo[_ngcontent-%COMP%] {\n  height: 158px;\n}\n\napp-search-form[_ngcontent-%COMP%] {\n  width: 600px;\n  max-width: 95%;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2plY3RzL3ZhbmlsbGEtc2VhcmNoL3NyYy9hcHAvaG9tZS9ob21lLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsYUFBQTtBQUNGOztBQUVBO0VBQ0UsWUFBQTtFQUNBLGNBQUE7QUFDRiIsImZpbGUiOiJwcm9qZWN0cy92YW5pbGxhLXNlYXJjaC9zcmMvYXBwL2hvbWUvaG9tZS5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIiNsb2dvIHtcbiAgaGVpZ2h0OiAxNThweDtcbn1cblxuYXBwLXNlYXJjaC1mb3JtIHtcbiAgd2lkdGg6IDYwMHB4O1xuICBtYXgtd2lkdGg6IDk1JTtcbn0iXX0= */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](HomeComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'app-home',
                templateUrl: './home.component.html',
                styleUrls: ['./home.component.scss']
            }]
    }], function () { return [{ type: _sinequa_core_login__WEBPACK_IMPORTED_MODULE_2__["LoginService"] }, { type: _sinequa_components_search__WEBPACK_IMPORTED_MODULE_3__["SearchService"] }, { type: _angular_platform_browser__WEBPACK_IMPORTED_MODULE_4__["Title"] }, { type: _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_5__["IntlService"] }, { type: _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_6__["AppService"] }]; }, null); })();


/***/ }),

/***/ "A1L7":
/*!*******************************************************************************************!*\
  !*** ../components/results-view/bootstrap/results-view-selector/results-view-selector.ts ***!
  \*******************************************************************************************/
/*! exports provided: BsResultsViewSelector */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsResultsViewSelector", function() { return BsResultsViewSelector; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_components_action__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/components/action */ "WsHA");
/* harmony import */ var _results_view_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../results-view.service */ "Bvaj");
/* harmony import */ var _action_bootstrap_action_buttons_action_buttons__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../action/bootstrap/action-buttons/action-buttons */ "9+ai");






const _c0 = function (a0, a2, a3) { return { items: a0, autoAdjust: true, rightAligned: a2, size: a3 }; };
class BsResultsViewSelector {
    constructor(resultsViewService) {
        this.resultsViewService = resultsViewService;
        this.useDropdownMenu = true;
        this._subscription = this.resultsViewService.resultsViewSelected.subscribe((view) => {
            this.setCurrentViewAction();
        });
    }
    ngOnDestroy() {
        if (this._subscription) {
            this._subscription.unsubscribe();
        }
    }
    setCurrentViewAction() {
        if (!!this.viewAction && !!this.resultsViewService.resultsView) {
            if (!_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].isArray(this.viewAction)) {
                const view = this.resultsViewService.views.find(view => _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].eqNC(this.resultsViewService.resultsView.name, view.name));
                if (view) {
                    this.viewAction.text = view.display || view.name;
                    this.viewAction.icon = view.icon || 'fas fa-list';
                }
                else {
                    this.viewAction.text = "msg#results.unselectableViewDisplay";
                    this.viewAction.icon = "far fa-square fa-fw";
                }
                this.viewAction.messageParams = { values: { text: this.viewAction.text } }; // for title
            }
            else {
                this.viewAction.forEach(action => {
                    action.selected = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].eqNC(action.data.name, this.resultsViewService.resultsView.name);
                });
            }
        }
    }
    buildViewAction() {
        if (this.resultsViewService.views.length <= 1) {
            this.viewAction = undefined;
            this.items = [];
            return;
        }
        const includedViews = this.resultsViewService.getIncludedViews(this.query.tab);
        if (includedViews.length <= 1) {
            this.viewAction = undefined;
            this.items = [];
            return;
        }
        if (this.useDropdownMenu) {
            this.viewAction = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_2__["Action"]({
                title: "msg#results.viewTitle",
                children: includedViews.map(view => new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_2__["Action"]({
                    text: view.display,
                    icon: view.icon,
                    data: view,
                    action: (item, event) => {
                        this.selectView(item.data);
                    }
                }))
            });
            this.items = [this.viewAction];
        }
        else {
            this.viewAction = [];
            for (const view of includedViews) {
                this.viewAction.push(new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_2__["Action"]({
                    icon: view.icon,
                    title: view.display,
                    data: view,
                    action: (item, event) => {
                        this.selectView(item.data);
                    }
                }));
            }
            this.items = this.viewAction;
        }
        this.setCurrentViewAction();
    }
    ngOnChanges(changes) {
        this.buildViewAction();
    }
    selectView(view) {
        this.resultsViewService.selectResultsView(view);
    }
}
BsResultsViewSelector.ɵfac = function BsResultsViewSelector_Factory(t) { return new (t || BsResultsViewSelector)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_results_view_service__WEBPACK_IMPORTED_MODULE_3__["ResultsViewService"])); };
BsResultsViewSelector.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsResultsViewSelector, selectors: [["sq-results-view-selector"]], inputs: { query: "query", results: "results", rightAligned: "rightAligned", useDropdownMenu: "useDropdownMenu", size: "size" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 1, vars: 5, consts: [[3, "sq-action-buttons"]], template: function BsResultsViewSelector_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "div", 0);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("sq-action-buttons", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction3"](1, _c0, ctx.items, ctx.rightAligned, ctx.size));
    } }, directives: [_action_bootstrap_action_buttons_action_buttons__WEBPACK_IMPORTED_MODULE_4__["BsActionButtons"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsResultsViewSelector, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-results-view-selector",
                templateUrl: "./results-view-selector.html"
            }]
    }], function () { return [{ type: _results_view_service__WEBPACK_IMPORTED_MODULE_3__["ResultsViewService"] }]; }, { query: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], results: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], rightAligned: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], useDropdownMenu: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], size: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "ADzn":
/*!****************************************************!*\
  !*** ../analytics/heatmap/bootstrap/public-api.ts ***!
  \****************************************************/
/*! exports provided: BsHeatmapModule, BsFacetHeatmapComponent, BsHeatmapComponent, BsTooltipComponent, BsResultsHeatmapView */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _heatmap_module__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./heatmap.module */ "EvLS");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsHeatmapModule", function() { return _heatmap_module__WEBPACK_IMPORTED_MODULE_0__["BsHeatmapModule"]; });

/* harmony import */ var _facet_heatmap_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./facet-heatmap.component */ "fs8Z");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFacetHeatmapComponent", function() { return _facet_heatmap_component__WEBPACK_IMPORTED_MODULE_1__["BsFacetHeatmapComponent"]; });

/* harmony import */ var _heatmap_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./heatmap.component */ "I6Bp");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsHeatmapComponent", function() { return _heatmap_component__WEBPACK_IMPORTED_MODULE_2__["BsHeatmapComponent"]; });

/* harmony import */ var _tooltip_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./tooltip.component */ "Fpyd");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsTooltipComponent", function() { return _tooltip_component__WEBPACK_IMPORTED_MODULE_3__["BsTooltipComponent"]; });

/* harmony import */ var _results_heatmap_view__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./results-heatmap-view */ "+R8z");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsResultsHeatmapView", function() { return _results_heatmap_view__WEBPACK_IMPORTED_MODULE_4__["BsResultsHeatmapView"]; });








/***/ }),

/***/ "AF4K":
/*!*********************************************!*\
  !*** ../components/collapse/messages/fr.ts ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    collapseButton: {
        collapse: "Replier",
        expand: "Déplier"
    }
});


/***/ }),

/***/ "AG1b":
/*!**************************************************!*\
  !*** ../components/saved-queries/messages/de.ts ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    "savedQueries": {
        "savedQueries": "Gespeicherte Suchanfragen",
        "saveCurrentQuery": "Aktuelle Suchanfrage speichern",
        "manageSavedQueries": "Aktuelle Suchanfragen verwalten",
        "savedQueryAlreadyExists": "Es existiert bereits eine Suchanfrage mit diesem Namen. Möchten Sie sie ersetzen?",
        "noSavedQuery": "Sie haben noch keine Suchanfrage gespeichert...",
        "delete": "Löschen Sie diese gespeicherte Suche"
    },
    "recentQueries": {
        "noRecentQuery": "Sie haben noch keine Suche durchgeführt...",
        "delete": "Löschen Sie diese letzte Suche",
        "save": "Speichern Sie diese letzte Suche"
    },
    "recentDocuments": {
        "recentDocuments": "Kürzlich angesehenes Dokument",
        "noRecentDocument": "Sie haben kein Dokument angezeigt",
        "delete": "Löschen Sie dieses kürzlich angezeigte Dokument"
    },
    "editSavedQuery": {
        "title": "Gespeicherte Suchanfrage",
        "name": "Name"
    },
    "exportQuery": {
        "dialogTitle": "Export",
        "dialogOutputFormat": "Ausgabeformat",
        "dialogMaxCount": "Maximale Anzahl der Zeilen",
        "dialogSourceType": "Exportiere ...",
        "dialogResult": "aktuelle Ergebnisliste",
        "dialogSelection": "aktuelle Auswahl",
        "btnTitle": "Export",
        "exportResult": "Exportiere die Ergebnisliste als {type}",
        "exportSelection": "Exportiere die Auswahl als {type}",
        "btnDownload": "Herunterladen",
        "btnClose": "Schließen",
        "successNotification": "Herunterladen beendet",
        "exportedColumns": "Zu exportierende Spalten",
        "exportedColumnsLabelTooltip": "Wählen Sie die Spalten aus, die Sie exportieren möchten. Eine leere Auswahl bedeutet, dass alle Spalten exportiert werden",
        "dialogMaxCountTooltip": "Standardmäßig ist die Anzahl der Ergebnisse auf {count} begrenzt"
    },
    "manageSavedQueries": {
        "title": "Gespeicherte Suchanfragen verwalten",
        "edit": "Bearbeiten",
        "reorder": "Neu sortieren",
        "remove": "Entfernen",
        "removeAll": "Alle entfernen",
        "export": "Exportieren",
        "name": "Name",
        "rss": "RSS-Feed"
    },
});


/***/ }),

/***/ "Am17":
/*!*************************************************!*\
  !*** ../components/advanced/bootstrap/index.ts ***!
  \*************************************************/
/*! exports provided: BsAdvancedFormCheckbox, BsAdvancedFormInput, BsAdvancedFormMultiInput, BsAdvancedFormRange, BsAdvancedFormSelect, BsAdvancedModule, BsSelectComponent, DATE_PICKER_VALUE_ACCESSOR, BsDatePicker, DATE_RANGE_PICKER_VALUE_ACCESSOR, BsDateRangePicker, BsAdvancedFormAutocomplete, BsAdvancedFormValidation, BsAdvancedFormAutocompleteMultiInput */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _public_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./public-api */ "WqyX");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsAdvancedFormCheckbox", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsAdvancedFormCheckbox"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsAdvancedFormInput", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsAdvancedFormInput"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsAdvancedFormMultiInput", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsAdvancedFormMultiInput"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsAdvancedFormRange", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsAdvancedFormRange"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsAdvancedFormSelect", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsAdvancedFormSelect"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsAdvancedModule", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsAdvancedModule"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsSelectComponent", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsSelectComponent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "DATE_PICKER_VALUE_ACCESSOR", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["DATE_PICKER_VALUE_ACCESSOR"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsDatePicker", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsDatePicker"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "DATE_RANGE_PICKER_VALUE_ACCESSOR", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["DATE_RANGE_PICKER_VALUE_ACCESSOR"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsDateRangePicker", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsDateRangePicker"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsAdvancedFormAutocomplete", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsAdvancedFormAutocomplete"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsAdvancedFormValidation", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsAdvancedFormValidation"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsAdvancedFormAutocompleteMultiInput", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsAdvancedFormAutocompleteMultiInput"]; });




/***/ }),

/***/ "AqFj":
/*!***********************************************************!*\
  !*** ../core/web-services/sponsored-links.web.service.ts ***!
  \***********************************************************/
/*! exports provided: SponsoredLinksWebService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SponsoredLinksWebService", function() { return SponsoredLinksWebService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "+kfY");
/* harmony import */ var _http_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./http.service */ "3Hvy");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _start_config_web_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./start-config.web.service */ "R3Oh");
/* harmony import */ var _http_client__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./http-client */ "j7UU");
/* harmony import */ var _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @sinequa/core/intl */ "EfqX");








/**
 * A service for calling the query.links web service.
 */
class SponsoredLinksWebService extends _http_service__WEBPACK_IMPORTED_MODULE_2__["HttpService"] {
    constructor(startConfig, httpClient, intlService) {
        super(startConfig);
        this.httpClient = httpClient;
        this.intlService = intlService;
    }
    /**
     * Queries the server for sponsored links.
     *
     * @param query The query information.
     * @param webService The web service configuration.
     */
    getLinks(query, webService) {
        if (!query) {
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["throwError"])({ error: "no query" });
        }
        const url = this.makeUrl("query.links");
        const observable = this.httpClient.post(url, {
            app: this.appName,
            webservice: webService,
            query,
            locale: this.intlService.currentLocale.name
        });
        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].subscribe(observable, (response) => {
            console.log("SponsoredLinksService.getLinks success - data: ", response);
            return response;
        }, (error) => {
            console.log("SponsoredLinksService.getLinks failure - error: ", error);
        });
        return observable;
    }
}
SponsoredLinksWebService.ɵfac = function SponsoredLinksWebService_Factory(t) { return new (t || SponsoredLinksWebService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_start_config_web_service__WEBPACK_IMPORTED_MODULE_4__["START_CONFIG"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_http_client__WEBPACK_IMPORTED_MODULE_5__["SqHttpClient"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_intl__WEBPACK_IMPORTED_MODULE_6__["IntlService"])); };
SponsoredLinksWebService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: SponsoredLinksWebService, factory: SponsoredLinksWebService.ɵfac, providedIn: "root" });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](SponsoredLinksWebService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: "root"
            }]
    }], function () { return [{ type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [_start_config_web_service__WEBPACK_IMPORTED_MODULE_4__["START_CONFIG"]]
            }] }, { type: _http_client__WEBPACK_IMPORTED_MODULE_5__["SqHttpClient"] }, { type: _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_6__["IntlService"] }]; }, null); })();


/***/ }),

/***/ "Av1P":
/*!***************************************************************!*\
  !*** ../components/modal/bootstrap/modal-footer.component.ts ***!
  \***************************************************************/
/*! exports provided: BsModalFooter */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsModalFooter", function() { return BsModalFooter; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/modal */ "vMGo");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/intl/message.pipe */ "X1Kh");





function BsModalFooter_ng_container_1_section_1_button_1_Template(rf, ctx) { if (rf & 1) {
    const _r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsModalFooter_ng_container_1_section_1_button_1_Template_button_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r8); const button_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit; const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r6.buttonClick(button_r3); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const button_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMapInterpolate1"]("btn ", button_r3.primary ? "btn-primary" : button_r3.result < 0 ? "" : "btn-secondary", "");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("type", button_r3.primary ? "submit" : "button");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 5, button_r3.getText()));
} }
function BsModalFooter_ng_container_1_section_1_a_2_Template(rf, ctx) { if (rf & 1) {
    const _r12 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "a", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsModalFooter_ng_container_1_section_1_a_2_Template_a_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r12); const button_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit; const ctx_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r10.buttonClick(button_r3); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const button_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMapInterpolate1"]("btn ", button_r3.primary ? "btn-primary" : button_r3.result < 0 ? "sq-anchor-btn" : "btn-secondary", "");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 4, button_r3.getText()));
} }
function BsModalFooter_ng_container_1_section_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "section");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsModalFooter_ng_container_1_section_1_button_1_Template, 3, 7, "button", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, BsModalFooter_ng_container_1_section_1_a_2_Template, 3, 6, "a", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const button_r3 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", button_r3.visible && !button_r3.anchor);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", button_r3.visible && button_r3.anchor);
} }
function BsModalFooter_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsModalFooter_ng_container_1_section_1_Template, 3, 2, "section", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx_r0.buttons);
} }
function BsModalFooter_ng_container_2_Template(rf, ctx) { if (rf & 1) {
    const _r15 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "span", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "button", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsModalFooter_ng_container_2_Template_button_click_2_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r15); const ctx_r14 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r14.close(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](4, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](4, 1, "msg#btnClose.text"));
} }
const _c0 = ["*"];
class BsModalFooter {
    constructor(modalRef, injector) {
        this.modalRef = modalRef;
        this.injector = injector;
        this.buttons = [];
    }
    ngOnChanges(changes) {
        if (changes.isProcessingState) {
            this.isProcessingState = changes.isProcessingState.currentValue;
        }
    }
    buttonClick(button) {
        if (button.validation && button.validation.controls) {
            // Mark all controls as dirty so validation errors are shown on all controls after a submit
            for (const name of Object.keys(button.validation.controls)) {
                button.validation.controls[name].markAsDirty();
            }
        }
        button.click(this.modalRef);
        return false;
    }
    close() {
        this.modalRef.close(-2 /* Cancel */);
    }
}
BsModalFooter.ɵfac = function BsModalFooter_Factory(t) { return new (t || BsModalFooter)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_modal__WEBPACK_IMPORTED_MODULE_1__["ModalRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"])); };
BsModalFooter.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsModalFooter, selectors: [["sq-modal-footer"]], hostVars: 2, hostBindings: function BsModalFooter_HostBindings(rf, ctx) { if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassProp"]("sq-modal-footer", true);
    } }, inputs: { buttons: "buttons", isProcessingState: "isProcessingState" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], ngContentSelectors: _c0, decls: 4, vars: 2, consts: [[1, "modal-footer"], [4, "ngIf"], [4, "ngFor", "ngForOf"], [3, "type", "class", "click", 4, "ngIf"], ["href", "#", 3, "class", "click", 4, "ngIf"], [3, "type", "click"], ["href", "#", 3, "click"], [1, "loader"], ["type", "button", 1, "btn", 3, "click"]], template: function BsModalFooter_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵprojectionDef"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsModalFooter_ng_container_1_Template, 2, 1, "ng-container", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, BsModalFooter_ng_container_2_Template, 5, 3, "ng-container", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵprojection"](3);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.isProcessingState);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.isProcessingState);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_2__["NgIf"], _angular_common__WEBPACK_IMPORTED_MODULE_2__["NgForOf"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_3__["MessagePipe"]], styles: [".loader[_ngcontent-%COMP%] {\n  border: 0.6rem solid #f3f3f3;\n  border-top: 0.6rem solid #3498db;\n  border-radius: 50%;\n  \n  width: 2.5rem;\n  height: 2.5rem;\n  -webkit-animation: spin 2s linear infinite;\n          animation: spin 2s linear infinite;\n}\n@-webkit-keyframes spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n@keyframes spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2plY3RzL2NvbXBvbmVudHMvbW9kYWwvYm9vdHN0cmFwL21vZGFsLWZvb3Rlci5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Q0FBQTtBQUdBO0VBQ0UsNEJBQUE7RUFDQSxnQ0FBQTtFQUNBLGtCQUFBO0VBQ0EseUNBQUE7RUFDQSxhQUFBO0VBQ0EsY0FBQTtFQUNBLDBDQUFBO1VBQUEsa0NBQUE7QUFDRjtBQUVBO0VBQ0U7SUFDRSx1QkFBQTtFQUNGO0VBQ0E7SUFDRSx5QkFBQTtFQUNGO0FBQ0Y7QUFQQTtFQUNFO0lBQ0UsdUJBQUE7RUFDRjtFQUNBO0lBQ0UseUJBQUE7RUFDRjtBQUNGIiwiZmlsZSI6InByb2plY3RzL2NvbXBvbmVudHMvbW9kYWwvYm9vdHN0cmFwL21vZGFsLWZvb3Rlci5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG5BIGxvYWRpbmcgaWNvbiB0aGF0IHNwaW5zIGluZGVmaW5pdGVseSB3aXRoIGEgMnMgcmV2b2x1dGlvbi5cbiovXG4ubG9hZGVyIHtcbiAgYm9yZGVyOiAwLjZyZW0gc29saWQgI2YzZjNmMztcbiAgYm9yZGVyLXRvcDogMC42cmVtIHNvbGlkICMzNDk4ZGI7XG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgLyogdHJhbnNmb3JtcyB0aGUgbG9hZGVyIGludG8gYSBjaXJjbGUuICovXG4gIHdpZHRoOiAyLjVyZW07XG4gIGhlaWdodDogMi41cmVtO1xuICBhbmltYXRpb246IHNwaW4gMnMgbGluZWFyIGluZmluaXRlO1xufVxuXG5Aa2V5ZnJhbWVzIHNwaW4ge1xuICAwJSB7XG4gICAgdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7XG4gIH1cbiAgMTAwJSB7XG4gICAgdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTtcbiAgfVxufSJdfQ== */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsModalFooter, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-modal-footer",
                templateUrl: "./modal-footer.component.html",
                styleUrls: ["./modal-footer.component.scss"]
            }]
    }], function () { return [{ type: _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_1__["ModalRef"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"] }]; }, { buttons: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], isProcessingState: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], true: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostBinding"],
            args: ["class.sq-modal-footer"]
        }] }); })();


/***/ }),

/***/ "AytR":
/*!*****************************************!*\
  !*** ./src/environments/environment.ts ***!
  \*****************************************/
/*! exports provided: environment */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "environment", function() { return environment; });
// This file can be replaced during build by using the `fileReplacements` array.
// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.
// The list of file replacements can be found in `angular.json`.
const environment = {
    url: "https://localhost:4200",
    autoSAMLProvider: "identity-dev",
    production: false
};
/*
 * For easier debugging in development mode, you can import the following file
 * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.
 *
 * This import should be commented out in production mode because it will have a negative impact
 * on performance if an error is thrown.
 */
// import 'zone.js/dist/zone-error';  // Included with Angular CLI.


/***/ }),

/***/ "BDLZ":
/*!**************************************!*\
  !*** ../components/action/action.ts ***!
  \**************************************/
/*! exports provided: IAction, Action */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IAction", function() { return IAction; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Action", function() { return Action; });
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");

class IAction {
}
class Action extends IAction {
    constructor(options) {
        super();
        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].extend(this, options);
    }
    get hasChildren() {
        return !!this.children && (this.children.length > 0);
    }
    get showSelected() {
        return typeof this.selected !== 'undefined';
    }
    update() {
        if (this.updater) {
            this.updater(this);
        }
        if (this.children) {
            for (const child of this.children) {
                child.update();
            }
        }
    }
}


/***/ }),

/***/ "BWoz":
/*!*********************************************************************!*\
  !*** ../components/search/bootstrap/sort-selector/sort-selector.ts ***!
  \*********************************************************************/
/*! exports provided: BsSortSelector */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsSortSelector", function() { return BsSortSelector; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_components_action__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/components/action */ "WsHA");
/* harmony import */ var _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/app-utils */ "SBPP");
/* harmony import */ var _search_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../search.service */ "TJtf");
/* harmony import */ var _action_bootstrap_action_buttons_action_buttons__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../action/bootstrap/action-buttons/action-buttons */ "9+ai");







const _c0 = function (a0) { return [a0]; };
const _c1 = function (a0, a1, a3, a4) { return { items: a0, style: a1, autoAdjust: true, rightAligned: a3, size: a4 }; };
class BsSortSelector {
    constructor(appService, searchService) {
        this.appService = appService;
        this.searchService = searchService;
    }
    ngOnChanges(changes) {
        if (changes["results"]) {
            this.buildSortAction();
        }
    }
    setCurrentSort(name) {
        if (this.sortAction) {
            const sortingChoices = this.getSortingChoices();
            const current = sortingChoices && sortingChoices.find((value) => {
                return _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].eqNC(value.name, name);
            });
            if (current) {
                const queryOrderBy = this.searchService.query.orderBy;
                this.sortAction.text = !!queryOrderBy ? "msg#sortSelector.sortOther" : current.display || current.name;
                this.sortAction.icon = !!queryOrderBy ? 'fas fa-sort'
                    : this.isAscendingSort(current.orderByClause) ? 'fas fa-sort-amount-up'
                        : this.isDescendingSort(current.orderByClause) ? 'fas fa-sort-amount-down' : 'fas fa-sort';
            }
            else {
                this.sortAction.text = "msg#sortSelector.sortOther";
                this.sortAction.icon = "fas fa-sort";
            }
            this.sortAction.messageParams = { values: { text: this.sortAction.text } }; // for title
        }
    }
    selectSort(sortingChoice) {
        this.setCurrentSort(sortingChoice.name);
        this.searchService.query.sort = sortingChoice.name;
        const audit = {
            type: "Search_Sort" /* Search_Sort */,
            detail: {
                sort: sortingChoice.name,
                orderByClause: sortingChoice.orderByClause,
            }
        };
        this.searchService.search(undefined, audit);
    }
    buildSortAction() {
        const sortingChoices = this.getSortingChoices();
        if (!sortingChoices || sortingChoices.length === 0) {
            this.sortAction = undefined;
            return;
        }
        this.sortAction = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_2__["Action"]({
            title: "msg#sortSelector.sortByTitle",
            children: sortingChoices
                .filter(sortingChoice => this.searchService.hasRelevance || !_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].includes(sortingChoice.orderByClause, "globalrelevance"))
                .map(sortingChoice => new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_2__["Action"]({
                icon: this.isAscendingSort(sortingChoice.orderByClause) ? 'fas fa-sort-amount-up'
                    : this.isDescendingSort(sortingChoice.orderByClause) ? 'fas fa-sort-amount-down' : '',
                text: sortingChoice.display || sortingChoice.name,
                data: sortingChoice,
                action: (item, event) => {
                    this.selectSort(item.data);
                }
            }))
        });
        if (!!this.searchService.results) {
            this.setCurrentSort(this.searchService.results.sort);
        }
    }
    isAscendingSort(orderByClause) {
        if (!orderByClause) {
            return false;
        }
        const lastElement = orderByClause.substring(orderByClause.lastIndexOf(' ') + 1);
        return _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].eqNC('asc', lastElement);
    }
    isDescendingSort(orderByClause) {
        if (!orderByClause) {
            return false;
        }
        const lastElement = orderByClause.substring(orderByClause.lastIndexOf(' ') + 1);
        return _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].eqNC('desc', lastElement);
    }
    isTabSearch() {
        const query = this.appService.ccquery;
        if (!query)
            return false;
        const tabSearch = query.tabSearch;
        return !(!tabSearch || !tabSearch.column || !tabSearch.isActive ||
            !tabSearch.tabs || tabSearch.tabs.length === 0);
    }
    getSortingChoices() {
        if (this.isTabSearch()) {
            const tabName = this.searchService.results && this.searchService.results.tab;
            if (tabName && this.appService.ccquery) {
                for (const t of this.appService.ccquery.tabSearch.tabs) {
                    if (t.name === tabName) {
                        const s = t.sortingChoices;
                        if (s && s.length > 0)
                            return s;
                        else
                            break;
                    }
                }
            }
        }
        const q = this.appService.ccquery;
        return q && q.sortingChoices;
    }
}
BsSortSelector.ɵfac = function BsSortSelector_Factory(t) { return new (t || BsSortSelector)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__["AppService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_search_service__WEBPACK_IMPORTED_MODULE_4__["SearchService"])); };
BsSortSelector.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsSortSelector, selectors: [["sq-sort-selector"]], inputs: { results: "results", rightAligned: "rightAligned", style: "style", size: "size" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 2, vars: 9, consts: [["role", "toolbar", "aria-label", "Toolbar", 1, "btn-toolbar"], [1, "btn-group", 3, "hidden", "sq-action-buttons"]], template: function BsSortSelector_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("hidden", !ctx.searchService.haveRecords || !ctx.sortAction)("sq-action-buttons", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction4"](4, _c1, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](2, _c0, ctx.sortAction), ctx.style, ctx.rightAligned, ctx.size));
    } }, directives: [_action_bootstrap_action_buttons_action_buttons__WEBPACK_IMPORTED_MODULE_5__["BsActionButtons"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsSortSelector, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-sort-selector",
                templateUrl: "./sort-selector.html"
            }]
    }], function () { return [{ type: _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__["AppService"] }, { type: _search_service__WEBPACK_IMPORTED_MODULE_4__["SearchService"] }]; }, { results: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], rightAligned: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], style: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], size: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "BmYW":
/*!*****************************************************************!*\
  !*** ../components/search/bootstrap/breadcrumbs/breadcrumbs.ts ***!
  \*****************************************************************/
/*! exports provided: BsBreadcrumbs */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsBreadcrumbs", function() { return BsBreadcrumbs; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _search_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../search.service */ "TJtf");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _utils_pipes_expr_pipe__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../utils/pipes/expr-pipe */ "MaBy");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/intl/message.pipe */ "X1Kh");






const _c0 = function (a0) { return { withFields: a0, asHTML: true }; };
function BsBreadcrumbs_ng_container_4_li_1_a_1_Template(rf, ctx) { if (rf & 1) {
    const _r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "a", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsBreadcrumbs_ng_container_4_li_1_a_1_Template_a_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r8); const item_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2).$implicit; const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r6.selectItem(item_r1); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "sqExpr");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const item_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2).$implicit;
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("innerHTML", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](1, 1, item_r1.display, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](4, _c0, ctx_r3.displayFieldNames)), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeHtml"]);
} }
function BsBreadcrumbs_ng_container_4_li_1_span_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "span", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "sqExpr");
} if (rf & 2) {
    const item_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2).$implicit;
    const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("innerHTML", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](1, 1, item_r1.display, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](4, _c0, ctx_r4.displayFieldNames)), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeHtml"]);
} }
function BsBreadcrumbs_ng_container_4_li_1_span_3_Template(rf, ctx) { if (rf & 1) {
    const _r13 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsBreadcrumbs_ng_container_4_li_1_span_3_Template_span_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r13); const item_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2).$implicit; const ctx_r11 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r11.removeItem(item_r1); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("title", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](1, 1, "msg#breadcrumbs.itemRemove"));
} }
function BsBreadcrumbs_ng_container_4_li_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "li");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsBreadcrumbs_ng_container_4_li_1_a_1_Template, 2, 6, "a", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, BsBreadcrumbs_ng_container_4_li_1_span_2_Template, 2, 6, "span", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, BsBreadcrumbs_ng_container_4_li_1_span_3_Template, 2, 3, "span", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const item_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMapInterpolate2"]("breadcrumb-item ", item_r1.active ? "active" : "", " sq-breadcrumb-item  sq-breadcrumb-item-", ctx_r2.getField(item_r1), "");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !item_r1.active);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", item_r1.active);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r2.allowDeletion);
} }
function BsBreadcrumbs_ng_container_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsBreadcrumbs_ng_container_4_li_1_Template, 4, 7, "li", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const item_r1 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !item_r1.hidden);
} }
class BsBreadcrumbs {
    constructor(searchService) {
        this.searchService = searchService;
        this.allowDeletion = true;
        this.displayFieldNames = true;
    }
    getField(item) {
        if (item.expr) {
            if (item.expr.field) {
                return item.expr.field;
            }
            else {
                if (!item.expr.isStructured) {
                    return "text";
                }
                else {
                    const fields = item.expr.getFields();
                    return fields.join("-");
                }
            }
        }
        return "unknown";
    }
    home() {
        this.searchService.home();
        return false;
    }
    selectItem(item) {
        this.searchService.selectBreadcrumbsItem(item);
        return false;
    }
    removeItem(item) {
        this.searchService.removeBreadcrumbsItem(item);
    }
}
BsBreadcrumbs.ɵfac = function BsBreadcrumbs_Factory(t) { return new (t || BsBreadcrumbs)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_search_service__WEBPACK_IMPORTED_MODULE_1__["SearchService"])); };
BsBreadcrumbs.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsBreadcrumbs, selectors: [["sq-breadcrumbs"]], inputs: { results: "results", allowDeletion: "allowDeletion", displayFieldNames: "displayFieldNames" }, decls: 5, vars: 1, consts: [[1, "breadcrumb"], [1, "breadcrumb-item"], ["href", "#", "title", "Home", 3, "click"], [1, "fas", "fa-home"], [4, "ngFor", "ngForOf"], [3, "class", 4, "ngIf"], ["href", "#", 3, "innerHTML", "click", 4, "ngIf"], [3, "innerHTML", 4, "ngIf"], ["class", "fas fa-times", "role", "button", 3, "title", "click", 4, "ngIf"], ["href", "#", 3, "innerHTML", "click"], [3, "innerHTML"], ["role", "button", 1, "fas", "fa-times", 3, "title", "click"]], template: function BsBreadcrumbs_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "ol", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "li", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "a", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsBreadcrumbs_Template_a_click_2_listener() { return ctx.home(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](3, "span", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, BsBreadcrumbs_ng_container_4_Template, 2, 1, "ng-container", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.searchService.breadcrumbs == null ? null : ctx.searchService.breadcrumbs.items);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_2__["NgForOf"], _angular_common__WEBPACK_IMPORTED_MODULE_2__["NgIf"]], pipes: [_utils_pipes_expr_pipe__WEBPACK_IMPORTED_MODULE_3__["ExprPipe"], _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_4__["MessagePipe"]], styles: [".breadcrumb[_ngcontent-%COMP%] {\n    margin-bottom: 0;\n    padding: 0.375rem 0;\n    font-size: 0.85rem;\n    background-color: inherit;\n}\n.sq-breadcrumbs-remove[_ngcontent-%COMP%] {\n    cursor: pointer;\n    color: lightgray;\n}\n.sq-breadcrumbs-remove[_ngcontent-%COMP%]:hover {\n    color: darkgray;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2plY3RzL2NvbXBvbmVudHMvc2VhcmNoL2Jvb3RzdHJhcC9icmVhZGNydW1icy9icmVhZGNydW1icy5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsc0NBQXNDO0FBQ3RDO0lBQ0ksZ0JBQWdCO0lBQ2hCLG1CQUFtQjtJQUNuQixrQkFBa0I7SUFDbEIseUJBQXlCO0FBQzdCO0FBRUE7SUFDSSxlQUFlO0lBQ2YsZ0JBQWdCO0FBQ3BCO0FBRUE7SUFDSSxlQUFlO0FBQ25CIiwiZmlsZSI6InByb2plY3RzL2NvbXBvbmVudHMvc2VhcmNoL2Jvb3RzdHJhcC9icmVhZGNydW1icy9icmVhZGNydW1icy5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBPdmVycmlkZSBvZiBCb290c3RyYXAgYnJlYWRjcnVtYnMgKi9cbi5icmVhZGNydW1iIHtcbiAgICBtYXJnaW4tYm90dG9tOiAwO1xuICAgIHBhZGRpbmc6IDAuMzc1cmVtIDA7XG4gICAgZm9udC1zaXplOiAwLjg1cmVtO1xuICAgIGJhY2tncm91bmQtY29sb3I6IGluaGVyaXQ7XG59XG5cbi5zcS1icmVhZGNydW1icy1yZW1vdmUge1xuICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICBjb2xvcjogbGlnaHRncmF5O1xufVxuXG4uc3EtYnJlYWRjcnVtYnMtcmVtb3ZlOmhvdmVyIHtcbiAgICBjb2xvcjogZGFya2dyYXk7XG59Il19 */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsBreadcrumbs, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-breadcrumbs",
                templateUrl: "./breadcrumbs.html",
                styleUrls: ["./breadcrumbs.css"]
            }]
    }], function () { return [{ type: _search_service__WEBPACK_IMPORTED_MODULE_1__["SearchService"] }]; }, { results: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], allowDeletion: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], displayFieldNames: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "BovW":
/*!***********************************!*\
  !*** ../core/validation/index.ts ***!
  \***********************************/
/*! exports provided: VALIDATION_MESSAGE_COMPONENT, ValidationDirective, ValidationErrorPipe, ValidationMessageComponent, ValidationModule, ValidatorType, ValidationService, enValidation, frValidation, deValidation */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _public_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./public-api */ "eT/q");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "VALIDATION_MESSAGE_COMPONENT", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["VALIDATION_MESSAGE_COMPONENT"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ValidationDirective", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["ValidationDirective"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ValidationErrorPipe", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["ValidationErrorPipe"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ValidationMessageComponent", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["ValidationMessageComponent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ValidationModule", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["ValidationModule"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ValidatorType", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["ValidatorType"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ValidationService", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["ValidationService"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "enValidation", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["enValidation"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "frValidation", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["frValidation"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "deValidation", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["deValidation"]; });




/***/ }),

/***/ "Bvaj":
/*!**********************************************************!*\
  !*** ../components/results-view/results-view.service.ts ***!
  \**********************************************************/
/*! exports provided: RESULTS_VIEWS, DEFAULT_VIEW, ResultsViewService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RESULTS_VIEWS", function() { return RESULTS_VIEWS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DEFAULT_VIEW", function() { return DEFAULT_VIEW; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ResultsViewService", function() { return ResultsViewService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "sEIs");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "+kfY");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_components_search__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/components/search */ "7+c1");







const RESULTS_VIEWS = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["InjectionToken"]("RESULTS_VIEWS");
const DEFAULT_VIEW = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["InjectionToken"]("DEFAULT_VIEW");
class ResultsViewService {
    /**
     * Constructor: Expects the configuration for a list of views and
     * one default view. These views can be set when importing the module in the AppModule
     * with the ResultsViewModule.forRoot() method.
     */
    constructor(defaultView, resultsViews, router, route, searchService) {
        this.defaultView = defaultView;
        this.router = router;
        this.route = route;
        this.searchService = searchService;
        this._resultsViewSelected = new rxjs__WEBPACK_IMPORTED_MODULE_2__["Subject"]();
        this._events = new rxjs__WEBPACK_IMPORTED_MODULE_2__["Subject"]();
        this._resultsViews = resultsViews;
        this._resultsView = this.defaultView;
        /**
         * Listener triggered whenever the URL changes
         */
        this.router.events.subscribe(event => {
            if (event instanceof _angular_router__WEBPACK_IMPORTED_MODULE_1__["NavigationEnd"]) {
                this.handleNavigation();
            }
        });
        /**
         * Listener triggered whenever new results come in.
         * Some views must be displayed after a search, hence the
         * pendingView flag.
         */
        this.searchService.resultsStream.subscribe(results => {
            if (this.pendingView) {
                this.searchService.queryStringParams.view = this.pendingView.name;
                this.searchService.navigate({ skipSearch: true });
                this.pendingView = undefined;
            }
        });
        // Automatically switch results views, if we go to a tab that has specific list of views
        this.searchService.events.subscribe(event => {
            // Event called just before the query for the new tab is searched
            if (event.type === "before-select-tab" && event.query.tab) {
                const views = this.getIncludedViews(event.query.tab);
                // If there are views for this tab and they don't include the current one...
                if (views.length > 0 && !views.includes(this.resultsView)) {
                    // Set the view as pending
                    this.pendingView = views[0];
                    // Modify the query if needed
                    if (this.pendingView.beforeSearch) {
                        this.pendingView.beforeSearch(event.query, this.resultsView);
                    }
                }
            }
        });
    }
    // GETTERS
    get resultsViewSelected() {
        return this._resultsViewSelected;
    }
    get events() {
        return this._events;
    }
    get resultsView() {
        return this._resultsView;
    }
    get views() {
        return this._resultsViews;
    }
    // EVENT HANDLERS
    /**
     * Navigate to a new URL including the given results view's name
     * @param view
     */
    navigate(view) {
        let waitForResults = !!view.beforeSearch;
        if (view.beforeSearch) {
            waitForResults = view.beforeSearch(this.searchService.query, this.resultsView);
        }
        if (!waitForResults) {
            // We switch view immediately via the search service (which centralizes the navigation)
            this.searchService.queryStringParams.view = view.name;
            this.searchService.navigate({ skipSearch: true });
        }
        else {
            // We set the view as "pending", that is waiting for new results to come in
            this.pendingView = view;
            this.searchService.search();
        }
    }
    /**
     * Responds to a change in the URL: Sets the results view if the URL
     * specifies a different results view name.
     */
    handleNavigation() {
        const url = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].makeURL(this.router.url);
        const view = this.getView(url.searchParams.get("view"));
        if (view && view !== this.resultsView) {
            this.searchService.queryStringParams.view = view.name; // Needed when refreshing the page
            this.setResultsView(view);
        }
    }
    /**
     * Sets the results view and emits an event
     * @param view
     */
    setResultsView(view) {
        this._resultsView = view;
        this._events.next({ type: "after-select", view });
        this._resultsViewSelected.next(view);
    }
    // PUBLIC API
    /**
     * Selects the given results view. This method is asynchronous:
     * - The selected results view might modify the query before being displayed
     * - The view selection works with a navigation via the router (adding the view name to the URL)
     * @param view
     */
    selectResultsView(view) {
        if (view) {
            // Raise before event...
            const beforeEvent = {
                type: "before-select",
                view,
                promises: []
            };
            this._events.next(beforeEvent);
            if (beforeEvent.promises.length === 0) {
                this.navigate(view);
            }
            else {
                Promise.all(beforeEvent.promises)
                    .then((results) => {
                    const ok = results.every(result => result);
                    if (ok) {
                        this.navigate(view);
                    }
                    else {
                        console.log("selectResultsView cancelled");
                        this._events.next({ type: "select-cancelled", view });
                    }
                })
                    .catch((reason) => {
                    console.log("selectResultsView error:", reason);
                    this._events.next({ type: "select-cancelled", view });
                });
            }
        }
        else {
            console.error("Undefined Results View");
        }
    }
    /**
     * Selects the results view with the given name. This method is asynchronous:
     * - The selected results view might modify the query before being displayed
     * - The view selection works with a navigation via the router (adding the view name to the URL)
     * @param viewName
     */
    selectResultsViewName(viewName) {
        const view = this.getView(viewName);
        if (view) {
            this.selectResultsView(view);
        }
    }
    /**
     * Returns the results view with the given name
     * @param viewName
     */
    getView(viewName) {
        return this.views.find(v => v.name === viewName);
    }
    /**
     * Returns the list of results views compatible with a given tab
     * @param tab
     */
    getIncludedViews(tab) {
        const views = [];
        for (const view of this.views) {
            const included = !!view.includedTabs
                ? view.includedTabs.includes(tab || "")
                : !view.excludedTabs || !view.excludedTabs.includes(tab || "");
            if (included) {
                views.push(view);
            }
        }
        return views;
    }
}
ResultsViewService.ɵfac = function ResultsViewService_Factory(t) { return new (t || ResultsViewService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](DEFAULT_VIEW), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](RESULTS_VIEWS), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_components_search__WEBPACK_IMPORTED_MODULE_4__["SearchService"])); };
ResultsViewService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: ResultsViewService, factory: ResultsViewService.ɵfac, providedIn: 'root' });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ResultsViewService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: 'root',
            }]
    }], function () { return [{ type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [DEFAULT_VIEW]
            }] }, { type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [RESULTS_VIEWS]
            }] }, { type: _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"] }, { type: _angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"] }, { type: _sinequa_components_search__WEBPACK_IMPORTED_MODULE_4__["SearchService"] }]; }, null); })();


/***/ }),

/***/ "BwUK":
/*!*****************************************************!*\
  !*** ../core/notification/notifications.service.ts ***!
  \*****************************************************/
/*! exports provided: NotificationsService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NotificationsService", function() { return NotificationsService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "+kfY");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");




/**
 * This service provides methods for managing notifications. No user interface
 * is imposed. It also manages a key-value data store. Events are emitted
 * when the notifications and data store are updated.
 */
class NotificationsService {
    constructor() {
        this._events = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
        this._notificationsStream = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
        this.data = {};
        this.notifications = [];
    }
    ngOnDestroy() {
        this._events.complete();
    }
    /**
     * Get the obervable stream of notification events.
     */
    get events() {
        return this._events;
    }
    /**
     * Get the observable stream of notifications. This will
     * emit each time a notification is added. It will also emit
     * `null` when notifications are deleted.
     */
    get notificationsStream() {
        return this._notificationsStream;
    }
    /**
     * Set a value in the data store. The `data-updated` event
     * is emitted.
     *
     * @param key The value's key.
     * @param value The value.
     */
    set(key, value) {
        this.data[key] = value;
        this._events.next({ type: "data-updated" });
    }
    /**
     * Get a value from the data store.
     *
     * @param key The value's key.
     */
    get(key) {
        return this.data[key];
    }
    /**
     * Increment a counter in the data store identified by the passed `key`.
     * The intial value is 0.
     *
     * @param key The key for the counter.
     */
    enter(key) {
        let value = this.data[key];
        if (!value) {
            value = 0;
        }
        value++;
        this.set(key, value);
    }
    /**
     * Decrement a counter in the data store identified by the passed `key`.
     * Calls to `leave` should match calls to `enter`. If the counter becomes negative
     * an "underflow" warning is emitted to the console and the counter set to 0.
     *
     * @param key The key for the counter.
     */
    leave(key) {
        let value = this.data[key];
        value--;
        if (value < 0) {
            console.warn("NotificationsService.leave underflow for:", key);
        }
        if (!value || value < 0) {
            value = 0;
        }
        this.set(key, value);
    }
    /**
     * `true` if there are current notifications.
     */
    get haveNotifications() {
        return this.notifications.length > 0;
    }
    /**
     * `true` if the all current notifications are in the `Showing` state.
     */
    get allNotificationsShowing() {
        for (const notification of this.notifications) {
            if (notification.state !== 1 /* Showing */) {
                return false;
            }
        }
        return true;
    }
    /**
     * `true` if all current notifications are in the `Hidden` state.
     */
    get allNotificationsHidden() {
        for (const notification of this.notifications) {
            if (notification.state !== 2 /* Hidden */) {
                return false;
            }
        }
        return true;
    }
    /**
     * Gets the last added notification.
     */
    get lastNotification() {
        if (this.notifications.length > 0) {
            return this.notifications[this.notifications.length - 1];
        }
        return undefined;
    }
    /**
     * Add a notification. The `updated` event is emitted and the added notification
     * is emitted on the notifications stream.
     *
     * @param type The notification type.
     * @param text The notification message text.
     * @param params Parameters for the message text.
     * @param title The notification title.
     * @param autoClose A flag determining whether the notification should auto-close.
     */
    notify(type, text, params, title, autoClose) {
        const notification = {
            type,
            text,
            params,
            title,
            autoClose
        };
        // Replace the last notification if it is the same as the new one
        const lastNotification = this.lastNotification;
        if (lastNotification) {
            notification.state = lastNotification.state;
            if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].equals(notification, lastNotification)) {
                this.notifications.splice(this.notifications.length - 1, 1);
            }
        }
        notification.state = 0 /* Initial */;
        this.notifications.push(notification);
        this._events.next({ type: "updated" });
        this._notificationsStream.next(notification);
        return notification;
    }
    /**
     * Add a `Success` type notification. The notification will auto-close.
     *
     * @param text The notification message text.
     * @param params Parameters for the message text.
     * @param title The notification title.
     */
    success(text, params, title) {
        return this.notify(0 /* Success */, text, params, title, true);
    }
    /**
     * Add an `Info` type notification. The notification will auto-close.
     *
     * @param text The notification message text.
     * @param params Parameters for the message text.
     * @param title The notification title.
     */
    info(text, params, title) {
        return this.notify(1 /* Info */, text, params, title, true);
    }
    /**
     * Add a `Warning` type notification. The nofification will not auto-close.
     *
     * @param text The notification message text.
     * @param params Parameters for the message text.
     * @param title The notification title.
     */
    warning(text, params, title) {
        return this.notify(2 /* Warning */, text, params, title, false);
    }
    /**
     * Add an `Error` type notification. The nofification will not auto-close.
     *
     * @param text The notification message text.
     * @param params Parameters for the message text.
     * @param title The notification title.
     */
    error(text, params, title) {
        return this.notify(3 /* Error */, text, params, title, false);
    }
    /**
     * Set the state of all notifications to `Showing`. The `updated` event is
     * emitted.
     */
    showNotifications() {
        for (const notification of this.notifications) {
            notification.state = 1 /* Showing */;
        }
        this._events.next({ type: "updated" });
    }
    /**
     * Set the state of all notifications to `Hidden`. The `updated` event is
     * emitted.
     */
    hideNotifications() {
        for (const notification of this.notifications) {
            notification.state = 2 /* Hidden */;
        }
        this._events.next({ type: "updated" });
    }
    /**
     * Delete all notifications. The `updated` event is
     * emitted. `null` is emitted on the notifications stream.
     */
    deleteAllNotifications() {
        this.notifications.splice(0);
        this._events.next({ type: "updated" });
        this._notificationsStream.next(undefined);
    }
    /**
     * Delete the passed `notification`. The `updated` event is
     * emitted. `null` is emitted on the notifications stream if no notifications
     * remain.
     *
     * @param notification The notification to delete.
     */
    deleteNotification(notification) {
        for (let i = 0, ic = this.notifications.length; i < ic; i++) {
            if (this.notifications[i] === notification) {
                this.notifications.splice(i, 1);
                this._events.next({ type: "updated" });
                if (this.notifications.length === 0) {
                    this._notificationsStream.next(undefined);
                }
                break;
            }
        }
    }
    /**
     * Close the passed `notification`. If the notification is in the
     * `Initial` state then its state is set to `Hidden` otherwise the
     * notification is deleted. The `updated` event is emitted.
     *
     * @param notification The notification to close.
     */
    closeNotification(notification) {
        if (notification.state === 0 /* Initial */) {
            notification.state = 2 /* Hidden */;
            this._events.next({ type: "updated" });
        }
        else {
            this.deleteNotification(notification);
        }
    }
}
NotificationsService.ɵfac = function NotificationsService_Factory(t) { return new (t || NotificationsService)(); };
NotificationsService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: NotificationsService, factory: NotificationsService.ɵfac, providedIn: "root" });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NotificationsService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: "root"
            }]
    }], function () { return []; }, null); })();


/***/ }),

/***/ "BxK0":
/*!**********************************************************!*\
  !*** ../core/validation/validation-message.component.ts ***!
  \**********************************************************/
/*! exports provided: ValidationMessageComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ValidationMessageComponent", function() { return ValidationMessageComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _intl_message_pipe__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../intl/message.pipe */ "X1Kh");



const _c0 = function (a0) { return { values: a0 }; };
/**
 * A default component to be used by the {@link ValidationDirective} directive to display
 * a validation error message using {@link MessagePipe}.
 */
class ValidationMessageComponent {
}
ValidationMessageComponent.ɵfac = function ValidationMessageComponent_Factory(t) { return new (t || ValidationMessageComponent)(); };
ValidationMessageComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: ValidationMessageComponent, selectors: [["sq-validation-message"]], inputs: { text: "text", info: "info" }, decls: 3, vars: 6, consts: [[1, "sq-validation-message"]], template: function ValidationMessageComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](2, 1, ctx.text, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](4, _c0, ctx.info)));
    } }, pipes: [_intl_message_pipe__WEBPACK_IMPORTED_MODULE_1__["MessagePipe"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ValidationMessageComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-validation-message",
                template: `
        <div class="sq-validation-message">{{text | sqMessage:{values: info} }}</div>
    `
            }]
    }], null, { text: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], info: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "C3rY":
/*!*****************************************!*\
  !*** ../core/modal/prompt.component.ts ***!
  \*****************************************/
/*! exports provided: Prompt */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Prompt", function() { return Prompt; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ "nIj0");
/* harmony import */ var _modal_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./modal.service */ "sZXJ");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _modal_ref__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./modal-ref */ "Mvhk");
/* harmony import */ var _angular_cdk_a11y__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/cdk/a11y */ "sg/T");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _intl_message_pipe__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../intl/message.pipe */ "X1Kh");
/* harmony import */ var _validation_validation_error_pipe__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../validation/validation-error.pipe */ "Ss1q");











function Prompt_input_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "input", 7);
} }
function Prompt_textarea_8_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "textarea", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "            ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("rows", ctx_r1.model.rowCount);
} }
function Prompt_ng_container_9_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "br");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "span", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](4, "sqValidationError");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    let tmp_0_0 = null;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](4, 1, (tmp_0_0 = ctx_r2.form.get("input")) == null ? null : tmp_0_0.errors));
} }
class Prompt {
    constructor(model, modalRef, formBuilder) {
        this.model = model;
        this.modalRef = modalRef;
        this.formBuilder = formBuilder;
    }
    ngOnInit() {
        this.inputControl = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"](this.model.output, this.model.validators || _angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required);
        this.form = this.formBuilder.group({
            input: this.inputControl
        });
        this.formChanges = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].subscribe(this.form.valueChanges, (value) => {
            this.model.output = this.inputControl.value;
        });
    }
    ngOnDestroy() {
        this.formChanges.unsubscribe();
    }
    showError(control) {
        return control.invalid && (control.dirty || this.modalRef.submitted);
    }
    ok() {
        if (!this.form.valid) {
            return;
        }
        this.modalRef.close(-1 /* OK */);
    }
    cancel() {
        this.modalRef.close(-2 /* Cancel */);
    }
    get title() {
        return this.model.title ? this.model.title : "msg#modal.prompt.title";
    }
}
Prompt.ɵfac = function Prompt_Factory(t) { return new (t || Prompt)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_modal_service__WEBPACK_IMPORTED_MODULE_2__["MODAL_MODEL"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_modal_ref__WEBPACK_IMPORTED_MODULE_4__["ModalRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormBuilder"])); };
Prompt.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: Prompt, selectors: [["sq-core-prompt"]], decls: 17, vars: 18, consts: [["novalidate", "", "cdkTrapFocus", "", 2, "border", "solid", "padding", "16px", "background-color", "white", 3, "formGroup", "cdkTrapFocusAutoCapture"], [2, "margin-top", "0"], ["type", "text", "formControlName", "input", 4, "ngIf"], ["type", "text", "formControlName", "input", "spellcheck", "on", "autofocus", "", 3, "rows", 4, "ngIf"], [4, "ngIf"], ["type", "submit", 3, "click"], ["type", "button", 3, "click"], ["type", "text", "formControlName", "input"], ["type", "text", "formControlName", "input", "spellcheck", "on", "autofocus", "", 3, "rows"], [2, "color", "red"]], template: function Prompt_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "form", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "h3", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](3, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "div");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](6, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](7, Prompt_input_7_Template, 1, 0, "input", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](8, Prompt_textarea_8_Template, 2, 1, "textarea", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](9, Prompt_ng_container_9_Template, 5, 3, "ng-container", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](10, "hr");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](11, "button", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function Prompt_Template_button_click_11_listener() { return ctx.ok(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](12);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](13, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](14, "button", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function Prompt_Template_button_click_14_listener() { return ctx.cancel(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](15);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](16, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("formGroup", ctx.form)("cdkTrapFocusAutoCapture", true);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](3, 9, ctx.title));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](6, 11, ctx.model.message, ctx.model.messageParams));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.model.rowCount);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !!ctx.model.rowCount);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.showError(ctx.inputControl));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](13, 14, "msg#modal.buttons.ok"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](16, 16, "msg#modal.buttons.cancel"));
    } }, directives: [_angular_forms__WEBPACK_IMPORTED_MODULE_1__["ɵangular_packages_forms_forms_y"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["NgControlStatusGroup"], _angular_cdk_a11y__WEBPACK_IMPORTED_MODULE_5__["CdkTrapFocus"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormGroupDirective"], _angular_common__WEBPACK_IMPORTED_MODULE_6__["NgIf"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["DefaultValueAccessor"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["NgControlStatus"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControlName"]], pipes: [_intl_message_pipe__WEBPACK_IMPORTED_MODULE_7__["MessagePipe"], _validation_validation_error_pipe__WEBPACK_IMPORTED_MODULE_8__["ValidationErrorPipe"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](Prompt, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-core-prompt",
                template: `
        <form novalidate [formGroup]="form" style="border: solid;padding: 16px;background-color: white;" cdkTrapFocus [cdkTrapFocusAutoCapture]="true">
            <h3 style="margin-top: 0;">{{title | sqMessage}}</h3>
            <div>{{model.message | sqMessage:model.messageParams}}</div>
            <input type="text" formControlName="input" *ngIf="!model.rowCount">
            <textarea type="text" formControlName="input" spellcheck="on" rows="{{model.rowCount}}" autofocus *ngIf="!!model.rowCount">
            </textarea>
            <ng-container *ngIf="showError(inputControl)">
                <br>
                <span style="color: red;">{{form.get("input")?.errors | sqValidationError}}</span>
            </ng-container>
            <hr>
            <button type="submit" (click)="ok()">{{'msg#modal.buttons.ok' | sqMessage}}</button>
            <button type="button" (click)="cancel()">{{'msg#modal.buttons.cancel' | sqMessage}}</button>
        </form>
    `
            }]
    }], function () { return [{ type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [_modal_service__WEBPACK_IMPORTED_MODULE_2__["MODAL_MODEL"]]
            }] }, { type: _modal_ref__WEBPACK_IMPORTED_MODULE_4__["ModalRef"] }, { type: _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormBuilder"] }]; }, null); })();


/***/ }),

/***/ "C92B":
/*!*******************************************************!*\
  !*** ../core/login/component-with-login.component.ts ***!
  \*******************************************************/
/*! exports provided: ComponentWithLogin */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ComponentWithLogin", function() { return ComponentWithLogin; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _login_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./login.service */ "Kghj");



/**
 * A utility base class to assist main components in the handling of the login state of the
 * the application. It initiates the login process and sets `loginComplete` accordingly
 * whenever the login state changes
 */
class ComponentWithLogin {
    constructor(loginService, changeDetectorRef) {
        this.loginService = loginService;
        this.changeDetectorRef = changeDetectorRef;
    }
    /**
     * A method called whenever the `session-changed` event is received. This can be
     * overridden by the subclassing component.
     */
    onLoginComplete() {
    }
    /**
     * Subscribes to the [LoginService.events]{@link LoginService#events} and sets
     * the `loginComplete` member whenever the `session-changed` event is received
     */
    ngOnInit() {
        this.loginComplete = this.loginService.complete;
        this.loginSubscription = this.loginService.events.subscribe(event => {
            if (event.type === "session-changed") {
                this.loginComplete = this.loginService.complete;
                this.onLoginComplete();
                this.changeDetectorRef.markForCheck();
            }
        });
    }
    ngOnDestroy() {
        this.loginSubscription.unsubscribe();
    }
    /**
     * Initiates the login process by calling [LoginService.login]{@link LoginService#login}
     */
    ngAfterViewInit() {
        this.loginService.login();
    }
}
ComponentWithLogin.ɵfac = function ComponentWithLogin_Factory(t) { return new (t || ComponentWithLogin)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_login_service__WEBPACK_IMPORTED_MODULE_1__["LoginService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"])); };
ComponentWithLogin.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: ComponentWithLogin, selectors: [["ng-component"]], decls: 0, vars: 0, template: function ComponentWithLogin_Template(rf, ctx) { }, encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ComponentWithLogin, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                template: ''
            }]
    }], function () { return [{ type: _login_service__WEBPACK_IMPORTED_MODULE_1__["LoginService"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] }]; }, null); })();


/***/ }),

/***/ "Cbsm":
/*!***************************************************!*\
  !*** ../components/modal/bootstrap/public-api.ts ***!
  \***************************************************/
/*! exports provided: BsModalModule, BsConfirm, BsPrompt, BsEditable, BsHelp, BsLogin, BsModalFooter, BsModalHeader, BsModal, BsOverrideUser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _modal_module__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./modal.module */ "WzNQ");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsModalModule", function() { return _modal_module__WEBPACK_IMPORTED_MODULE_0__["BsModalModule"]; });

/* harmony import */ var _confirm_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./confirm.component */ "o0UK");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsConfirm", function() { return _confirm_component__WEBPACK_IMPORTED_MODULE_1__["BsConfirm"]; });

/* harmony import */ var _prompt_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./prompt.component */ "Cy1w");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsPrompt", function() { return _prompt_component__WEBPACK_IMPORTED_MODULE_2__["BsPrompt"]; });

/* harmony import */ var _editable_editable__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./editable/editable */ "lolS");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsEditable", function() { return _editable_editable__WEBPACK_IMPORTED_MODULE_3__["BsEditable"]; });

/* harmony import */ var _help_help__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./help/help */ "20FV");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsHelp", function() { return _help_help__WEBPACK_IMPORTED_MODULE_4__["BsHelp"]; });

/* harmony import */ var _login_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./login.component */ "WFuT");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsLogin", function() { return _login_component__WEBPACK_IMPORTED_MODULE_5__["BsLogin"]; });

/* harmony import */ var _modal_footer_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./modal-footer.component */ "Av1P");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsModalFooter", function() { return _modal_footer_component__WEBPACK_IMPORTED_MODULE_6__["BsModalFooter"]; });

/* harmony import */ var _modal_header_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./modal-header.component */ "ULb8");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsModalHeader", function() { return _modal_header_component__WEBPACK_IMPORTED_MODULE_7__["BsModalHeader"]; });

/* harmony import */ var _modal_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./modal.component */ "oSLy");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsModal", function() { return _modal_component__WEBPACK_IMPORTED_MODULE_8__["BsModal"]; });

/* harmony import */ var _override_user_override_user__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./override-user/override-user */ "hFWr");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsOverrideUser", function() { return _override_user_override_user__WEBPACK_IMPORTED_MODULE_9__["BsOverrideUser"]; });













/***/ }),

/***/ "Cef8":
/*!******************************************************************!*\
  !*** ../components/utils/directives/focus-key-list.directive.ts ***!
  \******************************************************************/
/*! exports provided: FocusKeyListDirective */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FocusKeyListDirective", function() { return FocusKeyListDirective; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_cdk_a11y__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/cdk/a11y */ "sg/T");
/* harmony import */ var _focus_key_list_item_directive__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./focus-key-list-item.directive */ "1q26");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");





class FocusKeyListDirective {
    constructor() {
        this.activeItem = -1;
        this.withWrap = true;
        this.itemSelect = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.role = "list";
    }
    ngOnChanges() {
        if (this.keyManager) {
            this.keyManager.setActiveItem(this.activeItem);
        }
    }
    ngAfterContentInit() {
        this.keyManager = new _angular_cdk_a11y__WEBPACK_IMPORTED_MODULE_1__["FocusKeyManager"](this.components);
        if (this.withWrap) {
            this.keyManager.withWrap();
        }
        if (this.activeItem >= 0 && this.components.length > 0) {
            _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].delay().then(() => {
                this.keyManager.setActiveItem(this.activeItem);
            });
        }
    }
    onKeydown(event) {
        this.keyManager.onKeydown(event);
        this.itemSelect.emit(this.keyManager.activeItemIndex !== null ? this.keyManager.activeItemIndex : undefined);
    }
}
FocusKeyListDirective.ɵfac = function FocusKeyListDirective_Factory(t) { return new (t || FocusKeyListDirective)(); };
FocusKeyListDirective.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({ type: FocusKeyListDirective, selectors: [["", "sqFocusKeyList", ""]], contentQueries: function FocusKeyListDirective_ContentQueries(rf, ctx, dirIndex) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵcontentQuery"](dirIndex, _focus_key_list_item_directive__WEBPACK_IMPORTED_MODULE_2__["FocusKeyListItemDirective"], false);
    } if (rf & 2) {
        let _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.components = _t);
    } }, hostVars: 1, hostBindings: function FocusKeyListDirective_HostBindings(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("keydown", function FocusKeyListDirective_keydown_HostBindingHandler($event) { return ctx.onKeydown($event); });
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵattribute"]("role", ctx.role);
    } }, inputs: { activeItem: "activeItem", withWrap: "withWrap" }, outputs: { itemSelect: "itemSelect" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](FocusKeyListDirective, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Directive"],
        args: [{
                selector: "[sqFocusKeyList]"
            }]
    }], null, { activeItem: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], withWrap: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], itemSelect: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }], role: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostBinding"],
            args: ["attr.role"]
        }], components: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChildren"],
            args: [_focus_key_list_item_directive__WEBPACK_IMPORTED_MODULE_2__["FocusKeyListItemDirective"]]
        }], onKeydown: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostListener"],
            args: ["keydown", ["$event"]]
        }] }); })();


/***/ }),

/***/ "Cfs9":
/*!****************************************************!*\
  !*** ../core/web-services/download.web.service.ts ***!
  \****************************************************/
/*! exports provided: DownloadWebService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DownloadWebService", function() { return DownloadWebService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");



/**
 * A service to manage navigator downloads
 */
class DownloadWebService {
    /**
     * Subscribes to the given observable to trigger a download action on the navigator
     * when the observed object is ready.
     *
     * @param observable The observable to subscribe.
     * @returns The observable for chaining.
     */
    download(observable) {
        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].subscribe(observable, (response) => {
            const header = response.headers.get('content-disposition');
            const fileName = header ? header.split('filename=')[1].replace('"', '').replace('"', '') : "";
            if (window.navigator && window.navigator.msSaveOrOpenBlob) {
                // For IE
                window.navigator.msSaveOrOpenBlob(response.body, fileName);
            }
            else {
                const link = document.createElement('a');
                document.body.appendChild(link);
                const blobUrl = window.URL.createObjectURL(response.body);
                link.href = blobUrl;
                link.download = fileName;
                link.click();
                link.remove();
                window.URL.revokeObjectURL(blobUrl);
            }
            return response;
        });
        return observable;
    }
}
DownloadWebService.ɵfac = function DownloadWebService_Factory(t) { return new (t || DownloadWebService)(); };
DownloadWebService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: DownloadWebService, factory: DownloadWebService.ɵfac, providedIn: "root" });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](DownloadWebService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: "root"
            }]
    }], null, null); })();


/***/ }),

/***/ "Cfzj":
/*!**********************************************************************!*\
  !*** ../components/facet/bootstrap/facet-mysearch/facet-mysearch.ts ***!
  \**********************************************************************/
/*! exports provided: BsMySearch */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsMySearch", function() { return BsMySearch; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _abstract_facet__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../abstract-facet */ "+Pqq");
/* harmony import */ var _sinequa_components_action__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/components/action */ "WsHA");
/* harmony import */ var _sinequa_components_search__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/components/search */ "7+c1");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _utils_pipes_expr_pipe__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../utils/pipes/expr-pipe */ "MaBy");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/intl/message.pipe */ "X1Kh");








function BsMySearch_ng_container_1_div_1_span_3_Template(rf, ctx) { if (rf & 1) {
    const _r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsMySearch_ng_container_1_div_1_span_3_Template_span_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r8); const item_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2).$implicit; const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r6.removeItem(item_r2); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("title", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](1, 1, "msg#facet.mySearch.itemRemove"));
} }
const _c0 = function (a0) { return { "sq-metadata-border": a0 }; };
const _c1 = function (a0) { return { withFields: a0, asHTML: true }; };
function BsMySearch_ng_container_1_div_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "span", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqExpr");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, BsMySearch_ng_container_1_div_1_span_3_Template, 2, 3, "span", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    const i_r3 = ctx_r9.index;
    const item_r2 = ctx_r9.$implicit;
    const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMapInterpolate1"]("px-1 ml-1 mb-1 sq-metadata-item sq-metadata-color-", ctx_r4.fields[i_r3], "");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](10, _c0, ctx_r4.useBadges));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("title", ctx_r4.fields[i_r3]);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("innerHTML", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](2, 7, item_r2.display, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](12, _c1, ctx_r4.displayFieldNames)), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeHtml"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r4.allowDeletion);
} }
function BsMySearch_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsMySearch_ng_container_1_div_1_Template, 4, 14, "div", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const item_r2 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !item_r2.hidden);
} }
function BsMySearch_div_2_Template(rf, ctx) { if (rf & 1) {
    const _r11 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "hr");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "i", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsMySearch_div_2_Template_i_click_2_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r11); const ctx_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r10.collapsed = !ctx_r10.collapsed; });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMapInterpolate1"]("fas fa-chevron-circle-", ctx_r1.collapsed ? "down" : "up", "");
} }
class BsMySearch extends _abstract_facet__WEBPACK_IMPORTED_MODULE_1__["AbstractFacet"] {
    constructor(searchService) {
        super();
        this.searchService = searchService;
        /** Display icon to delete items */
        this.allowDeletion = true;
        /** Display each item's field */
        this.displayFieldNames = false;
        /** Make the div collapsible */
        this.collapsible = false;
        /** Add a badge likely style to items */
        this.useBadges = false;
        /** Wether we Ignore text and fielded search */
        this.ignoreText = true;
        /** Items of those facets will be excluded  */
        this.excludedFacets = ["search-form"];
        this.collapsed = false;
        this.items = [];
        this.fields = [];
        this.clearAction = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_2__["Action"]({
            icon: "far fa-minus-square",
            title: "msg#facet.filters.clear",
            action: () => this.clear(),
        });
    }
    ngOnChanges(changes) {
        var _a, _b;
        if (!!changes["results"]) {
            /** Initialize items based on input values */
            this.items = this.ignoreText
                ? ((_a = this.searchService.breadcrumbs) === null || _a === void 0 ? void 0 : _a.items.filter((item) => item.expr && !(item.expr && !item.expr.field && !item.expr.isStructured) && !this.excludedFacets.includes(item.facet))) || []
                : ((_b = this.searchService.breadcrumbs) === null || _b === void 0 ? void 0 : _b.items) || [];
            /** Retrieve the field name of each item */
            this.fields = [];
            for (const item of this.items) {
                this.fields.push(this.getField(item));
            }
        }
    }
    getField(item) {
        if (item.expr) {
            if (item.expr.field) {
                return item.expr.field;
            }
            else {
                if (!item.expr.isStructured) {
                    return "text";
                }
                else {
                    const fields = item.expr.getFields();
                    return fields.join("-");
                }
            }
        }
        return "unknown";
    }
    removeItem(item) {
        this.searchService.removeBreadcrumbsItem(item);
    }
    get isEmpty() {
        return this.items.length === 0;
    }
    get actions() {
        const actions = [];
        if (!this.isEmpty && this.allowDeletion) {
            actions.push(this.clearAction);
        }
        return actions;
    }
    clear() {
        for (const item of this.items) {
            this.searchService.removeBreadcrumbsItem(item);
        }
    }
}
BsMySearch.ɵfac = function BsMySearch_Factory(t) { return new (t || BsMySearch)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_search__WEBPACK_IMPORTED_MODULE_3__["SearchService"])); };
BsMySearch.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsMySearch, selectors: [["sq-facet-mysearch"]], inputs: { results: "results", allowDeletion: "allowDeletion", displayFieldNames: "displayFieldNames", collapsible: "collapsible", useBadges: "useBadges", ignoreText: "ignoreText", excludedFacets: "excludedFacets" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"], _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 3, vars: 3, consts: [[1, "my-search", "d-flex", "flex-row", "align-items-center", "flex-wrap", 3, "ngClass"], [4, "ngFor", "ngForOf"], [4, "ngIf"], [3, "class", "ngClass", 4, "ngIf"], [3, "ngClass"], [3, "innerHTML", "title"], ["class", "far fa-times-circle pl-1", "role", "button", 3, "title", "click", 4, "ngIf"], ["role", "button", 1, "far", "fa-times-circle", "pl-1", 3, "title", "click"], [3, "click"]], template: function BsMySearch_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsMySearch_ng_container_1_Template, 2, 1, "ng-container", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, BsMySearch_div_2_Template, 3, 3, "div", 2);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", ctx.collapsed ? "collapsed-view" : "expanded-view");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.items);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.collapsible && !ctx.isEmpty);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_4__["NgClass"], _angular_common__WEBPACK_IMPORTED_MODULE_4__["NgForOf"], _angular_common__WEBPACK_IMPORTED_MODULE_4__["NgIf"]], pipes: [_utils_pipes_expr_pipe__WEBPACK_IMPORTED_MODULE_5__["ExprPipe"], _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_6__["MessagePipe"]], styles: [".my-search[_ngcontent-%COMP%] {\n  font-size: 0.85rem;\n}\n\n.sq-metadata-item[_ngcontent-%COMP%] {\n  background-color: white;\n  cursor: pointer;\n  border-radius: 20px;\n}\n\n.sq-metadata-item[_ngcontent-%COMP%]:hover {\n  background-color: lightgrey;\n  opacity: 0.8;\n}\n\n.sq-metadata-item[_ngcontent-%COMP%]   .fa-times-circle[_ngcontent-%COMP%]:hover {\n  opacity: 0.8;\n  cursor: pointer;\n}\n\n.sq-metadata-border[_ngcontent-%COMP%] {\n  border: 1px solid;\n}\n\n.text-decoration-line-through[_ngcontent-%COMP%] {\n  text-decoration: line-through;\n}\n\n.collapsed-view[_ngcontent-%COMP%] {\n  height: 29px;\n  overflow-y: hidden;\n}\n\n.expanded-view[_ngcontent-%COMP%] {\n  height: unset;\n}\n\n.fa-chevron-circle-down[_ngcontent-%COMP%], .fa-chevron-circle-up[_ngcontent-%COMP%] {\n  color: darkgray;\n  position: relative;\n  top: -5px;\n  left: 49%;\n}\n\n.fa-chevron-circle-down[_ngcontent-%COMP%]:hover, .fa-chevron-circle-up[_ngcontent-%COMP%]:hover {\n  opacity: 0.7;\n  cursor: pointer;\n}\n\nhr[_ngcontent-%COMP%] {\n  margin-top: 0px !important;\n  margin-bottom: 0px !important;\n  width: 30%;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2plY3RzL2NvbXBvbmVudHMvZmFjZXQvYm9vdHN0cmFwL2ZhY2V0LW15c2VhcmNoL2ZhY2V0LW15c2VhcmNoLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxrQkFBQTtBQUNGOztBQUVBO0VBQ0UsdUJBQUE7RUFDQSxlQUFBO0VBQ0EsbUJBQUE7QUFDRjs7QUFDQTtFQUNFLDJCQUFBO0VBQ0EsWUFBQTtBQUVGOztBQUFBO0VBQ0UsWUFBQTtFQUNBLGVBQUE7QUFHRjs7QUFBQTtFQUNFLGlCQUFBO0FBR0Y7O0FBQUE7RUFDRSw2QkFBQTtBQUdGOztBQUFBO0VBQ0UsWUFBQTtFQUNBLGtCQUFBO0FBR0Y7O0FBQUE7RUFDRSxhQUFBO0FBR0Y7O0FBQUE7RUFDRSxlQUFBO0VBQ0Esa0JBQUE7RUFDQSxTQUFBO0VBQ0EsU0FBQTtBQUdGOztBQURBO0VBQ0UsWUFBQTtFQUNBLGVBQUE7QUFJRjs7QUFEQTtFQUNFLDBCQUFBO0VBQ0EsNkJBQUE7RUFDQSxVQUFBO0FBSUYiLCJmaWxlIjoicHJvamVjdHMvY29tcG9uZW50cy9mYWNldC9ib290c3RyYXAvZmFjZXQtbXlzZWFyY2gvZmFjZXQtbXlzZWFyY2guc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5teS1zZWFyY2gge1xuICBmb250LXNpemU6IDAuODVyZW07XG59XG5cbi5zcS1tZXRhZGF0YS1pdGVtIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgYm9yZGVyLXJhZGl1czogMjBweDtcbn1cbi5zcS1tZXRhZGF0YS1pdGVtOmhvdmVyIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogbGlnaHRncmV5O1xuICBvcGFjaXR5OiAwLjg7XG59XG4uc3EtbWV0YWRhdGEtaXRlbSAuZmEtdGltZXMtY2lyY2xlOmhvdmVyIHtcbiAgb3BhY2l0eTogMC44O1xuICBjdXJzb3I6IHBvaW50ZXI7XG59XG5cbi5zcS1tZXRhZGF0YS1ib3JkZXIge1xuICBib3JkZXI6IDFweCBzb2xpZDtcbn1cblxuLnRleHQtZGVjb3JhdGlvbi1saW5lLXRocm91Z2gge1xuICB0ZXh0LWRlY29yYXRpb246IGxpbmUtdGhyb3VnaDtcbn1cblxuLmNvbGxhcHNlZC12aWV3IHtcbiAgaGVpZ2h0OiAyOXB4O1xuICBvdmVyZmxvdy15OiBoaWRkZW47XG59XG5cbi5leHBhbmRlZC12aWV3IHtcbiAgaGVpZ2h0OiB1bnNldDtcbn1cblxuLmZhLWNoZXZyb24tY2lyY2xlLWRvd24sIC5mYS1jaGV2cm9uLWNpcmNsZS11cCB7XG4gIGNvbG9yOiBkYXJrZ3JheTtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB0b3A6IC01cHg7XG4gIGxlZnQ6IDQ5JTtcbn1cbi5mYS1jaGV2cm9uLWNpcmNsZS1kb3duOmhvdmVyLCAuZmEtY2hldnJvbi1jaXJjbGUtdXA6aG92ZXIge1xuICBvcGFjaXR5OiAwLjc7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cblxuaHIge1xuICBtYXJnaW4tdG9wOiAwcHggIWltcG9ydGFudDtcbiAgbWFyZ2luLWJvdHRvbTogMHB4ICFpbXBvcnRhbnQ7XG4gIHdpZHRoOiAzMCU7XG59Il19 */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsMySearch, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-facet-mysearch",
                templateUrl: "./facet-mysearch.html",
                styleUrls: ["./facet-mysearch.scss"],
            }]
    }], function () { return [{ type: _sinequa_components_search__WEBPACK_IMPORTED_MODULE_3__["SearchService"] }]; }, { results: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], allowDeletion: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], displayFieldNames: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], collapsible: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], useBadges: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], ignoreText: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], excludedFacets: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "CieW":
/*!*******************************************!*\
  !*** ../components/alerts/messages/en.ts ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    "alerts": {
        "alerts": "Alerts",
        "createAlert": "Create Alert",
        "manageAlerts": "Manage Alerts",
        "alertAlreadyExists": "An alert with that name already exists. Would you like to replace it?"
    },
    "editAlert": {
        "title": "Alert",
        "name": "Name",
        "frequency": "Frequency",
        "days": "Days",
        "monday": "Monday",
        "tuesday": "Tuesday",
        "wednesday": "Wednesday",
        "thursday": "Thursday",
        "friday": "Friday",
        "saturday": "Saturday",
        "sunday": "Sunday",
        "times": "Times",
        "active": "Active",
        "updateQuery": "Update Query",
        "runQuery": "Run Query",
        "lossDataMessage": "Do you want to leave without saving your modifications?"
    },
    "manageAlerts": {
        "title": "Manage Alerts",
        "edit": "Edit",
        "reorder": "Reorder",
        "remove": "Remove",
        "removeAll": "Remove all"
    },
});


/***/ }),

/***/ "CmaQ":
/*!*************************************************!*\
  !*** ../components/results-view/messages/en.ts ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    "results": {
        "viewTitle": "View: {text}",
        "unselectableViewDisplay": "<Other>",
        "resultsListView": {
            "display": "List",
            "selectDocument": "Select document",
            "unselectDocument": "Unselect document",
            "previewPopup": "Document Navigator",
            "previewInCurrentPage": "Document Navigator (in current page)",
            "previewInNewTab": "Document Navigator (in new tab)",
            "showMetadata": "Details",
            "showLabels": "Labels"
        },
        "resultsGridView": {
            "display": "Grid",
            "selectDocument": "Select document",
            "unselectDocument": "Unselect document",
            "selectDocuments": "Select documents",
            "unselectDocuments": "Unselect documents"
        },
        "viewPageSize": "Number of results per page",
        "viewUpdateApply": "Apply",
        "warningNoViewForTab": "The '{tab}' tab has no associated result views.",
        "warningCannotDisplayTabOnView": "The '{tab}' tab cannot be displayed using '{view}' view because it is not included in the view configuration.",
        "resultsAllTab": "All",
        "resultsTextTab": "Text",
        "results_all_tab": "All",
        "results_text_tab": "Text",
    }
});


/***/ }),

/***/ "CvOW":
/*!*******************************************!*\
  !*** ../components/search/messages/en.ts ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    "search": {
        "emptySearchNotification": "Please enter some search terms to perform a search",
        "alreadyFiltered": "Already selected"
    },
    "breadcrumbs": {
        "emptySearch": "<empty search>",
        "itemRemove": "Remove"
    },
    "didYouMean": {
        "dymonlyBeforeCorrected": "Did you mean: ",
        "dymonlyAfterCorrected": "?",
        "correctBeforeCorrected": "Showing results for: ",
        "correctBeforeOriginal": ". Search instead for: ",
        "correctAfterOriginal": "",
        "smartBeforeOriginal": "Showing results for: ",
        "smartBeforeCorrected": " and ",
        "smartAfterCorrected": ""
    },
    "pageSizeSelector": {
        "pageSizeChoice": "{size, number} per page",
        "defaultPageSize": "Default ({size, number})",
        "defaultPageSizeChoice": "{size, number} per page (default)"
    },
    "pager": {
        "pageNumberTitle": "Page {page, number}",
        "firstPage": "First page",
        "nextPage": "Next page",
        "previousPage": "Previous page",
        "lastPage": "Last page"
    },
    "sortSelector": {
        "sortByTitle": "Sort by: {text}",
        "sortOther": "<Other>"
    },
    "sort": {
        "relevance": "Relevance",
        "date": "Date",
        "filename": "File name",
        "title": "Title"
    },
    "queryIntent": {
        "externalServiceTimeoutError": "This result page is incomplete due to an internal timeout. Please retry later."
    }
});


/***/ }),

/***/ "Cy1w":
/*!*********************************************************!*\
  !*** ../components/modal/bootstrap/prompt.component.ts ***!
  \*********************************************************/
/*! exports provided: BsPrompt */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsPrompt", function() { return BsPrompt; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ "nIj0");
/* harmony import */ var _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/modal */ "vMGo");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _modal_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./modal.component */ "oSLy");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _utils_directives_autofocus__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../utils/directives/autofocus */ "1ak2");
/* harmony import */ var _core_validation_validation_directive__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/validation/validation.directive */ "FRsM");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../core/intl/message.pipe */ "X1Kh");












function BsPrompt_input_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "input", 6);
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("sqValidation", ctx_r0.form);
} }
function BsPrompt_textarea_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "textarea", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1, "                    ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("rows", ctx_r1.model.rowCount);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("sqValidation", ctx_r1.form);
} }
class BsPrompt {
    constructor(model, modalRef, formBuilder) {
        this.model = model;
        this.modalRef = modalRef;
        this.formBuilder = formBuilder;
    }
    ngOnInit() {
        this.inputControl = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"](this.model.output, this.model.validators || _angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required);
        this.form = this.formBuilder.group({
            input: this.inputControl
        });
        this.formChanges = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].subscribe(this.form.valueChanges, (value) => {
            this.model.output = this.inputControl.value;
        });
        this.buttons = [
            new _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_2__["ModalButton"]({
                result: -1 /* OK */,
                primary: true,
                validation: this.form
            }),
            new _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_2__["ModalButton"]({
                result: -2 /* Cancel */
            })
        ];
    }
    ngOnDestroy() {
        this.formChanges.unsubscribe();
    }
    get title() {
        return this.model.title ? this.model.title : "msg#modal.prompt.title";
    }
}
BsPrompt.ɵfac = function BsPrompt_Factory(t) { return new (t || BsPrompt)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_modal__WEBPACK_IMPORTED_MODULE_2__["MODAL_MODEL"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_modal__WEBPACK_IMPORTED_MODULE_2__["ModalRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormBuilder"])); };
BsPrompt.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsPrompt, selectors: [["sq-prompt"]], decls: 8, vars: 9, consts: [["name", "prompt", "novalidate", "", 3, "formGroup"], [3, "title", "buttons"], [1, "form-group", "sq-form-group"], ["for", "input"], ["type", "text", "class", "form-control", "id", "input", "formControlName", "input", "spellcheck", "off", "sqAutofocus", "", 3, "sqValidation", 4, "ngIf"], ["type", "text", "class", "form-control", "id", "input", "formControlName", "input", "spellcheck", "on", "sqAutofocus", "", 3, "sqValidation", "rows", 4, "ngIf"], ["type", "text", "id", "input", "formControlName", "input", "spellcheck", "off", "sqAutofocus", "", 1, "form-control", 3, "sqValidation"], ["type", "text", "id", "input", "formControlName", "input", "spellcheck", "on", "sqAutofocus", "", 1, "form-control", 3, "sqValidation", "rows"]], template: function BsPrompt_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "form", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "sq-modal", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "label", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](5, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](6, BsPrompt_input_6_Template, 1, 1, "input", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](7, BsPrompt_textarea_7_Template, 2, 2, "textarea", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("title", ctx.title)("buttons", ctx.buttons);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](5, 6, ctx.model.message, ctx.model.messageParams));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.model.rowCount);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !!ctx.model.rowCount);
    } }, directives: [_angular_forms__WEBPACK_IMPORTED_MODULE_1__["ɵangular_packages_forms_forms_y"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["NgControlStatusGroup"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormGroupDirective"], _modal_component__WEBPACK_IMPORTED_MODULE_4__["BsModal"], _angular_common__WEBPACK_IMPORTED_MODULE_5__["NgIf"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["DefaultValueAccessor"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["NgControlStatus"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControlName"], _utils_directives_autofocus__WEBPACK_IMPORTED_MODULE_6__["Autofocus"], _core_validation_validation_directive__WEBPACK_IMPORTED_MODULE_7__["ValidationDirective"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_8__["MessagePipe"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsPrompt, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-prompt",
                template: `
        <form name="prompt" novalidate [formGroup]="form">
            <sq-modal [title]="title" [buttons]="buttons">
                <div class="form-group sq-form-group">
                    <label for="input">{{model.message | sqMessage:model.messageParams}}</label>
                    <input [sqValidation]="form" type="text" class="form-control" id="input" formControlName="input" spellcheck="off" sqAutofocus *ngIf="!model.rowCount">
                    <textarea [sqValidation]="form" type="text" class="form-control" id="input" formControlName="input" spellcheck="on" rows="{{model.rowCount}}" sqAutofocus *ngIf="!!model.rowCount">
                    </textarea>
                </div>
            </sq-modal>
        </form>
    `
            }]
    }], function () { return [{ type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [_sinequa_core_modal__WEBPACK_IMPORTED_MODULE_2__["MODAL_MODEL"]]
            }] }, { type: _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_2__["ModalRef"] }, { type: _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormBuilder"] }]; }, null); })();


/***/ }),

/***/ "D4VF":
/*!**********************************!*\
  !*** ../core/base/public-api.ts ***!
  \**********************************/
/*! exports provided: SqErrorCode, SqError, NameValueArrayViewHelper, IteratorAdaptor, Keys, PatternType, Pattern, Patterns, PatternMatcher, Timer, Utils, BaseModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _array_view__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./array-view */ "4Jkf");
/* empty/unused harmony star reexport *//* harmony import */ var _error__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./error */ "3FAX");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SqErrorCode", function() { return _error__WEBPACK_IMPORTED_MODULE_1__["SqErrorCode"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SqError", function() { return _error__WEBPACK_IMPORTED_MODULE_1__["SqError"]; });

/* harmony import */ var _field_value__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./field-value */ "q7JX");
/* empty/unused harmony star reexport *//* harmony import */ var _item_array_view__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./item-array-view */ "GFYe");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "NameValueArrayViewHelper", function() { return _item_array_view__WEBPACK_IMPORTED_MODULE_3__["NameValueArrayViewHelper"]; });

/* harmony import */ var _iterator_adaptor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./iterator-adaptor */ "0XEq");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "IteratorAdaptor", function() { return _iterator_adaptor__WEBPACK_IMPORTED_MODULE_4__["IteratorAdaptor"]; });

/* harmony import */ var _json__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./json */ "M+Yq");
/* empty/unused harmony star reexport *//* harmony import */ var _keyboard__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./keyboard */ "i93V");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Keys", function() { return _keyboard__WEBPACK_IMPORTED_MODULE_6__["Keys"]; });

/* harmony import */ var _map_of__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./map-of */ "reLj");
/* empty/unused harmony star reexport *//* harmony import */ var _ref__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./ref */ "qCCP");
/* empty/unused harmony star reexport *//* harmony import */ var _pattern_matcher__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./pattern-matcher */ "ldQY");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "PatternType", function() { return _pattern_matcher__WEBPACK_IMPORTED_MODULE_9__["PatternType"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Pattern", function() { return _pattern_matcher__WEBPACK_IMPORTED_MODULE_9__["Pattern"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Patterns", function() { return _pattern_matcher__WEBPACK_IMPORTED_MODULE_9__["Patterns"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "PatternMatcher", function() { return _pattern_matcher__WEBPACK_IMPORTED_MODULE_9__["PatternMatcher"]; });

/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./utils */ "t6nX");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Timer", function() { return _utils__WEBPACK_IMPORTED_MODULE_10__["Timer"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Utils", function() { return _utils__WEBPACK_IMPORTED_MODULE_10__["Utils"]; });

/* harmony import */ var _base_module__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./base.module */ "RK6X");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BaseModule", function() { return _base_module__WEBPACK_IMPORTED_MODULE_11__["BaseModule"]; });















/***/ }),

/***/ "D5NV":
/*!*******************************************************************!*\
  !*** ../components/notification/bootstrap/notification.module.ts ***!
  \*******************************************************************/
/*! exports provided: BsNotificationModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsNotificationModule", function() { return BsNotificationModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _notification_notification__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./notification/notification */ "1JZ2");
/* harmony import */ var _notifications_notifications__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./notifications/notifications */ "NZyV");
/* harmony import */ var _notifications_manager_notifications_manager__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./notifications-manager/notifications-manager */ "ag41");
/* harmony import */ var _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sinequa/core/intl */ "EfqX");
/* harmony import */ var _sinequa_components_action__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @sinequa/components/action */ "WsHA");








class BsNotificationModule {
}
BsNotificationModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: BsNotificationModule });
BsNotificationModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function BsNotificationModule_Factory(t) { return new (t || BsNotificationModule)(); }, imports: [[
            _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
            _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_5__["IntlModule"],
            _sinequa_components_action__WEBPACK_IMPORTED_MODULE_6__["BsActionModule"],
        ]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](BsNotificationModule, { declarations: [_notification_notification__WEBPACK_IMPORTED_MODULE_2__["BsNotification"], _notifications_notifications__WEBPACK_IMPORTED_MODULE_3__["BsNotifications"], _notifications_manager_notifications_manager__WEBPACK_IMPORTED_MODULE_4__["BsNotificationsManager"]], imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
        _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_5__["IntlModule"],
        _sinequa_components_action__WEBPACK_IMPORTED_MODULE_6__["BsActionModule"]], exports: [_notifications_notifications__WEBPACK_IMPORTED_MODULE_3__["BsNotifications"], _notifications_manager_notifications_manager__WEBPACK_IMPORTED_MODULE_4__["BsNotificationsManager"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsNotificationModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                    _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_5__["IntlModule"],
                    _sinequa_components_action__WEBPACK_IMPORTED_MODULE_6__["BsActionModule"],
                ],
                declarations: [
                    _notification_notification__WEBPACK_IMPORTED_MODULE_2__["BsNotification"], _notifications_notifications__WEBPACK_IMPORTED_MODULE_3__["BsNotifications"], _notifications_manager_notifications_manager__WEBPACK_IMPORTED_MODULE_4__["BsNotificationsManager"]
                ],
                exports: [
                    _notifications_notifications__WEBPACK_IMPORTED_MODULE_3__["BsNotifications"], _notifications_manager_notifications_manager__WEBPACK_IMPORTED_MODULE_4__["BsNotificationsManager"]
                ]
            }]
    }], null, null); })();


/***/ }),

/***/ "D8t6":
/*!******************************************************************************!*\
  !*** ../components/user-settings/bootstrap/user-menu/user-menu.component.ts ***!
  \******************************************************************************/
/*! exports provided: BsUserMenuComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsUserMenuComponent", function() { return BsUserMenuComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/components/action */ "WsHA");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/components/modal */ "mOpA");
/* harmony import */ var _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/core/modal */ "vMGo");
/* harmony import */ var _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sinequa/core/web-services */ "cIYa");
/* harmony import */ var _sinequa_core_login__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @sinequa/core/login */ "7O5u");
/* harmony import */ var _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @sinequa/core/intl */ "EfqX");
/* harmony import */ var _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @sinequa/core/app-utils */ "SBPP");
/* harmony import */ var _sinequa_core_notification__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @sinequa/core/notification */ "mkLw");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _action_bootstrap_action_item_action_item__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../action/bootstrap/action-item/action-item */ "TE8J");














const _c0 = function (a0, a1, a2, a3) { return { item: a0, size: a1, autoAdjust: a2, autoAdjustBreakpoint: a3, inMenu: true }; };
function BsUserMenuComponent_li_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "li", 1);
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("sq-action-item", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction4"](2, _c0, ctx_r0.menu, ctx_r0.size, ctx_r0.autoAdjust, ctx_r0.autoAdjustBreakpoint))("collapseBreakpoint", ctx_r0.collapseBreakpoint);
} }
class BsUserMenuComponent {
    constructor(principalService, authenticationService, intlService, loginService, modalService, appService, userSettingsService, notificationsService, changeDetectorRef) {
        // Actions objects are initialized in the constructor
        this.principalService = principalService;
        this.authenticationService = authenticationService;
        this.intlService = intlService;
        this.loginService = loginService;
        this.modalService = modalService;
        this.appService = appService;
        this.userSettingsService = userSettingsService;
        this.notificationsService = notificationsService;
        this.changeDetectorRef = changeDetectorRef;
        this.icon = "fas fa-user";
        this.autoAdjust = true;
        this.autoAdjustBreakpoint = 'xl';
        this.collapseBreakpoint = 'sm';
        // User Menu
        // Login
        this.loginAction = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__["Action"]({
            text: "msg#userMenu.login",
            title: "msg#userMenu.login",
            action: () => {
                this.loginService.login();
            }
        });
        // Logout
        this.logoutAction = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__["Action"]({
            text: "msg#userMenu.logout",
            title: "msg#userMenu.logout",
            action: () => {
                this.loginService.logout();
                this.changeDetectorRef.markForCheck();
            }
        });
        // Override a user's identity
        this.overrideAction = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__["Action"]({
            text: "msg#userMenu.overrideUser",
            title: "msg#userMenu.overrideUser",
            action: () => {
                let userOverride = this.authenticationService.userOverride ?
                    _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].copy(this.authenticationService.userOverride) : undefined;
                if (!userOverride) {
                    userOverride = {
                        userName: "",
                        domain: ""
                    };
                }
                this.modalService.open(_sinequa_components_modal__WEBPACK_IMPORTED_MODULE_3__["BsOverrideUser"], { model: userOverride })
                    .then((result) => {
                    if (result === -1 /* OK */) {
                        this.loginService.overrideUser(userOverride);
                        this.changeDetectorRef.markForCheck();
                    }
                });
            }
        });
        // Cancel user override
        this.revertOverrideAction = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__["Action"]({
            text: "msg#userMenu.revertUserOverride",
            title: "msg#userMenu.revertUserOverride",
            action: () => {
                this.loginService.overrideUser(undefined);
                this.changeDetectorRef.markForCheck();
            }
        });
        // Link to the admin
        this.adminAction = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__["Action"]({
            text: "msg#userMenu.administration",
            title: "msg#userMenu.administration",
            href: this.appService.adminUrl
        });
        // Language menu
        this.languageAction = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__["Action"]({
            text: "msg#userMenu.language",
            title: "msg#userMenu.language",
            children: this.intlService.locales.map(locale => new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__["Action"]({
                text: locale.display,
                title: locale.display,
                data: locale,
                selected: locale === this.intlService.currentLocale,
                iconAfter: "sq-image sq-flag-" + locale.name,
                action: (item, $event) => {
                    this.intlService.use(item.data.name).subscribe((value) => this.languageAction.children.forEach(a => a.update()));
                },
                updater: (action) => {
                    action.selected = action.data === this.intlService.currentLocale;
                }
            }))
        });
        this.resetUserSettings = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__["Action"]({
            text: "msg#userMenu.resetUserSettings.menu",
            title: "msg#userMenu.resetUserSettings.menu",
            action: () => {
                this.modalService.confirm({
                    title: "msg#userMenu.resetUserSettings.modalTitle",
                    message: "msg#userMenu.resetUserSettings.modalMessage",
                    buttons: [
                        new _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_4__["ModalButton"]({ result: -1 /* OK */, text: "msg#userMenu.resetUserSettings.modalConfirmButton" }),
                        new _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_4__["ModalButton"]({ result: -2 /* Cancel */, primary: true })
                    ],
                    confirmType: 2 /* Warning */
                }).then(res => {
                    if (res === -1 /* OK */) {
                        this.userSettingsService.reset().subscribe({
                            next: () => this.notificationsService.notify(0 /* Success */, "msg#userMenu.resetUserSettings.successMessage"),
                            error: () => this.notificationsService.notify(3 /* Error */, "msg#userMenu.resetUserSettings.errorMessage")
                        });
                    }
                });
            }
        });
    }
    ngOnInit() {
        this.updateMenu();
        this._loginSubscription = this.loginService.events.subscribe(event => {
            if (event.type === "session-changed") {
                this.updateMenu();
            }
        });
        this._principalSubscription = this.principalService.events.subscribe(event => {
            this.updateMenu();
        });
    }
    ngOnDestroy() {
        if (this._loginSubscription) {
            this._loginSubscription.unsubscribe();
        }
        if (this._principalSubscription) {
            this._principalSubscription.unsubscribe();
        }
    }
    updateMenu() {
        const userActions = [];
        if (!this.principalService.principal && !this.authenticationService.userOverrideActive) {
            userActions.push(this.loginAction);
        }
        if (this.principalService.principal) {
            userActions.push(this.logoutAction);
        }
        if (this.authenticationService.userOverrideActive) {
            userActions.push(this.revertOverrideAction);
        }
        if (this.principalService.principal && this.principalService.principal.isAdministrator) {
            userActions.push(this.overrideAction);
        }
        if (this.principalService.principal && (this.principalService.principal.isAdministrator || this.principalService.principal.isDelegatedAdmin)) {
            userActions.push(this.adminAction);
        }
        if (this.loginService.complete) {
            userActions.push(this.resetUserSettings);
        }
        userActions.push(new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__["Action"]({ separator: true }));
        if (this.intlService.locales.length > 1) {
            userActions.push(this.languageAction);
        }
        this.menu = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__["Action"]({
            icon: this.icon,
            text: this.loginService.complete && this.principalService.principal ? this.principalService.principal.name || "msg#userMenu.user" : "msg#userMenu.user",
            children: userActions
        });
    }
}
BsUserMenuComponent.ɵfac = function BsUserMenuComponent_Factory(t) { return new (t || BsUserMenuComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_5__["PrincipalWebService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_login__WEBPACK_IMPORTED_MODULE_6__["AuthenticationService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_intl__WEBPACK_IMPORTED_MODULE_7__["IntlService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_login__WEBPACK_IMPORTED_MODULE_6__["LoginService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_modal__WEBPACK_IMPORTED_MODULE_4__["ModalService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_8__["AppService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_5__["UserSettingsWebService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_notification__WEBPACK_IMPORTED_MODULE_9__["NotificationsService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"])); };
BsUserMenuComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsUserMenuComponent, selectors: [["sq-user-menu"]], inputs: { icon: "icon", autoAdjust: "autoAdjust", autoAdjustBreakpoint: "autoAdjustBreakpoint", collapseBreakpoint: "collapseBreakpoint", size: "size" }, decls: 1, vars: 1, consts: [["class", "nav-item dropdown", 3, "sq-action-item", "collapseBreakpoint", 4, "ngIf"], [1, "nav-item", "dropdown", 3, "sq-action-item", "collapseBreakpoint"]], template: function BsUserMenuComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, BsUserMenuComponent_li_0_Template, 1, 7, "li", 0);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !!ctx.menu && !ctx.menu.hidden);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_10__["NgIf"], _action_bootstrap_action_item_action_item__WEBPACK_IMPORTED_MODULE_11__["BsActionItem"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsUserMenuComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'sq-user-menu',
                templateUrl: './user-menu.component.html'
            }]
    }], function () { return [{ type: _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_5__["PrincipalWebService"] }, { type: _sinequa_core_login__WEBPACK_IMPORTED_MODULE_6__["AuthenticationService"] }, { type: _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_7__["IntlService"] }, { type: _sinequa_core_login__WEBPACK_IMPORTED_MODULE_6__["LoginService"] }, { type: _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_4__["ModalService"] }, { type: _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_8__["AppService"] }, { type: _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_5__["UserSettingsWebService"] }, { type: _sinequa_core_notification__WEBPACK_IMPORTED_MODULE_9__["NotificationsService"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] }]; }, { icon: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], autoAdjust: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], autoAdjustBreakpoint: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], collapseBreakpoint: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], size: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "D9Kd":
/*!**************************************************!*\
  !*** ../core/load-component/module.providers.ts ***!
  \**************************************************/
/*! exports provided: LOAD_COMPONENT_MODULE_PROVIDERS */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LOAD_COMPONENT_MODULE_PROVIDERS", function() { return LOAD_COMPONENT_MODULE_PROVIDERS; });
const LOAD_COMPONENT_MODULE_PROVIDERS = [];



/***/ }),

/***/ "DD1E":
/*!************************************!*\
  !*** ../components/utils/index.ts ***!
  \************************************/
/*! exports provided: Autofocus, ClickOutside, MediaIf, ScrollIntoView, FocusKeyListDirective, FocusKeyListItemDirective, ResizeEventDirective, StickyComponent, TooltipDirective, TooltipComponent, DatePipe, ExprPipe, MemorySizePipe, MomentPipe, NumberPipe, RelativeTimePipe, TimePipe, ValuePipe, defaultScreenSizeRules, UtilsModule, SCREEN_SIZE_RULES, UIService, VoiceRecognitionService, enUtils, frUtils, deUtils */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _public_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./public-api */ "ywvT");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Autofocus", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["Autofocus"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ClickOutside", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["ClickOutside"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MediaIf", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["MediaIf"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ScrollIntoView", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["ScrollIntoView"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "FocusKeyListDirective", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["FocusKeyListDirective"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "FocusKeyListItemDirective", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["FocusKeyListItemDirective"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ResizeEventDirective", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["ResizeEventDirective"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "StickyComponent", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["StickyComponent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TooltipDirective", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["TooltipDirective"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TooltipComponent", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["TooltipComponent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "DatePipe", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["DatePipe"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ExprPipe", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["ExprPipe"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MemorySizePipe", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["MemorySizePipe"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MomentPipe", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["MomentPipe"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "NumberPipe", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["NumberPipe"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RelativeTimePipe", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["RelativeTimePipe"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TimePipe", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["TimePipe"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ValuePipe", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["ValuePipe"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "defaultScreenSizeRules", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["defaultScreenSizeRules"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "UtilsModule", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["UtilsModule"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SCREEN_SIZE_RULES", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["SCREEN_SIZE_RULES"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "UIService", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["UIService"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "VoiceRecognitionService", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["VoiceRecognitionService"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "enUtils", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["enUtils"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "frUtils", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["frUtils"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "deUtils", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["deUtils"]; });




/***/ }),

/***/ "DJWS":
/*!*************************************************!*\
  !*** ../components/notification/messages/de.ts ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    "notification": {
        "title": "Benachrichtigungen",
        "showNotifications": "Zeige Benachrichtigungen",
        "hideNotifications": "Benachrichtigungen verstecken",
        "clearNotifications": "Benachrichtigungen löschen",
    }
});


/***/ }),

/***/ "DJod":
/*!*******************************************************************************!*\
  !*** ../components/search/bootstrap/page-size-selector/page-size-selector.ts ***!
  \*******************************************************************************/
/*! exports provided: BsPageSizeSelector */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsPageSizeSelector", function() { return BsPageSizeSelector; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/components/action */ "WsHA");
/* harmony import */ var _search_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../search.service */ "TJtf");
/* harmony import */ var _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/app-utils */ "SBPP");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _action_bootstrap_action_buttons_action_buttons__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../action/bootstrap/action-buttons/action-buttons */ "9+ai");








const _c0 = function (a0) { return [a0]; };
const _c1 = function (a0, a2) { return { items: a0, autoAdjust: true, rightAligned: a2 }; };
function BsPageSizeSelector_div_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("sq-action-buttons", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction2"](3, _c1, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](1, _c0, ctx_r0.pageSizingAction), ctx_r0.rightAligned));
} }
//import {ResultsView} from '@sinequa/components/results-view';
// TODO restore functionality of storing page size in user settings ?
/**
 * Component for choosing the page size of the results view
 *
 */
class BsPageSizeSelector {
    constructor(appService, searchService) {
        this.appService = appService;
        this.searchService = searchService;
        //@Input() resultsView: ResultsView;
        this.showInRegularView = true;
    }
    ngOnChanges(changes) {
        this.refreshVisualisation();
    }
    /*
    private get globalPageSize(): number {
        const globalQueryParams = this.userSettingsService.getUserSettings().queryParams;
        return globalQueryParams ? globalQueryParams.pageSize : undefined;
    }
    */
    get configPageSize() {
        return this.appService.ccquery ? this.appService.ccquery.pageSize : 0;
    }
    get defaultPageSize() {
        //let res = this.globalPageSize;
        //if (!res) {
        let res = this.configPageSize;
        if (!res) {
            res = _search_service__WEBPACK_IMPORTED_MODULE_2__["SearchService"].DefaultPageSize;
        }
        //}
        return res;
    }
    buildPageSizingAction() {
        this.availableSizes = this.pageSizes ? this.pageSizes.slice(0) : [];
        this.availableSizes.sort((a, b) => a - b);
        const children = [];
        children.push(new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__["Action"]({
            text: 'msg#pageSizeSelector.defaultPageSize',
            messageParams: { values: { size: this.defaultPageSize } },
            data: undefined,
            action: (item, event) => {
                this.updatePageSize(item.data);
            }
        }));
        for (const size of this.availableSizes) {
            children.push(new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__["Action"]({
                text: size.toString(),
                data: size,
                action: (item, event) => {
                    this.updatePageSize(item.data);
                }
            }));
        }
        return new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__["Action"]({
            icon: 'fas fa-arrows-alt-v',
            text: 'msg#pageSizeSelector.pageSizeChoice',
            children: children
        });
    }
    refreshVisualisation() {
        this.pageSizingAction = this.buildPageSizingAction();
        if (this.results) {
            //const queryParams = this.userSettingsService.getViewQueryParams(this.resultsView.name);
            //this.currentPageSize = queryParams.pageSize;
            this.setCurrentSize(this.currentPageSize);
        }
    }
    setCurrentSize(size) {
        var _a;
        if (!size) {
            this.pageSizingAction.text = 'msg#pageSizeSelector.defaultPageSizeChoice';
            this.pageSizingAction.messageParams = { values: { size: this.defaultPageSize } };
        }
        else {
            const selectedAction = (_a = this.pageSizingAction.children) === null || _a === void 0 ? void 0 : _a.find(action => action.data === size);
            this.pageSizingAction.text = 'msg#pageSizeSelector.pageSizeChoice';
            this.pageSizingAction.messageParams = { values: { size: selectedAction === null || selectedAction === void 0 ? void 0 : selectedAction.data } };
        }
    }
    updatePageSize(size) {
        if (this.currentPageSize !== size) {
            //this.userSettingsService.saveResultsViewPageSize(this.resultsView.name, size);
            this.currentPageSize = size;
            this.searchService.query.pageSize = size;
            this.searchService.search();
        }
        this.setCurrentSize(size);
    }
}
BsPageSizeSelector.ɵfac = function BsPageSizeSelector_Factory(t) { return new (t || BsPageSizeSelector)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__["AppService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_search_service__WEBPACK_IMPORTED_MODULE_2__["SearchService"])); };
BsPageSizeSelector.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsPageSizeSelector, selectors: [["sq-page-size-selector"]], inputs: { results: "results", showInRegularView: "showInRegularView", showInCustomization: "showInCustomization", pageSizes: "pageSizes", rightAligned: "rightAligned" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 1, vars: 1, consts: [["class", "btn-toolbar", 4, "ngIf"], [1, "btn-toolbar"], [1, "btn-group", 3, "sq-action-buttons"]], template: function BsPageSizeSelector_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, BsPageSizeSelector_div_0_Template, 2, 6, "div", 0);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !!ctx.results);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_4__["NgIf"], _action_bootstrap_action_buttons_action_buttons__WEBPACK_IMPORTED_MODULE_5__["BsActionButtons"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsPageSizeSelector, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'sq-page-size-selector',
                templateUrl: './page-size-selector.html'
            }]
    }], function () { return [{ type: _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__["AppService"] }, { type: _search_service__WEBPACK_IMPORTED_MODULE_2__["SearchService"] }]; }, { results: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], showInRegularView: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], showInCustomization: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], pageSizes: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], rightAligned: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "DYFJ":
/*!*******************************************!*\
  !*** ../components/results-view/index.ts ***!
  \*******************************************/
/*! exports provided: RESULTS_VIEWS, DEFAULT_VIEW, ResultsViewService, BsResultsGridView, BsResultsViewModule, BsResultsViewSelector, enResultsView, frResultsView, deResultsView */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _public_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./public-api */ "c9Fy");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RESULTS_VIEWS", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["RESULTS_VIEWS"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "DEFAULT_VIEW", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["DEFAULT_VIEW"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ResultsViewService", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["ResultsViewService"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsResultsGridView", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsResultsGridView"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsResultsViewModule", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsResultsViewModule"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsResultsViewSelector", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsResultsViewSelector"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "enResultsView", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["enResultsView"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "frResultsView", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["frResultsView"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "deResultsView", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["deResultsView"]; });




/***/ }),

/***/ "DaU4":
/*!****************************************************************!*\
  !*** ../components/facet/bootstrap/facet-range/facet-range.ts ***!
  \****************************************************************/
/*! exports provided: RoundTarget, RoundType, BsFacetRange */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoundTarget", function() { return RoundTarget; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoundType", function() { return RoundType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsFacetRange", function() { return BsFacetRange; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/app-utils */ "SBPP");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! moment */ "wgY5");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _abstract_facet__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../abstract-facet */ "+Pqq");
/* harmony import */ var _sinequa_components_action__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sinequa/components/action */ "WsHA");
/* harmony import */ var _facet_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../facet.service */ "mQJ4");
/* harmony import */ var _sinequa_components_search__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @sinequa/components/search */ "7+c1");
/* harmony import */ var _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @sinequa/core/intl */ "EfqX");
/* harmony import */ var _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @sinequa/components/utils */ "DD1E");
/* harmony import */ var _sinequa_components_advanced__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @sinequa/components/advanced */ "c96x");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var ng5_slider__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ng5-slider */ "Sp7S");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../core/intl/message.pipe */ "X1Kh");
















const _c0 = ["slider"];
function BsFacetRange_ng_container_0_ng5_slider_3_Template(rf, ctx) { if (rf & 1) {
    const _r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "ng5-slider", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("valueChange", function BsFacetRange_ng_container_0_ng5_slider_3_Template_ng5_slider_valueChange_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r5); const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r4.value = $event; })("highValueChange", function BsFacetRange_ng_container_0_ng5_slider_3_Template_ng5_slider_highValueChange_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r5); const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r6.highValue = $event; })("userChangeEnd", function BsFacetRange_ng_container_0_ng5_slider_3_Template_ng5_slider_userChangeEnd_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r5); const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r7.onUserChangeEnd($event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", ctx_r2.value)("highValue", ctx_r2.highValue)("options", ctx_r2.options)("manualRefresh", ctx_r2.manualRefresh);
} }
function BsFacetRange_ng_container_0_span_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 1, "msg#facet.range.unavailable"));
} }
function BsFacetRange_ng_container_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1, 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, BsFacetRange_ng_container_0_ng5_slider_3_Template, 1, 4, "ng5-slider", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, BsFacetRange_ng_container_0_span_4_Template, 3, 3, "span", 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r0.sliderActive);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx_r0.sliderActive);
} }
var RoundTarget;
(function (RoundTarget) {
    RoundTarget[RoundTarget["number"] = 0] = "number";
    RoundTarget[RoundTarget["year"] = 1] = "year";
    RoundTarget[RoundTarget["month"] = 2] = "month";
    RoundTarget[RoundTarget["week"] = 3] = "week";
    RoundTarget[RoundTarget["day"] = 4] = "day";
})(RoundTarget || (RoundTarget = {}));
var RoundType;
(function (RoundType) {
    RoundType[RoundType["up"] = 0] = "up";
    RoundType[RoundType["down"] = 1] = "down";
    RoundType[RoundType["nearest"] = 2] = "nearest";
})(RoundType || (RoundType = {}));
class BsFacetRange extends _abstract_facet__WEBPACK_IMPORTED_MODULE_4__["AbstractFacet"] {
    constructor(facetService, appService, searchService, formatService, intlService, uiService, advancedService, exprBuilder) {
        super();
        this.facetService = facetService;
        this.appService = appService;
        this.searchService = searchService;
        this.formatService = formatService;
        this.intlService = intlService;
        this.uiService = uiService;
        this.advancedService = advancedService;
        this.exprBuilder = exprBuilder;
        this.manualRefresh = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.translate = (value, label) => {
            const value1 = this.roundNearest(value); // to accommodate fractional steps generated for years/months
            if (this.format) {
                if (this.column && _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_2__["AppService"].isDate(this.column)) {
                    const date = new Date(value1);
                    const m = moment__WEBPACK_IMPORTED_MODULE_3___default()(date);
                    return this.intlService.formatMessage(this.format, { date: date, time: _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].getTime(date), weekDay: m.weekday(), week: m.week(), weekYear: m.weekYear() });
                }
                else {
                    return this.intlService.formatMessage(this.format, { value: value1 });
                }
            }
            return this.formatService.formatFieldValue(this.column && _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_2__["AppService"].isDate(this.column) ? new Date(value1) : value1, this.column);
        };
        this.onResize = () => {
            this.manualRefresh.emit();
        };
        this.clearFiltersAction = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_5__["Action"]({
            icon: "far fa-minus-square",
            title: "msg#facet.range.clear",
            action: () => this.clearRange()
        });
        this.applyFiltersAction = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_5__["Action"]({
            icon: "fas fa-filter",
            title: "msg#facet.range.apply",
            action: () => this.applyRange()
        });
    }
    roundAdjustment(value, multiple, roundType) {
        switch (roundType) {
            case RoundType.up:
                return multiple - value % multiple;
            default:
            case RoundType.down:
                return -(value % multiple);
            case RoundType.nearest: {
                const adjustUp = multiple - value % multiple;
                const adjustDown = -(value % multiple);
                return Math.abs(adjustUp) <= Math.abs(adjustDown) ? adjustUp : adjustDown;
            }
        }
    }
    _roundNumberUp(value, step) {
        return (value >= 0 ? Math.ceil(value / step) : Math.floor(value / step)) * step;
    }
    _roundNumberDown(value, step) {
        return (value >= 0 ? Math.floor(value / step) : Math.ceil(value / step)) * step;
    }
    _roundNumber(value, step, roundType) {
        switch (roundType) {
            case RoundType.up:
                return this._roundNumberUp(value, step);
            default:
            case RoundType.down:
                return this._roundNumberDown(value, step);
            case RoundType.nearest: {
                const up = this._roundNumberUp(value, step);
                const down = this._roundNumberDown(value, step);
                return Math.abs(up - value) <= Math.abs(down - value) ? up : down;
            }
        }
    }
    _getNearestDate(date, upper, lower) {
        return Math.abs(upper.getTime() - date.getTime()) <= Math.abs(lower.getTime() - date.getTime()) ? upper : lower;
    }
    _getNearestTargetDate(date, target) {
        switch (target) {
            case RoundTarget.year: {
                return this._getNearestDate(date, new Date(date.getFullYear() + 1, 0), new Date(date.getFullYear(), 0));
            }
            case RoundTarget.month: {
                return this._getNearestDate(date, new Date(date.getFullYear(), date.getMonth() + 1), new Date(date.getFullYear(), date.getMonth()));
            }
            default:
            case RoundTarget.week:
            case RoundTarget.day: {
                return this._getNearestDate(date, new Date(date.getFullYear(), date.getMonth(), date.getDate() + 1), new Date(date.getFullYear(), date.getMonth(), date.getDate()));
            }
        }
    }
    _round(value, step, target, multiple, roundType = RoundType.down) {
        if (this.column && _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_2__["AppService"].isDate(this.column)) {
            let date = new Date(value);
            if (roundType === RoundType.nearest) {
                // round to the nearest target year, month or day to adjust for the linear step size and leap years
                date = this._getNearestTargetDate(date, target);
            }
            switch (target) {
                case RoundTarget.year: {
                    const year = date.getFullYear();
                    if (year % multiple !== 0 || date.getMonth() !== 0 || date.getDate() !== 1 ||
                        date.getHours() !== 0 || date.getMinutes() !== 0 || date.getSeconds() !== 0 || date.getMilliseconds() !== 0) {
                        date = new Date(year + this.roundAdjustment(year, multiple, roundType), 0);
                    }
                    break;
                }
                case RoundTarget.month: {
                    const month = date.getMonth();
                    if (month % multiple !== 0 || date.getDate() !== 1 ||
                        date.getHours() !== 0 || date.getMinutes() !== 0 || date.getSeconds() !== 0 || date.getMilliseconds() !== 0) {
                        date = new Date(date.getFullYear(), month + this.roundAdjustment(month, multiple, roundType));
                    }
                    break;
                }
                case RoundTarget.week: {
                    const day = date.getDay();
                    // First, round to Monday
                    if (day !== 1 /*Monday*/ ||
                        date.getHours() !== 0 || date.getMinutes() !== 0 || date.getSeconds() !== 0 || date.getMilliseconds() !== 0) {
                        let adjust;
                        const up = 7 - (day - 1);
                        const down = -(day - 1);
                        switch (roundType) {
                            case RoundType.up:
                                adjust = up;
                                break;
                            default:
                            case RoundType.down:
                                adjust = down;
                                break;
                            case RoundType.nearest:
                                adjust = Math.abs(up) >= Math.abs(down) ? up : down;
                                break;
                        }
                        date = new Date(date.getFullYear(), date.getMonth(), date.getDate() + adjust);
                    }
                    // Then, round to week number
                    const m = moment__WEBPACK_IMPORTED_MODULE_3___default()(date);
                    const week = m.week();
                    if (week % multiple !== 0) {
                        date = new Date(date.getFullYear(), date.getMonth(), date.getDate() + (this.roundAdjustment(week, multiple, roundType) * 7));
                    }
                    break;
                }
                case RoundTarget.day: {
                    const _date = date.getDate();
                    if (date.getHours() !== 0 || date.getMinutes() !== 0 || date.getSeconds() !== 0 || date.getMilliseconds() !== 0) {
                        date = new Date(date.getFullYear(), date.getMonth(), _date + this.roundAdjustment(_date, multiple, roundType));
                    }
                    break;
                }
            }
            return date.getTime();
        }
        else {
            return this._roundNumber(value, step, roundType);
        }
    }
    round(value, roundType = RoundType.down) {
        return this._round(value, this.options.step || 1, this.roundTarget, this.roundMultiple, roundType);
    }
    roundDown(value) {
        return this.round(value, RoundType.down);
    }
    roundUp(value) {
        return this.round(value, RoundType.up);
    }
    roundNearest(value) {
        return this.round(value, RoundType.nearest);
    }
    //TODO - remove fix engine hack
    fixDate(dateStr) {
        if (dateStr) {
            const secondsSep = dateStr.lastIndexOf(":");
            if (secondsSep > 0) {
                let seconds = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].toInt(dateStr.substr(secondsSep + 1));
                if (seconds < 0) {
                    seconds = 0;
                }
                else if (seconds > 59) {
                    seconds = 59;
                }
                dateStr = dateStr.substr(0, secondsSep + 1) + seconds;
            }
        }
        return dateStr;
    }
    initMinMax() {
        var _a;
        let min = 0;
        let max = 0;
        if (!_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].isEmpty(this.min) && (!_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].isEmpty(this.max))) {
            min = this.parseValue(!!new Date(this.min).getDate() ? new Date(this.min) : this.min);
            max = this.parseValue(!!new Date(this.max).getDate() ? new Date(this.max) : this.max);
        }
        else {
            if ((_a = this.data) === null || _a === void 0 ? void 0 : _a.items) {
                const item = this.data.items[0];
                if (item && item.operatorResults) {
                    if (this.column && _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_2__["AppService"].isDate(this.column)) {
                        //TODO - remove fix engine hack
                        if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].isString(item.operatorResults.min)) {
                            const date = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].fromSysDateStr(this.fixDate(item.operatorResults.min));
                            if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].isDate(date)) {
                                item.operatorResults.min = date;
                            }
                        }
                        if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].isString(item.operatorResults.max)) {
                            const date = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].fromSysDateStr(this.fixDate(item.operatorResults.max));
                            if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].isDate(date)) {
                                item.operatorResults.max = date;
                            }
                        }
                        min = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].isDate(item.operatorResults.min) ? item.operatorResults.min.getTime() : 0;
                        max = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].isDate(item.operatorResults.max) ? item.operatorResults.max.getTime() : 0;
                    }
                    else {
                        min = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].isNumber(item.operatorResults.min) ? item.operatorResults.min : 0;
                        max = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].isNumber(item.operatorResults.max) ? item.operatorResults.max : 0;
                    }
                }
            }
        }
        this.options.floor = min;
        this.options.ceil = max;
    }
    parseValue(value) {
        if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].isDate(value)) {
            return value.getTime();
        }
        if (!_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].isString(value)) {
            return 0;
        }
        let _value;
        if (this.column && this.column.parser) {
            const str = this.formatService.parseValue(value, this.column.parser);
            _value = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].toNumber(str);
        }
        if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].isUndefined(_value)) {
            _value = this.column && _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_2__["AppService"].isDate(this.column) ?
                _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].toDuration(value) :
                _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].toSize(value);
        }
        return _value;
    }
    initStep() {
        // Select the first step definition where the range >= stepDef.minRange
        let format;
        let step;
        if (this.stepDefs) {
            for (const stepDef of this.stepDefs) {
                if (stepDef.step) {
                    const thisStep = this.parseValue(stepDef.step);
                    if (thisStep && stepDef.active) {
                        if (!stepDef.minRange) {
                            step = thisStep;
                            format = stepDef.format;
                            break;
                        }
                        else {
                            // Round min/max for thisStep
                            const { roundTarget, roundMultiple } = this.getRoundTarget(thisStep);
                            const min = this._round(this.options.floor || 0, thisStep, roundTarget, roundMultiple, RoundType.down);
                            const max = this._round(this.options.ceil || 0, thisStep, roundTarget, roundMultiple, RoundType.up);
                            const range = max - min;
                            const minRange = this.parseValue(stepDef.minRange);
                            if (range >= minRange) {
                                step = thisStep;
                                format = stepDef.format;
                                break;
                            }
                        }
                    }
                }
            }
        }
        if (!step) {
            // Default step, default formatting
            step = this.column && _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_2__["AppService"].isDate(this.column) ? _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].oneDay : 1;
        }
        // Adjust step for year/month rounding (we assume daylight savings will balance out over the year)
        const { roundTarget, roundMultiple } = this.getRoundTarget(step);
        switch (roundTarget) {
            case RoundTarget.year:
                step = roundMultiple * 365.25 * _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].oneDay;
                break;
            case RoundTarget.month:
                step = roundMultiple * 365.25 * _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].oneDay / 12;
                break;
        }
        this.roundTarget = roundTarget;
        this.roundMultiple = roundMultiple;
        // Set default format based on roundTarget
        if (!format) {
            switch (this.roundTarget) {
                case RoundTarget.year:
                    format = "msg#facet.range.year";
                    break;
                case RoundTarget.month:
                    format = "msg#facet.range.monthYear";
                    break;
                case RoundTarget.week:
                    format = "msg#facet.range.weekYear";
                    break;
                default:
                    format = "";
                    break;
            }
        }
        this.options.step = step;
        this.format = format;
    }
    getRoundTarget(step) {
        const ret = {
            roundTarget: RoundTarget.number,
            roundMultiple: 1
        };
        if (this.column && _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_2__["AppService"].isDate(this.column)) {
            if (step % (365 * _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].oneDay) === 0) {
                ret.roundTarget = RoundTarget.year;
                ret.roundMultiple = step / (365 * _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].oneDay);
            }
            else if (step % (30 * _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].oneDay) === 0) {
                ret.roundTarget = RoundTarget.month;
                ret.roundMultiple = step / (30 * _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].oneDay);
            }
            else if (step % (7 * _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].oneDay) === 0) {
                ret.roundTarget = RoundTarget.week;
                ret.roundMultiple = step / (7 * _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].oneDay);
            }
            else if (step % _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].oneDay === 0) {
                ret.roundTarget = RoundTarget.day;
                ret.roundMultiple = step / _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].oneDay;
            }
        }
        return ret;
    }
    init() {
        this.options = {
            draggableRange: true,
            enforceStep: false,
            translate: this.translate
        };
        this.initMinMax();
        this.initStep();
        let ceil = this.options.ceil || 0;
        let floor = this.options.floor || 0;
        this.sliderActive = ceil > floor;
        if (ceil > floor) {
            floor = this.options.floor = this.roundDown(floor);
            ceil = this.options.ceil = this.roundUp(ceil);
        }
        const [from, to] = this.getRange();
        this.rangeActive = !_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].isUndefined(from) || !_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].isUndefined(to);
        this.rangeSelected = false;
        this.value = this.startValue = Math.max(from || floor, floor);
        this.highValue = this.startHighValue = Math.min(to || ceil, ceil);
    }
    ngOnChanges(changes) {
        if (!this.initDone) {
            this.initDone = true;
            this.localeChange = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].subscribe(this.intlService.events, (value) => {
                this.manualRefresh.emit();
            });
        }
        if (!!changes["results"]) {
            this.data = this.facetService.getAggregation(this.aggregation, this.results);
            this.column = this.data && this.appService.getColumn(this.data.column);
            this.init();
        }
    }
    ngAfterViewInit() {
        this.uiService.addElementResizeListener(this.slider.nativeElement, this.onResize);
    }
    ngOnDestroy() {
        if (this.localeChange) {
            this.localeChange.unsubscribe();
        }
        if (this.uiService && this.slider) {
            this.uiService.removeElementResizeListener(this.slider.nativeElement, this.onResize);
        }
    }
    onUserChangeEnd(changeContext) {
        this.rangeSelected = this.value !== this.startValue || this.highValue !== this.startHighValue;
    }
    getRange() {
        var _a, _b;
        if (this.column) {
            let expr;
            let value;
            const expression = (_b = (_a = this.searchService.query) === null || _a === void 0 ? void 0 : _a.findSelect(this.column.name)) === null || _b === void 0 ? void 0 : _b.expression;
            if (expression) {
                expr = this.appService.parseExpr(expression);
                if (expr instanceof _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_2__["Expr"]) {
                    if (expr.values && expr.values.length > 1) {
                        value = expr.values;
                    }
                    else {
                        value = expr.value;
                    }
                    if (!_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].isArray(value)) {
                        if (expr.operator === 3 /* gte */) {
                            value = [value, undefined];
                        }
                        else if (expr.operator === 5 /* lte */) {
                            value = [undefined, value];
                        }
                    }
                    value = value.map((val) => val ? this.advancedService.castAdvancedValue(val, this.column) : val);
                    if (_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_2__["AppService"].isDate(this.column)) {
                        value = value.map((val) => val ? new Date(val).getTime() : val);
                    }
                    return value;
                }
            }
        }
        return [undefined, undefined];
    }
    setRange(from, to) {
        var _a, _b;
        let valFrom;
        let valTo;
        let expression;
        if (this.column) {
            valFrom = _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_2__["AppService"].isDate(this.column) && _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].isNumber(from) ? new Date(from) : from;
            valTo = _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_2__["AppService"].isDate(this.column) && _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].isNumber(to) ? new Date(to) : to;
            if (!!valFrom && !!valTo) {
                expression = this.exprBuilder.makeRangeExpr(this.column.name, valFrom, valTo);
            }
            else if (!!valFrom) {
                expression = this.exprBuilder.makeNumericalExpr(this.column.name, '>=', valFrom);
            }
            else if (!!valTo) {
                expression = this.exprBuilder.makeNumericalExpr(this.column.name, '<=', valTo);
            }
            (_a = this.searchService.query) === null || _a === void 0 ? void 0 : _a.removeSelect(this.column.name);
            if (expression) {
                (_b = this.searchService.query) === null || _b === void 0 ? void 0 : _b.addSelect(expression, this.column.name);
            }
        }
    }
    applyRange() {
        this.setRange(this.roundNearest(this.value), this.roundNearest(this.highValue));
        this.searchService.search();
    }
    clearRange() {
        this.setRange(undefined, undefined);
        this.searchService.search();
    }
    get actions() {
        const actions = [];
        if (this.rangeSelected) {
            actions.push(this.applyFiltersAction);
        }
        if (this.rangeActive) {
            actions.push(this.clearFiltersAction);
        }
        return actions;
    }
}
BsFacetRange.ɵfac = function BsFacetRange_Factory(t) { return new (t || BsFacetRange)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_facet_service__WEBPACK_IMPORTED_MODULE_6__["FacetService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_2__["AppService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_search__WEBPACK_IMPORTED_MODULE_7__["SearchService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_2__["FormatService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_intl__WEBPACK_IMPORTED_MODULE_8__["IntlService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_utils__WEBPACK_IMPORTED_MODULE_9__["UIService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_advanced__WEBPACK_IMPORTED_MODULE_10__["AdvancedService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_2__["ExprBuilder"])); };
BsFacetRange.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsFacetRange, selectors: [["sq-facet-range"]], viewQuery: function BsFacetRange_Query(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c0, true);
    } if (rf & 2) {
        let _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.slider = _t.first);
    } }, inputs: { name: "name", results: "results", aggregation: "aggregation", min: "min", max: "max", stepDefs: "stepDefs" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"], _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 1, vars: 1, consts: [[4, "ngIf"], [1, "card-body"], ["slider", ""], [3, "value", "highValue", "options", "manualRefresh", "valueChange", "highValueChange", "userChangeEnd", 4, "ngIf"], [3, "value", "highValue", "options", "manualRefresh", "valueChange", "highValueChange", "userChangeEnd"]], template: function BsFacetRange_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, BsFacetRange_ng_container_0_Template, 5, 2, "ng-container", 0);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.data);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_11__["NgIf"], ng5_slider__WEBPACK_IMPORTED_MODULE_12__["ɵa"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_13__["MessagePipe"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsFacetRange, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-facet-range",
                templateUrl: "./facet-range.html"
            }]
    }], function () { return [{ type: _facet_service__WEBPACK_IMPORTED_MODULE_6__["FacetService"] }, { type: _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_2__["AppService"] }, { type: _sinequa_components_search__WEBPACK_IMPORTED_MODULE_7__["SearchService"] }, { type: _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_2__["FormatService"] }, { type: _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_8__["IntlService"] }, { type: _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_9__["UIService"] }, { type: _sinequa_components_advanced__WEBPACK_IMPORTED_MODULE_10__["AdvancedService"] }, { type: _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_2__["ExprBuilder"] }]; }, { name: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], results: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], aggregation: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], min: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], max: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], stepDefs: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], slider: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ["slider", { static: false }]
        }] }); })();


/***/ }),

/***/ "DcY0":
/*!*****************************************************!*\
  !*** ../components/preview/bootstrap/public-api.ts ***!
  \*****************************************************/
/*! exports provided: BsFacetPreview, BsFacetPreviewComponent2, BsPreviewHighlights, BsPreviewLinks, BsPreviewModule, BsPreviewPanel, BsPreviewPopup, BsResultLinkPreview, BsSimilarDocuments, BsPreviewEntityFacetComponent, BsPreviewEntityPanelComponent, Extract, BsPreviewExtractsPanelComponent, BsPreviewSearchFormComponent, BsPreviewPageFormComponent, BsPreviewPagesPanelComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _facet_preview_facet_preview__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./facet-preview/facet-preview */ "3rLT");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFacetPreview", function() { return _facet_preview_facet_preview__WEBPACK_IMPORTED_MODULE_0__["BsFacetPreview"]; });

/* harmony import */ var _facet_preview_2_facet_preview_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./facet-preview-2/facet-preview.component */ "vP33");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFacetPreviewComponent2", function() { return _facet_preview_2_facet_preview_component__WEBPACK_IMPORTED_MODULE_1__["BsFacetPreviewComponent2"]; });

/* harmony import */ var _preview_highlights_preview_highlights__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./preview-highlights/preview-highlights */ "4Ncj");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsPreviewHighlights", function() { return _preview_highlights_preview_highlights__WEBPACK_IMPORTED_MODULE_2__["BsPreviewHighlights"]; });

/* harmony import */ var _preview_links_preview_links__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./preview-links/preview-links */ "tD4Y");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsPreviewLinks", function() { return _preview_links_preview_links__WEBPACK_IMPORTED_MODULE_3__["BsPreviewLinks"]; });

/* harmony import */ var _preview_module__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./preview.module */ "jEpw");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsPreviewModule", function() { return _preview_module__WEBPACK_IMPORTED_MODULE_4__["BsPreviewModule"]; });

/* harmony import */ var _preview_panel_preview_panel__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./preview-panel/preview-panel */ "szUJ");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsPreviewPanel", function() { return _preview_panel_preview_panel__WEBPACK_IMPORTED_MODULE_5__["BsPreviewPanel"]; });

/* harmony import */ var _preview_popup_preview_popup__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./preview-popup/preview-popup */ "0U86");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsPreviewPopup", function() { return _preview_popup_preview_popup__WEBPACK_IMPORTED_MODULE_6__["BsPreviewPopup"]; });

/* harmony import */ var _result_link_preview_result_link_preview__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./result-link-preview/result-link-preview */ "7aSS");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsResultLinkPreview", function() { return _result_link_preview_result_link_preview__WEBPACK_IMPORTED_MODULE_7__["BsResultLinkPreview"]; });

/* harmony import */ var _similar_documents_similar_documents__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./similar-documents/similar-documents */ "qI9m");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsSimilarDocuments", function() { return _similar_documents_similar_documents__WEBPACK_IMPORTED_MODULE_8__["BsSimilarDocuments"]; });

/* harmony import */ var _preview_entity_facet_preview_entity_facet_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./preview-entity-facet/preview-entity-facet.component */ "N2dC");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsPreviewEntityFacetComponent", function() { return _preview_entity_facet_preview_entity_facet_component__WEBPACK_IMPORTED_MODULE_9__["BsPreviewEntityFacetComponent"]; });

/* harmony import */ var _preview_entity_panel_preview_entity_panel_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./preview-entity-panel/preview-entity-panel.component */ "0G0v");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsPreviewEntityPanelComponent", function() { return _preview_entity_panel_preview_entity_panel_component__WEBPACK_IMPORTED_MODULE_10__["BsPreviewEntityPanelComponent"]; });

/* harmony import */ var _preview_extracts_panel_preview_extracts_panel_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./preview-extracts-panel/preview-extracts-panel.component */ "STs+");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Extract", function() { return _preview_extracts_panel_preview_extracts_panel_component__WEBPACK_IMPORTED_MODULE_11__["Extract"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsPreviewExtractsPanelComponent", function() { return _preview_extracts_panel_preview_extracts_panel_component__WEBPACK_IMPORTED_MODULE_11__["BsPreviewExtractsPanelComponent"]; });

/* harmony import */ var _preview_search_form_preview_search_form_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./preview-search-form/preview-search-form.component */ "DsO/");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsPreviewSearchFormComponent", function() { return _preview_search_form_preview_search_form_component__WEBPACK_IMPORTED_MODULE_12__["BsPreviewSearchFormComponent"]; });

/* harmony import */ var _preview_page_form_preview_page_form_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./preview-page-form/preview-page-form.component */ "xnWB");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsPreviewPageFormComponent", function() { return _preview_page_form_preview_page_form_component__WEBPACK_IMPORTED_MODULE_13__["BsPreviewPageFormComponent"]; });

/* harmony import */ var _preview_pages_panel_preview_pages_panel_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./preview-pages-panel/preview-pages-panel.component */ "pJ5V");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsPreviewPagesPanelComponent", function() { return _preview_pages_panel_preview_pages_panel_component__WEBPACK_IMPORTED_MODULE_14__["BsPreviewPagesPanelComponent"]; });


















/***/ }),

/***/ "Den0":
/*!***************************************************!*\
  !*** ../core/notification/notification.module.ts ***!
  \***************************************************/
/*! exports provided: NotificationModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NotificationModule", function() { return NotificationModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _module_providers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./module.providers */ "IRzD");



/**
 * This module provides a service for managing notifications. It is used by the
 * Sinequa runtime and can also be used for application-specific purposes.
 *
 * The {@link NotificationsInterceptor} in this module should be registered using `HTTP_INTERCEPTORS` in your app module.
 */
class NotificationModule {
}
NotificationModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: NotificationModule });
NotificationModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function NotificationModule_Factory(t) { return new (t || NotificationModule)(); }, providers: [
        ..._module_providers__WEBPACK_IMPORTED_MODULE_1__["NOTIFICATION_MODULE_PROVIDERS"]
    ], imports: [[]] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NotificationModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [],
                declarations: [],
                exports: [],
                providers: [
                    ..._module_providers__WEBPACK_IMPORTED_MODULE_1__["NOTIFICATION_MODULE_PROVIDERS"]
                ]
            }]
    }], null, null); })();


/***/ }),

/***/ "DsO/":
/*!********************************************************************************************!*\
  !*** ../components/preview/bootstrap/preview-search-form/preview-search-form.component.ts ***!
  \********************************************************************************************/
/*! exports provided: BsPreviewSearchFormComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsPreviewSearchFormComponent", function() { return BsPreviewSearchFormComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ "nIj0");
/* harmony import */ var _utils_directives_autofocus__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../utils/directives/autofocus */ "1ak2");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/intl/message.pipe */ "X1Kh");






class BsPreviewSearchFormComponent {
    constructor(formBuilder) {
        this.formBuilder = formBuilder;
        this.searchText = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.searchControl = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"]('');
        this.form = this.formBuilder.group({
            search: this.searchControl
        });
    }
    /**
     * Updates the text of the search form when the query changes
     */
    ngOnChanges() {
        this.searchControl.setValue((!this.query || !this.query.text) ? "" : this.query.text);
    }
    /**
     * Emits an event for the parent component to search this next text
     */
    search() {
        this.searchText.next(this.searchControl.value || "");
    }
}
BsPreviewSearchFormComponent.ɵfac = function BsPreviewSearchFormComponent_Factory(t) { return new (t || BsPreviewSearchFormComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormBuilder"])); };
BsPreviewSearchFormComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsPreviewSearchFormComponent, selectors: [["sq-preview-search-form"]], inputs: { query: "query" }, outputs: { searchText: "searchText" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 12, vars: 10, consts: [["novalidate", "", 3, "formGroup"], [1, "input-group", "mb-3"], [1, "input-group-prepend"], ["for", "search-input", 1, "input-group-text"], ["id", "search-input", "type", "text", "formControlName", "search", "sqAutofocus", "", 1, "form-control", 3, "placeholder"], [1, "input-group-append"], ["type", "submit", 1, "btn", "btn-primary", 3, "title", "click"], [1, "fas", "fa-fw", "fa-search"]], template: function BsPreviewSearchFormComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "form", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "label", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](5, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](6, "input", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](7, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "div", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](9, "button", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsPreviewSearchFormComponent_Template_button_click_9_listener() { return ctx.search(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](10, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](11, "i", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](5, 4, "msg#preview.search"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("placeholder", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](7, 6, "msg#searchForm.searchFor"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("title", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](10, 8, "msg#searchForm.search"));
    } }, directives: [_angular_forms__WEBPACK_IMPORTED_MODULE_1__["ɵangular_packages_forms_forms_y"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["NgControlStatusGroup"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormGroupDirective"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["DefaultValueAccessor"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["NgControlStatus"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControlName"], _utils_directives_autofocus__WEBPACK_IMPORTED_MODULE_2__["Autofocus"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_3__["MessagePipe"]], styles: ["\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJwcm9qZWN0cy9jb21wb25lbnRzL3ByZXZpZXcvYm9vdHN0cmFwL3ByZXZpZXctc2VhcmNoLWZvcm0vcHJldmlldy1zZWFyY2gtZm9ybS5jb21wb25lbnQuc2NzcyJ9 */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsPreviewSearchFormComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'sq-preview-search-form',
                templateUrl: './preview-search-form.component.html',
                styleUrls: ['./preview-search-form.component.scss']
            }]
    }], function () { return [{ type: _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormBuilder"] }]; }, { query: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], searchText: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }] }); })();


/***/ }),

/***/ "E2wZ":
/*!*************************************!*\
  !*** ../core/modal/modal.module.ts ***!
  \*************************************/
/*! exports provided: ModalModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ModalModule", function() { return ModalModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "nIj0");
/* harmony import */ var _angular_cdk_a11y__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/cdk/a11y */ "sg/T");
/* harmony import */ var _angular_cdk_overlay__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/cdk/overlay */ "HYj3");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @sinequa/core/intl */ "EfqX");
/* harmony import */ var _sinequa_core_validation__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @sinequa/core/validation */ "BovW");
/* harmony import */ var _modal_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./modal.service */ "sZXJ");
/* harmony import */ var _module_providers__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./module.providers */ "WEma");
/* harmony import */ var _confirm_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./confirm.component */ "5bmX");
/* harmony import */ var _prompt_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./prompt.component */ "C3rY");





// Sinequa modules









/**
 * This module contains an implementation of a [modal dialog service]{@link ModalService} which can be extended
 * to support UI frameworks such as Bootstrap and Material Design. It uses the `Overlay` and `Portal` funcionality
 * provided by the [Angular CDK]{@link https://material.angular.io/cdk/categories} library.
 */
class ModalModule {
    static forRoot(confirmModal = _confirm_component__WEBPACK_IMPORTED_MODULE_10__["Confirm"], promptModal = _prompt_component__WEBPACK_IMPORTED_MODULE_11__["Prompt"]) {
        return {
            ngModule: ModalModule,
            providers: [
                { provide: _modal_service__WEBPACK_IMPORTED_MODULE_8__["MODAL_CONFIRM"], useValue: confirmModal },
                { provide: _modal_service__WEBPACK_IMPORTED_MODULE_8__["MODAL_PROMPT"], useValue: promptModal },
            ]
        };
    }
}
ModalModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: ModalModule });
ModalModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function ModalModule_Factory(t) { return new (t || ModalModule)(); }, providers: [
        ..._module_providers__WEBPACK_IMPORTED_MODULE_9__["MODAL_MODULE_PROVIDERS"]
    ], imports: [[
            _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_2__["ReactiveFormsModule"],
            // CDK
            _angular_cdk_overlay__WEBPACK_IMPORTED_MODULE_4__["OverlayModule"],
            _angular_cdk_a11y__WEBPACK_IMPORTED_MODULE_3__["A11yModule"],
            // Sinequa modules
            _sinequa_core_base__WEBPACK_IMPORTED_MODULE_5__["BaseModule"],
            _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_6__["IntlModule"],
            _sinequa_core_validation__WEBPACK_IMPORTED_MODULE_7__["ValidationModule"],
        ]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](ModalModule, { declarations: [_confirm_component__WEBPACK_IMPORTED_MODULE_10__["Confirm"],
        _prompt_component__WEBPACK_IMPORTED_MODULE_11__["Prompt"]], imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
        _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"],
        _angular_forms__WEBPACK_IMPORTED_MODULE_2__["ReactiveFormsModule"],
        // CDK
        _angular_cdk_overlay__WEBPACK_IMPORTED_MODULE_4__["OverlayModule"],
        _angular_cdk_a11y__WEBPACK_IMPORTED_MODULE_3__["A11yModule"],
        // Sinequa modules
        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_5__["BaseModule"],
        _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_6__["IntlModule"],
        _sinequa_core_validation__WEBPACK_IMPORTED_MODULE_7__["ValidationModule"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ModalModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                    _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"],
                    _angular_forms__WEBPACK_IMPORTED_MODULE_2__["ReactiveFormsModule"],
                    // CDK
                    _angular_cdk_overlay__WEBPACK_IMPORTED_MODULE_4__["OverlayModule"],
                    _angular_cdk_a11y__WEBPACK_IMPORTED_MODULE_3__["A11yModule"],
                    // Sinequa modules
                    _sinequa_core_base__WEBPACK_IMPORTED_MODULE_5__["BaseModule"],
                    _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_6__["IntlModule"],
                    _sinequa_core_validation__WEBPACK_IMPORTED_MODULE_7__["ValidationModule"],
                ],
                declarations: [
                    _confirm_component__WEBPACK_IMPORTED_MODULE_10__["Confirm"],
                    _prompt_component__WEBPACK_IMPORTED_MODULE_11__["Prompt"]
                ],
                exports: [],
                providers: [
                    ..._module_providers__WEBPACK_IMPORTED_MODULE_9__["MODAL_MODULE_PROVIDERS"]
                ]
            }]
    }], null, null); })();


/***/ }),

/***/ "EF9c":
/*!********************************************************************************!*\
  !*** ../components/advanced/bootstrap/advanced-form-autocomplete.directive.ts ***!
  \********************************************************************************/
/*! exports provided: BsAdvancedFormAutocomplete */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsAdvancedFormAutocomplete", function() { return BsAdvancedFormAutocomplete; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_components_autocomplete__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/components/autocomplete */ "jAS1");
/* harmony import */ var _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/app-utils */ "SBPP");
/* harmony import */ var _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/components/utils */ "DD1E");






class BsAdvancedFormAutocomplete extends _sinequa_components_autocomplete__WEBPACK_IMPORTED_MODULE_1__["Autocomplete"] {
    constructor(elementRef, suggestService, appService, uiService) {
        super(elementRef, suggestService, appService, uiService);
        this.UpdateItem = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
    }
    /**
     * The ngOnInit() method from the original directive is overriden
     * On initialization, we listen to the autocomplete component for
     * selection events
     */
    ngOnInit() {
        this._dropdownSubscription = this.dropdown.clicked.subscribe((item) => {
            this.select(item, false); // An item was selected from the autocomplete => take the value
        });
        this.start();
    }
    getSuggests() {
        const value = this.getInputValue();
        if (value) {
            // If there is text, make a call to the suggest API
            this.processSuggests(this.getSuggestsObs(value, [this.field]));
        }
        else {
            // If empty input, restart autocomplete
            this.start();
        }
    }
    processSuggests(obs) {
        obs.subscribe(suggests => {
            if (this.getState() === _sinequa_components_autocomplete__WEBPACK_IMPORTED_MODULE_1__["AutocompleteState"].ACTIVE || this.getState() === _sinequa_components_autocomplete__WEBPACK_IMPORTED_MODULE_1__["AutocompleteState"].OPENED) {
                this.dropdown.update(true, suggests
                    .filter(item => item.category !== "$field$") // Filter out fields
                    .map(item => {
                    if (!item.label) {
                        item.label = this.appService.getLabel(item.category);
                    }
                    if (!item.normalized) {
                        item.normalized = item.display;
                    }
                    return item;
                }));
            }
        }, err => {
            this.dropdown.update(false);
        }, () => {
            if (this.dropdown.hasItems && this.getState() === _sinequa_components_autocomplete__WEBPACK_IMPORTED_MODULE_1__["AutocompleteState"].ACTIVE) {
                this.open(); // Switch from ACTIVE to OPENED (if not already)
            }
            else if (!this.dropdown.hasItems && this.getState() === _sinequa_components_autocomplete__WEBPACK_IMPORTED_MODULE_1__["AutocompleteState"].OPENED) { // No data
                this.active(); // Switch from OPENED to ACTIVE (if not already)
            }
        });
    }
    setAutocompleteItem(item) {
        if (item) {
            this.setInputValue(item.display);
            this.UpdateItem.next(Object.assign(Object.assign({}, item), { normalized: item.normalized ? item.normalized : item.display }));
            return true;
        }
        return false;
    }
    /**
     * Listen to blur events on the <input> host and overrides the autocomplete blur events
     */
    blur(event) {
        /** If there is text in the <input/> and not selected from the dropdown ==> set the item manually */
        if (this.getState() !== _sinequa_components_autocomplete__WEBPACK_IMPORTED_MODULE_1__["AutocompleteState"].SELECTED) {
            if (!!this.getInputValue() && this.getInputValue() !== "") {
                const item = {
                    display: this.getInputValue(),
                    normalized: this.getInputValue(),
                    category: "",
                };
                this.setAutocompleteItem(item);
            }
            else {
                this.UpdateItem.next(undefined);
            }
        }
        this.init();
    }
    /**
     * Overrides the parent inputChanged method, so that it is possible to reinitialize the autocomplete
     * @param event
     */
    inputChanged(event) {
        switch (this.getState()) {
            case _sinequa_components_autocomplete__WEBPACK_IMPORTED_MODULE_1__["AutocompleteState"].OPENED:
                this.suggest(); // Just request more data, but no state change
                break;
            case _sinequa_components_autocomplete__WEBPACK_IMPORTED_MODULE_1__["AutocompleteState"].START:
            case _sinequa_components_autocomplete__WEBPACK_IMPORTED_MODULE_1__["AutocompleteState"].ACTIVE:
                this.active(); // get more data, and change state if not already ACTIVE
                break;
            case _sinequa_components_autocomplete__WEBPACK_IMPORTED_MODULE_1__["AutocompleteState"].SELECTED:
                this.start(); // The model changed because we selected a value ==> we restart in case the user keeps typing
                this.active();
                break;
            case _sinequa_components_autocomplete__WEBPACK_IMPORTED_MODULE_1__["AutocompleteState"].INIT:
                break;
        }
    }
}
BsAdvancedFormAutocomplete.ɵfac = function BsAdvancedFormAutocomplete_Factory(t) { return new (t || BsAdvancedFormAutocomplete)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_autocomplete__WEBPACK_IMPORTED_MODULE_1__["SuggestService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_2__["AppService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_utils__WEBPACK_IMPORTED_MODULE_3__["UIService"])); };
BsAdvancedFormAutocomplete.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({ type: BsAdvancedFormAutocomplete, selectors: [["", "sqAdvancedFormAutocomplete", ""]], hostBindings: function BsAdvancedFormAutocomplete_HostBindings(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("blur", function BsAdvancedFormAutocomplete_blur_HostBindingHandler($event) { return ctx.blur($event); })("input", function BsAdvancedFormAutocomplete_input_HostBindingHandler($event) { return ctx.inputChanged($event); });
    } }, inputs: { field: "field" }, outputs: { UpdateItem: "UpdateItem" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"]] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsAdvancedFormAutocomplete, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Directive"],
        args: [{
                selector: "[sqAdvancedFormAutocomplete]",
            }]
    }], function () { return [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"] }, { type: _sinequa_components_autocomplete__WEBPACK_IMPORTED_MODULE_1__["SuggestService"] }, { type: _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_2__["AppService"] }, { type: _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_3__["UIService"] }]; }, { UpdateItem: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }], field: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], blur: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostListener"],
            args: ["blur", ["$event"]]
        }], inputChanged: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostListener"],
            args: ["input", ["$event"]]
        }] }); })();


/***/ }),

/***/ "ENc8":
/*!*******************************************************!*\
  !*** ../components/selection/bootstrap/public-api.ts ***!
  \*******************************************************/
/*! exports provided: BsResultSelector, BsResultsSelector, BsSelectionModule, BsSelectionArranger */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _result_selector_result_selector__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./result-selector/result-selector */ "7RQc");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsResultSelector", function() { return _result_selector_result_selector__WEBPACK_IMPORTED_MODULE_0__["BsResultSelector"]; });

/* harmony import */ var _results_selector_results_selector__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./results-selector/results-selector */ "HNPw");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsResultsSelector", function() { return _results_selector_results_selector__WEBPACK_IMPORTED_MODULE_1__["BsResultsSelector"]; });

/* harmony import */ var _selection_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./selection.module */ "3wad");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsSelectionModule", function() { return _selection_module__WEBPACK_IMPORTED_MODULE_2__["BsSelectionModule"]; });

/* harmony import */ var _selection_arranger_selection_arranger_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./selection-arranger/selection-arranger.component */ "ZdwQ");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsSelectionArranger", function() { return _selection_arranger_selection_arranger_component__WEBPACK_IMPORTED_MODULE_3__["BsSelectionArranger"]; });







/***/ }),

/***/ "EfqX":
/*!*****************************!*\
  !*** ../core/intl/index.ts ***!
  \*****************************/
/*! exports provided: AbstractIntlPipe, IntlInitializer, IntlModule, LOCALES_CONFIG, INTL_CONFIG, IntlService, MessagePipe, enIntl, frIntl, deIntl */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _public_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./public-api */ "eWr+");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AbstractIntlPipe", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["AbstractIntlPipe"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "IntlInitializer", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["IntlInitializer"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "IntlModule", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["IntlModule"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "LOCALES_CONFIG", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["LOCALES_CONFIG"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "INTL_CONFIG", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["INTL_CONFIG"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "IntlService", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["IntlService"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MessagePipe", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["MessagePipe"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "enIntl", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["enIntl"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "frIntl", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["frIntl"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "deIntl", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["deIntl"]; });




/***/ }),

/***/ "EqeW":
/*!*****************************************************!*\
  !*** ../components/notification/bootstrap/index.ts ***!
  \*****************************************************/
/*! exports provided: BsNotificationModule, notificationAnimations, BsNotification, BsNotifications, BsNotificationsManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _public_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./public-api */ "jKNX");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsNotificationModule", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsNotificationModule"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "notificationAnimations", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["notificationAnimations"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsNotification", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsNotification"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsNotifications", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsNotifications"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsNotificationsManager", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsNotificationsManager"]; });




/***/ }),

/***/ "EvLS":
/*!********************************************************!*\
  !*** ../analytics/heatmap/bootstrap/heatmap.module.ts ***!
  \********************************************************/
/*! exports provided: BsHeatmapModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsHeatmapModule", function() { return BsHeatmapModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "nIj0");
/* harmony import */ var _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/intl */ "EfqX");
/* harmony import */ var _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/components/selection */ "8GPZ");
/* harmony import */ var _sinequa_components_action__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sinequa/components/action */ "WsHA");
/* harmony import */ var _tooltip_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./tooltip.component */ "Fpyd");
/* harmony import */ var _heatmap_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./heatmap.component */ "I6Bp");
/* harmony import */ var _facet_heatmap_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./facet-heatmap.component */ "fs8Z");
/* harmony import */ var _results_heatmap_view__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./results-heatmap-view */ "+R8z");











class BsHeatmapModule {
}
BsHeatmapModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: BsHeatmapModule });
BsHeatmapModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function BsHeatmapModule_Factory(t) { return new (t || BsHeatmapModule)(); }, imports: [[
            _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"], _angular_forms__WEBPACK_IMPORTED_MODULE_2__["ReactiveFormsModule"],
            _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
            _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_3__["IntlModule"],
            _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_4__["BsSelectionModule"],
            _sinequa_components_action__WEBPACK_IMPORTED_MODULE_5__["BsActionModule"]
        ]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](BsHeatmapModule, { declarations: [_results_heatmap_view__WEBPACK_IMPORTED_MODULE_9__["BsResultsHeatmapView"],
        _tooltip_component__WEBPACK_IMPORTED_MODULE_6__["BsTooltipComponent"],
        _heatmap_component__WEBPACK_IMPORTED_MODULE_7__["BsHeatmapComponent"],
        _facet_heatmap_component__WEBPACK_IMPORTED_MODULE_8__["BsFacetHeatmapComponent"]], imports: [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"], _angular_forms__WEBPACK_IMPORTED_MODULE_2__["ReactiveFormsModule"],
        _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
        _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_3__["IntlModule"],
        _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_4__["BsSelectionModule"],
        _sinequa_components_action__WEBPACK_IMPORTED_MODULE_5__["BsActionModule"]], exports: [_results_heatmap_view__WEBPACK_IMPORTED_MODULE_9__["BsResultsHeatmapView"],
        _tooltip_component__WEBPACK_IMPORTED_MODULE_6__["BsTooltipComponent"],
        _heatmap_component__WEBPACK_IMPORTED_MODULE_7__["BsHeatmapComponent"],
        _facet_heatmap_component__WEBPACK_IMPORTED_MODULE_8__["BsFacetHeatmapComponent"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsHeatmapModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"], _angular_forms__WEBPACK_IMPORTED_MODULE_2__["ReactiveFormsModule"],
                    _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                    _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_3__["IntlModule"],
                    _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_4__["BsSelectionModule"],
                    _sinequa_components_action__WEBPACK_IMPORTED_MODULE_5__["BsActionModule"]
                ],
                declarations: [
                    _results_heatmap_view__WEBPACK_IMPORTED_MODULE_9__["BsResultsHeatmapView"],
                    _tooltip_component__WEBPACK_IMPORTED_MODULE_6__["BsTooltipComponent"],
                    _heatmap_component__WEBPACK_IMPORTED_MODULE_7__["BsHeatmapComponent"],
                    _facet_heatmap_component__WEBPACK_IMPORTED_MODULE_8__["BsFacetHeatmapComponent"]
                ],
                exports: [
                    _results_heatmap_view__WEBPACK_IMPORTED_MODULE_9__["BsResultsHeatmapView"],
                    _tooltip_component__WEBPACK_IMPORTED_MODULE_6__["BsTooltipComponent"],
                    _heatmap_component__WEBPACK_IMPORTED_MODULE_7__["BsHeatmapComponent"],
                    _facet_heatmap_component__WEBPACK_IMPORTED_MODULE_8__["BsFacetHeatmapComponent"]
                ]
            }]
    }], null, null); })();


/***/ }),

/***/ "F1FI":
/*!***********************************!*\
  !*** ../core/login/public-api.ts ***!
  \***********************************/
/*! exports provided: AuthenticationService, TokenService, ComponentWithLogin, JWTService, AuthConfig, LoginModule, MODAL_LOGIN, LoginService, Login, HTTP_REQUEST_INITIALIZERS, LoginInterceptor, AuthenticationOauthService, AuthenticationPopupService, enLogin, frLogin, deLogin */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _authentication_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./authentication.service */ "mE1E");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AuthenticationService", function() { return _authentication_service__WEBPACK_IMPORTED_MODULE_0__["AuthenticationService"]; });

/* harmony import */ var _token_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./token.service */ "WIRU");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TokenService", function() { return _token_service__WEBPACK_IMPORTED_MODULE_1__["TokenService"]; });

/* harmony import */ var _component_with_login_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./component-with-login.component */ "C92B");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ComponentWithLogin", function() { return _component_with_login_component__WEBPACK_IMPORTED_MODULE_2__["ComponentWithLogin"]; });

/* harmony import */ var _jwt_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./jwt.service */ "MfrO");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "JWTService", function() { return _jwt_service__WEBPACK_IMPORTED_MODULE_3__["JWTService"]; });

/* harmony import */ var _login_module__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./login.module */ "zkag");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AuthConfig", function() { return _login_module__WEBPACK_IMPORTED_MODULE_4__["AuthConfig"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "LoginModule", function() { return _login_module__WEBPACK_IMPORTED_MODULE_4__["LoginModule"]; });

/* harmony import */ var _login_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./login.service */ "Kghj");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MODAL_LOGIN", function() { return _login_service__WEBPACK_IMPORTED_MODULE_5__["MODAL_LOGIN"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "LoginService", function() { return _login_service__WEBPACK_IMPORTED_MODULE_5__["LoginService"]; });

/* harmony import */ var _login_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./login.component */ "aN6H");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Login", function() { return _login_component__WEBPACK_IMPORTED_MODULE_6__["Login"]; });

/* harmony import */ var _login_interceptor__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./login.interceptor */ "pXWE");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "HTTP_REQUEST_INITIALIZERS", function() { return _login_interceptor__WEBPACK_IMPORTED_MODULE_7__["HTTP_REQUEST_INITIALIZERS"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "LoginInterceptor", function() { return _login_interceptor__WEBPACK_IMPORTED_MODULE_7__["LoginInterceptor"]; });

/* harmony import */ var _authentication_oauth_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./authentication-oauth.service */ "4Oqr");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AuthenticationOauthService", function() { return _authentication_oauth_service__WEBPACK_IMPORTED_MODULE_8__["AuthenticationOauthService"]; });

/* harmony import */ var _authentication_popup_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./authentication-popup.service */ "ZFuU");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AuthenticationPopupService", function() { return _authentication_popup_service__WEBPACK_IMPORTED_MODULE_9__["AuthenticationPopupService"]; });

/* harmony import */ var _messages_index__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./messages/index */ "NZVk");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "enLogin", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_10__["enLogin"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "frLogin", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_10__["frLogin"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "deLogin", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_10__["deLogin"]; });














/***/ }),

/***/ "FMre":
/*!*********************************************!*\
  !*** ../core/app-utils/app-utils.module.ts ***!
  \*********************************************/
/*! exports provided: AppUtilsModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppUtilsModule", function() { return AppUtilsModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/intl */ "EfqX");
/* harmony import */ var _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/web-services */ "cIYa");
/* harmony import */ var _module_providers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./module.providers */ "pdbw");






/**
 * This module contains a utility {@link AppService} for managing the configuration of a Sinequa SBA and a {@link FormatService}
 * for handling the formatting and parsing of Sinequa field values. It also contains an implementation of a {@link Query} class
 * as well as classes for manipulating Sinequa fielded search expressions.
 *
 * The {@link AuditInterceptor} in this module should be registered using `HTTP_INTERCEPTORS` in your app module.
 */
class AppUtilsModule {
}
AppUtilsModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: AppUtilsModule });
AppUtilsModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function AppUtilsModule_Factory(t) { return new (t || AppUtilsModule)(); }, providers: [
        ..._module_providers__WEBPACK_IMPORTED_MODULE_4__["APP_UTILS_MODULE_PROVIDERS"]
    ], imports: [[
            _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["BaseModule"],
            _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_2__["IntlModule"],
            _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_3__["WebServicesModule"]
        ]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](AppUtilsModule, { imports: [_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["BaseModule"],
        _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_2__["IntlModule"],
        _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_3__["WebServicesModule"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AppUtilsModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["BaseModule"],
                    _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_2__["IntlModule"],
                    _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_3__["WebServicesModule"]
                ],
                declarations: [],
                exports: [],
                providers: [
                    ..._module_providers__WEBPACK_IMPORTED_MODULE_4__["APP_UTILS_MODULE_PROVIDERS"]
                ]
            }]
    }], null, null); })();


/***/ }),

/***/ "FRj5":
/*!*********************************************!*\
  !*** ../components/utils/messages/index.ts ***!
  \*********************************************/
/*! exports provided: enUtils, frUtils, deUtils */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "enUtils", function() { return enUtils; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "frUtils", function() { return frUtils; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "deUtils", function() { return deUtils; });
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _en__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./en */ "TVTe");
/* harmony import */ var _fr__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./fr */ "ZXot");
/* harmony import */ var _de__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./de */ "6MTU");




const enUtils = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].merge({}, _en__WEBPACK_IMPORTED_MODULE_1__["default"]);
const frUtils = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].merge({}, _fr__WEBPACK_IMPORTED_MODULE_2__["default"]);
const deUtils = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].merge({}, _de__WEBPACK_IMPORTED_MODULE_3__["default"]);



/***/ }),

/***/ "FRsM":
/*!**************************************************!*\
  !*** ../core/validation/validation.directive.ts ***!
  \**************************************************/
/*! exports provided: VALIDATION_MESSAGE_COMPONENT, ValidationDirective */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "VALIDATION_MESSAGE_COMPONENT", function() { return VALIDATION_MESSAGE_COMPONENT; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ValidationDirective", function() { return ValidationDirective; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ "nIj0");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_core_load_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/load-component */ "vxak");
/* harmony import */ var _validation_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./validation.service */ "HM27");






/**
 * An injection token that can be provided to override the component loaded by {@link ValidationDirective}
 * to display validation error messages. The default component is {@link ValidationMessageComponent}.
 */
const VALIDATION_MESSAGE_COMPONENT = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["InjectionToken"]("VALIDATION_MESSAGE_COMPONENT");
/**
 * A directive to automatically add validity classes to the element to which it is attached. In addition,
 * when the associated `FormControl` is invalid a component is dynamically loaded after the element to display
 * the validation message.
 * The component to load can be specified by providing the {@link VALIDATION_MESSAGE_COMPONENT} injection token.
 * By default, the {@link ValidationMessageComponent} component is used.
 */
class ValidationDirective {
    constructor(validationMessageComponent, viewContainerRef, loadComponentService, validationService) {
        this.validationMessageComponent = validationMessageComponent;
        this.viewContainerRef = viewContainerRef;
        this.loadComponentService = loadComponentService;
        this.validationService = validationService;
        this.element = viewContainerRef.element.nativeElement;
    }
    ngOnInit() {
        if (!this.options) {
            console.log("Validation.ngOnInit - no options");
            return;
        }
        let controlName;
        if (this.options instanceof _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormGroup"]) {
            this.form = this.options;
        }
        else {
            this.form = this.options.form;
            controlName = this.options.controlName;
            this.validClass = this.options.validClass;
            this.invalidClass = this.options.invalidClass;
            this.childSelector = this.options.childSelector;
            this.errorMessages = this.options.errorMessages;
        }
        if (!this.form) {
            console.log("Validation.ngOnInit - no form model");
            return;
        }
        if (!this.form.controls) {
            console.log("Validation.ngOnInit - no form controls");
            return;
        }
        if (controlName) {
            this.control = this.form.controls[controlName];
        }
        else {
            const formControlName = this.element.getAttribute("formControlName");
            if (formControlName) {
                this.control = this.form.controls[formControlName];
            }
        }
        if (!this.control) {
            console.log("Validation.ngOnInit - no control");
            return;
        }
        if (!this.validClass) {
            this.validClass = "is-valid";
        }
        if (!this.invalidClass) {
            this.invalidClass = "is-invalid";
        }
        if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].isUndefined(this.childSelector)) {
            this.childSelector = ".form-control";
        }
        this.valid = this.control.valid;
        this.dirty = this.control.dirty;
        this.active = true;
        this.error = undefined;
    }
    getFirstError() {
        if (this.control.errors) {
            return Object.keys(this.control.errors)[0];
        }
        return undefined;
    }
    getErrorText(error) {
        if (error && this.errorMessages && !!this.errorMessages[error]) {
            return this.errorMessages[error];
        }
        return this.validationService.getErrorText(error);
    }
    getErrorInfo(error) {
        if (error && this.control.errors) {
            return this.control.errors[error];
        }
        return undefined;
    }
    setValidityClasses() {
        const add = this.control.valid ? this.validClass : this.invalidClass;
        const remove = this.control.valid ? this.invalidClass : this.validClass;
        if (remove) {
            this.element.classList.remove(remove);
        }
        if (add) {
            this.element.classList.add(add);
        }
        if (this.childSelector) {
            const children = Array.from(this.element.querySelectorAll(this.childSelector));
            children.forEach(element => {
                if (remove) {
                    element.classList.remove(remove);
                }
                if (add) {
                    element.classList.add(add);
                }
            });
        }
    }
    removeValidityClasses() {
        if (this.validClass) {
            this.element.classList.remove(this.validClass);
        }
        if (this.invalidClass) {
            this.element.classList.remove(this.invalidClass);
        }
        if (this.childSelector) {
            const children = Array.from(this.element.querySelectorAll(this.childSelector));
            children.forEach(element => {
                if (this.validClass) {
                    element.classList.remove(this.validClass);
                }
                if (this.invalidClass) {
                    element.classList.remove(this.invalidClass);
                }
            });
        }
    }
    /**
     * Update the validity classes on the element depending on the validity state of the
     * associated `FormControl`. If the control is invalid then the validation message component
     * is loaded to display an error message.
     */
    ngDoCheck() {
        if (!this.active) {
            return;
        }
        if (this.valid === this.control.valid && this.dirty === this.control.dirty) {
            const firstError = this.getFirstError();
            const errorInfo = this.getErrorInfo(firstError);
            if (firstError === this.error && errorInfo === this.errorInfo) {
                return;
            }
            this.error = firstError;
            this.errorInfo = errorInfo;
        }
        this.valid = this.control.valid;
        this.dirty = this.control.dirty;
        if (this.control.dirty) {
            this.setValidityClasses();
            if (this.control.valid) {
                if (this.validationMessage) {
                    this.validationMessage.componentRef.instance.text = "";
                }
            }
            else {
                if (!this.validationMessage) {
                    this.validationMessage =
                        this.loadComponentService.loadComponent({ component: this.validationMessageComponent }, this.viewContainerRef);
                }
                const error = this.getFirstError();
                this.validationMessage.componentRef.instance.text = this.getErrorText(error);
                this.validationMessage.componentRef.instance.info = this.getErrorInfo(error);
            }
        }
        else {
            this.removeValidityClasses();
            if (this.validationMessage) {
                this.validationMessage.componentRef.instance.text = "";
            }
        }
    }
}
ValidationDirective.ɵfac = function ValidationDirective_Factory(t) { return new (t || ValidationDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](VALIDATION_MESSAGE_COMPONENT), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewContainerRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_load_component__WEBPACK_IMPORTED_MODULE_3__["LoadComponentService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_validation_service__WEBPACK_IMPORTED_MODULE_4__["ValidationService"])); };
ValidationDirective.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({ type: ValidationDirective, selectors: [["", "sqValidation", ""]], inputs: { options: ["sqValidation", "options"] } });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ValidationDirective, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Directive"],
        args: [{
                selector: "[sqValidation]"
            }]
    }], function () { return [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Type"], decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [VALIDATION_MESSAGE_COMPONENT]
            }] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewContainerRef"] }, { type: _sinequa_core_load_component__WEBPACK_IMPORTED_MODULE_3__["LoadComponentService"] }, { type: _validation_service__WEBPACK_IMPORTED_MODULE_4__["ValidationService"] }]; }, { options: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"],
            args: ["sqValidation"]
        }] }); })();


/***/ }),

/***/ "FVww":
/*!************************************!*\
  !*** ../core/login/messages/fr.ts ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    "modal": {
        "login": {
            "title": "Connexion",
            "userName": "Identifiant",
            "password": "Mot de passe",
            "singleSignOn": "Authentification unique",
            "signInWith": "S'identifier avec ..."
        }
    },
});


/***/ }),

/***/ "FbCN":
/*!*************************************************!*\
  !*** ../components/results-view/messages/de.ts ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    "results": {
        "viewTitle": "Anzeige: {text}",
        "unselectableViewDisplay": "<Andere>",
        "resultsListView": {
            "display": "Liste",
            "selectDocument": "Dokument auswählen",
            "unselectDocument": "Dokumentauswahl aufheben",
            "previewPopup": "[Dokument-Navigator]",
            "previewInCurrentPage": "[Dokument-Navigator (auf der aktuellen Seite)]",
            "previewInNewTab": "[Dokument-Navigator (in einem neuen Reiter)]",
            "showMetadata": "[Metadaten]",
            "showLabels": "[Etiketten]"
        },
        "resultsGridView": {
            "display": "Tabelle",
            "selectDocument": "Dokument auswählen",
            "unselectDocument": "Dokumentauswahl aufheben",
            "selectDocuments": "Dokumente auswählen",
            "unselectDocuments": "Dokumentauswahl aufheben"
        },
        "viewPageSize": "Anzahl der Ergebnisse pro Seite",
        "viewUpdateApply": "Anwenden",
        "warningNoViewForTab": "Der Reiter '{tab}' hat keine zugewiesenen Ergebnisansichten.",
        "warningCannotDisplayTabOnView": "Der Reiter '{tab}' kann nicht mit der Ansicht '{view}' angezeigt werden, da diese nicht in der Ansichtskonfiguration enthalten ist.",
        "resultsAllTab": "Alle",
        "resultsTextTab": "Text",
        "results_all_tab": "Alle",
        "results_text_tab": "Text",
    }
});


/***/ }),

/***/ "FbeZ":
/*!************************************************!*\
  !*** ../components/utils/pipes/number-pipe.ts ***!
  \************************************************/
/*! exports provided: NumberPipe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NumberPipe", function() { return NumberPipe; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/intl */ "EfqX");




class NumberPipe extends _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_1__["AbstractIntlPipe"] {
    constructor(intlService, changeDetectorRef) {
        super(intlService, changeDetectorRef);
    }
    updateValue(key, params) {
        super.updateValue(key, params);
        this.value = typeof key === "number" ? this.intlService.formatNumber(key, params) : key;
    }
}
NumberPipe.ɵfac = function NumberPipe_Factory(t) { return new (t || NumberPipe)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_intl__WEBPACK_IMPORTED_MODULE_1__["IntlService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinjectPipeChangeDetectorRef"]()); };
NumberPipe.ɵpipe = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefinePipe"]({ name: "sqNumber", type: NumberPipe, pure: false });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NumberPipe, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Pipe"],
        args: [{ name: "sqNumber", pure: false }]
    }], function () { return [{ type: _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_1__["IntlService"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] }]; }, null); })();


/***/ }),

/***/ "Fpyd":
/*!***********************************************************!*\
  !*** ../analytics/heatmap/bootstrap/tooltip.component.ts ***!
  \***********************************************************/
/*! exports provided: BsTooltipComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsTooltipComponent", function() { return BsTooltipComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "2kYt");



const _c0 = ["*"];
class BsTooltipComponent {
    constructor() {
        this.orientation = "right";
        this.left = 0;
        this.right = 0;
        this.top = 0;
        this.theme = "light";
    }
    get style() {
        if (this.orientation === "right") {
            return {
                'left.px': this.left + 7,
                'top.px': this.top - 21,
            };
        }
        else {
            return {
                'right.px': this.right + 7,
                'top.px': this.top - 21,
            };
        }
    }
}
BsTooltipComponent.ɵfac = function BsTooltipComponent_Factory(t) { return new (t || BsTooltipComponent)(); };
BsTooltipComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsTooltipComponent, selectors: [["sq-tooltip"]], inputs: { orientation: "orientation", left: "left", right: "right", top: "top", theme: "theme" }, ngContentSelectors: _c0, decls: 3, vars: 5, consts: [[1, "sq-tooltip", "position-absolute", "card", 3, "ngStyle", "ngClass"]], template: function BsTooltipComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵprojectionDef"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵprojection"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngStyle", ctx.style)("ngClass", ctx.orientation);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMapInterpolate1"]("card-body bg-", ctx.theme, " p-2");
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["NgStyle"], _angular_common__WEBPACK_IMPORTED_MODULE_1__["NgClass"]], styles: [".sq-tooltip[_ngcontent-%COMP%] {\n    z-index: 10;\n}\n\n.sq-tooltip[_ngcontent-%COMP%]::after {\n    content: \" \";\n    position: absolute;\n    top: 12px;\n    border-width: 8px;\n    border-style: solid;\n}\n\n.sq-tooltip.right[_ngcontent-%COMP%]::after {\n    left: -17px;\n    border-color: transparent rgb(0,0,0,0.125) transparent transparent;\n}\n\n.sq-tooltip.left[_ngcontent-%COMP%]::after {\n    right: -17px;\n    border-color: transparent transparent transparent rgb(0,0,0,0.125);\n}"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsTooltipComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-tooltip",
                template: `
<div [ngStyle]="style" [ngClass]="orientation" class="sq-tooltip position-absolute card">
    <div class="card-body bg-{{theme}} p-2">
        <ng-content></ng-content>
    </div>
</div>
`,
                styles: [`
.sq-tooltip {
    z-index: 10;
}

.sq-tooltip::after {
    content: " ";
    position: absolute;
    top: 12px;
    border-width: 8px;
    border-style: solid;
}

.sq-tooltip.right::after {
    left: -17px;
    border-color: transparent rgb(0,0,0,0.125) transparent transparent;
}

.sq-tooltip.left::after {
    right: -17px;
    border-color: transparent transparent transparent rgb(0,0,0,0.125);
}
    `]
            }]
    }], null, { orientation: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], left: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], right: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], top: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], theme: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "G/Gs":
/*!**********************************************!*\
  !*** ../components/selection/messages/fr.ts ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    "resultSelector": {
        "selectDocument": "Sélectionner le document",
        "unselectDocument": "Désélectionner le document"
    },
    "resultsSelector": {
        "selectDocuments": "{count, selectordinal, =0 {} other {(#)}}",
        "selectDocumentsTitle": "Sélectionner les documents",
        "unselectDocumentsTitle": "Désélectionner les documents",
    },
    "selection": {
        "selectedDocuments": "{count, plural, =0 {} one {# document sélectionné} other {# documents sélectionnés}}"
    }
});


/***/ }),

/***/ "G03M":
/*!********************************************!*\
  !*** ../core/validation/messages/index.ts ***!
  \********************************************/
/*! exports provided: enValidation, frValidation, deValidation */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "enValidation", function() { return enValidation; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "frValidation", function() { return frValidation; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "deValidation", function() { return deValidation; });
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/intl */ "EfqX");
/* harmony import */ var _en__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./en */ "nAKq");
/* harmony import */ var _fr__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./fr */ "q4Yp");
/* harmony import */ var _de__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./de */ "86dQ");





const enValidation = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].merge({}, _en__WEBPACK_IMPORTED_MODULE_2__["default"], _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_1__["enIntl"]);
const frValidation = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].merge({}, _fr__WEBPACK_IMPORTED_MODULE_3__["default"], _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_1__["frIntl"]);
const deValidation = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].merge({}, _de__WEBPACK_IMPORTED_MODULE_4__["default"], _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_1__["deIntl"]);



/***/ }),

/***/ "G36q":
/*!****************************************************!*\
  !*** ../components/labels/bootstrap/public-api.ts ***!
  \****************************************************/
/*! exports provided: BsLabelsAutocompleteComponent, defaultLabelComponents, BsLabelsModule, BsRenameLabel, BsLabelsMenuComponent, BsDeleteLabel, BsAddLabel, BsEditLabel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _labels_autocomplete_labels_autocomplete_component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./labels-autocomplete/labels-autocomplete.component */ "o8/e");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsLabelsAutocompleteComponent", function() { return _labels_autocomplete_labels_autocomplete_component__WEBPACK_IMPORTED_MODULE_0__["BsLabelsAutocompleteComponent"]; });

/* harmony import */ var _labels_module__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./labels.module */ "mufF");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "defaultLabelComponents", function() { return _labels_module__WEBPACK_IMPORTED_MODULE_1__["defaultLabelComponents"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsLabelsModule", function() { return _labels_module__WEBPACK_IMPORTED_MODULE_1__["BsLabelsModule"]; });

/* harmony import */ var _rename_label_rename_label__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./rename-label/rename-label */ "pmz6");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsRenameLabel", function() { return _rename_label_rename_label__WEBPACK_IMPORTED_MODULE_2__["BsRenameLabel"]; });

/* harmony import */ var _labels_menu_labels_menu_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./labels-menu/labels-menu.component */ "dgxw");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsLabelsMenuComponent", function() { return _labels_menu_labels_menu_component__WEBPACK_IMPORTED_MODULE_3__["BsLabelsMenuComponent"]; });

/* harmony import */ var _delete_label_delete_label__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./delete-label/delete-label */ "6xtN");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsDeleteLabel", function() { return _delete_label_delete_label__WEBPACK_IMPORTED_MODULE_4__["BsDeleteLabel"]; });

/* harmony import */ var _add_label_add_label__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./add-label/add-label */ "ff1L");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsAddLabel", function() { return _add_label_add_label__WEBPACK_IMPORTED_MODULE_5__["BsAddLabel"]; });

/* harmony import */ var _edit_label_edit_label__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./edit-label/edit-label */ "c9A2");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsEditLabel", function() { return _edit_label_edit_label__WEBPACK_IMPORTED_MODULE_6__["BsEditLabel"]; });










/***/ }),

/***/ "G38c":
/*!******************************************************************************!*\
  !*** ../components/baskets/bootstrap/baskets-menu/baskets-menu.component.ts ***!
  \******************************************************************************/
/*! exports provided: BsBasketsMenuComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsBasketsMenuComponent", function() { return BsBasketsMenuComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/components/action */ "WsHA");
/* harmony import */ var _sinequa_core_login__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/login */ "7O5u");
/* harmony import */ var _baskets_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../baskets.service */ "3Nz9");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _action_bootstrap_action_item_action_item__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../action/bootstrap/action-item/action-item */ "TE8J");







const _c0 = function (a0, a1, a2, a3) { return { item: a0, size: a1, autoAdjust: a2, autoAdjustBreakpoint: a3, inMenu: true }; };
function BsBasketsMenuComponent_li_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "li", 1);
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("sq-action-item", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction4"](2, _c0, ctx_r0.menu, ctx_r0.size, ctx_r0.autoAdjust, ctx_r0.autoAdjustBreakpoint))("collapseBreakpoint", ctx_r0.collapseBreakpoint);
} }
class BsBasketsMenuComponent {
    constructor(loginService, basketsService) {
        this.loginService = loginService;
        this.basketsService = basketsService;
        this.searchRoute = "/search";
        this.icon = "fas fa-shopping-basket";
        this.autoAdjust = true;
        this.autoAdjustBreakpoint = 'xl';
        this.collapseBreakpoint = 'sm';
        this.createAction = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__["Action"]({
            text: "msg#baskets.createBasket",
            title: "msg#baskets.createBasket",
            action: _ => { this.basketsService.createBasketModal(); }
        });
        this.manageAction = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__["Action"]({
            text: "msg#baskets.manageBaskets",
            title: "msg#baskets.manageBaskets",
            action: _ => { this.basketsService.manageBasketsModal(); }
        });
    }
    ngOnInit() {
        this.updateMenu();
        this.basketsService.changes.subscribe({
            next: () => { this.updateMenu(); }
        });
        this.loginService.events.subscribe(event => {
            if (event.type === "session-changed") {
                this.updateMenu();
            }
        });
    }
    updateMenu() {
        if (!this.loginService.complete) {
            this.menu = undefined;
            return;
        }
        const basketsActions = [];
        if (this.basketsService.hasBasket) {
            const scrollGroup = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__["Action"]({
                scrollGroup: true,
                children: this.basketsService.baskets.map(basket => new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__["Action"]({
                    text: basket.name,
                    title: basket.name,
                    data: basket,
                    action: () => this.basketsService.searchBasket(basket, this.searchRoute)
                }))
            });
            basketsActions.push(scrollGroup);
        }
        basketsActions.push(this.createAction);
        if (this.basketsService.hasBasket) {
            basketsActions.push(this.manageAction);
        }
        this.menu = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__["Action"]({
            icon: this.icon,
            text: "msg#baskets.baskets",
            title: "msg#baskets.baskets",
            children: basketsActions
        });
    }
}
BsBasketsMenuComponent.ɵfac = function BsBasketsMenuComponent_Factory(t) { return new (t || BsBasketsMenuComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_login__WEBPACK_IMPORTED_MODULE_2__["LoginService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_baskets_service__WEBPACK_IMPORTED_MODULE_3__["BasketsService"])); };
BsBasketsMenuComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsBasketsMenuComponent, selectors: [["sq-baskets-menu"]], inputs: { searchRoute: "searchRoute", icon: "icon", autoAdjust: "autoAdjust", autoAdjustBreakpoint: "autoAdjustBreakpoint", collapseBreakpoint: "collapseBreakpoint", size: "size" }, decls: 1, vars: 1, consts: [["class", "nav-item dropdown", 3, "sq-action-item", "collapseBreakpoint", 4, "ngIf"], [1, "nav-item", "dropdown", 3, "sq-action-item", "collapseBreakpoint"]], template: function BsBasketsMenuComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, BsBasketsMenuComponent_li_0_Template, 1, 7, "li", 0);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !!ctx.menu && !ctx.menu.hidden);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_4__["NgIf"], _action_bootstrap_action_item_action_item__WEBPACK_IMPORTED_MODULE_5__["BsActionItem"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsBasketsMenuComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'sq-baskets-menu',
                templateUrl: './baskets-menu.component.html'
            }]
    }], function () { return [{ type: _sinequa_core_login__WEBPACK_IMPORTED_MODULE_2__["LoginService"] }, { type: _baskets_service__WEBPACK_IMPORTED_MODULE_3__["BasketsService"] }]; }, { searchRoute: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], icon: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], autoAdjust: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], autoAdjustBreakpoint: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], collapseBreakpoint: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], size: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "GFYe":
/*!***************************************!*\
  !*** ../core/base/item-array-view.ts ***!
  \***************************************/
/*! exports provided: NameValueArrayViewHelper */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NameValueArrayViewHelper", function() { return NameValueArrayViewHelper; });
/* harmony import */ var _iterator_adaptor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./iterator-adaptor */ "0XEq");

class ArrayBasedView {
    constructor(base, nameSelector, valueSelector) {
        this.base = base;
        this.nameSelector = nameSelector;
        this.valueSelector = valueSelector;
    }
    get length() {
        return this.base.length;
    }
    get(index) {
        return this.toNameValuePair(this.base[index]);
    }
    getName(index) {
        return this.nameSelector(this.base[index]);
    }
    getValue(index) {
        return this.valueSelector(this.base[index]);
    }
    toNameValuePair(obj) {
        return { name: this.nameSelector(obj), value: this.valueSelector(obj) };
    }
    /*
        Iterators
    */
    [Symbol.iterator]() {
        return this.items();
    }
    items() {
        return _iterator_adaptor__WEBPACK_IMPORTED_MODULE_0__["IteratorAdaptor"].forIterable(this.base, (obj) => this.toNameValuePair(obj));
    }
    names() {
        return _iterator_adaptor__WEBPACK_IMPORTED_MODULE_0__["IteratorAdaptor"].forIterable(this.base, this.nameSelector);
    }
    values() {
        return _iterator_adaptor__WEBPACK_IMPORTED_MODULE_0__["IteratorAdaptor"].forIterable(this.base, this.valueSelector);
    }
    forEach(callback, thisArg) {
        for (let idx = 0; idx < this.length; idx++) {
            const r = this.get(idx);
            if (thisArg)
                callback.call(thisArg, r, idx, this);
            else
                callback(r, idx, this);
        }
        return this;
    }
}
/**
 * A helper class for creating {@link NameValueArrayView} instances
 */
// @dynamic
class NameValueArrayViewHelper {
    /**
     * Creates a {@link NameValueArrayView} from an array of {@link NameValuePair} items
     *
     * @param items An array of `NameValuePair` items
     */
    static fromArray(items) {
        return new ArrayBasedView(items || [], p => p.name, p => p.value);
    }
    static fromObjects(items, nameKey, valueKey) {
        return new ArrayBasedView(items || [], p => p[nameKey], p => p[valueKey]);
    }
    static from(items, nameSelector, valueSelector) {
        return new ArrayBasedView(items || [], nameSelector, valueSelector);
    }
}


/***/ }),

/***/ "GPID":
/*!********************************************!*\
  !*** ../core/load-component/public-api.ts ***!
  \********************************************/
/*! exports provided: LoadComponentModule, LoadComponentService, LoadComponentDirective */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _load_component_module__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./load-component.module */ "oksa");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "LoadComponentModule", function() { return _load_component_module__WEBPACK_IMPORTED_MODULE_0__["LoadComponentModule"]; });

/* harmony import */ var _load_component_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./load-component.service */ "bpjR");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "LoadComponentService", function() { return _load_component_service__WEBPACK_IMPORTED_MODULE_1__["LoadComponentService"]; });

/* harmony import */ var _load_component_directive__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./load-component.directive */ "/2Dk");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "LoadComponentDirective", function() { return _load_component_directive__WEBPACK_IMPORTED_MODULE_2__["LoadComponentDirective"]; });






/***/ }),

/***/ "H4UA":
/*!***************************************************************************************!*\
  !*** ../components/status-bar/bootstrap/fullscreen-activator/fullscreen-activator.ts ***!
  \***************************************************************************************/
/*! exports provided: BsFullscreenActivator */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsFullscreenActivator", function() { return BsFullscreenActivator; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/components/action */ "WsHA");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/components/utils */ "DD1E");
/* harmony import */ var _action_bootstrap_action_buttons_action_buttons__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../action/bootstrap/action-buttons/action-buttons */ "9+ai");






const _c0 = function (a0) { return [a0]; };
const _c1 = function (a0) { return { items: a0 }; };
class BsFullscreenActivator {
    constructor(uiService) {
        this.uiService = uiService;
        this.buildAction();
    }
    getFullscreenIcon() {
        return !this.isFullscreen() ? "fas fa-expand" : "fas fa-compress";
    }
    getFullscreenTitle() {
        return !this.isFullscreen() ? "msg#statusbar.fullscreenTitleEnter" : "msg#statusbar.fullscreenTitleExit";
    }
    buildAction() {
        this.action = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__["Action"]({
            icon: this.getFullscreenIcon(),
            title: this.getFullscreenTitle(),
            action: (item, $event) => {
                this.toggleFullscreen();
                item.icon = this.getFullscreenIcon();
                item.title = this.getFullscreenTitle();
            },
            init: (item) => {
                this.resizeSubscription = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].subscribe(this.uiService.resizeEvent, (event) => {
                    this.action.icon = this.getFullscreenIcon();
                    this.action.title = this.getFullscreenTitle();
                });
            },
            destroy: (item) => {
                if (this.resizeSubscription) {
                    this.resizeSubscription.unsubscribe();
                    this.resizeSubscription = undefined;
                }
            }
        });
    }
    requestFullscreen() {
        const doc = window.document;
        const docEl = doc.documentElement;
        const requestFullScreen = docEl["requestFullscreen"] || docEl["mozRequestFullScreen"] || docEl["webkitRequestFullScreen"] || docEl["msRequestFullscreen"];
        if (requestFullScreen) {
            requestFullScreen.call(docEl);
        }
    }
    cancelFullscreen() {
        const doc = window.document;
        const cancelFullScreen = doc["exitFullscreen"] || doc["mozCancelFullScreen"] || doc["webkitExitFullscreen"] || doc["msExitFullscreen"];
        if (cancelFullScreen) {
            cancelFullScreen.call(doc);
        }
    }
    isFullscreen() {
        const doc = window.document;
        return doc["fullscreenElement"] || doc["mozFullScreenElement"] || doc["webkitFullscreenElement"] || doc["msFullscreenElement"];
    }
    toggleFullscreen() {
        if (!this.isFullscreen()) {
            this.requestFullscreen();
        }
        else {
            this.cancelFullscreen();
        }
    }
}
BsFullscreenActivator.ɵfac = function BsFullscreenActivator_Factory(t) { return new (t || BsFullscreenActivator)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_utils__WEBPACK_IMPORTED_MODULE_3__["UIService"])); };
BsFullscreenActivator.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsFullscreenActivator, selectors: [["sq-fullscreen-activator"]], decls: 2, vars: 5, consts: [[1, "btn-toolbar"], [1, "btn-group", 3, "sq-action-buttons"]], template: function BsFullscreenActivator_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("sq-action-buttons", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](3, _c1, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](1, _c0, ctx.action)));
    } }, directives: [_action_bootstrap_action_buttons_action_buttons__WEBPACK_IMPORTED_MODULE_4__["BsActionButtons"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsFullscreenActivator, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-fullscreen-activator",
                templateUrl: "./fullscreen-activator.html"
            }]
    }], function () { return [{ type: _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_3__["UIService"] }]; }, null); })();


/***/ }),

/***/ "HBFV":
/*!*********************************************************!*\
  !*** ../components/result/result-title/result-title.ts ***!
  \*********************************************************/
/*! exports provided: ResultTitle */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ResultTitle", function() { return ResultTitle; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_components_search__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/components/search */ "7+c1");
/* harmony import */ var _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/app-utils */ "SBPP");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ "2kYt");






function ResultTitle_span_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "span", 2);
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("title", ctx_r0.record.title);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("innerHTML", ctx_r0.title, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeHtml"]);
} }
function ResultTitle_a_1_Template(rf, ctx) { if (rf & 1) {
    const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "a", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function ResultTitle_a_1_Template_a_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r3); const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r2.click(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("title", ctx_r1.record.title);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("href", ctx_r1.href, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeUrl"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("target", ctx_r1.target);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("innerHTML", ctx_r1.title, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeHtml"]);
} }
class ResultTitle {
    constructor(searchService, appService) {
        this.searchService = searchService;
        this.appService = appService;
        /**
         * "open" mode: Display a link which opens the original document (url1) if available, or emits a titleClicked event to perform an action otherwise
         * "action" mode: Display a link which emits a titleClicked event to perform an action
         * "open-if-url" mode: Display a link which opens the original document (url1) if available, or displays a SPAN with the title otherwise
         * "display" mode: Only display a SPAN element (no link)
         */
        this.titleLinkBehavior = "open";
        /** Optional field name containing the title. Otherwise displayTitle or title are used */
        this.field = "";
        /** Event emitter to perform actions at the parent level */
        this.titleClicked = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"](); // TODO: Custom options to get title & URL (replace pluginservice)
    }
    ngOnChanges(changes) {
        if (changes["record"]) {
            this.titleField = this.appService.resolveColumnAlias(this.field);
            this.title = this.getTitle();
            this.documentUrl = this.record.url1;
        }
    }
    get hasLinkBehaviour() {
        return this.titleLinkBehavior === "open" || (this.titleLinkBehavior === "open-if-url" && this.hasUrl);
    }
    /**
     * A span is shown in "display" mode or "open-if-url" mode when no url is present
     * A link is shown in all other cases (even in "open" mode with no url, which is equivalent to "action" mode)
     */
    get hasSpanBehaviour() {
        return this.titleLinkBehavior === "display" || (this.titleLinkBehavior === "open-if-url" && !this.hasUrl);
    }
    get href() {
        return (this.hasLinkBehaviour && this.documentUrl) || "#";
    }
    get target() {
        return (this.hasLinkBehaviour && this.documentUrl) ? this.originalDocTarget || '_blank' : "_self";
    }
    get hasUrl() {
        return !!this.documentUrl;
    }
    getTitle() {
        let title;
        if (this.titleField) {
            title = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].escapeHtml(this.record[this.titleField]);
        }
        if (!title) {
            title = this.record.displayTitle || _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].escapeHtml(this.record.title);
        }
        return title;
    }
    click() {
        const isLink = this.hasLinkBehaviour && !!this.documentUrl; // true if this is a regular link (performs the default action)
        if (isLink)
            this.searchService.notifyOpenOriginalDocument(this.record);
        this.titleClicked.emit(isLink); // Can be use to trigger actions
        return isLink;
    }
}
ResultTitle.ɵfac = function ResultTitle_Factory(t) { return new (t || ResultTitle)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_search__WEBPACK_IMPORTED_MODULE_2__["SearchService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__["AppService"])); };
ResultTitle.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: ResultTitle, selectors: [["sq-result-title"]], inputs: { record: "record", titleLinkBehavior: "titleLinkBehavior", field: "field", originalDocTarget: "originalDocTarget" }, outputs: { titleClicked: "titleClicked" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 2, vars: 2, consts: [["class", "sq-result-title", 3, "title", "innerHTML", 4, "ngIf"], ["class", "sq-result-title", 3, "title", "href", "target", "innerHTML", "click", 4, "ngIf"], [1, "sq-result-title", 3, "title", "innerHTML"], [1, "sq-result-title", 3, "title", "href", "target", "innerHTML", "click"]], template: function ResultTitle_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, ResultTitle_span_0_Template, 1, 2, "span", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, ResultTitle_a_1_Template, 1, 4, "a", 1);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.hasSpanBehaviour);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.hasSpanBehaviour);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_4__["NgIf"]], styles: ["\nsq-result-title {\n    font-size: 1.25rem;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n}\n.match-highlight {\n    font-weight: bold;\n    font-style: italic;\n}\n    "], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ResultTitle, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-result-title",
                templateUrl: "./result-title.html",
                styles: [`
sq-result-title {
    font-size: 1.25rem;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}
.match-highlight {
    font-weight: bold;
    font-style: italic;
}
    `],
                encapsulation: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewEncapsulation"].None // Currently necessary for the match-highlight
            }]
    }], function () { return [{ type: _sinequa_components_search__WEBPACK_IMPORTED_MODULE_2__["SearchService"] }, { type: _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__["AppService"] }]; }, { record: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], titleLinkBehavior: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], field: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], originalDocTarget: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], titleClicked: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }] }); })();


/***/ }),

/***/ "HM27":
/*!************************************************!*\
  !*** ../core/validation/validation.service.ts ***!
  \************************************************/
/*! exports provided: ValidatorType, ValidationService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ValidatorType", function() { return ValidatorType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ValidationService", function() { return ValidationService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ "nIj0");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/app-utils */ "SBPP");
/* harmony import */ var _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/core/intl */ "EfqX");






/**
 * @ignore
 */
function isEmptyInputValue(value) {
    // we don't check for string here so it also works with arrays
    return value === null || value === undefined || value.length === 0;
}
const processInputValue = (value) => {
    if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].isArray(value)) {
        return value.map((val) => {
            if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].isObject(val) && val.hasOwnProperty("value")) {
                return val.value;
            }
            return val;
        });
    }
    else {
        if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].isObject(value) && value.hasOwnProperty("value")) {
            return [value.value];
        }
        return [value];
    }
};
// Email regular expression, taken from built-in Angular validators.
/**
 * @ignore
 */
const EMAIL_REGEXP = /^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/;
/**
 * Enumerates the supported validator types.
 */
var ValidatorType;
(function (ValidatorType) {
    ValidatorType["Min"] = "Min";
    ValidatorType["Max"] = "Max";
    ValidatorType["Required"] = "Required";
    ValidatorType["Email"] = "Email";
    ValidatorType["Pattern"] = "Pattern";
    ValidatorType["Integer"] = "Integer";
    ValidatorType["Number"] = "Number";
    ValidatorType["Date"] = "Date";
    ValidatorType["Range"] = "Range";
})(ValidatorType || (ValidatorType = {}));
/**
 * Defines the default error messages for each validator.
 */
const errorMessagesMap = {
    // Built-in Angular validators
    min: "msg#validation.min",
    max: "msg#validation.max",
    required: "msg#validation.required",
    requiredTrue: "msg#validation.requiredTrue",
    email: "msg#validation.email",
    minlength: "msg#validation.minLength",
    maxlength: "msg#validation.maxLength",
    pattern: "msg#validation.pattern",
    // Custom
    unique: "msg#validation.unique",
    integer: "msg#validation.integer",
    number: "msg#validation.number",
    date: "msg#validation.date",
    range: "msg#validation.range"
};
/**
 * This service provides a set of locale-sensitive validators with support for arrays.
 * The validator error messages are {@link IntlService} `msg#` messages of the form:
 * `msg#validation.<validator name>`.
 */
class ValidationService {
    constructor(formatService, intlService) {
        this.formatService = formatService;
        this.intlService = intlService;
    }
    /**
     * A pattern validator based on Angular's `Validators.pattern` with support for value arrays.
     *
     * @param pattern The pattern.
     * @returns The validation function.
     */
    static patternValidator(pattern) {
        // #region This code region is based on Validators.pattern()
        if (!pattern) {
            return _angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].nullValidator;
        }
        let regex;
        let regexStr;
        if (typeof pattern === 'string') {
            regexStr = '';
            if (pattern.charAt(0) !== '^') {
                regexStr += '^';
            }
            regexStr += pattern;
            if (pattern.charAt(pattern.length - 1) !== '$') {
                regexStr += '$';
            }
            regex = new RegExp(regexStr);
        }
        else {
            regexStr = pattern.toString();
            regex = pattern;
        }
        // #endregion
        return (control) => {
            if (isEmptyInputValue(control.value)) {
                return null; // don't validate empty values to allow optional controls
            }
            let values = [];
            values = processInputValue(control.value);
            for (const value of values) {
                if (!regex.test(value)) {
                    return { pattern: { requiredPattern: pattern.toString(), actualValue: value } };
                }
            }
            return null;
        };
    }
    /**
     * A pattern validator based on Angular's `Validators.email` with support for value arrays.
     *
     * @param control The control to validate.
     * @returns The result.
     */
    static emailValidation(control) {
        if (isEmptyInputValue(control.value)) {
            return null; // don't validate empty values to allow optional controls
        }
        let values = [];
        values = processInputValue(control.value);
        for (const value of values) {
            if (!EMAIL_REGEXP.test(value)) {
                return { email: true };
            }
        }
        return null;
    }
    /**
     * Get the name of the first validator in a map of validation errors.
     * @param errors The validation errors
     * @returns The name of the first validator, if any - `undefined` otherwise.
     */
    getFirstError(errors) {
        if (errors) {
            return Object.keys(errors)[0];
        }
        return undefined;
    }
    /**
     * Get the error message associated with the passed validator.
     * @param name The name of a validator.
     * @returns The error message.
     */
    getErrorText(name) {
        const text = name ? errorMessagesMap[name] : undefined;
        if (!text) {
            return "Unknown validator: " + name;
        }
        return text;
    }
    /**
     * Get the error message associated with first validator in a map of validation errors.
     * @param errors The validation errors.
     * @returns The error message.
     */
    getFirstErrorText(errors) {
        if (errors) {
            const error = this.getFirstError(errors);
            if (error) {
                return this.getErrorText(error);
            }
        }
        return undefined;
    }
    /**
     * Get the data held for the first error in a map of validation errors
     * @param errors The validation errors.
     */
    getFirstErrorInfo(errors) {
        if (errors) {
            const error = this.getFirstError(errors);
            if (error) {
                return errors[error];
            }
        }
        return undefined;
    }
    /**
     * Get a validator function that validates that values are greater than or equal
     * to the passed `min` value. The function supports single values and arrays of
     * values and will optionally parse the values using the {@link FormatService} if
     * a parser is passed. Dates will be parsed according to the current locale.
     *
     * @param min The minimum value to test against. The type determines
     * how the test will be made.
     * @param parser An optional parser name.
     */
    minValidator(min, parser) {
        return (control) => {
            if (isEmptyInputValue(control.value) || isEmptyInputValue(min)) {
                return null; // don't validate empty values to allow optional controls
            }
            let values = [];
            values = processInputValue(control.value);
            for (const value of values) {
                if (!isEmptyInputValue(value)) {
                    let value1 = value;
                    if (parser) {
                        value1 = this.formatService.parseValue(value1, parser);
                    }
                    let cmp = 0;
                    if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].isNumber(min)) {
                        if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].testFloat(value1)) {
                            value1 = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].toNumber(value1);
                            cmp = value1 - min;
                        }
                    }
                    else if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].isString(min)) {
                        cmp = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].compare(value1, min);
                    }
                    else if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].isDate(min)) {
                        if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].isString(value1)) {
                            value1 = this.intlService.parseDate(value1);
                            if (value1) {
                                cmp = value1.getTime() - min.getTime();
                            }
                        }
                        else if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].isDate(value1)) { // ngx-bootstrap returns date values (new Date(NaN) if invalid)
                            cmp = value1.getTime() - min.getTime();
                        }
                    }
                    if (cmp < 0) {
                        return { min: { min, actual: value } };
                    }
                }
            }
            return null;
        };
    }
    /**
     * Get a validator function that validates that values are less than or equal
     * to the passed `max` value. The function supports single values and arrays of
     * values and will optionally parse the values using the {@link FormatService} if
     * a parser is passed. Dates will be parsed according to the current locale.
     *
     * @param max The maximum value to test against. The type determines
     * how the test will be made.
     * @param parser An optional parser name.
     */
    maxValidator(max, parser) {
        return (control) => {
            if (isEmptyInputValue(control.value) || isEmptyInputValue(max)) {
                return null; // don't validate empty values to allow optional controls
            }
            let values = [];
            values = processInputValue(control.value);
            for (const value of values) {
                if (!isEmptyInputValue(value)) {
                    let value1 = value;
                    if (parser) {
                        value1 = this.formatService.parseValue(value1, parser);
                    }
                    let cmp = 0;
                    if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].isNumber(max)) {
                        if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].testFloat(value1)) {
                            value1 = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].toNumber(value1);
                            cmp = value1 - max;
                        }
                    }
                    else if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].isString(max)) {
                        cmp = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].compare(value1, max);
                    }
                    else if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].isDate(max)) {
                        if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].isString(value1)) {
                            value1 = this.intlService.parseDate(value1);
                            if (value1) {
                                cmp = value1.getTime() - max.getTime();
                            }
                        }
                        else if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].isDate(value1)) { // ngx-bootstrap returns date values (new Date(NaN) if invalid)
                            cmp = value1.getTime() - max.getTime();
                        }
                    }
                    if (cmp > 0) {
                        return { max: { max, actual: value } };
                    }
                }
            }
            return null;
        };
    }
    /**
     * Get a validator function that validates that values are integers. The function
     * supports single values and arrays of values and will optionally parse the values
     * using the {@link FormatService} if a parser is passed.
     *
     * @param parser An optional parser name.
     */
    integerValidator(parser) {
        return (control) => {
            if (isEmptyInputValue(control.value)) {
                return null; // don't validate empty values to allow optional controls
            }
            let values = [];
            values = processInputValue(control.value);
            for (const value of values) {
                if (!isEmptyInputValue(value)) {
                    let value1 = value;
                    if (parser) {
                        value1 = this.formatService.parseValue(value1, parser);
                    }
                    if (!_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].testInteger(value1)) {
                        return { integer: { value } };
                    }
                }
            }
            return null;
        };
    }
    /**
     * Get a validator function that validates that values are numeric. The function
     * supports single values and arrays of values and will optionally parse the values
     * using the {@link FormatService} if a parser is passed.
     *
     * @param parser An optional parser name.
     */
    numberValidator(parser) {
        return (control) => {
            if (isEmptyInputValue(control.value)) {
                return null; // don't validate empty values to allow optional controls
            }
            let values = [];
            values = processInputValue(control.value);
            for (const value of values) {
                if (!isEmptyInputValue(value)) {
                    let value1 = value;
                    if (parser) {
                        value1 = this.formatService.parseValue(value1, parser);
                    }
                    if (!_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].testFloat(value1)) {
                        return { number: { value } };
                    }
                }
            }
            return null;
        };
    }
    /**
     * Get a validator function that validates that values are dates. The function
     * supports single values and arrays of values and will optionally parse the values
     * using the {@link FormatService} if a parser is passed. Dates will be parsed according
     * to the current locale.
     *
     * @param parser An optional parser name.
     */
    dateValidator(parser) {
        return (control) => {
            if (isEmptyInputValue(control.value)) {
                return null; // don't validate empty values to allow optional controls
            }
            let values = [];
            values = processInputValue(control.value);
            for (const value of values) {
                if (!isEmptyInputValue(value)) {
                    if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].isString(value)) {
                        let value1 = value;
                        if (parser) {
                            value1 = this.formatService.parseValue(value1, parser);
                        }
                        if (!this.intlService.parseDate(value1)) {
                            return { date: { value } };
                        }
                    }
                    else if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].isDate(value)) { // ngx-bootstrap returns date values (new Date(NaN) if invalid)
                        if (isNaN(value.getTime())) {
                            return { date: { value } };
                        }
                    }
                }
            }
            return null;
        };
    }
    /**
     * Get a validator function that validates that, for pair of values, the second value is
     * greater than the first. If one or both values are empty then the validation passes.
     * The validator function supports single values and arrays of values and will optionally
     * parse the values using the {@link FormatService} if a parser is passed. Dates will be
     * parsed according to the current locale.
     *
     * @param type A value whose type indicates how the range test will be made.
     * @param parser An optional parser name.
     */
    rangeValidator(type, parser) {
        return (control) => {
            if (isEmptyInputValue(control.value) || !_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].isArray(control.value) || control.value.length !== 2) {
                return null; // don't validate empty values to allow optional controls
            }
            let value1 = control.value[0];
            let value2 = control.value[1];
            if (isEmptyInputValue(value1) || isEmptyInputValue(value2)) {
                return null;
            }
            if (parser) {
                value1 = this.formatService.parseValue(value1, parser);
                value2 = this.formatService.parseValue(value2, parser);
            }
            let cmp = 0;
            if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].isString(type)) {
                cmp = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].compare(value2, value1);
            }
            else if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].isDate(type)) {
                let date1;
                let date2;
                if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].isString(value1)) {
                    date1 = this.intlService.parseDate(value1);
                }
                else if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].isDate(value1)) { // ngx-bootstrap returns date values (new Date(NaN) if invalid)
                    date1 = value1;
                }
                if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].isString(value2)) {
                    date2 = this.intlService.parseDate(value2);
                }
                else if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].isDate(value2)) { // ngx-bootstrap returns date values (new Date(NaN) if invalid)
                    date2 = value2;
                }
                if (date1 && date2) {
                    cmp = date2.getTime() - date1.getTime();
                }
            }
            else if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].isNumber(type)) {
                if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].testFloat(value1) && _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].testFloat(value2)) {
                    const num1 = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].toNumber(value1);
                    const num2 = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].toNumber(value2);
                    if (num1 !== null && num2 !== null) {
                        cmp = num2 - num1;
                    }
                }
            }
            return cmp < 0 ? { range: { value1, value2 } } : null;
        };
    }
}
ValidationService.ɵfac = function ValidationService_Factory(t) { return new (t || ValidationService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__["FormatService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_intl__WEBPACK_IMPORTED_MODULE_4__["IntlService"])); };
ValidationService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: ValidationService, factory: ValidationService.ɵfac, providedIn: "root" });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ValidationService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: "root"
            }]
    }], function () { return [{ type: _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__["FormatService"] }, { type: _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_4__["IntlService"] }]; }, null); })();


/***/ }),

/***/ "HNPw":
/*!******************************************************************************!*\
  !*** ../components/selection/bootstrap/results-selector/results-selector.ts ***!
  \******************************************************************************/
/*! exports provided: BsResultsSelector */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsResultsSelector", function() { return BsResultsSelector; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _selection_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../selection.service */ "Sg0G");
/* harmony import */ var _action_bootstrap_action_buttons_action_buttons__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../action/bootstrap/action-buttons/action-buttons */ "9+ai");




const _c0 = function (a0, a1, a2, a3) { return { items: a0, size: a1, style: a2, rightAligned: a3 }; };
class BsResultsSelector {
    constructor(selectionService) {
        this.selectionService = selectionService;
    }
    get actions() {
        return this.rightAligned ? this.selectionService.selectionActions.slice().reverse() : this.selectionService.selectionActions;
    }
}
BsResultsSelector.ɵfac = function BsResultsSelector_Factory(t) { return new (t || BsResultsSelector)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_selection_service__WEBPACK_IMPORTED_MODULE_1__["SelectionService"])); };
BsResultsSelector.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsResultsSelector, selectors: [["sq-results-selector"]], inputs: { size: "size", style: "style", rightAligned: "rightAligned" }, decls: 1, vars: 6, consts: [[1, "btn-group", 3, "sq-action-buttons"]], template: function BsResultsSelector_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "div", 0);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("sq-action-buttons", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction4"](1, _c0, ctx.actions, ctx.size, ctx.style, ctx.rightAligned));
    } }, directives: [_action_bootstrap_action_buttons_action_buttons__WEBPACK_IMPORTED_MODULE_2__["BsActionButtons"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsResultsSelector, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-results-selector",
                templateUrl: "./results-selector.html"
            }]
    }], function () { return [{ type: _selection_service__WEBPACK_IMPORTED_MODULE_1__["SelectionService"] }]; }, { size: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], style: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], rightAligned: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "HdVz":
/*!****************************************************!*\
  !*** ../components/action/bootstrap/public-api.ts ***!
  \****************************************************/
/*! exports provided: BsActionButtons, BsActionItem, BsActionItemContent, BsActionMenu, BsDropdownMenu, BsDropdownDirective, gClassName, gSelector, gAttachmentMap, BsDropdownService, BsActionModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _action_buttons_action_buttons__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./action-buttons/action-buttons */ "9+ai");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsActionButtons", function() { return _action_buttons_action_buttons__WEBPACK_IMPORTED_MODULE_0__["BsActionButtons"]; });

/* harmony import */ var _action_item_action_item__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./action-item/action-item */ "TE8J");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsActionItem", function() { return _action_item_action_item__WEBPACK_IMPORTED_MODULE_1__["BsActionItem"]; });

/* harmony import */ var _action_item_content_action_item_content__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./action-item-content/action-item-content */ "U5E6");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsActionItemContent", function() { return _action_item_content_action_item_content__WEBPACK_IMPORTED_MODULE_2__["BsActionItemContent"]; });

/* harmony import */ var _action_menu_action_menu__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./action-menu/action-menu */ "idD+");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsActionMenu", function() { return _action_menu_action_menu__WEBPACK_IMPORTED_MODULE_3__["BsActionMenu"]; });

/* harmony import */ var _dropdown_menu_dropdown_menu__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./dropdown-menu/dropdown-menu */ "g+0j");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsDropdownMenu", function() { return _dropdown_menu_dropdown_menu__WEBPACK_IMPORTED_MODULE_4__["BsDropdownMenu"]; });

/* harmony import */ var _dropdown_directive__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./dropdown.directive */ "yfgI");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsDropdownDirective", function() { return _dropdown_directive__WEBPACK_IMPORTED_MODULE_5__["BsDropdownDirective"]; });

/* harmony import */ var _dropdown_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./dropdown.service */ "Krhb");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "gClassName", function() { return _dropdown_service__WEBPACK_IMPORTED_MODULE_6__["gClassName"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "gSelector", function() { return _dropdown_service__WEBPACK_IMPORTED_MODULE_6__["gSelector"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "gAttachmentMap", function() { return _dropdown_service__WEBPACK_IMPORTED_MODULE_6__["gAttachmentMap"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsDropdownService", function() { return _dropdown_service__WEBPACK_IMPORTED_MODULE_6__["BsDropdownService"]; });

/* harmony import */ var _action_module__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./action.module */ "qf24");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsActionModule", function() { return _action_module__WEBPACK_IMPORTED_MODULE_7__["BsActionModule"]; });











/***/ }),

/***/ "HsAv":
/*!*******************************************!*\
  !*** ../components/result/messages/en.ts ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    results: {
        missingTerms: "Missing terms:",
        resultsCount: "{count, plural, =0 {no results} one {# result} other {# results}}",
    },
    userRatings: {
        average: "Average: {average}"
    },
});


/***/ }),

/***/ "I04D":
/*!*********************************************************!*\
  !*** ../core/web-services/suggest-field.web.service.ts ***!
  \*********************************************************/
/*! exports provided: SuggestFieldWebService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SuggestFieldWebService", function() { return SuggestFieldWebService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "+kfY");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs/operators */ "0Wlh");
/* harmony import */ var _http_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./http.service */ "3Hvy");
/* harmony import */ var _start_config_web_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./start-config.web.service */ "R3Oh");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _http_client__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./http-client */ "j7UU");








/**
 * A service for calling the suggestfield web service
 */
class SuggestFieldWebService extends _http_service__WEBPACK_IMPORTED_MODULE_3__["HttpService"] {
    constructor(startConfig, httpClient) {
        super(startConfig);
        this.httpClient = httpClient;
    }
    /**
     * Gets suggestions for the passed text for a set of fields and in the context of the passed query
     *
     * @param text The text to match
     * @param fields The fields for which to return suggestions
     * @param query The query context
     */
    get(text, fields, query) {
        if (!fields) {
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["of"])([]);
        }
        else {
            if (!_sinequa_core_base__WEBPACK_IMPORTED_MODULE_5__["Utils"].isArray(fields)) {
                fields = [fields];
            }
            const observable = this.httpClient.post(this.makeUrl("suggestfield"), {
                app: this.appName,
                text: text,
                fields: fields,
                query: query
            }).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["map"])((value) => {
                value.suggests.forEach(value => value.display = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_5__["Utils"].toSqlValue(value.display)); // because dates get automatically converted by the interceptor
                return value.suggests;
            }));
            return observable;
        }
    }
}
SuggestFieldWebService.ɵfac = function SuggestFieldWebService_Factory(t) { return new (t || SuggestFieldWebService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_start_config_web_service__WEBPACK_IMPORTED_MODULE_4__["START_CONFIG"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_http_client__WEBPACK_IMPORTED_MODULE_6__["SqHttpClient"])); };
SuggestFieldWebService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: SuggestFieldWebService, factory: SuggestFieldWebService.ɵfac, providedIn: "root" });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](SuggestFieldWebService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: "root"
            }]
    }], function () { return [{ type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [_start_config_web_service__WEBPACK_IMPORTED_MODULE_4__["START_CONFIG"]]
            }] }, { type: _http_client__WEBPACK_IMPORTED_MODULE_6__["SqHttpClient"] }]; }, null); })();


/***/ }),

/***/ "I6Bp":
/*!***********************************************************!*\
  !*** ../analytics/heatmap/bootstrap/heatmap.component.ts ***!
  \***********************************************************/
/*! exports provided: BsHeatmapComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsHeatmapComponent", function() { return BsHeatmapComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var d3__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! d3 */ "Bou+");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _tooltip_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./tooltip.component */ "Fpyd");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/intl/message.pipe */ "X1Kh");






const _c0 = ["xAxis"];
const _c1 = ["yAxis"];
function BsHeatmapComponent__svg_g_1__svg_g_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnamespaceSVG"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "g");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "rect", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "line", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "text", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](5, "number");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const item_r6 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵattribute"]("x", item_r6.x)("width", item_r6.width)("fill", item_r6.color);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵattribute"]("x1", item_r6.x)("x2", item_r6.x)("y2", 27);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵattribute"]("x", item_r6.x + 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](5, 8, item_r6.start, "1.0-0"));
} }
function BsHeatmapComponent__svg_g_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnamespaceSVG"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "g", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsHeatmapComponent__svg_g_1__svg_g_1_Template, 6, 11, "g", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵattribute"]("transform", "translate(" + ctx_r0.margin.left + ", 10)");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx_r0.getLegend());
} }
const _c2 = function (a0, a1) { return { clickable: a0, selected: a1 }; };
function BsHeatmapComponent__svg_rect_7_Template(rf, ctx) { if (rf & 1) {
    const _r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnamespaceSVG"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "rect", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("mouseover", function BsHeatmapComponent__svg_rect_7_Template__svg_rect_mouseover_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r9); const item_r7 = ctx.$implicit; const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r8.onMouseOver(item_r7, $event); })("mouseout", function BsHeatmapComponent__svg_rect_7_Template__svg_rect_mouseout_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r9); const ctx_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r10.tooltipItem = undefined; })("click", function BsHeatmapComponent__svg_rect_7_Template__svg_rect_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r9); const item_r7 = ctx.$implicit; const ctx_r11 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r11.onItemClicked(item_r7); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const item_r7 = ctx.$implicit;
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction2"](6, _c2, ctx_r3.itemsClickable, item_r7.selected));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵattribute"]("x", ctx_r3.x(item_r7.x))("y", ctx_r3.y(item_r7.y))("width", ctx_r3.x.bandwidth())("height", ctx_r3.y.bandwidth())("fill", ctx_r3.color(item_r7.count));
} }
const _c3 = function (a0) { return { count: a0 }; };
const _c4 = function (a0) { return { values: a0 }; };
function BsHeatmapComponent_sq_tooltip_11_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnamespaceSVG"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnamespaceHTML"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "sq-tooltip", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "strong");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](5, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("orientation", ctx_r4.tooltipOrientation)("left", ctx_r4.tooltipLeft)("right", ctx_r4.tooltipRight)("top", ctx_r4.tooltipTop)("theme", ctx_r4.theme);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r4.tooltipItem.display || ctx_r4.tooltipItem.value);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](5, 7, "msg#heatmap.tooltip", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](12, _c4, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](10, _c3, ctx_r4.tooltipItem.count))));
} }
const _c5 = function (a0) { return { clickable: a0 }; };
const _c6 = function (a0, a1) { return { shown: a0, total: a1 }; };
class BsHeatmapComponent {
    constructor(el) {
        this.el = el;
        // Graphical parameters
        this.height = 600;
        this.width = 600;
        this.margin = { top: 100, bottom: 20, left: 100, right: 40 };
        this.transition = 1000; // Transition time in ms (0 to avoid transitions)
        // Interaction parameters
        this.itemsClickable = true;
        this.axisClickable = true;
        // Axis/Scales parameters
        this.buckets = 9; // Color buckets
        this.colorScheme = "schemeBlues"; // Color scheme from D3
        this.maxX = 20; // Max items on X
        this.maxY = 20; // Max items on Y
        this.theme = "light";
        // Events from user interactions
        this.itemClicked = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.axisClicked = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        // Data actually displayed
        this.dataFiltered = [];
        /**
         * Truncates the axis strings to fit inside 90px width
         */
        this.wrap = (d, i, nodes) => {
            const self = d3__WEBPACK_IMPORTED_MODULE_1__["select"](nodes[i]);
            let textLength = nodes[i].getComputedTextLength();
            let text = self.text();
            const fullText = self.text();
            while (textLength > 90 && text.length > 0) {
                text = text.slice(0, -1);
                self.text(text + '...');
                textLength = nodes[i].getComputedTextLength();
            }
            self.append('svg:title').text(fullText);
        };
    }
    /**
     * ngOnChanges is used to respond to changes in the data (or chart parameter)
     */
    ngOnChanges() {
        this.data = this.data || [];
        // Pre-process data
        const xLabels = Array.from(new Set(this.data.map(value => value.x))).slice(0, this.maxX);
        const yLabels = Array.from(new Set(this.data.map(value => value.y))).slice(0, this.maxY);
        this.dataFiltered = this.data.filter(value => xLabels.includes(value.x) && yLabels.includes(value.y));
        // Create scales
        this.x = d3__WEBPACK_IMPORTED_MODULE_1__["scaleBand"]()
            .domain(xLabels)
            .range([0, this.width - this.margin.left - this.margin.right]);
        this.y = d3__WEBPACK_IMPORTED_MODULE_1__["scaleBand"]()
            .domain(yLabels)
            .range([0, this.height - this.margin.top - this.margin.bottom]);
        this.color = d3__WEBPACK_IMPORTED_MODULE_1__["scaleQuantile"]()
            .domain(this.dataFiltered.map(item => item.count))
            .range(d3__WEBPACK_IMPORTED_MODULE_1__[this.colorScheme][this.buckets]);
        // Note: ngOnChanges is always called once, before ngAfterViewInit
        if (this.viewInit) {
            this.buildChart(!!this.transition);
        }
    }
    // Note: In onAfterViewInit we can access gx and gy, obtained with @ViewChild.
    // At this point we can call buildChart()
    ngAfterViewInit() {
        this.xAxis = d3__WEBPACK_IMPORTED_MODULE_1__["select"](this.gx.nativeElement);
        this.yAxis = d3__WEBPACK_IMPORTED_MODULE_1__["select"](this.gy.nativeElement);
        this.viewInit = true;
        this.buildChart();
    }
    /**
     * buildChart() actually only builds the axes of the chart, since the
     * rest is build automatically with Angular syntax in the template.
     * We build axis programmatically (with D3 selects) to benefit from the
     * D3 abstractions and transitions.
     * @param update
     */
    buildChart(update) {
        if (update) {
            const t = d3__WEBPACK_IMPORTED_MODULE_1__["transition"]().duration(this.transition);
            this.xAxis.transition(t)
                .call(d3__WEBPACK_IMPORTED_MODULE_1__["axisTop"](this.x).tickSize(0))
                .on("end", () => this.xAxis.selectAll('text').each(this.wrap));
            this.yAxis.transition(t)
                .call(d3__WEBPACK_IMPORTED_MODULE_1__["axisLeft"](this.y).tickSize(0))
                .on("end", () => this.yAxis.selectAll('text').each(this.wrap));
        }
        else {
            this.xAxis.call(d3__WEBPACK_IMPORTED_MODULE_1__["axisTop"](this.x).tickSize(0));
            this.yAxis.call(d3__WEBPACK_IMPORTED_MODULE_1__["axisLeft"](this.y).tickSize(0));
        }
        this.xAxis.selectAll(".domain").remove(); // Remove the axis line
        this.xAxis.selectAll("text") // Tilt the text
            .attr("transform", "rotate(-35)")
            .style("text-anchor", "start")
            .each(this.wrap)
            .on("click", d => this.onAxisClicked(d, 'x'));
        this.yAxis.selectAll(".domain").remove(); // Remove the axis line
        this.yAxis.selectAll("text")
            .each(this.wrap)
            .on("click", d => this.onAxisClicked(d, 'y'));
    }
    /**
     * Called when the user hovers the mouse over a heatmap tile
     * @param item
     * @param event
     */
    onMouseOver(item, event) {
        this.tooltipItem = item;
        const x = this.x(item.x);
        const y = this.y(item.y);
        // Since we use viewBox to auto-adjust the SVG to the container size, we have to
        // convert from the SVG coordinate system to the HTML coordinate system
        const actualWidth = this.el.nativeElement.offsetWidth;
        const scale = actualWidth / this.width;
        const relativeX = x / this.width;
        // Tooltip to the right
        if (relativeX < 0.5) {
            this.tooltipOrientation = "right";
            this.tooltipLeft = scale * (this.margin.left + x + this.x.bandwidth() - 3);
        }
        // Tooltip to the left
        else {
            this.tooltipOrientation = "left";
            this.tooltipRight = actualWidth - scale * (this.margin.left + x + 3);
        }
        this.tooltipTop = scale * (this.margin.top + y + 0.5 * this.y.bandwidth()); // Align tooltip arrow
    }
    /**
     * Called when the user clicks on a heatmap tile
     * @param item
     */
    onItemClicked(item) {
        if (this.itemsClickable) {
            this.itemClicked.next(item);
        }
    }
    /**
     * Called when the user clicks on an axis item
     * @param value
     * @param axis
     */
    onAxisClicked(value, axis) {
        if (this.axisClickable) {
            this.axisClicked.next({ axis: axis, value: value });
        }
    }
    /**
     * Builds the list of legend items
     */
    getLegend() {
        const legend = [];
        const quantiles = this.color.quantiles();
        const bucketWidth = (this.width - this.margin.left - this.margin.right) / this.buckets;
        for (let i = 0; i < this.buckets; i++) {
            const color = this.color(i === 0 ? 0 : quantiles[i - 1]);
            if (i === 0 || color !== legend[legend.length - 1].color) {
                legend.push({
                    x: legend.length * bucketWidth,
                    width: bucketWidth,
                    color: color,
                    start: i === 0 ? 0 : quantiles[i - 1]
                });
            }
        }
        return legend;
    }
}
BsHeatmapComponent.ɵfac = function BsHeatmapComponent_Factory(t) { return new (t || BsHeatmapComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"])); };
BsHeatmapComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsHeatmapComponent, selectors: [["sq-heatmap"]], viewQuery: function BsHeatmapComponent_Query(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c0, true);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c1, true);
    } if (rf & 2) {
        let _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.gx = _t.first);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.gy = _t.first);
    } }, inputs: { data: "data", height: "height", width: "width", margin: "margin", transition: "transition", itemsClickable: "itemsClickable", axisClickable: "axisClickable", buckets: "buckets", colorScheme: "colorScheme", maxX: "maxX", maxY: "maxY", theme: "theme" }, outputs: { itemClicked: "itemClicked", axisClicked: "axisClicked" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 12, vars: 21, consts: [["class", "legend", 4, "ngIf"], [1, "axis", 3, "ngClass"], ["xAxis", ""], ["yAxis", ""], ["class", "tile", 3, "ngClass", "mouseover", "mouseout", "click", 4, "ngFor", "ngForOf"], [1, "bottom-legend"], ["class", "text-center", 3, "orientation", "left", "right", "top", "theme", 4, "ngIf"], [1, "legend"], [4, "ngFor", "ngForOf"], ["height", "15"], ["stroke", "lightgrey"], ["y", "27"], [1, "tile", 3, "ngClass", "mouseover", "mouseout", "click"], [1, "text-center", 3, "orientation", "left", "right", "top", "theme"]], template: function BsHeatmapComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnamespaceSVG"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "svg");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsHeatmapComponent__svg_g_1_Template, 2, 2, "g", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "g");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](3, "g", 1, 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](5, "g", 1, 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](7, BsHeatmapComponent__svg_rect_7_Template, 1, 9, "rect", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "text", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](9);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](10, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](11, BsHeatmapComponent_sq_tooltip_11_Template, 6, 14, "sq-tooltip", 6);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵattribute"]("viewBox", "0 0 " + ctx.width + " " + ctx.height);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.data.length);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵattribute"]("transform", "translate(" + ctx.margin.left + "," + ctx.margin.top + ")");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](12, _c5, ctx.axisClickable));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](14, _c5, ctx.axisClickable));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.dataFiltered);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵattribute"]("transform", "translate(" + (ctx.width - ctx.margin.right) + ", " + (ctx.height - 5) + ")");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](10, 9, "msg#heatmap.showing", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](19, _c4, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction2"](16, _c6, ctx.dataFiltered.length, ctx.data.length))), " ");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.tooltipItem);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_2__["NgIf"], _angular_common__WEBPACK_IMPORTED_MODULE_2__["NgClass"], _angular_common__WEBPACK_IMPORTED_MODULE_2__["NgForOf"], _tooltip_component__WEBPACK_IMPORTED_MODULE_3__["BsTooltipComponent"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_4__["MessagePipe"], _angular_common__WEBPACK_IMPORTED_MODULE_2__["DecimalPipe"]], styles: ["[_nghost-%COMP%] {\n  display: block;\n  position: relative;\n}\n\n.axis.clickable[_ngcontent-%COMP%]     text:hover {\n  text-decoration: underline;\n  cursor: pointer;\n}\n\n.tile[_ngcontent-%COMP%] {\n  opacity: 0.9;\n}\n\n.tile.clickable[_ngcontent-%COMP%]:hover {\n  cursor: pointer;\n  opacity: 1;\n  transition: opacity 0.2s ease-in 0s;\n}\n\n.tile.selected[_ngcontent-%COMP%] {\n  opacity: 0.5;\n}\n\n.legend[_ngcontent-%COMP%] {\n  font-size: 10px;\n  fill: darkgrey;\n}\n\n.legend[_ngcontent-%COMP%]   rect[_ngcontent-%COMP%] {\n  opacity: 0.9;\n}\n\n.bottom-legend[_ngcontent-%COMP%] {\n  fill: darkgrey;\n  font-size: 10px;\n  text-anchor: end;\n}\n\nsq-tooltip[_ngcontent-%COMP%]     .sq-tooltip {\n  pointer-events: none;\n  opacity: 0.8;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2plY3RzL2FuYWx5dGljcy9oZWF0bWFwL2Jvb3RzdHJhcC9oZWF0bWFwLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsY0FBQTtFQUNBLGtCQUFBO0FBQ0Y7O0FBRUE7RUFDRSwwQkFBQTtFQUNBLGVBQUE7QUFDRjs7QUFFQTtFQUNFLFlBQUE7QUFDRjs7QUFFQTtFQUNFLGVBQUE7RUFDQSxVQUFBO0VBQ0EsbUNBQUE7QUFDRjs7QUFFQTtFQUNFLFlBQUE7QUFDRjs7QUFFQTtFQUNFLGVBQUE7RUFDQSxjQUFBO0FBQ0Y7O0FBQ0E7RUFDRSxZQUFBO0FBRUY7O0FBQ0E7RUFDRSxjQUFBO0VBQ0EsZUFBQTtFQUNBLGdCQUFBO0FBRUY7O0FBQ0E7RUFDRSxvQkFBQTtFQUNBLFlBQUE7QUFFRiIsImZpbGUiOiJwcm9qZWN0cy9hbmFseXRpY3MvaGVhdG1hcC9ib290c3RyYXAvaGVhdG1hcC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0IHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbn1cblxuLmF4aXMuY2xpY2thYmxlIDo6bmctZGVlcCB0ZXh0OmhvdmVyIHtcbiAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cblxuLnRpbGUge1xuICBvcGFjaXR5OiAwLjk7XG59XG5cbi50aWxlLmNsaWNrYWJsZTpob3ZlciB7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgb3BhY2l0eTogMTtcbiAgdHJhbnNpdGlvbjogb3BhY2l0eSAwLjJzIGVhc2UtaW4gMHM7XG59XG5cbi50aWxlLnNlbGVjdGVkIHtcbiAgb3BhY2l0eTogMC41O1xufVxuXG4ubGVnZW5kIHtcbiAgZm9udC1zaXplOiAxMHB4O1xuICBmaWxsOiBkYXJrZ3JleTtcbn1cbi5sZWdlbmQgcmVjdCB7XG4gIG9wYWNpdHk6IDAuOTtcbn1cblxuLmJvdHRvbS1sZWdlbmQge1xuICBmaWxsOiBkYXJrZ3JleTtcbiAgZm9udC1zaXplOiAxMHB4O1xuICB0ZXh0LWFuY2hvcjogZW5kO1xufVxuXG5zcS10b29sdGlwIDo6bmctZGVlcCAuc3EtdG9vbHRpcCB7XG4gIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICBvcGFjaXR5OiAwLjg7XG59Il19 */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsHeatmapComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-heatmap",
                templateUrl: "./heatmap.component.html",
                styleUrls: ['./heatmap.component.scss']
            }]
    }], function () { return [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"] }]; }, { data: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], height: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], width: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], margin: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], transition: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], itemsClickable: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], axisClickable: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], buckets: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], colorScheme: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], maxX: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], maxY: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], theme: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], itemClicked: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }], axisClicked: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }], gx: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ["xAxis"]
        }], gy: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ["yAxis"]
        }] }); })();


/***/ }),

/***/ "IRzD":
/*!************************************************!*\
  !*** ../core/notification/module.providers.ts ***!
  \************************************************/
/*! exports provided: NOTIFICATION_MODULE_PROVIDERS */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NOTIFICATION_MODULE_PROVIDERS", function() { return NOTIFICATION_MODULE_PROVIDERS; });
const NOTIFICATION_MODULE_PROVIDERS = [];



/***/ }),

/***/ "IzYZ":
/*!******************************************************************!*\
  !*** ../components/baskets/bootstrap/edit-basket/edit-basket.ts ***!
  \******************************************************************/
/*! exports provided: BsEditBasket */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsEditBasket", function() { return BsEditBasket; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ "nIj0");
/* harmony import */ var _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/modal */ "vMGo");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _modal_bootstrap_modal_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../modal/bootstrap/modal.component */ "oSLy");
/* harmony import */ var _utils_directives_autofocus__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../utils/directives/autofocus */ "1ak2");
/* harmony import */ var _core_validation_validation_directive__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/validation/validation.directive */ "FRsM");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/intl/message.pipe */ "X1Kh");










class BsEditBasket {
    constructor(model, formBuilder) {
        this.model = model;
        this.formBuilder = formBuilder;
    }
    ngOnInit() {
        this.nameControl = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"](this.model.name, _angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required);
        this.form = this.formBuilder.group({
            basketName: this.nameControl
        });
        this.formChanges = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].subscribe(this.form.valueChanges, (value) => {
            this.model.name = this.nameControl.value;
        });
        this.buttons = [
            new _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_2__["ModalButton"]({
                result: -1 /* OK */,
                primary: true,
                validation: this.form
            }),
            new _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_2__["ModalButton"]({
                result: -2 /* Cancel */
            })
        ];
    }
    ngOnDestroy() {
        this.formChanges.unsubscribe();
    }
}
BsEditBasket.ɵfac = function BsEditBasket_Factory(t) { return new (t || BsEditBasket)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_modal__WEBPACK_IMPORTED_MODULE_2__["MODAL_MODEL"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormBuilder"])); };
BsEditBasket.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsEditBasket, selectors: [["sq-edit-basket"]], decls: 7, vars: 7, consts: [["name", "editBasket", "novalidate", "", 3, "formGroup"], [3, "title", "buttons"], [1, "form-group", "sq-form-group"], ["for", "basketName"], ["type", "text", "id", "basketName", "formControlName", "basketName", "spellcheck", "off", "sqAutofocus", "", 1, "form-control", 3, "sqValidation"]], template: function BsEditBasket_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "form", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "sq-modal", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "label", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](5, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](6, "input", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("title", "msg#editBasket.title")("buttons", ctx.buttons);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](5, 5, "msg#editBasket.name"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("sqValidation", ctx.form);
    } }, directives: [_angular_forms__WEBPACK_IMPORTED_MODULE_1__["ɵangular_packages_forms_forms_y"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["NgControlStatusGroup"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormGroupDirective"], _modal_bootstrap_modal_component__WEBPACK_IMPORTED_MODULE_4__["BsModal"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["DefaultValueAccessor"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["NgControlStatus"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControlName"], _utils_directives_autofocus__WEBPACK_IMPORTED_MODULE_5__["Autofocus"], _core_validation_validation_directive__WEBPACK_IMPORTED_MODULE_6__["ValidationDirective"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_7__["MessagePipe"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsEditBasket, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-edit-basket",
                templateUrl: "./edit-basket.html"
            }]
    }], function () { return [{ type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [_sinequa_core_modal__WEBPACK_IMPORTED_MODULE_2__["MODAL_MODEL"]]
            }] }, { type: _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormBuilder"] }]; }, null); })();


/***/ }),

/***/ "JgJf":
/*!**************************************************************!*\
  !*** ../components/facet/bootstrap/facet-tree/facet-tree.ts ***!
  \**************************************************************/
/*! exports provided: BsFacetTree */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsFacetTree", function() { return BsFacetTree; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_components_action__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/components/action */ "WsHA");
/* harmony import */ var _abstract_facet__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../abstract-facet */ "+Pqq");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/forms */ "nIj0");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs */ "+kfY");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rxjs/operators */ "0Wlh");
/* harmony import */ var _facet_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../facet.service */ "mQJ4");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _action_bootstrap_action_buttons_action_buttons__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../action/bootstrap/action-buttons/action-buttons */ "9+ai");
/* harmony import */ var _utils_directives_autofocus__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../utils/directives/autofocus */ "1ak2");
/* harmony import */ var _search_bootstrap_loading_bar_loading_bar__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../search/bootstrap/loading-bar/loading-bar */ "U/EC");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../core/intl/message.pipe */ "X1Kh");
/* harmony import */ var _utils_pipes_number_pipe__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../utils/pipes/number-pipe */ "FbeZ");
/* harmony import */ var _utils_pipes_value_pipe__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../utils/pipes/value-pipe */ "7U+I");

















const _c0 = function (a0) { return { items: a0, size: "sm" }; };
function BsFacetTree_div_0_div_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "div", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("sq-action-buttons", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](1, _c0, ctx_r3.actions));
} }
function BsFacetTree_div_0_div_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "input", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](3, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](4, "sq-loading-bar", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("formGroup", ctx_r4.myGroup);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("placeholder", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](3, 3, "msg#facet.searchPlaceholder"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("active", ctx_r4.searchActive);
} }
function BsFacetTree_div_0_div_3_span_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqNumber");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const item_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 1, item_r8.count));
} }
const _c1 = function (a0) { return { "terme": a0 }; };
function BsFacetTree_div_0_div_3_Template(rf, ctx) { if (rf & 1) {
    const _r12 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsFacetTree_div_0_div_3_Template_div_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r12); const item_r8 = ctx.$implicit; const ctx_r11 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r11.selectItem(item_r8); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "a", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsFacetTree_div_0_div_3_Template_a_click_2_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r12); const item_r8 = ctx.$implicit; const ctx_r13 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r13.filterItem(item_r8, $event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](3, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](4, "slice");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](6, "slice");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](7, BsFacetTree_div_0_div_3_span_7_Template, 3, 3, "span", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const item_r8 = ctx.$implicit;
    const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("title", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](1, 4, "msg#facet.itemUnselect"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("title", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](3, 6, "msg#facet.filterItem", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](17, _c1, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind3"](4, 9, item_r8.$path, 1, -1))));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind3"](6, 13, item_r8.$path, 1, -1));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r5.showCount && item_r8.count);
} }
function BsFacetTree_div_0_span_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "i");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](3, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](3, 1, "msg#facet.searchNoResult"));
} }
function BsFacetTree_div_0_ng_container_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainer"](0);
} }
const _c2 = function (a0) { return { "scrollable": a0 }; };
function BsFacetTree_div_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsFacetTree_div_0_div_1_Template, 2, 3, "div", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, BsFacetTree_div_0_div_2_Template, 5, 5, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, BsFacetTree_div_0_div_3_Template, 8, 19, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, BsFacetTree_div_0_span_4_Template, 4, 3, "span", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](5, BsFacetTree_div_0_ng_container_5_Template, 1, 0, "ng-container", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](7, _c2, ctx_r0.forceMaxHeight));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r0.displayActions && ctx_r0.actions);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r0.searchItems.selected);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx_r0.hiddenSelected);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r0.noResults);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngTemplateOutlet", _r1)("ngTemplateOutletContext", ctx_r0.data);
} }
function BsFacetTree_ng_template_1_ng_container_0_a_4_span_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "span", 31);
} }
function BsFacetTree_ng_template_1_ng_container_0_a_4_span_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "span", 32);
} }
function BsFacetTree_ng_template_1_ng_container_0_a_4_span_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "span", 33);
} }
function BsFacetTree_ng_template_1_ng_container_0_a_4_Template(rf, ctx) { if (rf & 1) {
    const _r27 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "a", 27);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsFacetTree_ng_template_1_ng_container_0_a_4_Template_a_click_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r27); const item_r16 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit; const ctx_r25 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r25.open(item_r16, $event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, BsFacetTree_ng_template_1_ng_container_0_a_4_span_2_Template, 1, 0, "span", 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, BsFacetTree_ng_template_1_ng_container_0_a_4_span_3_Template, 1, 0, "span", 29);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, BsFacetTree_ng_template_1_ng_container_0_a_4_span_4_Template, 1, 0, "span", 30);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const item_r16 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("title", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](1, 4, item_r16["$opened"] ? "msg#facet.closeItem" : "msg#facet.openItem"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", item_r16["$opening"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !item_r16["$opening"] && item_r16["$opened"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !item_r16["$opening"] && !item_r16["$opened"]);
} }
function BsFacetTree_ng_template_1_ng_container_0_span_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "span", 34);
} }
function BsFacetTree_ng_template_1_ng_container_0_i_10_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "i", 35);
} }
function BsFacetTree_ng_template_1_ng_container_0_span_11_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqNumber");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const item_r16 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 1, item_r16.count));
} }
function BsFacetTree_ng_template_1_ng_container_0_ng_container_12_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainer"](0);
} }
function BsFacetTree_ng_template_1_ng_container_0_ng_container_12_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsFacetTree_ng_template_1_ng_container_0_ng_container_12_ng_container_1_Template, 1, 0, "ng-container", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const item_r16 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngTemplateOutlet", _r1)("ngTemplateOutletContext", item_r16);
} }
const _c3 = function (a0, a1, a2, a3) { return { "list-group-item-primary": a0, "list-group-item-success": a1, "list-group-item-action": a2, "filtered": a3 }; };
const _c4 = function (a0) { return { "margin-left.rem": a0 }; };
function BsFacetTree_ng_template_1_ng_container_0_Template(rf, ctx) { if (rf & 1) {
    const _r33 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "a", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsFacetTree_ng_template_1_ng_container_0_Template_a_click_1_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r33); const item_r16 = ctx.$implicit; const ctx_r32 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r32.selectItem(item_r16); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "span", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, BsFacetTree_ng_template_1_ng_container_0_a_4_Template, 5, 6, "a", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](5, BsFacetTree_ng_template_1_ng_container_0_span_5_Template, 1, 0, "span", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "a", 24);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsFacetTree_ng_template_1_ng_container_0_Template_a_click_6_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r33); const item_r16 = ctx.$implicit; const ctx_r34 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r34.filterItem(item_r16, $event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](7, "sqValue");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](9, "sqValue");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](10, BsFacetTree_ng_template_1_ng_container_0_i_10_Template, 1, 0, "i", 25);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](11, BsFacetTree_ng_template_1_ng_container_0_span_11_Template, 3, 3, "span", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](12, BsFacetTree_ng_template_1_ng_container_0_ng_container_12_Template, 2, 2, "ng-container", 26);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const item_r16 = ctx.$implicit;
    const ctx_r15 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction4"](18, _c3, ctx_r15.isSelected(item_r16), ctx_r15.isFiltered(item_r16), !ctx_r15.isFiltered(item_r16), ctx_r15.isFiltered(item_r16)))("title", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 10, ctx_r15.isFiltered(item_r16) ? "msg#facet.selectedValue" : "msg#facet.itemSelect"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngStyle", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](23, _c4, item_r16["$level"] - 1));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", item_r16["hasChildren"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !item_r16["hasChildren"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("title", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](7, 12, item_r16, item_r16.$column));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](9, 15, item_r16, item_r16.$column), "");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r15.isFiltered(item_r16));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r15.showCount && item_r16.count);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", item_r16["$opened"]);
} }
function BsFacetTree_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, BsFacetTree_ng_template_1_ng_container_0_Template, 13, 25, "ng-container", 19);
} if (rf & 2) {
    const items_r14 = ctx.items;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", items_r14);
} }
class BsFacetTree extends _abstract_facet__WEBPACK_IMPORTED_MODULE_3__["AbstractFacet"] {
    constructor(facetService, changeDetectorRef) {
        super();
        this.facetService = facetService;
        this.changeDetectorRef = changeDetectorRef;
        this.showCount = true; // Show the number of occurrences
        this.allowExclude = true; // Allow to exclude selected items
        this.allowOr = true; // Allow to search various items in OR mode
        this.searchable = true; // Allow to search for items in the facet
        this.expandedLevel = 2;
        this.forceMaxHeight = true; // Allow to display a scrollbar automatically on long list items
        this.displayActions = false;
        this.subscriptions = [];
        // Sets to keep track of selected/excluded/filtered items
        this.filtered = new Set();
        this.selected = new Map();
        this.hiddenSelected = [];
        this.suggestDelay = 200;
        this.searchActive = false;
        this.noResults = false;
        // For each new node, set up properties necessary for display
        // This callback could also be used to filter or sorts nodes, etc.
        this.initNodes = (nodes, level, node) => {
            if (node.$filtered) {
                this.filtered.add(node);
            }
            if (node.hasChildren && !node.$opened && node.items && node.items.length >= 0 && level <= this.expandedLevel) {
                node.$opened = true;
            }
        };
        /**
         * Called on NgModel change (searchQuery)
         * Uses the suggestfield API to retrieve suggestions from the server
         * The suggestions "override" the data from the distribution (until search results are cleared)
         */
        this.suggest$ = (text$) => text$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_6__["debounceTime"])(this.suggestDelay), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_6__["distinctUntilChanged"])(), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_6__["switchMap"])(term => {
            var _a;
            if (term.trim() === "") {
                this.noResults = false;
                return Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["of"])([]);
            }
            this.changeDetectorRef.markForCheck();
            this.searchActive = true;
            return this.facetService.suggest(term, ((_a = this.data) === null || _a === void 0 ? void 0 : _a.column) || '').pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_6__["catchError"])(err => {
                console.log(err);
                this.noResults = false;
                return Object(rxjs__WEBPACK_IMPORTED_MODULE_5__["of"])([]);
            }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_6__["map"])(suggests => {
                const items = this.facetService.suggestionsToTreeAggregationNodes(suggests, term, this.data);
                this.noResults = items.length === 0 && term.trim() !== "";
                return items;
            }));
        }));
        this.myGroup = new _angular_forms__WEBPACK_IMPORTED_MODULE_4__["FormGroup"]({
            searchQuery: new _angular_forms__WEBPACK_IMPORTED_MODULE_4__["FormControl"]()
        });
        this.searchQuery = this.myGroup.get("searchQuery");
        this.subscriptions["suggest"] = this.suggest$(this.searchQuery.valueChanges)
            .subscribe(values => {
            if (this.data) {
                let items = this.searchQuery.value ? values : this.originalItems;
                this.data = {
                    column: this.data.column,
                    name: this.data.name,
                    isTree: true,
                    items
                };
                // Refresh hiddenSelected list when the list of items is updated
                this.refreshHiddenSelected();
                this.searchActive = false;
                this.changeDetectorRef.markForCheck();
            }
        });
        // Keep documents with ANY of the selected items
        this.filterItemsOr = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_2__["Action"]({
            icon: "fas fa-filter",
            title: "msg#facet.filterItems",
            action: () => {
                if (this.data) {
                    this.facetService.addFilterSearch(this.getName(), this.data, this.getSelectedItems());
                }
            }
        });
        // Exclude document with selected items
        this.excludeItems = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_2__["Action"]({
            icon: "fas fa-times",
            title: "msg#facet.excludeItems",
            action: () => {
                if (this.data) {
                    this.facetService.addFilterSearch(this.getName(), this.data, this.getSelectedItems(), { not: true });
                }
            }
        });
        // Clear the current filters
        this.clearFilters = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_2__["Action"]({
            icon: "far fa-minus-square",
            title: "msg#facet.clearSelects",
            action: () => {
                this.facetService.clearFiltersSearch(this.getName(), true);
            }
        });
        // Search for a value in this list
        this.searchItems = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_2__["Action"]({
            icon: "fas fa-search",
            title: "msg#facet.searchItems",
            action: (item, event) => {
                item.selected = !item.selected;
                if (!item.selected) {
                    this.clearSearch();
                }
                event.stopPropagation();
                this.changeDetectorRef.markForCheck();
            }
        });
    }
    /**
     * Name of the facet, used to create and retrieve selections
     * through the facet service.
     */
    getName() {
        return this.name || this.aggregation;
    }
    /**
     * OnChanges listener awaits new results from the search service
     * This completely resets the display
     * @param changes
     */
    ngOnChanges(changes) {
        var _a;
        if (this.showCount === undefined)
            this.showCount = true;
        if (this.searchable === undefined)
            this.searchable = true;
        if (this.allowExclude === undefined)
            this.allowExclude = true;
        if (this.allowOr === undefined)
            this.allowOr = true;
        if (!!changes["results"]) { // New data from the search service
            this.filtered.clear();
            this.selected.clear();
            this.hiddenSelected.length = 0;
            this.data = this.facetService.getAggregation(this.aggregation, this.results, {
                facetName: this.getName(),
                levelCallback: this.initNodes
            });
            this.originalItems = (_a = this.data) === null || _a === void 0 ? void 0 : _a.items;
            this.searchItems.selected = false;
            this.clearSearch();
        }
    }
    /**
     * Returns all the actions that are relevant in the current context
     */
    get actions() {
        const actions = [];
        if (this.selected.size > 0) {
            if (this.allowOr) {
                actions.push(this.filterItemsOr);
            }
            if (this.allowExclude) {
                actions.push(this.excludeItems);
            }
        }
        if (this.hasFiltered()) {
            actions.push(this.clearFilters);
        }
        if (this.searchable) {
            actions.push(this.searchItems);
        }
        return actions;
    }
    // Filtered items
    /**
     * Returns true if the given AggregationItem is filtered
     * @param item
     */
    isFiltered(item) {
        return this.filtered.has(item);
    }
    /**
     * Returns true if there is an active selection (or exclusion) from this facet
     */
    hasFiltered() {
        return this.facetService.hasFiltered(this.getName());
    }
    /**
     * Called when clicking on a facet item text
     * @param item
     * @param event
     */
    filterItem(item, event) {
        if (this.data) {
            if (!this.isFiltered(item)) {
                this.facetService.addFilterSearch(this.getName(), this.data, item);
            }
            else {
                this.facetService.removeFilterSearch(this.getName(), this.data, item);
            }
        }
        event.preventDefault();
        event.stopPropagation();
        return false; // Stop the propagation of the event (link inside link)
    }
    // Selected items
    /**
     * Returns true if the given AggregationItem is selected
     * @param item
     */
    isSelected(item) {
        return this.selected.has(item.$path);
    }
    /**
     * Returns all the selected items
     */
    getSelectedItems() {
        return Array.from(this.selected.values());
    }
    /**
     * Called when selecting/unselecting an item in the facet
     * @param item
     */
    selectItem(item) {
        if (!this.isFiltered(item)) {
            if (this.selected.has(item.$path)) {
                this.selected.delete(item.$path);
            }
            else {
                this.selected.set(item.$path, item);
            }
            this.refreshHiddenSelected();
        }
        return false;
    }
    refreshHiddenSelected() {
        this.hiddenSelected = this.getSelectedItems()
            .filter(item => { var _a; return !this.find((_a = this.data) === null || _a === void 0 ? void 0 : _a.items, item); });
    }
    find(items, item) {
        if (items) {
            for (let i of items) {
                if (i.$path === item.$path || (i.$opened && this.find(i.items, item))) {
                    return true;
                }
            }
        }
        return false;
    }
    /**
     * Expand/Collapse a Tree node (the data may need to downloaded from the server)
     * @param item
     */
    open(item, event) {
        if (item.hasChildren) {
            item.$opened = !item.$opened;
            if (!item.items || item.items.length === 0) {
                item['$opening'] = true;
                if (this.data) {
                    _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].subscribe(this.facetService.open(this.getName(), this.data, item, this.initNodes), (results) => {
                        item['$opening'] = false;
                        this.refreshHiddenSelected();
                        this.changeDetectorRef.markForCheck();
                    });
                }
            }
            this.refreshHiddenSelected();
        }
        event.preventDefault();
        event.stopPropagation();
        return false; // Prevent default action
    }
    /* AbstractFacet abstract methods */
    isHidden() {
        return !this.data;
    }
    // Search    
    clearSearch() {
        this.searchQuery.setValue(""); // Remove suggestions if some remain
        this.noResults = false;
    }
    ngOnDestroy() {
        this.subscriptions.forEach(subscription => subscription.unsubscribe());
    }
}
BsFacetTree.ɵfac = function BsFacetTree_Factory(t) { return new (t || BsFacetTree)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_facet_service__WEBPACK_IMPORTED_MODULE_7__["FacetService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"])); };
BsFacetTree.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsFacetTree, selectors: [["sq-facet-tree"]], inputs: { name: "name", results: "results", aggregation: "aggregation", showCount: "showCount", allowExclude: "allowExclude", allowOr: "allowOr", searchable: "searchable", expandedLevel: "expandedLevel", forceMaxHeight: "forceMaxHeight", displayActions: "displayActions", initNodes: "initNodes" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"], _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 3, vars: 1, consts: [["class", "list-group list-group-flush", 3, "ngClass", 4, "ngIf"], ["itemsTpl", ""], [1, "list-group", "list-group-flush", 3, "ngClass"], ["class", "d-flex pb-2 pr-2", 4, "ngIf"], ["class", "position-relative", 3, "formGroup", 4, "ngIf"], ["class", "d-flex flex-row align-items-center list-group-item list-group-item-primary border-0 px-3 py-1 facet-row cursor-pointer", 3, "title", "click", 4, "ngFor", "ngForOf"], ["class", "d-block text-center text-muted small py-1", 4, "ngIf"], [4, "ngTemplateOutlet", "ngTemplateOutletContext"], [1, "d-flex", "pb-2", "pr-2"], [1, "btn-group", "ml-auto", 3, "sq-action-buttons"], [1, "position-relative", 3, "formGroup"], [1, "p-1"], ["sqAutofocus", "", "formControlName", "searchQuery", 1, "form-control", 3, "placeholder"], [3, "active"], [1, "d-flex", "flex-row", "align-items-center", "list-group-item", "list-group-item-primary", "border-0", "px-3", "py-1", "facet-row", "cursor-pointer", 3, "title", "click"], ["href", "#", 1, "text-truncate", "mr-auto", 3, "title", "click"], ["class", "ml-2 text-muted small", 4, "ngIf"], [1, "ml-2", "text-muted", "small"], [1, "d-block", "text-center", "text-muted", "small", "py-1"], [4, "ngFor", "ngForOf"], ["href", "#", 1, "d-flex", "flex-row", "align-items-center", "list-group-item", "border-0", "pl-1", "pr-3", "py-1", 3, "ngClass", "title", "click"], [1, "mr-auto", "text-truncate", 3, "ngStyle"], ["class", "item-opener", "href", "#", 3, "title", "click", 4, "ngIf"], ["class", "fas fa-fw", 4, "ngIf"], ["href", "#", "role", "button", 1, "text-truncate", 3, "title", "click"], ["class", "ml-2 far fa-check-square", 4, "ngIf"], [4, "ngIf"], ["href", "#", 1, "item-opener", 3, "title", "click"], ["class", "fas fa-sync fa-fw fa-spin", 4, "ngIf"], ["class", "fas fa-caret-down fa-fw", 4, "ngIf"], ["class", "fas fa-caret-right fa-fw", 4, "ngIf"], [1, "fas", "fa-sync", "fa-fw", "fa-spin"], [1, "fas", "fa-caret-down", "fa-fw"], [1, "fas", "fa-caret-right", "fa-fw"], [1, "fas", "fa-fw"], [1, "ml-2", "far", "fa-check-square"]], template: function BsFacetTree_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, BsFacetTree_div_0_Template, 6, 9, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsFacetTree_ng_template_1_Template, 1, 1, "ng-template", null, 1, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplateRefExtractor"]);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.isHidden());
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_8__["NgIf"], _angular_common__WEBPACK_IMPORTED_MODULE_8__["NgClass"], _angular_common__WEBPACK_IMPORTED_MODULE_8__["NgForOf"], _angular_common__WEBPACK_IMPORTED_MODULE_8__["NgTemplateOutlet"], _action_bootstrap_action_buttons_action_buttons__WEBPACK_IMPORTED_MODULE_9__["BsActionButtons"], _angular_forms__WEBPACK_IMPORTED_MODULE_4__["NgControlStatusGroup"], _angular_forms__WEBPACK_IMPORTED_MODULE_4__["FormGroupDirective"], _angular_forms__WEBPACK_IMPORTED_MODULE_4__["DefaultValueAccessor"], _utils_directives_autofocus__WEBPACK_IMPORTED_MODULE_10__["Autofocus"], _angular_forms__WEBPACK_IMPORTED_MODULE_4__["NgControlStatus"], _angular_forms__WEBPACK_IMPORTED_MODULE_4__["FormControlName"], _search_bootstrap_loading_bar_loading_bar__WEBPACK_IMPORTED_MODULE_11__["BsLoadingBar"], _angular_common__WEBPACK_IMPORTED_MODULE_8__["NgStyle"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_12__["MessagePipe"], _angular_common__WEBPACK_IMPORTED_MODULE_8__["SlicePipe"], _utils_pipes_number_pipe__WEBPACK_IMPORTED_MODULE_13__["NumberPipe"], _utils_pipes_value_pipe__WEBPACK_IMPORTED_MODULE_14__["ValuePipe"]], styles: ["[_ngcontent-%COMP%]::-webkit-scrollbar {\n  width: 10px;\n}\n\n[_ngcontent-%COMP%]::-webkit-scrollbar-thumb {\n  background-color: #cccccc;\n}\n\n[_ngcontent-%COMP%]::-webkit-scrollbar-track {\n  background-color: #f3f3f3;\n}\n\n.cursor-pointer[_ngcontent-%COMP%] {\n  cursor: pointer;\n}\n\n.scrollable[_ngcontent-%COMP%] {\n  max-height: 85vh;\n  overflow-y: auto;\n}\n\n.item-opener[_ngcontent-%COMP%] {\n  text-decoration: none !important;\n}\n\na.filtered[_ngcontent-%COMP%], a.filtered[_ngcontent-%COMP%]:hover {\n  text-decoration: none;\n  color: inherit;\n  cursor: inherit;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2plY3RzL2NvbXBvbmVudHMvZmFjZXQvYm9vdHN0cmFwL2ZhY2V0LXRyZWUvZmFjZXQtdHJlZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsV0FBQTtBQUNGOztBQUVBO0VBQ0UseUJBQUE7QUFDRjs7QUFFQTtFQUNFLHlCQUFBO0FBQ0Y7O0FBRUE7RUFDRSxlQUFBO0FBQ0Y7O0FBRUE7RUFDRSxnQkFBQTtFQUNBLGdCQUFBO0FBQ0Y7O0FBRUE7RUFDRSxnQ0FBQTtBQUNGOztBQUVBO0VBQ0UscUJBQUE7RUFDQSxjQUFBO0VBQ0EsZUFBQTtBQUNGIiwiZmlsZSI6InByb2plY3RzL2NvbXBvbmVudHMvZmFjZXQvYm9vdHN0cmFwL2ZhY2V0LXRyZWUvZmFjZXQtdHJlZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOjotd2Via2l0LXNjcm9sbGJhciB7XG4gIHdpZHRoOiAxMHB4O1xufVxuXG46Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2NjY2NjYztcbn1cblxuOjotd2Via2l0LXNjcm9sbGJhci10cmFjayB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNmM2YzZjM7XG59XG5cbi5jdXJzb3ItcG9pbnRlciB7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cblxuLnNjcm9sbGFibGUge1xuICBtYXgtaGVpZ2h0OiA4NXZoO1xuICBvdmVyZmxvdy15OiBhdXRvO1xufVxuXG4uaXRlbS1vcGVuZXIge1xuICB0ZXh0LWRlY29yYXRpb246IG5vbmUgIWltcG9ydGFudDtcbn1cblxuYS5maWx0ZXJlZCwgYS5maWx0ZXJlZDpob3ZlciB7XG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgY29sb3I6IGluaGVyaXQ7XG4gIGN1cnNvcjogaW5oZXJpdDtcbn0iXX0= */"], changeDetection: 0 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsFacetTree, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-facet-tree",
                templateUrl: "./facet-tree.html",
                styleUrls: ["./facet-tree.scss"],
                changeDetection: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectionStrategy"].OnPush
            }]
    }], function () { return [{ type: _facet_service__WEBPACK_IMPORTED_MODULE_7__["FacetService"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] }]; }, { name: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], results: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], aggregation: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], showCount: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], allowExclude: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], allowOr: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], searchable: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], expandedLevel: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], forceMaxHeight: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], displayActions: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], initNodes: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "Jhjs":
/*!*********************************************!*\
  !*** ../components/feedback/messages/de.ts ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    "feedback": {
        "text": "",
        "title": "Sende Rückmeldung an den Sinequa-Admin",
        "content": {
            "text": "Inhalt",
            "title": "Vorschlag zum Hinzufügen neuer Inhalte oder zur Verbesserung vorhandener Inhalte"
        },
        "ui": {
            "text": "Benutzeroberfläche",
            "title": "Schlage Verbesserungen für die Benutzeroberfläche vor"
        },
        "lang": {
            "text": "Sprache",
            "title": "Schlage Verbesserungen für die Sprachverarbeitung vor wie neue Worte oder Synonyme, die zu den Wörterbüchern hinzugefügt werden sollen (dies hat direkte Auswirkungen auf die Relevanzberechnung der Suchmaschine)"
        },
        "other": {
            "text": "Andere",
            "title": "Reichen Sie einen Vorschlag für eine zusätzliche Funktion oder andere Verbesserungvorschläge ein"
        },
        "thankyou": "Vielen Dank für Ihre Rückmeldung!",
        "quality": {
            "label": "Qualität des Dokuments:"
        },
        "relevance": {
            "label": "Relevanz des Dokuments:"
        },
        "labels": {
            "public": {
                "label": "Etiketten:"
            },
            "private": {
                "label": "Private Etiketten:"
            }
        }
    }
});


/***/ }),

/***/ "KH29":
/*!***************************************************************************!*\
  !*** ../components/utils/voice-recognition/voice-recongnition.service.ts ***!
  \***************************************************************************/
/*! exports provided: VoiceRecognitionService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "VoiceRecognitionService", function() { return VoiceRecognitionService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "+kfY");
/* harmony import */ var _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/intl */ "EfqX");
/* harmony import */ var _sinequa_core_notification__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/notification */ "mkLw");





class VoiceRecognitionService {
    constructor(intlService, notify) {
        this.intlService = intlService;
        this.notify = notify;
        this.recognizing = false;
        this.ignore_onend = false;
        this.text = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
        this.started = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
        this.available = false;
        this.onResult = e => {
            const transcript = Array.from(e.results)
                .map((result) => result[0])
                .map(result => result.transcript)
                .join("");
            this.text.next(transcript);
        };
        this.onStart = event => {
            this.recognizing = true;
            this.start_timestamp = event.timeStamp;
        };
        this.onEnd = () => {
            if (this.ignore_onend) {
                return;
            }
            this.recognizing = false;
            this.started.next(false);
        };
        this.onError = event => {
            let message = event.error;
            switch (event.error) {
                case "no-speech": {
                    message = "No speech was detected.";
                    break;
                }
                case "audio-capture": {
                    message = "Audio capture failed.";
                    break;
                }
                case "not-allowed": {
                    if (event.timeStamp - this.start_timestamp < 100) {
                        message = "info_blocked";
                    }
                    else {
                        message = "The user agent is not allowing any speech input to occur for reasons of security, privacy or user preference.";
                    }
                    break;
                }
                case "aborted":
                    {
                        message = "Speech input was aborted somehow, maybe by some user-agent-specific behavior such as UI that lets the user cancel speech input.";
                        break;
                    }
                    ;
                case "network": {
                    message = "Some network communication that was required to complete the recognition failed.";
                    break;
                }
                case "service-not-allowed": {
                    message = "The user agent is not allowing the web application requested speech service, but would allow some speech service, to be used either because the user agent doesn’t support the selected one or because of reasons of security, privacy or user preference.";
                    break;
                }
                case "bad-grammar": {
                    message = "There was an error in the speech recognition grammar or semantic tags, or the grammar format or semantic tag format is unsupported.";
                    break;
                }
                case "language-not-supported": {
                    message = `The language [${this.recognition.lang}] was not supported.`;
                    this.recognition.lang = "en-US";
                    break;
                }
            }
            this.notify.warning(message);
            this.ignore_onend = true;
            this.started.next(false);
        };
    }
    init() {
        var _a;
        this.intlService.events.subscribe(() => {
            var _a;
            this.recognition.lang = (_a = this.intlService.currentLocale.data) === null || _a === void 0 ? void 0 : _a.intl.locale;
        });
        try {
            this.recognition = new webkitSpeechRecognition();
            this.recognition.continuous = false;
            this.recognition.interimResults = true;
            this.recognition.lang = (_a = this.intlService.currentLocale.data) === null || _a === void 0 ? void 0 : _a.intl.locale;
            this.recognition.addEventListener("error", this.onError);
            this.recognition.addEventListener("result", this.onResult);
            this.recognition.addEventListener("start", this.onStart);
            this.recognition.addEventListener("end", this.onEnd);
            this.available = true;
        }
        catch (error) {
            this.available = false;
        }
    }
    ngOnDestroy() {
        this.recognition.removeEventListener("error", this.onError);
        this.recognition.removeEventListener("result", this.onResult);
        this.recognition.removeEventListener("start", this.onStart);
        this.recognition.removeEventListener("end", this.onEnd);
    }
    start() {
        if (this.recognizing) {
            this.stop();
            return;
        }
        this.text.next("");
        this.started.next(true);
        this.recognition.start();
    }
    stop() {
        this.recognition.stop();
        this.started.next(false);
    }
    toggleRecognition() {
        if (this.recognizing) {
            this.stop();
        }
        else {
            this.start();
        }
    }
}
VoiceRecognitionService.ɵfac = function VoiceRecognitionService_Factory(t) { return new (t || VoiceRecognitionService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_intl__WEBPACK_IMPORTED_MODULE_2__["IntlService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_notification__WEBPACK_IMPORTED_MODULE_3__["NotificationsService"])); };
VoiceRecognitionService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: VoiceRecognitionService, factory: VoiceRecognitionService.ɵfac, providedIn: "root" });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](VoiceRecognitionService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: "root"
            }]
    }], function () { return [{ type: _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_2__["IntlService"] }, { type: _sinequa_core_notification__WEBPACK_IMPORTED_MODULE_3__["NotificationsService"] }]; }, null); })();


/***/ }),

/***/ "KKFt":
/*!*************************************************!*\
  !*** ../components/collapse/collapse.module.ts ***!
  \*************************************************/
/*! exports provided: CollapseModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CollapseModule", function() { return CollapseModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _collapse_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./collapse.component */ "rVRG");
/* harmony import */ var _collapse_button_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./collapse-button.component */ "odaa");
/* harmony import */ var _collapse_link_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./collapse-link.component */ "Xpku");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sinequa/core/intl */ "EfqX");







class CollapseModule {
}
CollapseModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: CollapseModule });
CollapseModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function CollapseModule_Factory(t) { return new (t || CollapseModule)(); }, imports: [[
            _angular_common__WEBPACK_IMPORTED_MODULE_4__["CommonModule"],
            _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_5__["IntlModule"]
        ]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](CollapseModule, { declarations: [_collapse_component__WEBPACK_IMPORTED_MODULE_1__["Collapse"], _collapse_button_component__WEBPACK_IMPORTED_MODULE_2__["CollapseButton"], _collapse_link_component__WEBPACK_IMPORTED_MODULE_3__["CollapseLink"]], imports: [_angular_common__WEBPACK_IMPORTED_MODULE_4__["CommonModule"],
        _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_5__["IntlModule"]], exports: [_collapse_component__WEBPACK_IMPORTED_MODULE_1__["Collapse"], _collapse_button_component__WEBPACK_IMPORTED_MODULE_2__["CollapseButton"], _collapse_link_component__WEBPACK_IMPORTED_MODULE_3__["CollapseLink"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](CollapseModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _angular_common__WEBPACK_IMPORTED_MODULE_4__["CommonModule"],
                    _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_5__["IntlModule"]
                ],
                declarations: [
                    _collapse_component__WEBPACK_IMPORTED_MODULE_1__["Collapse"], _collapse_button_component__WEBPACK_IMPORTED_MODULE_2__["CollapseButton"], _collapse_link_component__WEBPACK_IMPORTED_MODULE_3__["CollapseLink"]
                ],
                exports: [
                    _collapse_component__WEBPACK_IMPORTED_MODULE_1__["Collapse"], _collapse_button_component__WEBPACK_IMPORTED_MODULE_2__["CollapseButton"], _collapse_link_component__WEBPACK_IMPORTED_MODULE_3__["CollapseLink"]
                ],
            }]
    }], null, null); })();


/***/ }),

/***/ "KObr":
/*!********************************************************!*\
  !*** ../core/web-services/query-export.web.service.ts ***!
  \********************************************************/
/*! exports provided: QueryExportWebService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "QueryExportWebService", function() { return QueryExportWebService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "+kfY");
/* harmony import */ var _http_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./http.service */ "3Hvy");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _start_config_web_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./start-config.web.service */ "R3Oh");
/* harmony import */ var _config_ccapp__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./config/ccapp */ "thcF");
/* harmony import */ var _http_client__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./http-client */ "j7UU");








/**
 * A service to export the result of a query.
 */
class QueryExportWebService extends _http_service__WEBPACK_IMPORTED_MODULE_2__["HttpService"] {
    constructor(startConfig, httpClient) {
        super(startConfig);
        this.httpClient = httpClient;
    }
    logErrorToConsole(methodName, errorMessage) {
        console.log(`queryExportService.${methodName} ${errorMessage}.`);
    }
    preliminaryCheck(methodName, webService, format) {
        if (!this.appName) {
            const errorMessage = 'No app';
            this.logErrorToConsole(methodName, errorMessage);
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["throwError"])({ error: errorMessage });
        }
        if (!webService) {
            const errorMessage = 'No web service';
            this.logErrorToConsole(methodName, errorMessage);
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["throwError"])({ error: errorMessage });
        }
        if (!format || format === _config_ccapp__WEBPACK_IMPORTED_MODULE_5__["ExportOutputFormat"].None) {
            const errorMessage = 'No output format';
            this.logErrorToConsole(methodName, errorMessage);
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["throwError"])({ error: errorMessage });
        }
        return undefined;
    }
    /**
     * Exports the current result.
     *
     * @param webService The configuration for the export web service.
     * @param query The query to export.
     * @param format The export format.
     * @param maxCount (Optional) The maximum number of exported rows.
     * @param exportedColumns (Optional) The columns to export, empty means all columns.
     */
    exportResult(webService, query, results, format, maxCount, exportedColumns) {
        const methodName = 'exportResult';
        const preliminaryCheckResult = this.preliminaryCheck(methodName, webService, format);
        if (preliminaryCheckResult) {
            return preliminaryCheckResult;
        }
        if (!query) {
            const errorMessage = 'No query';
            this.logErrorToConsole(methodName, errorMessage);
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["throwError"])({ error: errorMessage });
        }
        const postData = {
            app: this.appName,
            webService,
            query,
            type: _config_ccapp__WEBPACK_IMPORTED_MODULE_5__["ExportSourceType"][_config_ccapp__WEBPACK_IMPORTED_MODULE_5__["ExportSourceType"].Result],
            format: _config_ccapp__WEBPACK_IMPORTED_MODULE_5__["ExportOutputFormat"][format],
            maxCount: maxCount ? maxCount.toString() : undefined,
            exportedColumns: exportedColumns,
            $auditRecord: {
                type: "Search_ExportCSV" /* Search_ExportCSV */,
                detail: {
                    "result-id": !!results ? results.id : undefined
                }
            }
        };
        return this.doExport(postData);
    }
    /**
     * Exports the current selected records.
     *
     * @param webService The configuration for the export web service.
     * @param query
     * @param selection
     * @param format The export format.
     * @param maxCount (Optional) The maximum number of exported rows.
     * @param exportedColumns (Optional) The columns to export, empty means all columns.
     */
    exportSelection(webService, query, results, selection, format, maxCount, exportedColumns) {
        const methodName = 'exportSelection';
        const preliminaryCheckResult = this.preliminaryCheck(methodName, webService, format);
        if (preliminaryCheckResult) {
            return preliminaryCheckResult;
        }
        if (!query) {
            const errorMessage = 'No query';
            this.logErrorToConsole(methodName, errorMessage);
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["throwError"])({ error: errorMessage });
        }
        if (!selection || selection.length === 0) {
            const errorMessage = 'No selection';
            this.logErrorToConsole(methodName, errorMessage);
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["throwError"])({ error: errorMessage });
        }
        const postData = {
            app: this.appName,
            webService,
            query,
            selection,
            type: _config_ccapp__WEBPACK_IMPORTED_MODULE_5__["ExportSourceType"][_config_ccapp__WEBPACK_IMPORTED_MODULE_5__["ExportSourceType"].Selection],
            format: _config_ccapp__WEBPACK_IMPORTED_MODULE_5__["ExportOutputFormat"][format],
            maxCount: maxCount ? maxCount.toString() : undefined,
            exportedColumns: exportedColumns,
            $auditRecord: {
                type: "Search_Selection_ExportCSV" /* Search_Selection_ExportCSV */,
                detail: {
                    "result-id": !!results ? results.id : undefined
                }
            }
        };
        return this.doExport(postData);
    }
    /**
     * Exports the result of a saved query.
     *
     * @param webService The configuration for the export web service.
     * @param queryName The query name.
     * @param format The export format.
     * @param maxCount (Optional) The maximum number of exported rows.
     * @param exportedColumns (Optional) The columns to export, empty means all columns.
     */
    exportSavedQuery(webService, queryName, format, maxCount, exportedColumns) {
        const methodName = 'exportSavedQuery';
        const preliminaryCheckResult = this.preliminaryCheck(methodName, webService, format);
        if (preliminaryCheckResult) {
            return preliminaryCheckResult;
        }
        if (!queryName) {
            const errorMessage = 'No saved query';
            this.logErrorToConsole(methodName, errorMessage);
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["throwError"])({ error: errorMessage });
        }
        const postData = {
            app: this.appName,
            webService,
            type: _config_ccapp__WEBPACK_IMPORTED_MODULE_5__["ExportSourceType"][_config_ccapp__WEBPACK_IMPORTED_MODULE_5__["ExportSourceType"].SavedQuery],
            format: _config_ccapp__WEBPACK_IMPORTED_MODULE_5__["ExportOutputFormat"][format],
            name: queryName,
            maxCount: maxCount ? maxCount.toString() : undefined,
            exportedColumns: exportedColumns,
            $auditRecord: {
                type: "Search_SavedQuery_ExportCSV" /* Search_SavedQuery_ExportCSV */,
                detail: {
                    query: queryName
                }
            }
        };
        return this.doExport(postData);
    }
    doExport(body) {
        const observable = this.httpClient.post(this.makeUrl('query.export'), body, {
            observe: 'response',
            responseType: 'blob'
        });
        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].subscribe(observable, (response) => {
            console.log('queryExportService.export success: ', this.readBlobFileName(response));
            return response;
        }, (error) => {
            console.log('queryExportService.export failure - error: ', error);
        });
        return observable;
    }
    readBlobFileName(response) {
        const header = response.headers.get('content-disposition');
        return header ? header.split('filename=')[1].replace('"', '').replace('"', '') : "";
    }
}
QueryExportWebService.ɵfac = function QueryExportWebService_Factory(t) { return new (t || QueryExportWebService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_start_config_web_service__WEBPACK_IMPORTED_MODULE_4__["START_CONFIG"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_http_client__WEBPACK_IMPORTED_MODULE_6__["SqHttpClient"])); };
QueryExportWebService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: QueryExportWebService, factory: QueryExportWebService.ɵfac, providedIn: "root" });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](QueryExportWebService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: "root"
            }]
    }], function () { return [{ type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [_start_config_web_service__WEBPACK_IMPORTED_MODULE_4__["START_CONFIG"]]
            }] }, { type: _http_client__WEBPACK_IMPORTED_MODULE_6__["SqHttpClient"] }]; }, null); })();


/***/ }),

/***/ "KTn5":
/*!*******************************************!*\
  !*** ../components/alerts/messages/fr.ts ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    "alerts": {
        "alerts": "Alertes",
        "createAlert": "Créer une alerte",
        "manageAlerts": "Gérer les alertes",
        "alertAlreadyExists": "Une alerte avec ce nom existe déjà. Voulez-vous la remplacer ?"
    },
    "editAlert": {
        "title": "Alerte",
        "name": "Nom",
        "frequency": "Fréquence",
        "days": "Jours",
        "monday": "lundi",
        "tuesday": "mardi",
        "wednesday": "mercredi",
        "thursday": "jeudi",
        "friday": "vendredi",
        "saturday": "samedi",
        "sunday": "dimanche",
        "times": "Horaires",
        "active": "Active",
        "updateQuery": "Mettre à jour la requête",
        "runQuery": "Exécuter la requête",
        "lossDataMessage": "Voulez-vous quitter sans sauvegarder vos modifications ?"
    },
    "manageAlerts": {
        "title": "Gérer les alertes",
        "edit": "Editer",
        "reorder": "Réorganiser",
        "remove": "Effacer",
        "removeAll": "Effacer tout"
    },
});


/***/ }),

/***/ "KVpc":
/*!**********************************************************************************************!*\
  !*** ../components/saved-queries/bootstrap/facet-recent-documents/facet-recent-documents.ts ***!
  \**********************************************************************************************/
/*! exports provided: BsFacetRecentDocuments */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsFacetRecentDocuments", function() { return BsFacetRecentDocuments; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_components_facet__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/components/facet */ "vbgc");
/* harmony import */ var _sinequa_components_action__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/components/action */ "WsHA");
/* harmony import */ var _recent_documents_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../recent-documents.service */ "/0s+");
/* harmony import */ var _sinequa_components_search__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/components/search */ "7+c1");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/router */ "sEIs");
/* harmony import */ var _utils_pipes_date_pipe__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../utils/pipes/date-pipe */ "ZWTm");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/intl/message.pipe */ "X1Kh");










function BsFacetRecentDocuments_ng_container_1_a_1_span_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqDate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const document_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2).$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 1, document_r2.date));
} }
function BsFacetRecentDocuments_ng_container_1_a_1_i_4_Template(rf, ctx) { if (rf & 1) {
    const _r11 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "i", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsFacetRecentDocuments_ng_container_1_a_1_i_4_Template_i_click_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r11); const document_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2).$implicit; const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r9.deleteDocument(document_r2, $event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("title", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](1, 1, "msg#recentDocuments.delete"));
} }
function BsFacetRecentDocuments_ng_container_1_a_1_Template(rf, ctx) { if (rf & 1) {
    const _r14 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "a", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsFacetRecentDocuments_ng_container_1_a_1_Template_a_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r14); const document_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit; const ctx_r12 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r12.openRecentDocument(document_r2); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "span", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, BsFacetRecentDocuments_ng_container_1_a_1_span_3_Template, 3, 3, "span", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, BsFacetRecentDocuments_ng_container_1_a_1_i_4_Template, 2, 3, "i", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const document_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵattribute"]("href", document_r2.url1, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeUrl"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("title", document_r2.title);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](document_r2.title);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", document_r2.date);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r3.enableDelete);
} }
function BsFacetRecentDocuments_ng_container_1_ng_template_2_span_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqDate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const document_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2).$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 1, document_r2.date));
} }
function BsFacetRecentDocuments_ng_container_1_ng_template_2_i_4_Template(rf, ctx) { if (rf & 1) {
    const _r21 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "i", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsFacetRecentDocuments_ng_container_1_ng_template_2_i_4_Template_i_click_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r21); const document_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2).$implicit; const ctx_r19 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r19.deleteDocument(document_r2, $event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("title", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](1, 1, "msg#recentDocuments.delete"));
} }
function BsFacetRecentDocuments_ng_container_1_ng_template_2_Template(rf, ctx) { if (rf & 1) {
    const _r24 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "a", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsFacetRecentDocuments_ng_container_1_ng_template_2_Template_a_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r24); const document_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit; const ctx_r22 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r22.openRecentDocument(document_r2); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "span", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, BsFacetRecentDocuments_ng_container_1_ng_template_2_span_3_Template, 3, 3, "span", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, BsFacetRecentDocuments_ng_container_1_ng_template_2_i_4_Template, 2, 3, "i", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const document_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("routerLink", ctx_r5.searchRoute)("queryParams", ctx_r5.getQueryParams(document_r2));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("title", document_r2.title);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](document_r2.title);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", document_r2.date);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r5.enableDelete);
} }
function BsFacetRecentDocuments_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsFacetRecentDocuments_ng_container_1_a_1_Template, 5, 5, "a", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, BsFacetRecentDocuments_ng_container_1_ng_template_2_Template, 5, 6, "ng-template", null, 4, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplateRefExtractor"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const document_r2 = ctx.$implicit;
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](3);
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r0.openOriginal && document_r2.url1)("ngIfElse", _r4);
} }
function BsFacetRecentDocuments_div_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 1, "msg#recentDocuments.noRecentDocument"), " ");
} }
class BsFacetRecentDocuments extends _sinequa_components_facet__WEBPACK_IMPORTED_MODULE_1__["AbstractFacet"] {
    constructor(recentDocumentsService, searchService) {
        super();
        this.recentDocumentsService = recentDocumentsService;
        this.searchService = searchService;
        this.searchRoute = "/preview";
        this.maxDocuments = 5;
        this.enableDelete = true;
        this.openOriginal = false;
        this.documentOpened = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.page = 0;
        this.previousPage = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_2__["Action"]({
            icon: "fas fa-chevron-left",
            title: "msg#facet.previous",
            action: () => {
                this.page--;
            },
            updater: (action) => {
                action.disabled = this.page <= 0;
                action.hidden = this.maxPage === 0;
            }
        });
        this.nextPage = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_2__["Action"]({
            icon: "fas fa-chevron-right",
            title: "msg#facet.next",
            action: () => {
                this.page++;
            },
            updater: (action) => {
                action.disabled = this.page >= this.maxPage;
                action.hidden = this.maxPage === 0;
            }
        });
    }
    get maxPage() {
        return Math.max(0, Math.ceil(this.recentDocumentsService.recentdocuments.length / this.maxDocuments) - 1);
    }
    get startIndex() {
        return this.page * this.maxDocuments;
    }
    get endIndex() {
        return (this.page + 1) * this.maxDocuments;
    }
    get actions() {
        this.previousPage.update();
        this.nextPage.update();
        return [this.previousPage, this.nextPage];
    }
    openRecentDocument(document) {
        if (this.openOriginal && !!document.url1) {
            this.searchService.notifyOpenOriginalDocument(document);
        }
        this.documentOpened.emit(document); // Can be use to trigger actions, like the preview
        return true;
    }
    deleteDocument(document, event) {
        this.recentDocumentsService.deleteRecentDocument(document);
        this.page = Math.min(this.page, this.maxPage);
        return false;
    }
    getQueryParams(document) {
        return {
            id: document.id,
            query: this.searchService.makeQuery().toJsonForQueryString()
        };
    }
}
BsFacetRecentDocuments.ɵfac = function BsFacetRecentDocuments_Factory(t) { return new (t || BsFacetRecentDocuments)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_recent_documents_service__WEBPACK_IMPORTED_MODULE_3__["RecentDocumentsService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_search__WEBPACK_IMPORTED_MODULE_4__["SearchService"])); };
BsFacetRecentDocuments.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsFacetRecentDocuments, selectors: [["sq-facet-recent-documents"]], inputs: { searchRoute: "searchRoute", maxDocuments: "maxDocuments", enableDelete: "enableDelete", openOriginal: "openOriginal" }, outputs: { documentOpened: "documentOpened" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"]], decls: 4, vars: 6, consts: [[1, "list-group", "list-group-flush"], [4, "ngFor", "ngForOf"], ["class", "list-group-item text-center text-muted font-italic small py-5", 4, "ngIf"], ["class", "recent-document-item list-group-item list-group-item-action d-flex align-items-center", "target", "_blank", "rel", "noopener", 3, "click", 4, "ngIf", "ngIfElse"], ["internalLink", ""], ["target", "_blank", "rel", "noopener", 1, "recent-document-item", "list-group-item", "list-group-item-action", "d-flex", "align-items-center", 3, "click"], [1, "document-text", "mr-auto", "text-truncate", 3, "title"], ["class", "document-date ml-2 text-muted small text-right", 4, "ngIf"], ["class", "document-delete ml-2 fas fa-times", 3, "title", "click", 4, "ngIf"], [1, "document-date", "ml-2", "text-muted", "small", "text-right"], [1, "document-delete", "ml-2", "fas", "fa-times", 3, "title", "click"], [1, "recent-document-item", "list-group-item", "list-group-item-action", "d-flex", "align-items-center", 3, "routerLink", "queryParams", "click"], [1, "list-group-item", "text-center", "text-muted", "font-italic", "small", "py-5"]], template: function BsFacetRecentDocuments_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsFacetRecentDocuments_ng_container_1_Template, 4, 2, "ng-container", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "slice");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, BsFacetRecentDocuments_div_3_Template, 3, 3, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind3"](2, 2, ctx.recentDocumentsService.recentdocuments, ctx.startIndex, ctx.endIndex));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.recentDocumentsService.recentdocuments.length == 0);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_5__["NgForOf"], _angular_common__WEBPACK_IMPORTED_MODULE_5__["NgIf"], _angular_router__WEBPACK_IMPORTED_MODULE_6__["RouterLinkWithHref"]], pipes: [_angular_common__WEBPACK_IMPORTED_MODULE_5__["SlicePipe"], _utils_pipes_date_pipe__WEBPACK_IMPORTED_MODULE_7__["DatePipe"], _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_8__["MessagePipe"]], styles: [".recent-document-item[_ngcontent-%COMP%]   .document-delete[_ngcontent-%COMP%]{\n    opacity: 0;\n}\n\n.recent-document-item[_ngcontent-%COMP%]:hover   .document-delete[_ngcontent-%COMP%]{\n    opacity: 1;\n    transition: opacity 0.2s ease-in-out;\n}"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsFacetRecentDocuments, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'sq-facet-recent-documents',
                templateUrl: './facet-recent-documents.html',
                styles: [`
.recent-document-item .document-delete{
    opacity: 0;
}

.recent-document-item:hover .document-delete{
    opacity: 1;
    transition: opacity 0.2s ease-in-out;
}
  `]
            }]
    }], function () { return [{ type: _recent_documents_service__WEBPACK_IMPORTED_MODULE_3__["RecentDocumentsService"] }, { type: _sinequa_components_search__WEBPACK_IMPORTED_MODULE_4__["SearchService"] }]; }, { searchRoute: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], maxDocuments: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], enableDelete: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], openOriginal: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], documentOpened: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }] }); })();


/***/ }),

/***/ "KZka":
/*!*******************************************!*\
  !*** ../components/utils/utils.module.ts ***!
  \*******************************************/
/*! exports provided: defaultScreenSizeRules, UtilsModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "defaultScreenSizeRules", function() { return defaultScreenSizeRules; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UtilsModule", function() { return UtilsModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _angular_cdk_a11y__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/cdk/a11y */ "sg/T");
/* harmony import */ var _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/intl */ "EfqX");
/* harmony import */ var _pipes_date_pipe__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./pipes/date-pipe */ "ZWTm");
/* harmony import */ var _pipes_expr_pipe__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./pipes/expr-pipe */ "MaBy");
/* harmony import */ var _pipes_memory_size_pipe__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./pipes/memory-size-pipe */ "+RqA");
/* harmony import */ var _pipes_moment_pipe__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./pipes/moment-pipe */ "VIZk");
/* harmony import */ var _pipes_number_pipe__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./pipes/number-pipe */ "FbeZ");
/* harmony import */ var _pipes_relative_time_pipe__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./pipes/relative-time-pipe */ "Pkfx");
/* harmony import */ var _pipes_time_pipe__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./pipes/time-pipe */ "d8oQ");
/* harmony import */ var _pipes_value_pipe__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./pipes/value-pipe */ "7U+I");
/* harmony import */ var _directives_autofocus__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./directives/autofocus */ "1ak2");
/* harmony import */ var _directives_click_outside__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./directives/click-outside */ "VDPn");
/* harmony import */ var _directives_media_if__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./directives/media-if */ "nqav");
/* harmony import */ var _directives_scroll_into_view__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./directives/scroll-into-view */ "Sc2F");
/* harmony import */ var _directives_focus_key_list_directive__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./directives/focus-key-list.directive */ "Cef8");
/* harmony import */ var _directives_focus_key_list_item_directive__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./directives/focus-key-list-item.directive */ "1q26");
/* harmony import */ var _directives_resize_event_directive__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./directives/resize-event.directive */ "ambZ");
/* harmony import */ var _directives_sticky__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./directives/sticky */ "n1yq");
/* harmony import */ var _directives_tooltip_tooltip_component__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./directives/tooltip/tooltip.component */ "LmqU");
/* harmony import */ var _directives_tooltip_tooltip_directive__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./directives/tooltip/tooltip.directive */ "v6qE");
/* harmony import */ var _ui_service__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./ui.service */ "ijWO");




// Formatting pipes








// UI Directives










// UI Service


const defaultScreenSizeRules = {
    xxl: "(min-width: 1920px)",
    xl: "(min-width: 1200px) and (max-width: 1919.98px)",
    lg: "(min-width: 992px) and (max-width: 1199.98px)",
    md: "(min-width: 768px) and (max-width: 991.98px)",
    sm: "(min-width: 576px) and (max-width: 767.98px)",
    xs: "(max-width: 575.98px)",
};
class UtilsModule {
}
UtilsModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: UtilsModule });
UtilsModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function UtilsModule_Factory(t) { return new (t || UtilsModule)(); }, providers: [
        {
            provide: _ui_service__WEBPACK_IMPORTED_MODULE_22__["SCREEN_SIZE_RULES"],
            useValue: defaultScreenSizeRules
        }
    ], imports: [[
            _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
            _angular_cdk_a11y__WEBPACK_IMPORTED_MODULE_2__["A11yModule"],
            _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_3__["IntlModule"]
        ]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](UtilsModule, { declarations: [_pipes_date_pipe__WEBPACK_IMPORTED_MODULE_4__["DatePipe"], _pipes_expr_pipe__WEBPACK_IMPORTED_MODULE_5__["ExprPipe"], _pipes_memory_size_pipe__WEBPACK_IMPORTED_MODULE_6__["MemorySizePipe"], _pipes_moment_pipe__WEBPACK_IMPORTED_MODULE_7__["MomentPipe"], _pipes_number_pipe__WEBPACK_IMPORTED_MODULE_8__["NumberPipe"], _pipes_relative_time_pipe__WEBPACK_IMPORTED_MODULE_9__["RelativeTimePipe"], _pipes_time_pipe__WEBPACK_IMPORTED_MODULE_10__["TimePipe"], _pipes_value_pipe__WEBPACK_IMPORTED_MODULE_11__["ValuePipe"],
        _directives_autofocus__WEBPACK_IMPORTED_MODULE_12__["Autofocus"], _directives_click_outside__WEBPACK_IMPORTED_MODULE_13__["ClickOutside"], _directives_media_if__WEBPACK_IMPORTED_MODULE_14__["MediaIf"], _directives_scroll_into_view__WEBPACK_IMPORTED_MODULE_15__["ScrollIntoView"], _directives_focus_key_list_directive__WEBPACK_IMPORTED_MODULE_16__["FocusKeyListDirective"], _directives_focus_key_list_item_directive__WEBPACK_IMPORTED_MODULE_17__["FocusKeyListItemDirective"],
        _directives_resize_event_directive__WEBPACK_IMPORTED_MODULE_18__["ResizeEventDirective"], _directives_sticky__WEBPACK_IMPORTED_MODULE_19__["StickyComponent"], _directives_tooltip_tooltip_component__WEBPACK_IMPORTED_MODULE_20__["TooltipComponent"], _directives_tooltip_tooltip_directive__WEBPACK_IMPORTED_MODULE_21__["TooltipDirective"]], imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
        _angular_cdk_a11y__WEBPACK_IMPORTED_MODULE_2__["A11yModule"],
        _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_3__["IntlModule"]], exports: [_pipes_date_pipe__WEBPACK_IMPORTED_MODULE_4__["DatePipe"], _pipes_expr_pipe__WEBPACK_IMPORTED_MODULE_5__["ExprPipe"], _pipes_memory_size_pipe__WEBPACK_IMPORTED_MODULE_6__["MemorySizePipe"], _pipes_moment_pipe__WEBPACK_IMPORTED_MODULE_7__["MomentPipe"], _pipes_number_pipe__WEBPACK_IMPORTED_MODULE_8__["NumberPipe"], _pipes_relative_time_pipe__WEBPACK_IMPORTED_MODULE_9__["RelativeTimePipe"], _pipes_time_pipe__WEBPACK_IMPORTED_MODULE_10__["TimePipe"], _pipes_value_pipe__WEBPACK_IMPORTED_MODULE_11__["ValuePipe"],
        _directives_autofocus__WEBPACK_IMPORTED_MODULE_12__["Autofocus"], _directives_click_outside__WEBPACK_IMPORTED_MODULE_13__["ClickOutside"], _directives_media_if__WEBPACK_IMPORTED_MODULE_14__["MediaIf"], _directives_scroll_into_view__WEBPACK_IMPORTED_MODULE_15__["ScrollIntoView"], _directives_focus_key_list_directive__WEBPACK_IMPORTED_MODULE_16__["FocusKeyListDirective"], _directives_focus_key_list_item_directive__WEBPACK_IMPORTED_MODULE_17__["FocusKeyListItemDirective"],
        _directives_resize_event_directive__WEBPACK_IMPORTED_MODULE_18__["ResizeEventDirective"], _directives_sticky__WEBPACK_IMPORTED_MODULE_19__["StickyComponent"], _directives_tooltip_tooltip_component__WEBPACK_IMPORTED_MODULE_20__["TooltipComponent"], _directives_tooltip_tooltip_directive__WEBPACK_IMPORTED_MODULE_21__["TooltipDirective"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](UtilsModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                    _angular_cdk_a11y__WEBPACK_IMPORTED_MODULE_2__["A11yModule"],
                    _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_3__["IntlModule"]
                ],
                declarations: [
                    _pipes_date_pipe__WEBPACK_IMPORTED_MODULE_4__["DatePipe"], _pipes_expr_pipe__WEBPACK_IMPORTED_MODULE_5__["ExprPipe"], _pipes_memory_size_pipe__WEBPACK_IMPORTED_MODULE_6__["MemorySizePipe"], _pipes_moment_pipe__WEBPACK_IMPORTED_MODULE_7__["MomentPipe"], _pipes_number_pipe__WEBPACK_IMPORTED_MODULE_8__["NumberPipe"], _pipes_relative_time_pipe__WEBPACK_IMPORTED_MODULE_9__["RelativeTimePipe"], _pipes_time_pipe__WEBPACK_IMPORTED_MODULE_10__["TimePipe"], _pipes_value_pipe__WEBPACK_IMPORTED_MODULE_11__["ValuePipe"],
                    _directives_autofocus__WEBPACK_IMPORTED_MODULE_12__["Autofocus"], _directives_click_outside__WEBPACK_IMPORTED_MODULE_13__["ClickOutside"], _directives_media_if__WEBPACK_IMPORTED_MODULE_14__["MediaIf"], _directives_scroll_into_view__WEBPACK_IMPORTED_MODULE_15__["ScrollIntoView"], _directives_focus_key_list_directive__WEBPACK_IMPORTED_MODULE_16__["FocusKeyListDirective"], _directives_focus_key_list_item_directive__WEBPACK_IMPORTED_MODULE_17__["FocusKeyListItemDirective"],
                    _directives_resize_event_directive__WEBPACK_IMPORTED_MODULE_18__["ResizeEventDirective"], _directives_sticky__WEBPACK_IMPORTED_MODULE_19__["StickyComponent"], _directives_tooltip_tooltip_component__WEBPACK_IMPORTED_MODULE_20__["TooltipComponent"], _directives_tooltip_tooltip_directive__WEBPACK_IMPORTED_MODULE_21__["TooltipDirective"]
                ],
                exports: [
                    _pipes_date_pipe__WEBPACK_IMPORTED_MODULE_4__["DatePipe"], _pipes_expr_pipe__WEBPACK_IMPORTED_MODULE_5__["ExprPipe"], _pipes_memory_size_pipe__WEBPACK_IMPORTED_MODULE_6__["MemorySizePipe"], _pipes_moment_pipe__WEBPACK_IMPORTED_MODULE_7__["MomentPipe"], _pipes_number_pipe__WEBPACK_IMPORTED_MODULE_8__["NumberPipe"], _pipes_relative_time_pipe__WEBPACK_IMPORTED_MODULE_9__["RelativeTimePipe"], _pipes_time_pipe__WEBPACK_IMPORTED_MODULE_10__["TimePipe"], _pipes_value_pipe__WEBPACK_IMPORTED_MODULE_11__["ValuePipe"],
                    _directives_autofocus__WEBPACK_IMPORTED_MODULE_12__["Autofocus"], _directives_click_outside__WEBPACK_IMPORTED_MODULE_13__["ClickOutside"], _directives_media_if__WEBPACK_IMPORTED_MODULE_14__["MediaIf"], _directives_scroll_into_view__WEBPACK_IMPORTED_MODULE_15__["ScrollIntoView"], _directives_focus_key_list_directive__WEBPACK_IMPORTED_MODULE_16__["FocusKeyListDirective"], _directives_focus_key_list_item_directive__WEBPACK_IMPORTED_MODULE_17__["FocusKeyListItemDirective"],
                    _directives_resize_event_directive__WEBPACK_IMPORTED_MODULE_18__["ResizeEventDirective"], _directives_sticky__WEBPACK_IMPORTED_MODULE_19__["StickyComponent"], _directives_tooltip_tooltip_component__WEBPACK_IMPORTED_MODULE_20__["TooltipComponent"], _directives_tooltip_tooltip_directive__WEBPACK_IMPORTED_MODULE_21__["TooltipDirective"]
                ],
                providers: [
                    {
                        provide: _ui_service__WEBPACK_IMPORTED_MODULE_22__["SCREEN_SIZE_RULES"],
                        useValue: defaultScreenSizeRules
                    }
                ]
            }]
    }], null, null); })();


/***/ }),

/***/ "Kghj":
/*!**************************************!*\
  !*** ../core/login/login.service.ts ***!
  \**************************************/
/*! exports provided: MODAL_LOGIN, LoginService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MODAL_LOGIN", function() { return MODAL_LOGIN; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LoginService", function() { return LoginService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "+kfY");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs/operators */ "0Wlh");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/core/web-services */ "cIYa");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/router */ "sEIs");
/* harmony import */ var _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @sinequa/core/app-utils */ "SBPP");
/* harmony import */ var _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @sinequa/core/modal */ "vMGo");
/* harmony import */ var _sinequa_core_notification__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @sinequa/core/notification */ "mkLw");
/* harmony import */ var _authentication_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./authentication.service */ "mE1E");












/**
 * An `InjectionToken` to set the component to use for the login modal dialog which is displayed
 * by the {@link LoginService} when performing a manual login. This makes the service independent
 * of any particular UI framework. If manual login is to be used a component must be configured by
 * providing this token.
 */
const MODAL_LOGIN = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["InjectionToken"]('MODAL_LOGIN');
/**
 * A high-level service to manage user login
 */
class LoginService {
    constructor(startConfig, loginModal, router, appService, principalService, userSettingsService, modalService, notificationsService, authenticationService) {
        this.startConfig = startConfig;
        this.loginModal = loginModal;
        this.router = router;
        this.appService = appService;
        this.principalService = principalService;
        this.userSettingsService = userSettingsService;
        this.modalService = modalService;
        this.notificationsService = notificationsService;
        this.authenticationService = authenticationService;
        this._events = new rxjs__WEBPACK_IMPORTED_MODULE_1__["BehaviorSubject"]({ type: "session-changed" });
        this.beforeUnloadEventListener = (e) => {
            this._events.next({ type: "session-end" });
        };
        // NB unload doesn't fire reliably so we listen for beforeunload
        window.addEventListener("beforeunload", this.beforeUnloadEventListener);
    }
    ngOnDestroy() {
        this._events.complete();
        window.removeEventListener("beforeunload", this.beforeUnloadEventListener);
    }
    /**
     * Get an `Observable` stream of {@link SessionEvent} events emitted by the service
     */
    get events() {
        return this._events;
    }
    /**
     * Get the currently logged in {@link Principal}, if any. Note that a principal can exist
     * without the login being complete. For example, in the situation where access is denied to
     * the selected app.
     */
    get principal() {
        return this.principalService.principal;
    }
    setComplete() {
        const complete = this.complete;
        this.complete = !!this.appService.app && !!this.principalService.principal && !!this.userSettingsService.userSettings;
        if (this.complete) {
            if (!this.authenticationService.userOverrideFailed) {
                this.notificationsService.hideNotifications();
            }
            this.authenticationService.userOverrideFailed = false;
        }
        if (!!complete !== !!this.complete) {
            this._events.next({ type: "session-changed" });
        }
    }
    /**
     * Perform a logout of the currently logged in user. [AppService.app]{@link AppService#app},
     * [PrincipalWebService.principal]{@link PrincipalWebService#prinicpal} and
     * [UserSettingsWebService.userSettings]{@link UserSettingsWebService#userSettings} are reset.
     * The `session-end` event is emitted
     */
    logout() {
        this._events.next({ type: "session-end" });
        this.appService.clear();
        this.principalService.principal = undefined;
        this.userSettingsService.userSettings = undefined;
        this.authenticationService.deactivateUserOverride();
        this.authenticationService.logout();
        this.setComplete();
    }
    /**
     * Override the current user to the user specified in `userOverride`. Only an administrator
     * is permitted to do this. They can revert to the normal login by calling this method with
     * `undefined`
     *
     * @param userOverride The user override
     */
    overrideUser(userOverride) {
        this.authenticationService.userOverride = userOverride;
        this.appService.clear();
        this.principalService.principal = undefined;
        this.userSettingsService.userSettings = undefined;
        this.setComplete();
        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].delay().then(() => this.login());
    }
    switchPrincipal(principal) {
        if (!principal.isAdministrator) {
            this.authenticationService.deactivateUserOverride();
        }
        this.principalService.principal = principal;
        this.userSettingsService.userSettings = undefined;
        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].delay().then(() => this.login());
    }
    /**
     * Initiate the user login process. The method attempts to retrieve
     * the [application configuration]{@link CCApp}, the
     * [logged in user]{@link Principal} and the [user settings]{@link UserSettings}.
     * If a user is not currently authenticated then authentication is performed using
     * the {@link AuthenticationService} - OAuth/SAML if configured on the Sinequa Server
     * or manual using a login modal dialog provided using the {@link MODAL_LOGIN} injection
     * token.
     */
    login() {
        const appName = this.appService.appName;
        if (!appName) {
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["throwError"])({ error: "App not specified" });
        }
        let appNeeded;
        if (this.router) {
            const hash = window.location.hash.replace("#", "");
            const href = hash.split("?")[0];
            const params = new URLSearchParams(hash.split("?")[1]);
            const queryParams = {};
            params.forEach((v, k) => queryParams[k] = v);
            // Pick up any user override from the query string
            const overrideUser = queryParams["overrideUser"];
            const overrideDomain = queryParams["overrideDomain"];
            if (overrideUser) {
                this.authenticationService.userOverride = {
                    userName: overrideUser,
                    domain: overrideDomain
                };
                delete queryParams["overrideUser"];
                delete queryParams["overrideDomain"];
                const url = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].makeURL(href);
                this.router.navigate([url.pathname], { queryParams });
            }
        }
        const makeObservables = () => {
            const observables = {
                app: undefined,
                principal: undefined,
                userSettings: undefined
            };
            if (!this.appService.app || (appName && this.appService.app.name !== appName)) {
                appNeeded = true;
                observables.app = this.appService.init();
            }
            else {
                observables.app = Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["of"])(this.appService.app);
            }
            let loadUserSettings = false;
            if (!this.principalService.principal) {
                loadUserSettings = true;
                observables.principal = this.principalService.load();
            }
            else {
                observables.principal = Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["of"])(this.principalService.principal);
            }
            if (!this.userSettingsService.userSettings || loadUserSettings) {
                observables.userSettings = this.userSettingsService.load();
            }
            else {
                observables.userSettings = Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["of"])(this.userSettingsService.userSettings);
            }
            return observables;
        };
        const observable = this.authenticationService.autoAuthenticate()
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["flatMap"])((success) => {
            const observables = makeObservables();
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["forkJoin"])(observables);
        }));
        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].subscribe(observable, (result) => {
            console.log("loginService.login ok: ", result);
            this.setComplete();
            if (appNeeded) {
                this._events.next({ type: "session-start" });
            }
        }, (error) => {
            console.log("loginService.login failed: ", error);
            // proceed to logout to clean process
            this.logout();
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["throwError"])(error);
        });
        return observable;
    }
    getAutomaticProvider() {
        if (this.startConfig.providers) {
            return Object.keys(this.startConfig.providers).find((value) => {
                const provider = this.startConfig.providers && this.startConfig.providers[value];
                return !!provider && provider.automatic;
            });
        }
        return undefined;
    }
    /**
     * Called by the {@link HttpInterceptor} on reception of an `HTTP 401` response.
     * This will either initiate an auto login process (OAuth/SAML) if configured on
     * the Sinequa server or display the login modal dialog to request user credentials
     *
     * @param response An `HTTP 401` response
     * @param acceptCurrent If `true` and the `AuthenticationService` currently has
     * processed credentials then use them instead of starting a new login
     * @returns A promise that is resolved when credentials have been obtained. Note that
     * when auto-authentication is configured the promise will be rejected and the browser
     * redirected to the OAuth/SAML redirect url
     */
    getCredentials(response, acceptCurrent) {
        if (acceptCurrent && this.authenticationService.processedCredentials) {
            return Promise.resolve(); // initiate retry
        }
        if (!this.startConfig.usePopupForLogin && this.authenticationService.autoLoginActive) {
            return this.authenticationService.autoAuthenticate().toPromise()
                .then(result => {
                if (result /*auto-authentication initiated*/) {
                    return Promise.reject("performing auto login");
                }
                else {
                    return undefined;
                }
            });
        }
        let firstCaller = false;
        const automaticProvider = this.getAutomaticProvider();
        if (automaticProvider) {
            if (!this.automaticLoginPromise) {
                this.automaticLoginPromise = this.authenticationService.authenticateWithProvider(automaticProvider).toPromise();
                firstCaller = true;
            }
            return this.automaticLoginPromise
                .then((result) => {
                // NB response should be the return value from JOAuth/JSaml json methods
                // It can be undefined eg if the popup fails to open
                this.automaticLoginPromise = undefined;
                return result ? Promise.resolve() : Promise.reject("popup failed?");
            })
                .catch((reason) => {
                this.automaticLoginPromise = undefined;
                const error = new _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["SqError"](_sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["SqErrorCode"].autoLoginError);
                if (firstCaller) {
                    this.notificationsService.error(error.message);
                }
                throw error;
            });
        }
        const credentials = {};
        if (this.authenticationService.processedCredentials) {
            credentials.userName = this.authenticationService.processedCredentials.userName;
        }
        if (!this.loginModalPromise) {
            this.loginModalPromise = this.modalService.open(this.loginModal, { model: credentials });
            firstCaller = true;
        }
        return this.loginModalPromise
            .then((result) => {
            this.loginModalPromise = undefined;
            // result === ModalResult.Yes is a special return from Login when using AuthenticationService.authenticateWithProvider
            if (result === -1 /* OK */ || result === -3 /* Yes */) {
                if (!this.processCredentialsPromise) {
                    this.processCredentialsPromise = result === -3 /* Yes */ ?
                        Promise.resolve(undefined) :
                        this.authenticationService.authenticate(credentials, response);
                }
                return this.processCredentialsPromise
                    .then((value) => {
                    this.processCredentialsPromise = undefined;
                    if (result !== -3 /* Yes */) {
                        this.authenticationService.processedCredentials = value;
                    }
                    if (!this.checkPrincipalPromise) {
                        this.checkPrincipalPromise = this.principalService.get(false).toPromise();
                    }
                    return this.checkPrincipalPromise
                        .then((principal) => {
                        this.checkPrincipalPromise = undefined;
                        if (!this.principalService.principal || this.principalService.principal.id === principal.id) {
                            // no current principal OR prinicpal unchanged - initiate retry
                            return Promise.resolve();
                        }
                        const error = new _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["SqError"](_sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["SqErrorCode"].principalSwitched);
                        if (firstCaller) {
                            this.switchPrincipal(principal);
                            this.notificationsService.info(error.message);
                        }
                        throw error;
                    })
                        .catch((reason) => {
                        this.checkPrincipalPromise = undefined;
                        throw reason;
                    });
                })
                    .catch((reason) => {
                    this.processCredentialsPromise = undefined;
                    if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["SqError"].is(reason, _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["SqErrorCode"].principalSwitched)) {
                        throw reason;
                    }
                    throw new _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["SqError"](_sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["SqErrorCode"].processedCredentialsError);
                });
            }
            else {
                this.authenticationService.processedCredentials = undefined; // clean slate
                const error = new _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["SqError"](_sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["SqErrorCode"].loginCancelled);
                if (firstCaller) {
                    this.notificationsService.info(error.message);
                }
                throw error;
            }
        })
            .catch((reason) => {
            if (!_sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["SqError"].is(reason, _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["SqErrorCode"].principalSwitched)) {
                this.authenticationService.processedCredentials = undefined; // clean slate
            }
            this.loginModalPromise = undefined;
            throw reason;
        });
    }
}
LoginService.ɵfac = function LoginService_Factory(t) { return new (t || LoginService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_4__["START_CONFIG"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](MODAL_LOGIN), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_angular_router__WEBPACK_IMPORTED_MODULE_5__["Router"], 8), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_6__["AppService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_4__["PrincipalWebService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_4__["UserSettingsWebService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_modal__WEBPACK_IMPORTED_MODULE_7__["ModalService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_notification__WEBPACK_IMPORTED_MODULE_8__["NotificationsService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_authentication_service__WEBPACK_IMPORTED_MODULE_9__["AuthenticationService"])); };
LoginService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: LoginService, factory: LoginService.ɵfac, providedIn: "root" });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](LoginService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: "root"
            }]
    }], function () { return [{ type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_4__["START_CONFIG"]]
            }] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Type"], decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [MODAL_LOGIN]
            }] }, { type: _angular_router__WEBPACK_IMPORTED_MODULE_5__["Router"], decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Optional"]
            }] }, { type: _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_6__["AppService"] }, { type: _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_4__["PrincipalWebService"] }, { type: _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_4__["UserSettingsWebService"] }, { type: _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_7__["ModalService"] }, { type: _sinequa_core_notification__WEBPACK_IMPORTED_MODULE_8__["NotificationsService"] }, { type: _authentication_service__WEBPACK_IMPORTED_MODULE_9__["AuthenticationService"] }]; }, null); })();


/***/ }),

/***/ "Kmd7":
/*!*******************************************!*\
  !*** ../components/search/messages/fr.ts ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    "search": {
        "emptySearchNotification": "Veuillez saisir des termes de recherche pour effectuer une recherche",
        "alreadySelected": "Déjà sélectionné"
    },
    "breadcrumbs": {
        "emptySearch": "<recherche vide>",
        "itemRemove": "Supprimer"
    },
    "didYouMean": {
        "dymonlyBeforeCorrected": "Essayez avec cette orthographe : ",
        "dymonlyAfterCorrected": "",
        "correctBeforeCorrected": "Résultats pour : ",
        "correctBeforeOriginal": ". Essayez avec l'orthographe : ",
        "correctAfterOriginal": "",
        "smartBeforeOriginal": "Résultats pour : ",
        "smartBeforeCorrected": " et ",
        "smartAfterCorrected": ""
    },
    "pageSizeSelector": {
        "pageSizeChoice": "{size, number} par page",
        "defaultPageSize": "Défaut ({size, number})",
        "defaultPageSizeChoice": "{size, number} par page (défaut)"
    },
    "pager": {
        "pageNumberTitle": "Page {page, number}",
        "firstPage": "Première page",
        "nextPage": "Page suivante",
        "previousPage": "Page précédente",
        "lastPage": "Dernière page"
    },
    "sortSelector": {
        "sortByTitle": "Trier par: {text}",
        "sortOther": "<Autre>"
    },
    "sort": {
        "relevance": "Pertinence",
        "date": "Date",
        "filename": "Nom de fichier",
        "title": "Titre"
    },
    "queryIntent": {
        "externalServiceTimeoutError": "Cette page de résultat est incomplète due à un délai d'attente interne dépassé. S'il vous plaît, réessayez plus tard."
    }
});


/***/ }),

/***/ "Krhb":
/*!**********************************************************!*\
  !*** ../components/action/bootstrap/dropdown.service.ts ***!
  \**********************************************************/
/*! exports provided: gClassName, gSelector, gAttachmentMap, BsDropdownService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "gClassName", function() { return gClassName; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "gSelector", function() { return gSelector; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "gAttachmentMap", function() { return gAttachmentMap; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsDropdownService", function() { return BsDropdownService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "+kfY");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");




const gClassName = {
    DISABLED: 'disabled',
    SHOW: 'show',
    DROPUP: 'dropup',
    DROPRIGHT: 'dropright',
    DROPLEFT: 'dropleft',
    MENURIGHT: 'dropdown-menu-right',
    MENULEFT: 'dropdown-menu-left',
    POSITION_STATIC: 'position-static'
};
const gSelector = {
    DROPDOWN: '.dropdown',
    DATA_TOGGLE: '[data-toggle="dropdown"]',
    FORM_CHILD: '.dropdown form',
    MENU: '.dropdown-menu',
    NAVBAR_NAV: '.navbar-nav',
    VISIBLE_ITEMS: '.dropdown-menu .dropdown-item:not(.disabled):not(:disabled)'
};
const gAttachmentMap = {
    TOP: 'top-start',
    TOPEND: 'top-end',
    BOTTOM: 'bottom-start',
    BOTTOMEND: 'bottom-end',
    RIGHT: 'right-start',
    RIGHTEND: 'right-end',
    LEFT: 'left-start',
    LEFTEND: 'left-end'
};
class BsDropdownService {
    constructor(rendererFactory) {
        this.dataApiKeydownHandler = (event) => {
            const descendant = this.matchDescendant(document.documentElement, event, `${gSelector.DATA_TOGGLE},${gSelector.MENU}`);
            if (!descendant) {
                return;
            }
            // If not input/textarea:
            //  - And not a key in REGEXP_KEYDOWN => not a dropdown command
            // If input/textarea:
            //  - If space key => not a dropdown command
            //  - If key is other than escape
            //    - If key is not up or down => not a dropdown command
            //    - If trigger inside the menu => not a dropdown command
            if (/input|textarea/i.test(event.target.tagName) ?
                event.which === _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Keys"].space || event.which !== _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Keys"].esc &&
                    (event.which !== _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Keys"].down && event.which !== _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Keys"].up || event.target.closest(gSelector.MENU)) :
                !(event.which === _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Keys"].up || event.which === _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Keys"].down || event.which === _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Keys"].esc)) {
                return;
            }
            event.preventDefault();
            event.stopPropagation();
            if ( /*TODO descendant.disabled || */descendant.classList.contains(gClassName.DISABLED)) {
                return;
            }
            const parent = this.getParentFromElement(descendant);
            const isActive = parent instanceof HTMLElement && parent.classList.contains(gClassName.SHOW);
            if (!isActive && event.which === _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Keys"].esc) {
                return;
            }
            if (!isActive || isActive && (event.which === _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Keys"].esc || event.which === _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Keys"].space)) {
                if (event.which === _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Keys"].esc) {
                    const toggle = parent instanceof Element && parent.querySelector(gSelector.DATA_TOGGLE);
                    if (toggle instanceof HTMLElement) {
                        // toggle.dispatchEvent(new Event("focus", {bubbles: true}));
                        // NB $(toggle).trigger('focus') will set the focus on toggle
                        toggle.focus();
                    }
                }
                descendant.dispatchEvent(new Event("click", { bubbles: true }));
                return;
            }
            let items = [];
            if (parent instanceof Element) {
                items = items.slice.call(parent.querySelectorAll(gSelector.VISIBLE_ITEMS))
                    .filter((item) => item instanceof HTMLElement && (item.offsetWidth > 0 || item.offsetHeight > 0));
            }
            if (items.length === 0) {
                return;
            }
            let index = items.indexOf(event.target);
            if (event.which === _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Keys"].up && index > 0) { // Up
                index--;
            }
            if (event.which === _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Keys"].down && index < items.length - 1) { // Down
                index++;
            }
            if (index < 0) {
                index = 0;
            }
            items[index].focus();
        };
        this.clearMenus = (event) => {
            if (event && (event.which === 3 /*RIGHT_MOUSE_BUTTON_WHICH*/ ||
                event.type === 'keyup' && event.which !== _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Keys"].tab)) {
                return;
            }
            this._events.next({ type: "clear", sourceEvent: event });
        };
        this.toggle = (event) => {
            const descendant = this.matchDescendant(document.documentElement, event, gSelector.DATA_TOGGLE);
            if (!descendant) {
                return;
            }
            event.preventDefault();
            event.stopPropagation();
            this._events.next({ type: "toggle", element: descendant });
        };
        this.formChildClick = (event) => {
            if (!this.matchDescendant(document.documentElement, event, gSelector.FORM_CHILD)) {
                return;
            }
            event.stopPropagation();
        };
        this._events = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
        this.renderer = rendererFactory.createRenderer(null, null);
        this.unlisteners = [];
        this.unlisteners.push(this.renderer.listen(document, "keydown", this.dataApiKeydownHandler));
        this.unlisteners.push(this.renderer.listen(document, "click", this.clearMenus));
        this.unlisteners.push(this.renderer.listen(document, "keyup", this.clearMenus));
        this.unlisteners.push(this.renderer.listen(document, "click", this.toggle));
        this.unlisteners.push(this.renderer.listen(document, "click", this.formChildClick));
    }
    ngOnDestroy() {
        this._events.complete();
        this.unlisteners.forEach((unlistener) => unlistener());
    }
    get events() {
        return this._events;
    }
    matchDescendant(base, event, selector) {
        let element = event.target;
        while (element && element !== base) {
            if (element.matches(selector)) {
                return element;
            }
            element = element.parentElement;
        }
        return null;
    }
    getSelectorFromElement(element) {
        let selector = element.getAttribute('data-target');
        if (!selector || selector === '#') {
            const hrefAttr = element.getAttribute('href');
            selector = hrefAttr && hrefAttr !== '#' ? hrefAttr.trim() : '';
        }
        try {
            return document.querySelector(selector) ? selector : null;
        }
        catch (err) {
            return null;
        }
    }
    getParentFromElement(element) {
        let parent = null;
        const selector = this.getSelectorFromElement(element);
        if (selector) {
            parent = document.querySelector(selector);
        }
        if (!parent) {
            // Account for scroll menus and sub menus
            parent = element.parentElement;
            while (parent &&
                (parent.classList.contains("sq-scroll-menu") ||
                    parent.classList.contains("sq-scroll-menu-item") ||
                    parent.classList.contains("dropdown-submenu"))) {
                parent = parent.parentElement;
            }
        }
        return parent;
    }
    raiseClear() {
        this._events.next({ type: "clear", sourceEvent: undefined });
    }
}
BsDropdownService.ɵfac = function BsDropdownService_Factory(t) { return new (t || BsDropdownService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["RendererFactory2"])); };
BsDropdownService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: BsDropdownService, factory: BsDropdownService.ɵfac, providedIn: "root" });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsDropdownService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: "root"
            }]
    }], function () { return [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["RendererFactory2"] }]; }, null); })();


/***/ }),

/***/ "L/3u":
/*!*******************************************************!*\
  !*** ../components/user-settings/user-preferences.ts ***!
  \*******************************************************/
/*! exports provided: UserPreferences */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserPreferences", function() { return UserPreferences; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/web-services */ "cIYa");



/**
 * The role of this service is to bundle together the simple preferences of
 * the user and synchronise them with the user settings.
 *
 * Usage:
 * this.userPreferences.get("foo")
 * this.userPreferences.set("foo", "bar")
 * this.userPreferences.sync()
 */
class UserPreferences {
    constructor(userSettingsService) {
        this.userSettingsService = userSettingsService;
    }
    get prefs() {
        if (!this.userSettingsService.userSettings)
            this.userSettingsService.userSettings = {};
        if (!this.userSettingsService.userSettings["prefs"])
            this.userSettingsService.userSettings["prefs"] = {};
        return this.userSettingsService.userSettings["prefs"];
    }
    /**
     * Returns the value of a property
     * @param property the name of this property
     */
    get(property) {
        return this.prefs[property.toLowerCase()];
    }
    /**
     * Sets the value of a property
     * @param property the name of this property
     * @param value the value
     * @param skipSync whether we should skyp syncing (to update multiple properties for example)
     */
    set(property, value, skipSync) {
        this.prefs[property.toLowerCase()] = value;
        if (!skipSync) {
            this.sync();
        }
    }
    /**
     * Deletes a given property from the preferences
     * @param property the name of this property
     * @param skipSync whether we should skyp syncing (to update multiple properties for example)
     */
    delete(property, skipSync) {
        if (Object.prototype.hasOwnProperty.call(this.prefs, property.toLowerCase())) {
            this.prefs[property.toLowerCase()] = null;
            if (!skipSync) {
                this.sync();
            }
        }
    }
    /**
     * Synchronizes the user preferences with the server
     */
    sync() {
        this.userSettingsService.patch({ prefs: this.prefs });
    }
}
UserPreferences.ɵfac = function UserPreferences_Factory(t) { return new (t || UserPreferences)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_1__["UserSettingsWebService"])); };
UserPreferences.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: UserPreferences, factory: UserPreferences.ɵfac, providedIn: "root" });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](UserPreferences, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: "root"
            }]
    }], function () { return [{ type: _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_1__["UserSettingsWebService"] }]; }, null); })();


/***/ }),

/***/ "L67x":
/*!*****************************************************************!*\
  !*** ../components/result/result-thumbnail/result-thumbnail.ts ***!
  \*****************************************************************/
/*! exports provided: ResultThumbnail */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ResultThumbnail", function() { return ResultThumbnail; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/app-utils */ "SBPP");
/* harmony import */ var _sinequa_components_search__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/components/search */ "7+c1");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common */ "2kYt");





function ResultThumbnail_a_0_Template(rf, ctx) { if (rf & 1) {
    const _r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "a", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function ResultThumbnail_a_0_Template_a_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r2); const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r1.click(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "img", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("href", ctx_r0.href, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeUrl"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("target", ctx_r0.target);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("src", ctx_r0.thumbnailUrl, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeUrl"]);
} }
class ResultThumbnail {
    constructor(appService, searchService) {
        this.appService = appService;
        this.searchService = searchService;
        this.linkBehavior = "open";
        this.defaultThumbnail = "";
        this.thumbnailClicked = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
    }
    ngOnChanges(changes) {
        if (!!changes["record"]) {
            this.documentUrl = this.record.url1;
            if (!!this.thumbnailColumn) {
                this.thumbnailUrl = this.record[this.thumbnailColumn];
            }
            if (!this.thumbnailUrl && !!this.record.thumbnailUrl) {
                this.thumbnailUrl = this.record.thumbnailUrl;
            }
            if (!this.thumbnailUrl && !!this.defaultThumbnail) {
                this.thumbnailUrl = this.defaultThumbnail;
            }
            this.thumbnailUrl = this.appService.updateUrlForCors(this.thumbnailUrl);
        }
    }
    get hasLinkBehaviour() {
        return this.linkBehavior === "open";
    }
    get href() {
        return (this.hasLinkBehaviour && this.documentUrl) || "#";
    }
    get target() {
        return (this.hasLinkBehaviour && this.documentUrl) ? "_blank" : "_self";
    }
    click() {
        const isLink = this.hasLinkBehaviour && !!this.documentUrl; // true if this is a regular link (performs the default action)
        if (isLink)
            this.searchService.notifyOpenOriginalDocument(this.record);
        this.thumbnailClicked.emit(isLink); // Can be use to trigger actions
        return isLink;
    }
}
ResultThumbnail.ɵfac = function ResultThumbnail_Factory(t) { return new (t || ResultThumbnail)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_1__["AppService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_search__WEBPACK_IMPORTED_MODULE_2__["SearchService"])); };
ResultThumbnail.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: ResultThumbnail, selectors: [["sq-result-thumbnail"]], inputs: { record: "record", linkBehavior: "linkBehavior", thumbnailColumn: "thumbnailColumn", defaultThumbnail: "defaultThumbnail" }, outputs: { thumbnailClicked: "thumbnailClicked" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 1, vars: 1, consts: [[3, "href", "target", "click", 4, "ngIf"], [3, "href", "target", "click"], [3, "src"]], template: function ResultThumbnail_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, ResultThumbnail_a_0_Template, 2, 3, "a", 0);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.thumbnailUrl);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_3__["NgIf"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ResultThumbnail, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-result-thumbnail",
                templateUrl: "./result-thumbnail.html"
            }]
    }], function () { return [{ type: _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_1__["AppService"] }, { type: _sinequa_components_search__WEBPACK_IMPORTED_MODULE_2__["SearchService"] }]; }, { record: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], linkBehavior: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], thumbnailColumn: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], defaultThumbnail: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], thumbnailClicked: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }] }); })();


/***/ }),

/***/ "LH3E":
/*!*********************************!*\
  !*** ../core/messages/index.ts ***!
  \*********************************/
/*! exports provided: enCore, frCore, deCore */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "enCore", function() { return enCore; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "frCore", function() { return frCore; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "deCore", function() { return deCore; });
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_core_login__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/login */ "7O5u");


const enCore = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].merge({}, _sinequa_core_login__WEBPACK_IMPORTED_MODULE_1__["enLogin"]);
const frCore = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].merge({}, _sinequa_core_login__WEBPACK_IMPORTED_MODULE_1__["frLogin"]);
const deCore = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].merge({}, _sinequa_core_login__WEBPACK_IMPORTED_MODULE_1__["deLogin"]);



/***/ }),

/***/ "LNmG":
/*!*******************************************!*\
  !*** ../analytics/heatmap/messages/en.ts ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    "heatmap": {
        "name": "Heatmap",
        "nodata": "No data to display",
        "maxX": "Max items on X axis",
        "maxY": "Max items on Y axis",
        "rescale": "Re-scale axes",
        "colors": "Color scheme",
        "blue": "Blue",
        "red": "Red",
        "green": "Green",
        "diverging": "Diverging",
        "spectral": "Spectral",
        "cool": "Cool",
        "defaults": "Defaults",
        "showing": "Showing {shown, number} of {total, number} tiles",
        "tooltip": "{count, plural, one {# item} other {# items}}"
    },
});


/***/ }),

/***/ "LWKG":
/*!****************************************************!*\
  !*** ../components/alerts/bootstrap/public-api.ts ***!
  \****************************************************/
/*! exports provided: BsAlertsModule, BsAlertsMenuComponent, BsEditAlert, BsManageAlerts */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _alerts_module__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./alerts.module */ "mhH1");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsAlertsModule", function() { return _alerts_module__WEBPACK_IMPORTED_MODULE_0__["BsAlertsModule"]; });

/* harmony import */ var _alerts_menu_alerts_menu_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./alerts-menu/alerts-menu.component */ "vfzd");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsAlertsMenuComponent", function() { return _alerts_menu_alerts_menu_component__WEBPACK_IMPORTED_MODULE_1__["BsAlertsMenuComponent"]; });

/* harmony import */ var _edit_alert_edit_alert__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./edit-alert/edit-alert */ "asQJ");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsEditAlert", function() { return _edit_alert_edit_alert__WEBPACK_IMPORTED_MODULE_2__["BsEditAlert"]; });

/* harmony import */ var _manage_alerts_manage_alerts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./manage-alerts/manage-alerts */ "tVL2");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsManageAlerts", function() { return _manage_alerts_manage_alerts__WEBPACK_IMPORTED_MODULE_3__["BsManageAlerts"]; });







/***/ }),

/***/ "Li15":
/*!*****************************************************!*\
  !*** ../components/facet/bootstrap/facet.module.ts ***!
  \*****************************************************/
/*! exports provided: BsFacetModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsFacetModule", function() { return BsFacetModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "nIj0");
/* harmony import */ var ng5_slider__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ng5-slider */ "Sp7S");
/* harmony import */ var _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/core/intl */ "EfqX");
/* harmony import */ var _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sinequa/components/utils */ "DD1E");
/* harmony import */ var _sinequa_components_collapse__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @sinequa/components/collapse */ "niHV");
/* harmony import */ var _sinequa_components_action__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @sinequa/components/action */ "WsHA");
/* harmony import */ var _sinequa_components_search__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @sinequa/components/search */ "7+c1");
/* harmony import */ var _sinequa_components_autocomplete__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @sinequa/components/autocomplete */ "jAS1");
/* harmony import */ var _facet_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../facet.service */ "mQJ4");
/* harmony import */ var _facet_refine_facet_refine__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./facet-refine/facet-refine */ "YgbU");
/* harmony import */ var _facet_bar_facet_bar__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./facet-bar/facet-bar */ "OCLz");
/* harmony import */ var _facet_mysearch_facet_mysearch__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./facet-mysearch/facet-mysearch */ "Cfzj");
/* harmony import */ var _facet_range_facet_range__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./facet-range/facet-range */ "DaU4");
/* harmony import */ var _facet_card_facet_card__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./facet-card/facet-card */ "wL8g");
/* harmony import */ var _facet_list_facet_list__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./facet-list/facet-list */ "MbPB");
/* harmony import */ var _facet_tree_facet_tree__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./facet-tree/facet-tree */ "JgJf");
/* harmony import */ var _facet_filters_facet_filters__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./facet-filters/facet-filters */ "/1CB");
/* harmony import */ var _facet_multi_facet_multi_component__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./facet-multi/facet-multi.component */ "bna5");
/* harmony import */ var _facet_tag_cloud_facet_tag_cloud__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./facet-tag-cloud/facet-tag-cloud */ "rLnE");







 // needed for sq-action-button
 // needed for refine facet / didyoumean
 // needed for refine facet












class BsFacetModule {
    static forRoot(allFacets = undefined, defaultFacets = undefined) {
        return {
            ngModule: BsFacetModule,
            providers: [
                {
                    provide: _facet_service__WEBPACK_IMPORTED_MODULE_10__["ALL_FACETS"],
                    useValue: allFacets
                },
                {
                    provide: _facet_service__WEBPACK_IMPORTED_MODULE_10__["DEFAULT_FACETS"],
                    useValue: defaultFacets
                },
            ]
        };
    }
}
BsFacetModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: BsFacetModule });
BsFacetModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function BsFacetModule_Factory(t) { return new (t || BsFacetModule)(); }, imports: [[
            _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_2__["ReactiveFormsModule"],
            _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_4__["IntlModule"],
            _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_5__["UtilsModule"],
            _sinequa_components_collapse__WEBPACK_IMPORTED_MODULE_6__["CollapseModule"],
            _sinequa_components_action__WEBPACK_IMPORTED_MODULE_7__["BsActionModule"],
            _sinequa_components_search__WEBPACK_IMPORTED_MODULE_8__["BsSearchModule"],
            _sinequa_components_autocomplete__WEBPACK_IMPORTED_MODULE_9__["BsAutocompleteModule"],
            ng5_slider__WEBPACK_IMPORTED_MODULE_3__["Ng5SliderModule"]
        ]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](BsFacetModule, { declarations: [_facet_card_facet_card__WEBPACK_IMPORTED_MODULE_15__["BsFacetCard"], _facet_list_facet_list__WEBPACK_IMPORTED_MODULE_16__["BsFacetList"], _facet_tree_facet_tree__WEBPACK_IMPORTED_MODULE_17__["BsFacetTree"],
        _facet_filters_facet_filters__WEBPACK_IMPORTED_MODULE_18__["BsFacetFilters"],
        _facet_refine_facet_refine__WEBPACK_IMPORTED_MODULE_11__["BsRefine"],
        _facet_range_facet_range__WEBPACK_IMPORTED_MODULE_14__["BsFacetRange"], _facet_mysearch_facet_mysearch__WEBPACK_IMPORTED_MODULE_13__["BsMySearch"], _facet_bar_facet_bar__WEBPACK_IMPORTED_MODULE_12__["BsFacetBar"],
        _facet_multi_facet_multi_component__WEBPACK_IMPORTED_MODULE_19__["BsFacetMultiComponent"],
        _facet_tag_cloud_facet_tag_cloud__WEBPACK_IMPORTED_MODULE_20__["BsFacetTagCloud"]], imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
        _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"],
        _angular_forms__WEBPACK_IMPORTED_MODULE_2__["ReactiveFormsModule"],
        _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_4__["IntlModule"],
        _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_5__["UtilsModule"],
        _sinequa_components_collapse__WEBPACK_IMPORTED_MODULE_6__["CollapseModule"],
        _sinequa_components_action__WEBPACK_IMPORTED_MODULE_7__["BsActionModule"],
        _sinequa_components_search__WEBPACK_IMPORTED_MODULE_8__["BsSearchModule"],
        _sinequa_components_autocomplete__WEBPACK_IMPORTED_MODULE_9__["BsAutocompleteModule"],
        ng5_slider__WEBPACK_IMPORTED_MODULE_3__["Ng5SliderModule"]], exports: [_facet_card_facet_card__WEBPACK_IMPORTED_MODULE_15__["BsFacetCard"], _facet_list_facet_list__WEBPACK_IMPORTED_MODULE_16__["BsFacetList"], _facet_tree_facet_tree__WEBPACK_IMPORTED_MODULE_17__["BsFacetTree"],
        _facet_filters_facet_filters__WEBPACK_IMPORTED_MODULE_18__["BsFacetFilters"],
        _facet_refine_facet_refine__WEBPACK_IMPORTED_MODULE_11__["BsRefine"],
        _facet_range_facet_range__WEBPACK_IMPORTED_MODULE_14__["BsFacetRange"], _facet_mysearch_facet_mysearch__WEBPACK_IMPORTED_MODULE_13__["BsMySearch"], _facet_bar_facet_bar__WEBPACK_IMPORTED_MODULE_12__["BsFacetBar"],
        _facet_multi_facet_multi_component__WEBPACK_IMPORTED_MODULE_19__["BsFacetMultiComponent"],
        _facet_tag_cloud_facet_tag_cloud__WEBPACK_IMPORTED_MODULE_20__["BsFacetTagCloud"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsFacetModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                    _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"],
                    _angular_forms__WEBPACK_IMPORTED_MODULE_2__["ReactiveFormsModule"],
                    _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_4__["IntlModule"],
                    _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_5__["UtilsModule"],
                    _sinequa_components_collapse__WEBPACK_IMPORTED_MODULE_6__["CollapseModule"],
                    _sinequa_components_action__WEBPACK_IMPORTED_MODULE_7__["BsActionModule"],
                    _sinequa_components_search__WEBPACK_IMPORTED_MODULE_8__["BsSearchModule"],
                    _sinequa_components_autocomplete__WEBPACK_IMPORTED_MODULE_9__["BsAutocompleteModule"],
                    ng5_slider__WEBPACK_IMPORTED_MODULE_3__["Ng5SliderModule"]
                ],
                declarations: [
                    _facet_card_facet_card__WEBPACK_IMPORTED_MODULE_15__["BsFacetCard"], _facet_list_facet_list__WEBPACK_IMPORTED_MODULE_16__["BsFacetList"], _facet_tree_facet_tree__WEBPACK_IMPORTED_MODULE_17__["BsFacetTree"],
                    _facet_filters_facet_filters__WEBPACK_IMPORTED_MODULE_18__["BsFacetFilters"],
                    _facet_refine_facet_refine__WEBPACK_IMPORTED_MODULE_11__["BsRefine"],
                    _facet_range_facet_range__WEBPACK_IMPORTED_MODULE_14__["BsFacetRange"], _facet_mysearch_facet_mysearch__WEBPACK_IMPORTED_MODULE_13__["BsMySearch"], _facet_bar_facet_bar__WEBPACK_IMPORTED_MODULE_12__["BsFacetBar"],
                    _facet_multi_facet_multi_component__WEBPACK_IMPORTED_MODULE_19__["BsFacetMultiComponent"],
                    _facet_tag_cloud_facet_tag_cloud__WEBPACK_IMPORTED_MODULE_20__["BsFacetTagCloud"]
                ],
                exports: [
                    _facet_card_facet_card__WEBPACK_IMPORTED_MODULE_15__["BsFacetCard"], _facet_list_facet_list__WEBPACK_IMPORTED_MODULE_16__["BsFacetList"], _facet_tree_facet_tree__WEBPACK_IMPORTED_MODULE_17__["BsFacetTree"],
                    _facet_filters_facet_filters__WEBPACK_IMPORTED_MODULE_18__["BsFacetFilters"],
                    _facet_refine_facet_refine__WEBPACK_IMPORTED_MODULE_11__["BsRefine"],
                    _facet_range_facet_range__WEBPACK_IMPORTED_MODULE_14__["BsFacetRange"], _facet_mysearch_facet_mysearch__WEBPACK_IMPORTED_MODULE_13__["BsMySearch"], _facet_bar_facet_bar__WEBPACK_IMPORTED_MODULE_12__["BsFacetBar"],
                    _facet_multi_facet_multi_component__WEBPACK_IMPORTED_MODULE_19__["BsFacetMultiComponent"],
                    _facet_tag_cloud_facet_tag_cloud__WEBPACK_IMPORTED_MODULE_20__["BsFacetTagCloud"]
                ],
            }]
    }], null, null); })();


/***/ }),

/***/ "LmqU":
/*!*******************************************************************!*\
  !*** ../components/utils/directives/tooltip/tooltip.component.ts ***!
  \*******************************************************************/
/*! exports provided: TooltipComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TooltipComponent", function() { return TooltipComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_animations__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/animations */ "f7+R");



class TooltipComponent {
    constructor() {
        this.text = '';
    }
}
TooltipComponent.ɵfac = function TooltipComponent_Factory(t) { return new (t || TooltipComponent)(); };
TooltipComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: TooltipComponent, selectors: [["sqx-tooltip"]], inputs: { text: "text" }, decls: 2, vars: 2, consts: [[1, "sq-tooltip"]], template: function TooltipComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("@tooltip", undefined);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx.text);
    } }, styles: ["[_nghost-%COMP%] {\r\n  display: block;\r\n}\r\n\r\n[_nghost-%COMP%]\r\n.sq-tooltip {\r\n  background-color: #494949;\r\n  color: white;\r\n  padding: 0.5rem 1rem;\r\n  border-radius: 4px;\r\n  font-size: 14px;\r\n  max-width: 280px;\r\n}\r\n\r\n.dark[_nghost-%COMP%]\r\n.sq-tooltip, .dark   [_nghost-%COMP%]\r\n.sq-tooltip {\r\n  background-color: #f0f0f0;\r\n  color: #606060;\r\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2plY3RzL2NvbXBvbmVudHMvdXRpbHMvZGlyZWN0aXZlcy90b29sdGlwL3Rvb2x0aXAuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGNBQWM7QUFDaEI7O0FBRUE7O0VBRUUseUJBQXlCO0VBQ3pCLFlBQVk7RUFDWixvQkFBb0I7RUFDcEIsa0JBQWtCO0VBQ2xCLGVBQWU7RUFDZixnQkFBZ0I7QUFDbEI7O0FBRUE7O0VBRUUseUJBQXlCO0VBQ3pCLGNBQWM7QUFDaEIiLCJmaWxlIjoicHJvamVjdHMvY29tcG9uZW50cy91dGlscy9kaXJlY3RpdmVzL3Rvb2x0aXAvdG9vbHRpcC5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xyXG4gIGRpc3BsYXk6IGJsb2NrO1xyXG59XHJcblxyXG46aG9zdC1jb250ZXh0KClcclxuLnNxLXRvb2x0aXAge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICM0OTQ5NDk7XHJcbiAgY29sb3I6IHdoaXRlO1xyXG4gIHBhZGRpbmc6IDAuNXJlbSAxcmVtO1xyXG4gIGJvcmRlci1yYWRpdXM6IDRweDtcclxuICBmb250LXNpemU6IDE0cHg7XHJcbiAgbWF4LXdpZHRoOiAyODBweDtcclxufVxyXG5cclxuOmhvc3QtY29udGV4dCguZGFyaylcclxuLnNxLXRvb2x0aXAge1xyXG4gIGJhY2tncm91bmQtY29sb3I6ICNmMGYwZjA7XHJcbiAgY29sb3I6ICM2MDYwNjA7XHJcbn0iXX0= */"], data: { animation: [
            Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["trigger"])('tooltip', [
                Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["transition"])(':enter', [
                    Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["style"])({ opacity: 0 }),
                    Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["animate"])(300, Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["style"])({ opacity: 1 })),
                ]),
                Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["transition"])(':leave', [
                    Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["animate"])(300, Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["style"])({ opacity: 0 })),
                ]),
            ]),
        ] }, changeDetection: 0 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](TooltipComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'sqx-tooltip',
                styleUrls: ['./tooltip.component.css'],
                template: `<div class="sq-tooltip" @tooltip>{{ text }}</div>`,
                changeDetection: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectionStrategy"].OnPush,
                animations: [
                    Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["trigger"])('tooltip', [
                        Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["transition"])(':enter', [
                            Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["style"])({ opacity: 0 }),
                            Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["animate"])(300, Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["style"])({ opacity: 1 })),
                        ]),
                        Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["transition"])(':leave', [
                            Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["animate"])(300, Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["style"])({ opacity: 0 })),
                        ]),
                    ]),
                ],
            }]
    }], null, { text: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "LsAO":
/*!**************************************************!*\
  !*** ../components/user-settings/messages/en.ts ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    "userMenu": {
        "user": "User",
        "login": "Login",
        "overrideUser": "Override User",
        "settings": "Settings",
        "revertUserOverride": "Revert User Override",
        "administration": "Administration",
        "logout": "Logout",
        "language": "Language",
        "resetUserSettings": {
            "menu": "Reset user settings",
            "modalTitle": "Reset user settings",
            "modalMessage": "You are about to reset ALL your user data (recent queries, collections, alerts, preferences, etc.). Do you want to continue?",
            "modalConfirmButton": "Confirm",
            "successMessage": "Reset user settings succefully",
            "errorMessage": "Reset user settings failed"
        }
    },
    "editUserSettings": {
        "title": "Settings",
        "language": "UI Language",
        "pageSize": "Number of results per page",
        "email": "Email"
    }
});


/***/ }),

/***/ "Lvit":
/*!************************************!*\
  !*** ../core/intl/intl.service.ts ***!
  \************************************/
/*! exports provided: LOCALES_CONFIG, INTL_CONFIG, IntlService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LOCALES_CONFIG", function() { return LOCALES_CONFIG; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "INTL_CONFIG", function() { return INTL_CONFIG; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IntlService", function() { return IntlService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "+kfY");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs/operators */ "0Wlh");
/* harmony import */ var intl_messageformat__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! intl-messageformat */ "HM/8");
/* harmony import */ var intl_format_cache__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! intl-format-cache */ "8ejS");
/* harmony import */ var _formatjs_intl_relativetimeformat_polyfill__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @formatjs/intl-relativetimeformat/polyfill */ "l5A/");
/* harmony import */ var _formatjs_intl_relativetimeformat_polyfill__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_formatjs_intl_relativetimeformat_polyfill__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var intl_pluralrules__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! intl-pluralrules */ "XUWd");
/* harmony import */ var intl_pluralrules__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(intl_pluralrules__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lodash/get */ "2srY");
/* harmony import */ var lodash_get__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(lodash_get__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var d3_format__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! d3-format */ "3QYS");
/* harmony import */ var d3_time_format__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! d3-time-format */ "iDDP");
/* harmony import */ var d3__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! d3 */ "Bou+");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! moment */ "wgY5");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var _import_moment__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./import-moment */ "1A11");





// TODO - check loading of locale data per locale - the ponyfill doesn't seem to work




// We support loading d3 bundled and unbundled as it is typically easier
// for others to integrate bundled examples but some 3rd party libs (eg swimlane/charts)
// load d3 unbundled.




// moment needs to be set globally to load moment locales successfully when the locales are bundled in the main rollup bundle
// see: https://github.com/rollup/rollup/issues/641


/**
 * @ignore
 */
const formatters = {
    getMessageFormat: Object(intl_format_cache__WEBPACK_IMPORTED_MODULE_4__["default"])(intl_messageformat__WEBPACK_IMPORTED_MODULE_3__["default"]),
    getNumberFormat: Object(intl_format_cache__WEBPACK_IMPORTED_MODULE_4__["default"])(Intl.NumberFormat),
    getDateTimeFormat: Object(intl_format_cache__WEBPACK_IMPORTED_MODULE_4__["default"])(Intl.DateTimeFormat),
    getRelativeTimeFormat: Object(intl_format_cache__WEBPACK_IMPORTED_MODULE_4__["default"])(Intl.RelativeTimeFormat),
    getPluralRules: Object(intl_format_cache__WEBPACK_IMPORTED_MODULE_4__["default"])(Intl.PluralRules)
};
/**
 * @ignore
 */
const DATE_TIME_FORMAT_OPTIONS = [
    "dateStyle",
    "timeStyle",
    "localeMatcher",
    "timeZone",
    "hour12",
    "hourCycle",
    "formatMatcher",
    "weekday",
    "era",
    "year",
    "month",
    "day",
    "hour",
    "minute",
    "second",
    "timeZoneName",
];
/**
 * @ignore
 */
const NUMBER_FORMAT_OPTIONS = [
    "localeMatcher",
    "style",
    "currency",
    "currencyDisplay",
    "useGrouping",
    "minimumIntegerDigits",
    "minimumFractionDigits",
    "maximumFractionDigits",
    "minimumSignificantDigits",
    "maximumSignificantDigits",
];
/**
 * @ignore
 */
const RELATIVE_TIME_FORMAT_OPTIONS = [
    "localeMatcher",
    "numeric",
    "style"
];
/**
 * An injection token used to initialize the [locales configuration]{@link LocalesConfig} of {@link IntlModule}
 */
const LOCALES_CONFIG = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["InjectionToken"]('LOCALES_CONFIG');
/**
 * An injection token used to initialize the [general configuration]{@link IntlConfig} of {@link IntlModule}
 */
const INTL_CONFIG = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["InjectionToken"]('INTL_CONFIG');
/**
 * Default custom ICU Message formats
 */
const DEFAULT_FORMATS = {
    date: {
        sqDateTime: {
            day: "2-digit",
            month: "2-digit",
            year: "numeric",
            hour: "2-digit",
            minute: "2-digit",
            second: "2-digit"
        },
        sqDate: {
            day: "2-digit",
            month: "2-digit",
            year: "numeric"
        },
        sqYear: {
            year: "numeric"
        },
        sqMonthYear: {
            month: "short",
            year: "numeric"
        }
    },
    time: {},
    number: {
        sqWeek: {
            minimumIntegerDigits: 2,
            useGrouping: false
        },
        sqYear: {
            useGrouping: false
        },
        sqNoGrouping: {
            useGrouping: false
        },
        sqZeroDecimalPlaces: {
            maximumFractionDigits: 0
        },
        sqOneDecimalPlace: {
            maximumFractionDigits: 1
        },
        sqTwoDecimalPlaces: {
            maximumFractionDigits: 2
        },
        sqThreeDecimalPlaces: {
            maximumFractionDigits: 3
        },
        sqFourDecimalPlaces: {
            maximumFractionDigits: 4
        },
        sqFiveDecimalPlaces: {
            maximumFractionDigits: 5
        }
    }
};
/* eslint-disable jsdoc/check-alignment,jsdoc/check-indentation,jsdoc/newline-after-description */
/**
 * This service provides methods for managing locales and for formatting dates, numbers and strings using
 * [ICU Message syntax]{@link https://formatjs.io/guides/message-syntax/}. [Messages]{@link LocaleData#messages} stored
 * in a locale's data are referenced using a key in the following form: `msg#<JSONPath>`. Given the following messages:
``` json
{
    "myComponent": {
        "title": "Component: {name}",
        "footer": "Created on {created, date, medium} by {author}"
    }
}
```
 * this key: `msg#myComponent.footer` references myComponent's footer message. The message itself uses
 * ICU Message syntax.
 *
 * This service registers a number of [default custom ICU formats]{@link DEFAULT_FORMATS}. These can be overridden or
 * extended by providing the [INTL_CONFIG]{@link INTL_CONFIG} injection token.
 */
/* eslint-enable jsdoc/check-alignment, jsdoc/check-indentation, jsdoc/newline-after-description */
class IntlService {
    constructor(intlConfig, localesConfig) {
        this.intlConfig = intlConfig;
        this.localesConfig = localesConfig;
        /**
         * The prefix for ICU messages to be retrieved from [LocaleData.messages]{@link LocaleData#messages}
         * by {@link formatMessage}
         */
        this.messagePrefix = "msg#";
        /**
         * An alternative prefix for inline ICU messages processed by {@link formatMessage}
         */
        this.textPrefix = "txt#";
        if (!this.intlConfig) {
            this.intlConfig = {};
        }
        if (!localesConfig) {
            if (!localesConfig) {
                console.error("LOCALES_CONFIG has not been provided by the calling app. " +
                    "Please import IntlModule using the forRoot method to which you should pass a LocalesConfig object");
            }
        }
        this._events = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
        this.locales = localesConfig.locales || [localesConfig.defaultLocale];
    }
    static getLanguage(name) {
        const sepPos = name.indexOf("-");
        if (sepPos === -1) {
            return name;
        }
        return name.substring(0, sepPos);
    }
    static getBrowserLanguages() {
        if (navigator.languages) {
            return navigator.languages;
        }
        const language = navigator.language || navigator.userLanguage ||
            navigator.browserLanguage || navigator.systemLanguage;
        return !!language ? [language] : [];
    }
    ngOnDestroy() {
        this._events.complete();
    }
    /**
     * The observable events emitted by this service
     */
    get events() {
        return this._events;
    }
    getInitialLocale() {
        const language = window.localStorage.getItem("sinequa-locale");
        const languages = !!language ? [language] : IntlService.getBrowserLanguages();
        let locale = this.getLocale(languages);
        if (locale) {
            return locale;
        }
        locale = this.getLocale(languages, true);
        if (locale) {
            return locale;
        }
        return this.localesConfig.defaultLocale;
    }
    /**
     * Initialize the service. The current locale is initialized to either the `sinequa-locale` local
     * storage value, the browser language or the default locale.
     *
     * This method is called automatically by the {@link IntlModule} at application startup.
     *
     * @return An observable of the current locale
     */
    init() {
        // Set up formats
        this.formats = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_8__["Utils"].merge(DEFAULT_FORMATS, this.intlConfig.formats);
        // Load default locale
        let observable = this.use(this.localesConfig.defaultLocale.name, false);
        const initialLocale = this.getInitialLocale();
        if (initialLocale !== this.localesConfig.defaultLocale) {
            // Load initial locale if different to default
            console.log("Setting initial locale: ", initialLocale.name);
            observable = Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["concat"])(observable, this.use(initialLocale.name, false)).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["last"])());
        }
        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_8__["Utils"].subscribe(observable, (value) => {
            console.log("Initial locale set: ", value);
        });
        return observable;
    }
    loadData(locale) {
        if (!this.localesConfig.loadLocale) {
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["throwError"])("Dynamic locale loading has not been implemented in the calling app - " +
                "please add a loadLocale handler to your LocalesConfig");
        }
        return this.localesConfig.loadLocale(locale);
    }
    getLocale(names, approximate = false) {
        if (typeof names === "string") {
            names = [names];
        }
        for (const name of names) {
            const locale = this.locales.find((locale1) => {
                if (locale1.name === name) {
                    return true;
                }
                if (approximate && IntlService.getLanguage(locale1.name) === IntlService.getLanguage(name)) {
                    return true;
                }
                return false;
            });
            if (locale) {
                return locale;
            }
        }
        return undefined;
    }
    /**
     * Change the current locale. The change is made asynchronously as the locale may need to be
     * downloaded. The current locale is optionally stored in local storage (`sinequa-locale`)
     * to be picked up the next time the service is initialized
     *
     * @param locale The name of the locale to use
     * @param store If `true` the current locale is stored in local storage
     */
    use(locale, store = true) {
        const newLocale = this.getLocale(locale);
        if (!newLocale) {
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["throwError"])({ error: "unsupported locale" });
        }
        const observable = !!newLocale.data ? Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["of"])(newLocale.data) : this.loadData(locale);
        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_8__["Utils"].subscribe(observable, (data) => {
            this.currentLocale = newLocale;
            if (store) {
                window.localStorage.setItem("sinequa-locale", this.currentLocale.name);
            }
            this.direction = this.currentLocale.direction || "ltr";
            if (!this.currentLocale.data) {
                this.currentLocale.data = data;
            }
            // Set moment locale
            if (this.currentLocale.data.moment) {
                // Set (and define if necessary) moment locale (it auto-defines when we are not bundled)
                if (moment__WEBPACK_IMPORTED_MODULE_12___default.a.locale(this.currentLocale.data.moment.locale) !== this.currentLocale.data.moment.locale) {
                    console.log(`moment locale not defined: ${this.currentLocale.data.moment.locale} - defaulting to en`);
                    moment__WEBPACK_IMPORTED_MODULE_12___default.a.locale("en");
                }
            }
            else {
                moment__WEBPACK_IMPORTED_MODULE_12___default.a.locale("en");
            }
            // Set d3 locale
            if (this.currentLocale.data.d3) {
                Object(d3_format__WEBPACK_IMPORTED_MODULE_9__["formatDefaultLocale"])(this.currentLocale.data.d3.format);
                Object(d3_time_format__WEBPACK_IMPORTED_MODULE_10__["timeFormatDefaultLocale"])(this.currentLocale.data.d3.time);
                d3__WEBPACK_IMPORTED_MODULE_11__["formatDefaultLocale"](this.currentLocale.data.d3.format);
                d3__WEBPACK_IMPORTED_MODULE_11__["timeFormatDefaultLocale"](this.currentLocale.data.d3.time);
            }
            if (this.currentLocale.data.intl && this.currentLocale.data.intl.locale) {
                this.intlLocale = this.currentLocale.data.intl.locale;
            }
            else {
                this.intlLocale = this.localesConfig.defaultLocale.data ? this.localesConfig.defaultLocale.data.intl.locale : "en";
            }
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["of"])(this.intlLocale);
        });
        const observable2 = observable.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["map"])((value) => {
            return this.currentLocale.name;
        }));
        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_8__["Utils"].subscribe(observable2, (name) => {
            this._events.next({ locale: name });
        });
        return observable2;
    }
    getDefaultMessages() {
        const _default = this.locales.find((value) => !!value.data && !!value.data.messages);
        if (_default) {
            return _default.data && _default.data.messages;
        }
        return {};
    }
    getMessages() {
        let messages;
        if (this.currentLocale && this.currentLocale.data) {
            messages = this.currentLocale.data.messages;
        }
        if (!messages) {
            messages = this.getDefaultMessages();
        }
        return messages;
    }
    /**
     * Get the message from the current locale that corresponds to the passed `key`.
     * If the is not prefixed by {@link messagePrefix} then `null` is returned
     *
     * @param key The message key
     */
    getMessage(key) {
        if (!_sinequa_core_base__WEBPACK_IMPORTED_MODULE_8__["Utils"].startsWith(key, this.messagePrefix)) {
            return undefined;
        }
        key = key.substr(this.messagePrefix.length);
        const messages = this.getMessages();
        let message = lodash_get__WEBPACK_IMPORTED_MODULE_7___default()(messages, key);
        if (!message) {
            const defaultMessages = this.getDefaultMessages();
            if (messages !== defaultMessages) {
                message = lodash_get__WEBPACK_IMPORTED_MODULE_7___default()(defaultMessages, key);
            }
        }
        return message;
    }
    // Returned start and end are for the text BEFORE the language specifier and so refer to the previous
    // language not the one returned by the same call to this method
    nextLang(text, start, allowNone) {
        for (let i = start, ic = text.length - 3; i < ic; i++) {
            if (text[i] === "[" && text[i + 3] === "]") {
                return {
                    start,
                    end: i,
                    lang1: text.charCodeAt(i + 1),
                    lang2: text.charCodeAt(i + 2)
                };
            }
        }
        if (allowNone) {
            return {
                start,
                end: text.length,
                lang1: -1,
                lang2: -1
            };
        }
        return undefined;
    }
    // ([nnn])<default>[fr]<french>[de]<german>...
    sysLang(text) {
        if (!text) {
            return text;
        }
        let iStart = 0;
        const len = text.length;
        // Skip order
        let i = 0;
        if (text[i] === "[") {
            while (i < len && text[i] >= "0" && text[i] <= "9") {
                i++;
            }
            if (text[i] === "]") {
                iStart = i + 1;
            }
        }
        // Pick out default value
        const defaultLang = this.nextLang(text, iStart, false);
        if (!defaultLang) {
            return text; // Not a sys lang formatted text
        }
        // Look for a matching language
        const lang1 = this.currentLocale.name.charCodeAt(0);
        const lang2 = this.currentLocale.name.charCodeAt(1);
        let curLang = defaultLang;
        while (curLang) {
            if (lang1 === curLang.lang1 && lang2 === curLang.lang2) {
                // We have a matching language, get its text
                const nextLang = this.nextLang(text, curLang.end + 4, true);
                return text.substring(nextLang.start, nextLang.end);
            }
            else {
                curLang = this.nextLang(text, curLang.end + 4, false);
            }
        }
        // return default language text
        return text.substring(defaultLang.start, defaultLang.end);
    }
    processFormatMessage(message, values = {}) {
        const hasValues = Object.keys(values).length > 0;
        if (!hasValues) {
            return message;
        }
        if (message) {
            try {
                const formatter = formatters.getMessageFormat(message, this.intlLocale, this.formats, { formatters });
                const formattedMessage = formatter.format(values);
                return formattedMessage;
            }
            catch (e) {
                console.log("IntlService.processFormatMessage error:", e);
                return message;
            }
        }
        else {
            return message;
        }
    }
    /**
     * Format a message identified by a `key`. Any values referenced
     * by the message are taken from an optional `values` map. The key can be
     * in a variety of forms:
     * * a Sinequa "syslang" string: `apple[fr]pomme[de]Apfel`
     * * a message key resolved in the [messages]{@link LocaleData#messages} of the current
     * locale:  `msg#path1.path2.path3`
     * * an ICU message using the `txt#` prefix: `txt#Hello {name}`
     *
     * @param key The message identifier
     * @param values Values referenced by an ICU message
     * @return The formatted message. If the key is not resolved then it is returned unprocessed
     */
    formatMessage(key, values) {
        key = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_8__["Utils"].trim(key);
        const sysLangStr = this.sysLang(key);
        if (sysLangStr !== key) {
            return sysLangStr;
        }
        const _values = {};
        if (values) {
            for (const valueName of Object.keys(values)) {
                const value = values[valueName];
                if (value && _sinequa_core_base__WEBPACK_IMPORTED_MODULE_8__["Utils"].isString(value)) {
                    _values[valueName] = this.formatMessage(value);
                }
                else {
                    _values[valueName] = value;
                }
            }
        }
        if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_8__["Utils"].startsWith(key, this.messagePrefix)) {
            if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_8__["Utils"].eq(key, this.messagePrefix)) {
                return key;
            }
            let message = this.getMessage(key);
            if (!_sinequa_core_base__WEBPACK_IMPORTED_MODULE_8__["Utils"].isString(message)) {
                message = key;
            }
            const formattedMessage = this.processFormatMessage(message, _values);
            return formattedMessage;
        }
        else if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_8__["Utils"].startsWith(key, this.textPrefix)) {
            if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_8__["Utils"].eq(key, this.textPrefix)) {
                return key;
            }
            key = key.substr(this.textPrefix.length);
            const formattedMessage = this.processFormatMessage(key, _values);
            return formattedMessage;
        }
        else {
            return key;
        }
    }
    /**
     * Format an ICU Message string
     *
     * @param text An ICU Message to format
     * @param values Values referenced by an ICU message
     */
    formatText(text, values) {
        const formattedMessage = this.processFormatMessage(text, values);
        return formattedMessage;
    }
    /**
     * Parse a date string in the current locale - eg `04/09/1986`
     *
     * @param value A date string
     * @returns The parse `Date` or `undefined` if the date cannot be parsed
     */
    parseDate(value) {
        const m = moment__WEBPACK_IMPORTED_MODULE_12___default()(value, "L");
        if (m.isValid()) {
            return m.toDate();
        }
        return undefined;
    }
    getNamedFormat(type, name) {
        const format = this.formats && this.formats[type] && this.formats[type][name];
        if (format) {
            return format;
        }
        console.warn(`IntlService.getNamedFormat - not found - type: ${type}, name: ${name}`);
        return undefined;
    }
    filterProps(props, whitelist, defaults = {}) {
        return whitelist.reduce((filtered, name) => {
            if (props.hasOwnProperty(name)) {
                filtered[name] = props[name];
            }
            else if (defaults.hasOwnProperty(name)) {
                filtered[name] = defaults[name];
            }
            return filtered;
        }, {});
    }
    /**
     * Format a date in the current locale according to the passed options. If the passed `value` is not a `Date`
     * then one is constructed from it.
     *
     * @param value The date to format
     * @param options The options can include a custom format
     */
    formatDate(value, options = {}) {
        const { format } = options;
        const date = value instanceof Date ? value : new Date(value);
        const defaults = (format && this.getNamedFormat("date", format)) || {};
        const filteredOptions = this.filterProps(options, DATE_TIME_FORMAT_OPTIONS, defaults);
        try {
            return formatters.getDateTimeFormat(this.intlLocale, filteredOptions).format(date);
        }
        catch (e) {
            console.warn("IntlService.formatDate:", e);
        }
        return String(date);
    }
    /**
     * Format a time in the current locale according to the passed options. If the passed `value` is not a `Date` then one is
     * constructed from it.
     *
     * @param value The date to format
     * @param options The options can include a custom format
     */
    formatTime(value, options = {}) {
        const { format } = options;
        const date = value instanceof Date ? value : new Date(value);
        const defaults = (format && this.getNamedFormat("time", format)) || {};
        let filteredOptions = this.filterProps(options, DATE_TIME_FORMAT_OPTIONS, defaults);
        if (!filteredOptions.hour && !filteredOptions.minute && !filteredOptions.second) {
            // Add default formatting options if hour, minute, or second isn't defined.
            filteredOptions = Object.assign({}, filteredOptions, {
                hour: 'numeric',
                minute: 'numeric'
            });
        }
        try {
            return formatters.getDateTimeFormat(this.intlLocale, filteredOptions).format(date);
        }
        catch (e) {
            console.warn("IntlService.formatTime:", e);
        }
        return String(date);
    }
    makeRelativeTimeParams(value) {
        const diff = value.getTime() - _sinequa_core_base__WEBPACK_IMPORTED_MODULE_8__["Utils"].now.getTime();
        const absDiff = Math.abs(diff);
        if (absDiff < _sinequa_core_base__WEBPACK_IMPORTED_MODULE_8__["Utils"].oneSecond) {
            return { value: 0, unit: "seconds" };
        }
        else if (absDiff < _sinequa_core_base__WEBPACK_IMPORTED_MODULE_8__["Utils"].oneMinute) {
            return { value: _sinequa_core_base__WEBPACK_IMPORTED_MODULE_8__["Utils"].roundAway(diff / _sinequa_core_base__WEBPACK_IMPORTED_MODULE_8__["Utils"].oneSecond), unit: "seconds" };
        }
        else if (absDiff < _sinequa_core_base__WEBPACK_IMPORTED_MODULE_8__["Utils"].oneHour) {
            return { value: _sinequa_core_base__WEBPACK_IMPORTED_MODULE_8__["Utils"].roundAway(diff / _sinequa_core_base__WEBPACK_IMPORTED_MODULE_8__["Utils"].oneMinute), unit: "minutes" };
        }
        else if (absDiff < _sinequa_core_base__WEBPACK_IMPORTED_MODULE_8__["Utils"].oneDay) {
            return { value: _sinequa_core_base__WEBPACK_IMPORTED_MODULE_8__["Utils"].roundAway(diff / _sinequa_core_base__WEBPACK_IMPORTED_MODULE_8__["Utils"].oneHour), unit: "hours" };
        }
        else if (absDiff < (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_8__["Utils"].oneDay * 30)) {
            return { value: _sinequa_core_base__WEBPACK_IMPORTED_MODULE_8__["Utils"].roundAway(diff / _sinequa_core_base__WEBPACK_IMPORTED_MODULE_8__["Utils"].oneDay), unit: "days" };
        }
        else if (absDiff < (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_8__["Utils"].oneDay * 365)) {
            return { value: _sinequa_core_base__WEBPACK_IMPORTED_MODULE_8__["Utils"].roundAway(diff / (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_8__["Utils"].oneDay * 30)), unit: "months" };
        }
        else {
            return { value: _sinequa_core_base__WEBPACK_IMPORTED_MODULE_8__["Utils"].roundAway(diff / (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_8__["Utils"].oneDay * 365)), unit: "years" };
        }
    }
    /**
     * Format a relative time in the current locale according to the passed options
     *
     * @param value The relative time to format. Negative number values represent times in the past.
     * If a Date value is passed then a number value and unit are deduced automatically based on
     * the current date and time.
     * @param unit The relative time unit (eg years, days or seconds). Must be passed if value
     * is a number.
     * @param options The options can include a custom format
     */
    formatRelativeTime(value, unit, options = {}) {
        if (value === undefined) {
            return "";
        }
        if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_8__["Utils"].isString(value)) {
            value = new Date(value);
        }
        if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_8__["Utils"].isDate(value)) {
            const params = this.makeRelativeTimeParams(value);
            value = params.value;
            unit = params.unit;
        }
        const { format } = options;
        const defaults = (format && this.getNamedFormat("relativeTime", format)) || {};
        const filteredOptions = this.filterProps(options, RELATIVE_TIME_FORMAT_OPTIONS, defaults);
        if (!filteredOptions.numeric) {
            filteredOptions.numeric = "auto"; // default is always - we prefer auto
        }
        try {
            return formatters.getRelativeTimeFormat(this.intlLocale, filteredOptions).format(value, unit);
        }
        catch (e) {
            console.warn("IntlService.formatRelativeTime:", e);
        }
        return String(value);
    }
    /**
     * Format a number in the current locale
     *
     * @param value The number to format
     * @param options The options can include a custom format
     */
    formatNumber(value, options = {}) {
        const { format } = options;
        const defaults = format && this.getNamedFormat("number", format);
        const filteredOptions = this.filterProps(options, NUMBER_FORMAT_OPTIONS, defaults);
        try {
            return formatters.getNumberFormat(this.intlLocale, filteredOptions).format(value);
        }
        catch (e) {
            console.warn("IntlService.formatNumber:", e);
        }
        return String(value);
    }
}
IntlService.ɵfac = function IntlService_Factory(t) { return new (t || IntlService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](INTL_CONFIG, 8), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](LOCALES_CONFIG, 8)); };
IntlService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: IntlService, factory: IntlService.ɵfac, providedIn: "root" });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](IntlService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: "root"
            }]
    }], function () { return [{ type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Optional"]
            }, {
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [INTL_CONFIG]
            }] }, { type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Optional"]
            }, {
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [LOCALES_CONFIG]
            }] }]; }, null); })();


/***/ }),

/***/ "M+Yq":
/*!****************************!*\
  !*** ../core/base/json.ts ***!
  \****************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);



/***/ }),

/***/ "M954":
/*!**************************************!*\
  !*** ./src/locales/messages/fr.json ***!
  \**************************************/
/*! exports provided: app, locale, searchForm, baskets, editBasket, manageBaskets, selectBasket, facet, results, home, search, preview, default */
/***/ (function(module) {

module.exports = JSON.parse("{\"app\":{\"name\":\"Vanilla Search\"},\"locale\":{\"en\":\"English (United States)\",\"en-gb\":\"English (United Kingdom)\",\"fr\":\"Français\",\"de\":\"Deutsch\"},\"searchForm\":{\"search\":\"Rechercher\",\"searchFor\":\"Rechercher ...\",\"advanced\":\"Avancée\",\"advancedSearch\":\"Recherche avancée\",\"scopeTitle\":\"Champ d'application : {name}\",\"recentQuery\":\"Recherche récente\",\"recentDocument\":\"Document récent\",\"fieldedSearch\":\"Recherche sur champs\",\"off\":\"Désactivée\",\"simple\":\"Simple\",\"simpleTitle\":\"Mode graphique affichant les filtres sélectionnés sous forme de badges\",\"advancedTitle\":\"Mode textuel permettant d'utiliser des expressions de recherche telles que \\\"geo: Paris OR company: Sinequa\\\"\",\"keepFilters\":\"Les filtres sont conservés dans les nouvelles requêtes\",\"notKeepFilters\":\"Les filtres sont réinitialisés dans les nouvelles requêtes\",\"clearAll\":\"Effacer tout\",\"clear\":\"Effacer\",\"voiceRecognition\":\"Recherche vocale\",\"scrollLeft\":\"Défiler à gauche\",\"scrollRight\":\"Défiler à droite\"},\"baskets\":{\"baskets\":\"Collections\",\"addToBasket\":\"Ajouter à la collection\",\"removeFromBasket\":\"Supprimer de la collection\",\"removeFromAllBaskets\":\"Supprimer de toutes les collections\",\"removeFromAllBasketsConfirmation\":\"Êtes-vous sûr de vouloir supprimer ce résultat de ces collections : {baskets} ?\",\"basketAlreadyExists\":\"Une collection avec ce nom existe déjà. Voulez-vous le remplacer ?\",\"noBasket\":\"Vous n'avez pas encore ajouté de document à une collection...\",\"createBasket\":\"Créer une collection\",\"manageBaskets\":\"Gérer les collections\",\"delete\":\"Supprimer cette collection\"},\"editBasket\":{\"title\":\"Collection\"},\"manageBaskets\":{\"title\":\"Gérer les collections\"},\"selectBasket\":{\"title\":\"Sélectionner une collection\",\"newBasket\":\"Nouvelle collection...\"},\"facet\":{\"filters\":{\"title\":\"Filtres\"},\"preview\":{\"title\":\"Prévisualisation\"},\"labels\":{\"title\":\"Libellés\"}},\"results\":{\"tabPeople\":\"Personnes\",\"tabBusiness\":\"Entreprises\",\"tabLocation\":\"Lieux\"},\"home\":{\"recentDocumentsTooltip\":\"Document récemment consultés\",\"recentQueriesTooltip\":\"Requêtes de recherche récemment effectuées\",\"savedQueriesTooltip\":\"Requêtes de recherche enregistrées (incluant les filtres)\",\"basketsTooltip\":\"Ensembles de documents favoris\",\"darkMode\":\"Mode sombre\",\"lightMode\":\"Mode clair\"},\"search\":{\"pageTitle\":\"Recherche - {search}\"},\"preview\":{\"extracts\":\"Extraits\",\"entities\":\"Entités\",\"searchText\":\"Chercher \\\"{text}\\\" dans le document\",\"pageTitle\":\"Navigateur de documents - {title}\"}}");

/***/ }),

/***/ "MFxU":
/*!***********************************************!*\
  !*** ../components/labels/bootstrap/index.ts ***!
  \***********************************************/
/*! exports provided: BsLabelsAutocompleteComponent, defaultLabelComponents, BsLabelsModule, BsRenameLabel, BsLabelsMenuComponent, BsDeleteLabel, BsAddLabel, BsEditLabel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _public_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./public-api */ "G36q");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsLabelsAutocompleteComponent", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsLabelsAutocompleteComponent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "defaultLabelComponents", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["defaultLabelComponents"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsLabelsModule", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsLabelsModule"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsRenameLabel", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsRenameLabel"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsLabelsMenuComponent", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsLabelsMenuComponent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsDeleteLabel", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsDeleteLabel"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsAddLabel", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsAddLabel"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsEditLabel", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsEditLabel"]; });




/***/ }),

/***/ "MaBy":
/*!**********************************************!*\
  !*** ../components/utils/pipes/expr-pipe.ts ***!
  \**********************************************/
/*! exports provided: ExprPipe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ExprPipe", function() { return ExprPipe; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/intl */ "EfqX");
/* harmony import */ var _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/app-utils */ "SBPP");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");






class ExprPipe extends _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_1__["AbstractIntlPipe"] {
    constructor(intlService, changeDetectorRef) {
        super(intlService, changeDetectorRef);
    }
    updateValue(key, params) {
        super.updateValue(key, params);
        if (key instanceof _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_2__["Expr"]) {
            const message = key.toMessage(params);
            this.value = this.intlService.formatMessage(message.message, message.values);
        }
        else {
            this.value = this.intlService.formatMessage(key);
            if (params && params.asHTML) {
                this.value = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].encodeHTML(this.value);
            }
        }
    }
}
ExprPipe.ɵfac = function ExprPipe_Factory(t) { return new (t || ExprPipe)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_intl__WEBPACK_IMPORTED_MODULE_1__["IntlService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinjectPipeChangeDetectorRef"]()); };
ExprPipe.ɵpipe = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefinePipe"]({ name: "sqExpr", type: ExprPipe, pure: false });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ExprPipe, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Pipe"],
        args: [{ name: "sqExpr", pure: false }]
    }], function () { return [{ type: _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_1__["IntlService"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] }]; }, null); })();


/***/ }),

/***/ "Mavg":
/*!***********************************************!*\
  !*** ../core/web-services/app.web.service.ts ***!
  \***********************************************/
/*! exports provided: AppWebService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppWebService", function() { return AppWebService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _http_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./http.service */ "3Hvy");
/* harmony import */ var _start_config_web_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./start-config.web.service */ "R3Oh");
/* harmony import */ var _http_client__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./http-client */ "j7UU");





/**
 * This service provides methods to retrieve and refresh the configuration of an app
 */
class AppWebService extends _http_service__WEBPACK_IMPORTED_MODULE_1__["HttpService"] {
    /**
     * Constructor
     *
     * @param startConfig Provides the app name
     * @param httpClient The HTTP client
     */
    constructor(startConfig, httpClient) {
        super(startConfig);
        this.httpClient = httpClient;
        if (!this.appName) {
            console.error("Missing app name!");
        }
    }
    /**
     * Gets the app configuration for the app name
     *
     * @returns An observable of the app configuration
     */
    get() {
        const observable = this.httpClient.get(this.makeUrl("app"), {
            params: this.makeParams({
                app: this.appName || ""
            })
        });
        observable
            .subscribe((response) => {
            //console.log("appWebService.get success - data: ", response);
            return response;
        }, (error) => {
            //console.log("appWebService.get failure - reason: ", error);
        });
        return observable;
    }
    /**
     * Refreshes the app configuration based on a version identifier
     *
     * @param appVersionId The current app version id [CCApp.versionId]{@link CCApp#versionId}
     * @param auditEvents Audit events to be recorded for this call
     *
     * @returns An observable of an object containing a flag indicating whether the configuration was up to date. If false
     * then the app member of the object will be set to the new version of the configuration.
     */
    refresh(appVersionId, auditEvents) {
        const observable = this.httpClient.get(this.makeUrl("app"), {
            params: this.makeParams({
                app: this.appName || "",
                versionId: appVersionId,
                $auditRecord: auditEvents
            })
        });
        observable
            .subscribe((response) => {
            //console.log("appWebService.refresh success - data: ", response);
            return response;
        }, (error) => {
            //console.log("appWebService.refresh failure - reason: ", error);
        });
        return observable;
    }
}
AppWebService.ɵfac = function AppWebService_Factory(t) { return new (t || AppWebService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_start_config_web_service__WEBPACK_IMPORTED_MODULE_2__["START_CONFIG"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_http_client__WEBPACK_IMPORTED_MODULE_3__["SqHttpClient"])); };
AppWebService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: AppWebService, factory: AppWebService.ɵfac, providedIn: "root" });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AppWebService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: "root"
            }]
    }], function () { return [{ type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [_start_config_web_service__WEBPACK_IMPORTED_MODULE_2__["START_CONFIG"]]
            }] }, { type: _http_client__WEBPACK_IMPORTED_MODULE_3__["SqHttpClient"] }]; }, null); })();


/***/ }),

/***/ "MbPB":
/*!**************************************************************!*\
  !*** ../components/facet/bootstrap/facet-list/facet-list.ts ***!
  \**************************************************************/
/*! exports provided: BsFacetList */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsFacetList", function() { return BsFacetList; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_components_action__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/components/action */ "WsHA");
/* harmony import */ var _abstract_facet__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../abstract-facet */ "+Pqq");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs */ "+kfY");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs/operators */ "0Wlh");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/forms */ "nIj0");
/* harmony import */ var _facet_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../facet.service */ "mQJ4");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _action_bootstrap_action_buttons_action_buttons__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../action/bootstrap/action-buttons/action-buttons */ "9+ai");
/* harmony import */ var _utils_directives_autofocus__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../utils/directives/autofocus */ "1ak2");
/* harmony import */ var _search_bootstrap_loading_bar_loading_bar__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../search/bootstrap/loading-bar/loading-bar */ "U/EC");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../core/intl/message.pipe */ "X1Kh");
/* harmony import */ var _utils_pipes_value_pipe__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../utils/pipes/value-pipe */ "7U+I");
/* harmony import */ var _utils_pipes_number_pipe__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../utils/pipes/number-pipe */ "FbeZ");

















const _c0 = function (a0) { return { items: a0, size: "sm" }; };
function BsFacetList_div_0_div_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("sq-action-buttons", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](1, _c0, ctx_r1.actions));
} }
function BsFacetList_div_0_div_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "input", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](3, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](4, "sq-loading-bar", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("formGroup", ctx_r2.myGroup);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("placeholder", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](3, 3, "msg#facet.searchPlaceholder"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("active", ctx_r2.searchActive);
} }
function BsFacetList_div_0_div_3_span_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqNumber");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const item_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 1, item_r8.count));
} }
const _c1 = function (a0, a1) { return { "list-group-item-success": a0, "list-group-item-secondary": a1 }; };
function BsFacetList_div_0_div_3_Template(rf, ctx) { if (rf & 1) {
    const _r12 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsFacetList_div_0_div_3_Template_div_click_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r12); const item_r8 = ctx.$implicit; const ctx_r11 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r11.filterItem(item_r8, $event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "a", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](4, "sqValue");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](5, BsFacetList_div_0_div_3_span_5_Template, 3, 3, "span", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "span", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](7, "i", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](8, "i", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const item_r8 = ctx.$implicit;
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction2"](9, _c1, !item_r8.$excluded, item_r8.$excluded))("title", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](1, 4, "msg#facet.selectedValue"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](4, 6, item_r8, item_r8.$column));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r3.showCount && item_r8.count);
} }
function BsFacetList_div_0_div_4_span_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqNumber");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const item_r13 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 1, item_r13.count));
} }
const _c2 = function (a0) { return { "terme": a0 }; };
function BsFacetList_div_0_div_4_Template(rf, ctx) { if (rf & 1) {
    const _r17 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsFacetList_div_0_div_4_Template_div_click_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r17); const item_r13 = ctx.$implicit; const ctx_r16 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r16.selectItem(item_r13, $event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "a", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsFacetList_div_0_div_4_Template_a_click_2_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r17); const item_r13 = ctx.$implicit; const ctx_r18 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r18.filterItem(item_r13, $event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](3, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](4, "sqValue");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](6, "sqValue");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](7, BsFacetList_div_0_div_4_span_7_Template, 3, 3, "span", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const item_r13 = ctx.$implicit;
    const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("title", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](1, 4, "msg#facet.itemUnselect"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("title", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](3, 6, "msg#facet.filterItem", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](15, _c2, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](4, 9, item_r13, item_r13.$column))));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](6, 12, item_r13, item_r13.$column));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r4.showCount && item_r13.count);
} }
function BsFacetList_div_0_div_5_span_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span", 27);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqNumber");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const suggest_r19 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 1, suggest_r19.count));
} }
const _c3 = function (a0) { return { "list-group-item-primary": a0 }; };
function BsFacetList_div_0_div_5_Template(rf, ctx) { if (rf & 1) {
    const _r23 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 24);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsFacetList_div_0_div_5_Template_div_click_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r23); const suggest_r19 = ctx.$implicit; const ctx_r22 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r22.selectItem(suggest_r19, $event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "a", 25);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsFacetList_div_0_div_5_Template_a_click_1_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r23); const suggest_r19 = ctx.$implicit; const ctx_r24 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r24.filterItem(suggest_r19, $event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](3, "sqValue");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](5, "sqValue");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](6, BsFacetList_div_0_div_5_span_6_Template, 3, 3, "span", 26);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const suggest_r19 = ctx.$implicit;
    const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](13, _c3, ctx_r5.isSelected(suggest_r19)));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("title", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](2, 4, "msg#facet.filterItem", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](15, _c2, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](3, 7, suggest_r19, suggest_r19.$column))));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](5, 10, suggest_r19, suggest_r19.$column));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r5.showCount && suggest_r19.count);
} }
function BsFacetList_div_0_span_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span", 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "i");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](3, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](3, 1, "msg#facet.searchNoResult"));
} }
function BsFacetList_div_0_div_8_div_1_div_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "div", 36);
} if (rf & 2) {
    const item_r27 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    const ctx_r28 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵstyleProp"]("--count", ctx_r28.getPercent(item_r27.count));
} }
function BsFacetList_div_0_div_8_div_1_span_9_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span", 27);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqNumber");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const item_r27 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 1, item_r27.count));
} }
function BsFacetList_div_0_div_8_div_1_Template(rf, ctx) { if (rf & 1) {
    const _r33 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 32);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsFacetList_div_0_div_8_div_1_Template_div_click_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r33); const item_r27 = ctx.$implicit; const ctx_r32 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3); return ctx_r32.selectItem(item_r27, $event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, BsFacetList_div_0_div_8_div_1_div_2_Template, 1, 2, "div", 33);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 34);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "a", 35);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsFacetList_div_0_div_8_div_1_Template_a_click_4_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r33); const item_r27 = ctx.$implicit; const ctx_r34 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3); return ctx_r34.filterItem(item_r27, $event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](5, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](6, "sqValue");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](8, "sqValue");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](9, BsFacetList_div_0_div_8_div_1_span_9_Template, 3, 3, "span", 26);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const item_r27 = ctx.$implicit;
    const ctx_r25 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](17, _c3, ctx_r25.isSelected(item_r27)))("title", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](1, 6, ctx_r25.isSelected(item_r27) ? "msg#facet.itemUnselect" : "msg#facet.itemSelect"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r25.showProgressBar && ctx_r25.resultsLength > 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("title", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](5, 8, "msg#facet.filterItem", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](19, _c2, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](6, 11, item_r27, item_r27.$column))));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](8, 14, item_r27, item_r27.$column));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r25.showCount && item_r27.count);
} }
function BsFacetList_div_0_div_8_a_3_span_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "span", 40);
} }
function BsFacetList_div_0_div_8_a_3_small_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "small");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 1, "msg#facet.loadMore"));
} }
function BsFacetList_div_0_div_8_a_3_Template(rf, ctx) { if (rf & 1) {
    const _r38 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "a", 37);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsFacetList_div_0_div_8_a_3_Template_a_click_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r38); const ctx_r37 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3); return ctx_r37.loadMore($event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsFacetList_div_0_div_8_a_3_span_1_Template, 1, 0, "span", 38);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, BsFacetList_div_0_div_8_a_3_small_2_Template, 3, 3, "small", 39);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r26 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r26.loadingMore);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx_r26.loadingMore);
} }
function BsFacetList_div_0_div_8_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 29);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsFacetList_div_0_div_8_div_1_Template, 10, 21, "div", 30);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, BsFacetList_div_0_div_8_a_3_Template, 3, 2, "a", 31);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 2, ctx_r7.items$));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r7.hasMore);
} }
function BsFacetList_div_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsFacetList_div_0_div_1_Template, 2, 3, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, BsFacetList_div_0_div_2_Template, 5, 5, "div", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, BsFacetList_div_0_div_3_Template, 9, 12, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, BsFacetList_div_0_div_4_Template, 8, 17, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](5, BsFacetList_div_0_div_5_Template, 7, 17, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](6, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](7, BsFacetList_div_0_span_7_Template, 4, 3, "span", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](8, BsFacetList_div_0_div_8_Template, 4, 4, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r0.displayActions && ctx_r0.actions);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r0.searchItems.selected);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx_r0.filtered);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx_r0.hiddenSelected);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](6, 7, ctx_r0.suggestions$));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r0.noResults);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx_r0.hasSuggestions());
} }
class BsFacetList extends _abstract_facet__WEBPACK_IMPORTED_MODULE_3__["AbstractFacet"] {
    constructor(facetService, changeDetectorRef) {
        super();
        this.facetService = facetService;
        this.changeDetectorRef = changeDetectorRef;
        this.showCount = true; // Show the number of occurrences
        this.searchable = true; // Allow to search for items in the facet
        this.allowExclude = true; // Allow to exclude selected items
        this.allowOr = true; // Allow to search various items in OR mode
        this.allowAnd = true; // Allow to search various items in AND mode
        this.displayEmptyDistributionIntervals = false; // If the aggregration is a distribution, then this property controls whether empty distribution intervals will be displayed
        this.displayActions = false;
        this.showProgressBar = false; // Allow to display item count as progress bar
        // Aggregation from the Results object
        this.data$ = new rxjs__WEBPACK_IMPORTED_MODULE_4__["BehaviorSubject"](undefined);
        this.items$ = new rxjs__WEBPACK_IMPORTED_MODULE_4__["BehaviorSubject"]([]);
        this.data = () => this.data$.getValue();
        this.subscriptions = [];
        this.filtering = false;
        this.suggestDelay = 200;
        this.noResults = false;
        this.searchActive = false;
        this.suggestions$ = new rxjs__WEBPACK_IMPORTED_MODULE_4__["BehaviorSubject"]([]);
        /** List of selected items */
        this.selected = [];
        /** Selected items that are not visible in the current aggregation (or suggestions in search mode) */
        this.hiddenSelected = [];
        /** List of excluded/filtered items */
        this.filtered = [];
        // Loading more data
        this.skip = 0;
        /** num of items currently displayed in the facet */
        this.count = 0;
        /** Does facet has more items to display ? */
        this.loadingMore = false;
        /**
         * Called on NgModel change (searchQuery)
         * Uses the suggestfield API to retrieve suggestions from the server
         * The suggestions "override" the data from the distribution (until search results are cleared)
         */
        this.suggest$ = (text$) => text$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["debounceTime"])(this.suggestDelay), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["distinctUntilChanged"])(), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["switchMap"])(term => {
            var _a;
            if (term.trim() === "") {
                this.noResults = false;
                return Object(rxjs__WEBPACK_IMPORTED_MODULE_4__["of"])([]);
            }
            this.searchActive = true;
            this.changeDetectorRef.markForCheck();
            return this.facetService.suggest(term, ((_a = this.data()) === null || _a === void 0 ? void 0 : _a.column) || '').pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["catchError"])(err => {
                console.log(err);
                this.noResults = false;
                return Object(rxjs__WEBPACK_IMPORTED_MODULE_4__["of"])([]);
            }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["map"])(items => {
                const suggestions = items.slice(0, this.count)
                    .map(item => this.facetService.suggestionToAggregationItem(item))
                    .filter(item => !this.isFiltered(this.data(), item));
                this.noResults = suggestions.length === 0 && term.trim() !== "";
                return suggestions;
            }));
        }));
        this.myGroup = new _angular_forms__WEBPACK_IMPORTED_MODULE_6__["FormGroup"]({
            searchQuery: new _angular_forms__WEBPACK_IMPORTED_MODULE_6__["FormControl"]()
        });
        this.searchQuery = this.myGroup.get("searchQuery");
        this.subscriptions["suggest"] = this.suggest$(this.searchQuery.valueChanges)
            .subscribe(values => {
            this.suggestions$.next(values);
            // Refresh hiddenSelected list when the list of items is updated
            this.refreshHiddenSelected();
            this.searchActive = false;
            this.changeDetectorRef.markForCheck();
        });
        // Keep documents with ANY of the selected items
        this.filterItemsOr = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_2__["Action"]({
            icon: "fas fa-filter",
            title: "msg#facet.filterItems",
            action: () => {
                if (this.data()) {
                    this.facetService.addFilterSearch(this.getName(), this.data(), this.selected);
                }
            }
        });
        // Keep documents with ALL the selected items
        this.filterItemsAnd = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_2__["Action"]({
            icon: "fas fa-bullseye",
            title: "msg#facet.filterItemsAnd",
            action: () => {
                if (this.data()) {
                    this.facetService.addFilterSearch(this.getName(), this.data(), this.selected, { and: true });
                }
            }
        });
        // Exclude document with selected items
        this.excludeItems = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_2__["Action"]({
            icon: "fas fa-times",
            title: "msg#facet.excludeItems",
            action: () => {
                if (this.data()) {
                    this.facetService.addFilterSearch(this.getName(), this.data(), this.selected, { not: true });
                }
            }
        });
        // Clear the current filters
        this.clearFilters = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_2__["Action"]({
            icon: "far fa-minus-square",
            title: "msg#facet.clearSelects",
            action: () => {
                this.facetService.clearFiltersSearch(this.getName(), true);
            }
        });
        // Search for a value in this list
        this.searchItems = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_2__["Action"]({
            icon: "fas fa-search",
            title: "msg#facet.searchItems",
            action: (item, event) => {
                item.selected = !item.selected;
                if (!item.selected) {
                    this.clearSearch();
                }
                event.stopPropagation();
                this.changeDetectorRef.markForCheck();
            }
        });
    }
    clearSearch() {
        this.searchQuery.setValue(""); // Remove suggestions if some remain
        this.noResults = false;
        this.suggestions$.next([]);
    }
    /**
     * Name of the facet, used to create and retrieve selections
     * through the facet service.
     */
    getName() {
        return this.name || this.aggregation;
    }
    /**
     * OnChanges listener awaits new results from the search service
     * This completely resets the display
     * @param changes
     */
    ngOnChanges(changes) {
        if (this.showCount === undefined)
            this.showCount = true;
        if (this.searchable === undefined)
            this.searchable = true;
        if (this.allowExclude === undefined)
            this.allowExclude = true;
        if (this.allowOr === undefined)
            this.allowOr = true;
        if (this.allowAnd === undefined)
            this.allowAnd = true;
        if (!!changes["results"]) { // New data from the search service
            if (!this.count) {
                this.count = this.facetService.getAggregationCount(this.aggregation);
            }
            this.filtered.length = 0;
            this.selected.length = 0;
            this.hiddenSelected.length = 0;
            this.skip = 0;
            this.searchItems.selected = false;
            this.clearSearch();
            this.data$.next(this.facetService.getAggregation(this.aggregation, this.results));
        }
    }
    ngOnInit() {
        this.subscriptions["data"] = this.data$.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["map"])(data => {
            const nonFilteredItems = this.refreshFiltered(data);
            return !(data === null || data === void 0 ? void 0 : data.isDistribution) || this.displayEmptyDistributionIntervals ?
                nonFilteredItems : nonFilteredItems.filter(item => item.count > 0);
        })).subscribe(items => {
            this.sumOfCount = items.length > 0 ? items.map(item => item.count).reduce((acc, value) => acc += value) / 100 : 0;
            this.items$.next(items);
            // Refresh hiddenSelected list when the list of items is updated
            this.refreshHiddenSelected();
        });
    }
    ngOnDestroy() {
        this.subscriptions.forEach(subscription => subscription.unsubscribe());
    }
    /**
     * Returns all the actions that are relevant in the current context
     */
    get actions() {
        const actions = [];
        if (this.selected.length > 0) {
            if (this.allowOr) {
                actions.push(this.filterItemsOr);
            }
            if (this.allowAnd && this.selected.length > 1) {
                actions.push(this.filterItemsAnd);
            }
            if (this.allowExclude) {
                actions.push(this.excludeItems);
            }
        }
        if (!this.hasSuggestions() && this.hasFiltered()) {
            actions.push(this.clearFilters);
        }
        if (this.searchable) {
            actions.push(this.searchItems);
        }
        return actions;
    }
    // Filtered items
    /**
     * Actualize the state of filtered items (note that excluded terms are not in the distribution, so the equivalent cannot be done)
     */
    refreshFiltered(data) {
        var _a;
        // refresh filters from breadcrumbs
        const items = this.facetService.getAggregationItemsFiltered(this.getName(), data === null || data === void 0 ? void 0 : data.valuesAreExpressions);
        items.forEach(item => {
            if (!this.isFiltered(data, item)) {
                this.filtered.push(item);
            }
        });
        const nonFilteredItems = [];
        (_a = data === null || data === void 0 ? void 0 : data.items) === null || _a === void 0 ? void 0 : _a.forEach(item => {
            const indx = this.facetService.filteredIndex(data, this.filtered, item);
            if (this.facetService.itemFiltered(this.getName(), data, item)) {
                if (!this.isFiltered(data, item)) {
                    this.filtered.push(item);
                }
                else {
                    this.filtered[indx].count = item.count;
                }
            }
            else {
                // sometime facetService.itemFiltered() could returns false but item is present in breadcrumbs
                if (indx !== -1) {
                    this.filtered[indx].count = item.count;
                }
                else {
                    nonFilteredItems.push(item);
                }
            }
        });
        return nonFilteredItems;
    }
    refreshHiddenSelected() {
        this.hiddenSelected = this.selected.filter(item => {
            const idx = this.hasSuggestions()
                ? this.facetService.findAggregationItemIndex(this.suggestions$.getValue(), item)
                : this.facetService.findAggregationItemIndex(this.items$.getValue() || [], item);
            return idx === -1;
        });
    }
    /**
     * Returns true if the given AggregationItem is filtered
     * @param item
     */
    isFiltered(data, item) {
        return this.facetService.filteredIndex(data, this.filtered, item) !== -1;
    }
    /**
     * Returns true if there is an active selection (or exclusion) from this facet
     */
    hasFiltered() {
        return this.facetService.hasFiltered(this.getName());
    }
    /**
     * Called when clicking on a facet item text
     * @param item
     * @param event
     */
    filterItem(item, event) {
        const data = this.data();
        if (data) {
            this.filtering = true;
            if (!this.isFiltered(data, item)) {
                this.facetService.addFilterSearch(this.getName(), data, item);
            }
            else {
                this.facetService.removeFilterSearch(this.getName(), data, item);
            }
        }
        event.preventDefault();
    }
    // Selected items
    /**
     * Returns true if the given AggregationItem is selected
     * @param item
     */
    isSelected(item) {
        return this.facetService.findAggregationItemIndex(this.selected, item) !== -1;
    }
    /**
     * Called when selecting/unselecting an item in the facet
     * @param item
     */
    selectItem(item, e) {
        e.preventDefault();
        if (!this.filtering) {
            this.updateSelected(item);
            e.stopPropagation();
        }
        this.filtering = false;
    }
    updateSelected(item) {
        if (!this.isFiltered(this.data(), item)) {
            const index = this.facetService.findAggregationItemIndex(this.selected, item);
            if (index === -1) {
                this.selected.push(item);
            }
            else {
                this.selected.splice(index, 1);
            }
            this.refreshHiddenSelected();
        }
    }
    // Loading more items
    /**
     * Returns true if this facet can get more data from the server
     * (The only way to guess is to check if the facet is "full", it capacity being the (skip+)count)
     */
    get hasMore() {
        return this.resultsLength >= this.skip + this.count;
    }
    get resultsLength() {
        return this.items$.getValue().length + this.filtered.length;
    }
    /**
     * Called on loadMore button click
     */
    loadMore(e) {
        e.stopPropagation();
        if (this.data()) {
            const skip = this.resultsLength; // avoid hasMore() to return false when fetching data
            this.loadingMore = true;
            this.changeDetectorRef.markForCheck();
            _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].subscribe(this.facetService.loadData(this.aggregation, skip, this.count), agg => {
                this.skip = skip;
                if ((agg === null || agg === void 0 ? void 0 : agg.items) && this.data()) {
                    agg.items = this.items$.getValue().concat(agg.items);
                    this.data$.next(agg);
                }
            }, undefined, () => {
                this.loadingMore = false;
                this.changeDetectorRef.markForCheck();
            });
        }
        return false; // Avoids following href
    }
    // Suggest / Search
    /**
     * Returns true if the search mode is active (ie. there are suggestions to display in place of the aggregation)
     */
    hasSuggestions() {
        return this.suggestions$.getValue().length > 0 || this.noResults;
    }
    /* AbstractFacet abstract methods */
    isHidden() {
        return !this.data();
    }
    /**
     * Convert facet item count to percentage width
     * @param count item count
     * @returns a % string representation
     */
    getPercent(count) {
        return `${100 - (count / this.sumOfCount)}%`;
    }
}
BsFacetList.ɵfac = function BsFacetList_Factory(t) { return new (t || BsFacetList)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_facet_service__WEBPACK_IMPORTED_MODULE_7__["FacetService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"])); };
BsFacetList.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsFacetList, selectors: [["sq-facet-list"]], inputs: { name: "name", results: "results", aggregation: "aggregation", showCount: "showCount", searchable: "searchable", allowExclude: "allowExclude", allowOr: "allowOr", allowAnd: "allowAnd", displayEmptyDistributionIntervals: "displayEmptyDistributionIntervals", displayActions: "displayActions", showProgressBar: "showProgressBar" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"], _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 1, vars: 1, consts: [["class", "list-group list-group-flush", 4, "ngIf"], [1, "list-group", "list-group-flush"], ["class", "d-flex pb-2 pr-2", 4, "ngIf"], ["class", "position-relative", 3, "formGroup", 4, "ngIf"], ["class", "d-flex flex-row align-items-center list-group-item list-group-item-action list-group-item-success text-truncate border-0 px-3 py-1 facet-row cursor-pointer", 3, "ngClass", "title", "click", 4, "ngFor", "ngForOf"], ["class", "d-flex flex-row align-items-center list-group-item list-group-item-primary text-truncate border-0 px-3 py-1 facet-row cursor-pointer", 3, "title", "click", 4, "ngFor", "ngForOf"], ["class", "d-flex flex-row align-items-center list-group-item list-group-item-action text-truncate border-0 px-3 py-1 facet-row cursor-pointer", 3, "ngClass", "click", 4, "ngFor", "ngForOf"], ["class", "d-block text-center text-muted small py-1", 4, "ngIf"], ["class", "facet-results-scrollable", 4, "ngIf"], [1, "d-flex", "pb-2", "pr-2"], [1, "btn-group", "ml-auto", 3, "sq-action-buttons"], [1, "position-relative", 3, "formGroup"], [1, "p-1"], ["sqAutofocus", "", "formControlName", "searchQuery", 1, "form-control", 3, "placeholder"], [3, "active"], [1, "d-flex", "flex-row", "align-items-center", "list-group-item", "list-group-item-action", "list-group-item-success", "text-truncate", "border-0", "px-3", "py-1", "facet-row", "cursor-pointer", 3, "ngClass", "title", "click"], ["href", "#", 1, "text-truncate", "mr-auto"], ["class", "ml-2 text-muted small", 4, "ngIf"], [1, "fa-stack", "cursor-pointer"], [1, "ml-2", "far", "fa-minus-square", "fa-stack-1x", "icons", "icon-hover", "rotate"], [1, "ml-2", "far", "fa-check-square", "fa-stack-1x", "icons", "icon-default", "rotate"], [1, "ml-2", "text-muted", "small"], [1, "d-flex", "flex-row", "align-items-center", "list-group-item", "list-group-item-primary", "text-truncate", "border-0", "px-3", "py-1", "facet-row", "cursor-pointer", 3, "title", "click"], ["href", "#", 1, "text-truncate", "mr-auto", 3, "title", "click"], [1, "d-flex", "flex-row", "align-items-center", "list-group-item", "list-group-item-action", "text-truncate", "border-0", "px-3", "py-1", "facet-row", "cursor-pointer", 3, "ngClass", "click"], ["href", "#", "role", "button", 1, "text-truncate", "mr-auto", 3, "title", "click"], ["class", "ml-2 text-muted small", "style", "z-index: 1;", 4, "ngIf"], [1, "ml-2", "text-muted", "small", 2, "z-index", "1"], [1, "d-block", "text-center", "text-muted", "small", "py-1"], [1, "facet-results-scrollable"], ["class", "position-relative list-group-item list-group-item-action border-0 px-3 py-1 facet-row cursor-pointer", 3, "ngClass", "title", "click", 4, "ngFor", "ngForOf"], ["class", "d-block border-0 px-3 py-1 text-center", "href", "#", 3, "click", 4, "ngIf"], [1, "position-relative", "list-group-item", "list-group-item-action", "border-0", "px-3", "py-1", "facet-row", "cursor-pointer", 3, "ngClass", "title", "click"], ["class", "position-absolute progress-bar progress-color", 3, "--count", 4, "ngIf"], [1, "d-flex", "justify-content-between", "align-items-baseline"], ["href", "#", 1, "text-truncate", "mr-auto", 2, "z-index", "1", 3, "title", "click"], [1, "position-absolute", "progress-bar", "progress-color"], ["href", "#", 1, "d-block", "border-0", "px-3", "py-1", "text-center", 3, "click"], ["class", "fas fa-sync fa-fw fa-spin", 4, "ngIf"], [4, "ngIf"], [1, "fas", "fa-sync", "fa-fw", "fa-spin"]], template: function BsFacetList_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, BsFacetList_div_0_Template, 9, 9, "div", 0);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.isHidden());
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_8__["NgIf"], _angular_common__WEBPACK_IMPORTED_MODULE_8__["NgForOf"], _action_bootstrap_action_buttons_action_buttons__WEBPACK_IMPORTED_MODULE_9__["BsActionButtons"], _angular_forms__WEBPACK_IMPORTED_MODULE_6__["NgControlStatusGroup"], _angular_forms__WEBPACK_IMPORTED_MODULE_6__["FormGroupDirective"], _angular_forms__WEBPACK_IMPORTED_MODULE_6__["DefaultValueAccessor"], _utils_directives_autofocus__WEBPACK_IMPORTED_MODULE_10__["Autofocus"], _angular_forms__WEBPACK_IMPORTED_MODULE_6__["NgControlStatus"], _angular_forms__WEBPACK_IMPORTED_MODULE_6__["FormControlName"], _search_bootstrap_loading_bar_loading_bar__WEBPACK_IMPORTED_MODULE_11__["BsLoadingBar"], _angular_common__WEBPACK_IMPORTED_MODULE_8__["NgClass"]], pipes: [_angular_common__WEBPACK_IMPORTED_MODULE_8__["AsyncPipe"], _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_12__["MessagePipe"], _utils_pipes_value_pipe__WEBPACK_IMPORTED_MODULE_13__["ValuePipe"], _utils_pipes_number_pipe__WEBPACK_IMPORTED_MODULE_14__["NumberPipe"]], styles: ["[_ngcontent-%COMP%]::-webkit-scrollbar {\n  width: 10px;\n}\n\n[_ngcontent-%COMP%]::-webkit-scrollbar-thumb {\n  background-color: #cccccc;\n}\n\n[_ngcontent-%COMP%]::-webkit-scrollbar-track {\n  background-color: #f3f3f3;\n}\n\n.cursor-pointer[_ngcontent-%COMP%] {\n  cursor: pointer;\n}\n\n.progress-bar[_ngcontent-%COMP%] {\n  right: 0;\n  bottom: 0;\n  width: calc(100% - var(--count));\n  height: 2px;\n}\n\n.progress-bar.progress-color[_ngcontent-%COMP%] {\n  background-color: #7c7c7c;\n  background-image: linear-gradient(90deg, #b8daff, transparent);\n}\n\n.facet-row[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%] {\n  transition: opacity 0.3s, transform 0.3s ease;\n}\n\n.facet-row[_ngcontent-%COMP%]   .icons.icon-hover[_ngcontent-%COMP%] {\n  opacity: 0;\n}\n\n.facet-row[_ngcontent-%COMP%]   .icons.icon-hover.rotate[_ngcontent-%COMP%] {\n  transform: rotate(-180deg);\n}\n\n.facet-row[_ngcontent-%COMP%]:hover   .icon-default[_ngcontent-%COMP%] {\n  opacity: 0;\n}\n\n.facet-row[_ngcontent-%COMP%]:hover   .icon-default.rotate[_ngcontent-%COMP%] {\n  transform: rotate(180deg);\n}\n\n.facet-row[_ngcontent-%COMP%]:hover   .icon-hover[_ngcontent-%COMP%] {\n  opacity: 1;\n}\n\n.facet-row[_ngcontent-%COMP%]:hover   .icon-hover.rotate[_ngcontent-%COMP%] {\n  transform: rotate(0deg);\n}\n\n.facet-row[_ngcontent-%COMP%]   .fa-stack[_ngcontent-%COMP%] {\n  height: 1.5em;\n  line-height: 1.5em;\n}\n\n.facet-results-scrollable[_ngcontent-%COMP%] {\n  max-height: 385px;\n  overflow-y: auto;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2plY3RzL2NvbXBvbmVudHMvZmFjZXQvYm9vdHN0cmFwL2ZhY2V0LWxpc3QvZmFjZXQtbGlzdC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsV0FBQTtBQUNGOztBQUVBO0VBQ0UseUJBQUE7QUFDRjs7QUFFQTtFQUNFLHlCQUFBO0FBQ0Y7O0FBRUE7RUFDRSxlQUFBO0FBQ0Y7O0FBRUE7RUFDRSxRQUFBO0VBQ0EsU0FBQTtFQUNBLGdDQUFBO0VBQ0EsV0FBQTtBQUNGOztBQUNBO0VBQ0UseUJBQUE7RUFDQSw4REFBQTtBQUVGOztBQUNBO0VBQ0UsNkNBQUE7QUFFRjs7QUFBQTtFQUNFLFVBQUE7QUFHRjs7QUFEQTtFQUNFLDBCQUFBO0FBSUY7O0FBRkE7RUFDRSxVQUFBO0FBS0Y7O0FBSEE7RUFDRSx5QkFBQTtBQU1GOztBQUpBO0VBQ0UsVUFBQTtBQU9GOztBQUxBO0VBQ0UsdUJBQUE7QUFRRjs7QUFOQTtFQUNFLGFBQUE7RUFDQSxrQkFBQTtBQVNGOztBQU5BO0VBQ0UsaUJBQUE7RUFDQSxnQkFBQTtBQVNGIiwiZmlsZSI6InByb2plY3RzL2NvbXBvbmVudHMvZmFjZXQvYm9vdHN0cmFwL2ZhY2V0LWxpc3QvZmFjZXQtbGlzdC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOjotd2Via2l0LXNjcm9sbGJhciB7XG4gIHdpZHRoOiAxMHB4O1xufVxuXG46Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2NjY2NjYztcbn1cblxuOjotd2Via2l0LXNjcm9sbGJhci10cmFjayB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNmM2YzZjM7XG59XG5cbi5jdXJzb3ItcG9pbnRlciB7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cblxuLnByb2dyZXNzLWJhciB7XG4gIHJpZ2h0OiAwO1xuICBib3R0b206IDA7XG4gIHdpZHRoOiBjYWxjKDEwMCUgLSB2YXIoLS1jb3VudCkpO1xuICBoZWlnaHQ6IDJweDtcbn1cbi5wcm9ncmVzcy1iYXIucHJvZ3Jlc3MtY29sb3Ige1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjN2M3YzdjO1xuICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQoOTBkZWcsICNiOGRhZmYsIHRyYW5zcGFyZW50KTtcbn1cblxuLmZhY2V0LXJvdyAuaWNvbnMge1xuICB0cmFuc2l0aW9uOiBvcGFjaXR5IDAuM3MsIHRyYW5zZm9ybSAwLjNzIGVhc2U7XG59XG4uZmFjZXQtcm93IC5pY29ucy5pY29uLWhvdmVyIHtcbiAgb3BhY2l0eTogMDtcbn1cbi5mYWNldC1yb3cgLmljb25zLmljb24taG92ZXIucm90YXRlIHtcbiAgdHJhbnNmb3JtOiByb3RhdGUoLTE4MGRlZyk7XG59XG4uZmFjZXQtcm93OmhvdmVyIC5pY29uLWRlZmF1bHQge1xuICBvcGFjaXR5OiAwO1xufVxuLmZhY2V0LXJvdzpob3ZlciAuaWNvbi1kZWZhdWx0LnJvdGF0ZSB7XG4gIHRyYW5zZm9ybTogcm90YXRlKDE4MGRlZyk7XG59XG4uZmFjZXQtcm93OmhvdmVyIC5pY29uLWhvdmVyIHtcbiAgb3BhY2l0eTogMTtcbn1cbi5mYWNldC1yb3c6aG92ZXIgLmljb24taG92ZXIucm90YXRlIHtcbiAgdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7XG59XG4uZmFjZXQtcm93IC5mYS1zdGFjayB7XG4gIGhlaWdodDogMS41ZW07XG4gIGxpbmUtaGVpZ2h0OiAxLjVlbTtcbn1cblxuLmZhY2V0LXJlc3VsdHMtc2Nyb2xsYWJsZSB7XG4gIG1heC1oZWlnaHQ6IDM4NXB4O1xuICBvdmVyZmxvdy15OiBhdXRvO1xufSJdfQ== */"], changeDetection: 0 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsFacetList, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-facet-list",
                templateUrl: "./facet-list.html",
                styleUrls: ["./facet-list.scss"],
                changeDetection: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectionStrategy"].OnPush
            }]
    }], function () { return [{ type: _facet_service__WEBPACK_IMPORTED_MODULE_7__["FacetService"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] }]; }, { name: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], results: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], aggregation: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], showCount: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], searchable: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], allowExclude: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], allowOr: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], allowAnd: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], displayEmptyDistributionIntervals: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], displayActions: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], showProgressBar: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "MfrO":
/*!************************************!*\
  !*** ../core/login/jwt.service.ts ***!
  \************************************/
/*! exports provided: JWTService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "JWTService", function() { return JWTService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/web-services */ "cIYa");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs/operators */ "0Wlh");





/**
 * A service to retrieve a JWT (JSON Web Token) from the Sinequa server.
 */
class JWTService extends _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_1__["HttpService"] {
    constructor(startConfig, httpClient) {
        super(startConfig);
        this.httpClient = httpClient;
    }
    /**
     * Get a JWT from the Sinequa server using the passed credentials. The JWT is received in a cookie
     * and the associated CSRF token in the response payload.
     *
     * @param credentials The credentials to be used for the JWT. These are sent in clear text
     */
    getToken(credentials) {
        const observable = this.httpClient.post(this.makeUrl("webToken"), {
            action: "get",
            user: credentials.userName,
            password: credentials.password,
            tokenInCookie: true,
        }, {
            params: this.makeParams({
                noUserOverride: true,
                noAutoAuthentication: true
            })
        });
        return observable.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["map"])((value) => {
            return value.csrfToken;
        }));
    }
}
JWTService.ɵfac = function JWTService_Factory(t) { return new (t || JWTService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_1__["START_CONFIG"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_1__["SqHttpClient"])); };
JWTService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: JWTService, factory: JWTService.ɵfac, providedIn: "root" });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](JWTService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: "root"
            }]
    }], function () { return [{ type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_1__["START_CONFIG"]]
            }] }, { type: _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_1__["SqHttpClient"] }]; }, null); })();


/***/ }),

/***/ "Mvhk":
/*!**********************************!*\
  !*** ../core/modal/modal-ref.ts ***!
  \**********************************/
/*! exports provided: ModalRef */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ModalRef", function() { return ModalRef; });
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! rxjs */ "+kfY");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");


/**
 * An implementation of the {@link IModalRef} interface.
 */
class ModalRef {
    constructor(overlayRef) {
        this.overlayRef = overlayRef;
        this._checkClose = new rxjs__WEBPACK_IMPORTED_MODULE_0__["Subject"]();
        this._beforeClosed = new rxjs__WEBPACK_IMPORTED_MODULE_0__["Subject"]();
        this._afterClosed = new rxjs__WEBPACK_IMPORTED_MODULE_0__["Subject"]();
        this.submitListener = (event) => {
            this.submitted = true;
            event.preventDefault();
            return false;
        };
    }
    /**
     * A stream that emits before the referenced modal is closed to allow an observer
     * to cancel the closing.
     */
    checkClose() {
        return this._checkClose.asObservable();
    }
    /**
     * A stream that emits before the referenced modal is closed.
     */
    beforeClosed() {
        return this._beforeClosed.asObservable();
    }
    /**
     * A stream that emits aftervthe referenced modal is closed.
     */
    afterClosed() {
        return this._afterClosed.asObservable();
    }
    /**
     * Close the referenced modal with the passed `result`.
     * @param result The referenced modal's result.
     */
    close(result = -2 /* Cancel */) {
        // Delay to allow submit handling
        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].delay().then(() => {
            const checkCloseEvent = { result };
            this._checkClose.next(checkCloseEvent);
            (checkCloseEvent.cancelled || Object(rxjs__WEBPACK_IMPORTED_MODULE_0__["of"])(false)).subscribe((cancelled) => {
                if (!cancelled) {
                    this._checkClose.complete();
                    this._beforeClosed.next(result);
                    this._beforeClosed.complete();
                    this.removeSubmitListener();
                    this.overlayRef.detachBackdrop();
                    this.overlayRef.dispose();
                    this.componentInstance = undefined;
                    this._afterClosed.next(result);
                    this._afterClosed.complete();
                }
            });
        });
    }
    /**
     * Disable the standard browser submit handling on any HTML form in the modal component.
     */
    disableSubmit() {
        if (!this.formElement) {
            const formElement = this.overlayRef.overlayElement.querySelector("form");
            if (formElement) {
                this.formElement = formElement;
                this.formElement.addEventListener("submit", this.submitListener);
            }
        }
    }
    removeSubmitListener() {
        if (this.formElement) {
            this.formElement.removeEventListener("submit", this.submitListener);
            this.formElement = undefined;
        }
    }
}


/***/ }),

/***/ "N2dC":
/*!**********************************************************************************************!*\
  !*** ../components/preview/bootstrap/preview-entity-facet/preview-entity-facet.component.ts ***!
  \**********************************************************************************************/
/*! exports provided: BsPreviewEntityFacetComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsPreviewEntityFacetComponent", function() { return BsPreviewEntityFacetComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_components_facet__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/components/facet */ "vbgc");
/* harmony import */ var _sinequa_components_action__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/components/action */ "WsHA");
/* harmony import */ var _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/app-utils */ "SBPP");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _utils_pipes_value_pipe__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../utils/pipes/value-pipe */ "7U+I");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/intl/message.pipe */ "X1Kh");








function BsPreviewEntityFacetComponent_div_1_span_8_Template(rf, ctx) { if (rf & 1) {
    const _r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsPreviewEntityFacetComponent_div_1_span_8_Template_span_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r7); const value_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit; const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r5.prevEntity(value_r2); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "i", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("title", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](1, 1, "msg#preview.previousHighlightButtonAltText"));
} }
function BsPreviewEntityFacetComponent_div_1_span_9_Template(rf, ctx) { if (rf & 1) {
    const _r10 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsPreviewEntityFacetComponent_div_1_span_9_Template_span_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r10); const value_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit; const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r8.nextEntity(value_r2); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "i", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("title", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](1, 1, "msg#preview.nextHighlightButtonAltText"));
} }
const _c0 = function (a0, a1) { return { "fa-check-square": a0, "fa-square": a1 }; };
function BsPreviewEntityFacetComponent_div_1_Template(rf, ctx) { if (rf & 1) {
    const _r12 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "span", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsPreviewEntityFacetComponent_div_1_Template_span_click_1_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r12); const value_r2 = ctx.$implicit; const ctx_r11 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r11.toggleEntity(value_r2); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "i", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "span", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](5, "sqValue");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "span", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](8, BsPreviewEntityFacetComponent_div_1_span_8_Template, 3, 3, "span", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](9, BsPreviewEntityFacetComponent_div_1_span_9_Template, 3, 3, "span", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const value_r2 = ctx.$implicit;
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction2"](8, _c0, !ctx_r0.entityHidden(value_r2), ctx_r0.entityHidden(value_r2)));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](5, 5, value_r2.displayValue, ctx_r0.column));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r0.entityCount(value_r2));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r0.previewDocument);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r0.previewDocument);
} }
function BsPreviewEntityFacetComponent_div_2_Template(rf, ctx) { if (rf & 1) {
    const _r14 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "a", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsPreviewEntityFacetComponent_div_2_Template_a_click_1_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r14); const ctx_r13 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r13.showAll(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](4, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("title", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 2, "msg#preview.showAll"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](4, 4, "msg#preview.showAll"));
} }
class BsPreviewEntityFacetComponent extends _sinequa_components_facet__WEBPACK_IMPORTED_MODULE_1__["AbstractFacet"] {
    constructor(appService) {
        super();
        this.appService = appService;
        this.itemsChecked = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.count = 10;
        this.sortFreq = true;
        this.hidden = new Map();
        this.nav = new Map();
        /**
         * Unselect all entities (set hidden)
         */
        this.unselectAll = (action) => {
            if (this.previewDocument) {
                this.previewDocument.toggleHighlight(this.entity, false);
            }
            this.data.forEach((value) => {
                this.hidden.set(value.value, true);
            });
            if (action) {
                action.update();
                this.itemsChecked.next(false);
            }
        };
        /**
         * Select all entities (unset hidden)
         */
        this.selectAll = (action) => {
            if (this.previewDocument) {
                this.previewDocument.toggleHighlight(this.entity, true);
            }
            this.data.forEach((value) => {
                this.hidden.set(value.value, false);
            });
            if (action) {
                action.update();
                this.itemsChecked.next(true);
            }
        };
        this.checkAction = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_2__["Action"]({
            icon: "far fa-check-square",
            title: "msg#preview.highlightFilters.keepNone",
            action: this.unselectAll,
            updater: (action) => {
                let foundHidden = false;
                let foundNotHidden = false;
                this.data.forEach(value => {
                    foundHidden = foundHidden || this.hidden.get(value.value) || false;
                    foundNotHidden = foundNotHidden || !this.hidden.get(value.value);
                });
                if (!foundHidden) { // All items selected
                    action.action = this.unselectAll;
                    action.icon = "far fa-check-square";
                    action.title = "msg#preview.highlightFilters.keepNone";
                }
                else if (!foundNotHidden) { // All items unselected
                    action.action = this.selectAll;
                    action.icon = "far fa-square";
                    action.title = "msg#preview.highlightFilters.keepAll";
                }
                else { // Some items selected
                    action.action = this.selectAll;
                    action.icon = "far fa-check-square";
                    action.title = "msg#preview.highlightFilters.keepAll";
                }
            }
        });
        this.sortAlphaAction = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_2__["Action"]({
            icon: "fas fa-sort-alpha-down",
            title: "msg#preview.sortAlphabetically",
            action: () => {
                this.sortFreq = false;
            }
        });
        this.sortFreqAction = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_2__["Action"]({
            icon: "fas fa-sort-amount-down",
            title: "msg#preview.sortFrequency",
            action: () => {
                this.sortFreq = true;
            }
        });
    }
    get actions() {
        const actions = [];
        if (this.previewDocument) {
            actions.push(this.checkAction);
        }
        actions.push(this.sortFreq ? this.sortAlphaAction : this.sortFreqAction);
        return actions;
    }
    /**
     * Uncheck items if needed
     */
    ngOnInit() {
        if (this.startUnchecked) {
            this.unselectAll();
            this.checkAction.update();
        }
        this.column = this.appService.getColumn(this.entity);
    }
    /**
     * Since the preview document comes after the preview data, we need to wait for that change
     * and apply the hidden state in the document.
     * @param changes
     */
    ngOnChanges(changes) {
        if (changes["previewDocument"]) {
            if (this.previewDocument) {
                this.data.forEach(val => {
                    if (this.hidden.get(val.value)) {
                        this.previewDocument.toggleHighlight(this.entity, false, val.value);
                    }
                });
            }
        }
    }
    /**
     * Returns the entities to be displayed in the facet, performing truncation and sorting of the input list
     */
    get entityValues() {
        return this.data.sort((a, b) => {
            const d = b.locations.length - a.locations.length;
            return this.sortFreq && d !== 0 ? d : a.displayValue.localeCompare(b.displayValue);
        }).slice(0, this.count);
    }
    /**
     * Returns the number of occurrences of a given value.
     * If the user used the facet to navigate, the format is "i / count"
     * @param value
     */
    entityCount(value) {
        let count = value.locations.length + "";
        const navValue = this.nav.get(value.value);
        if (navValue !== undefined) {
            count = (navValue + 1) + " / " + count;
        }
        return count;
    }
    /**
     * Return whether the entity is hidden (unchecked) or not
     * @param value
     */
    entityHidden(value) {
        return !!this.hidden.get(value.value);
    }
    /**
     * Shows all the entities in the list
     */
    showAll() {
        this.count = this.data.length;
        return false;
    }
    /**
     * Toggles the hidden (checked/unchecked) state of a value in the list.
     * Modifies the provided preview document.
     * @param value
     */
    toggleEntity(value) {
        this.hidden.set(value.value, !this.hidden.get(value.value));
        if (this.previewDocument) {
            this.previewDocument.toggleHighlight(this.entity, !this.hidden.get(value.value), value.value);
        }
        this.checkAction.update();
    }
    /**
     * Navigate to the next value of this entity.
     * Modifies the provided preview document.
     * @param value
     */
    nextEntity(value) {
        let navValue = this.nav.get(value.value);
        if (navValue === undefined) {
            navValue = 0;
            this.nav.set(value.value, navValue);
        }
        else if (navValue < value.locations.length - 1) {
            navValue++;
            this.nav.set(value.value, navValue);
        }
        this.selectEntity(this.entity, value.value, navValue);
    }
    /**
     * Navigate to the next value of this entity.
     * Modifies the provided preview document.
     * @param value
     */
    prevEntity(value) {
        let navValue = this.nav.get(value.value);
        if (navValue === undefined) {
            navValue = 0;
            this.nav.set(value.value, navValue);
        }
        else if (navValue > 0) {
            navValue--;
            this.nav.set(value.value, navValue);
        }
        this.selectEntity(this.entity, value.value, navValue);
    }
    /**
     * Navigate to the given occurrence of an entity in a specific category
     * Modifies the provided preview document.
     * @param category
     * @param value
     * @param i
     */
    selectEntity(category, value, i) {
        const indexes = this.getEntityIndexes(category, value);
        this.previewDocument.selectHighlight(category, indexes[i]);
    }
    /**
     * Helper function to find the indexes of all occurrences of a entity value in the document
     * @param category
     * @param value
     */
    getEntityIndexes(category, value) {
        const indexes = [];
        for (let i = 0; i < this.previewData.highlightsPerLocation['length']; i++) {
            const highlight = this.previewData.highlightsPerLocation[i];
            const categories = Object.keys(highlight.positionInCategories);
            for (const currentCategory of categories) {
                if (currentCategory === category) {
                    for (const highlightValue of highlight.values) {
                        if (highlightValue === value) {
                            indexes.push(highlight.positionInCategories[category]);
                        }
                    }
                }
            }
        }
        return indexes;
    }
}
BsPreviewEntityFacetComponent.ɵfac = function BsPreviewEntityFacetComponent_Factory(t) { return new (t || BsPreviewEntityFacetComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__["AppService"])); };
BsPreviewEntityFacetComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsPreviewEntityFacetComponent, selectors: [["sq-preview-entity-facet"]], inputs: { entity: "entity", data: "data", previewData: "previewData", previewDocument: "previewDocument", startUnchecked: "startUnchecked" }, outputs: { itemsChecked: "itemsChecked" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"], _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 3, vars: 2, consts: [[1, "list-group", "list-group-flush", "entity-facet"], ["class", "list-group-item align-items-center border-0 py-1 px-3 d-flex", 4, "ngFor", "ngForOf"], ["class", "list-group-item border-0 py-1 text-center", 4, "ngIf"], [1, "list-group-item", "align-items-center", "border-0", "py-1", "px-3", "d-flex"], [1, "text-muted", "px-1", "cursor-pointer", 3, "click"], [1, "far", 3, "ngClass"], [1, "mr-auto", "mx-1"], [1, "text-muted", "small", "mx-1"], ["class", "text-muted px-1 cursor-pointer", 3, "title", "click", 4, "ngIf"], [1, "text-muted", "px-1", "cursor-pointer", 3, "title", "click"], [1, "fas", "fa-chevron-left"], [1, "fas", "fa-chevron-right"], [1, "list-group-item", "border-0", "py-1", "text-center"], ["href", "#", 1, "text-muted", "small", 3, "title", "click"]], template: function BsPreviewEntityFacetComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsPreviewEntityFacetComponent_div_1_Template, 10, 11, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, BsPreviewEntityFacetComponent_div_2_Template, 5, 6, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.entityValues);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.data.length > ctx.count);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_4__["NgForOf"], _angular_common__WEBPACK_IMPORTED_MODULE_4__["NgIf"], _angular_common__WEBPACK_IMPORTED_MODULE_4__["NgClass"]], pipes: [_utils_pipes_value_pipe__WEBPACK_IMPORTED_MODULE_5__["ValuePipe"], _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_6__["MessagePipe"]], styles: [".cursor-pointer[_ngcontent-%COMP%] {\n  cursor: pointer;\n}\n\n.entity-facet[_ngcontent-%COMP%] {\n  font-size: 0.9em;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2plY3RzL2NvbXBvbmVudHMvcHJldmlldy9ib290c3RyYXAvcHJldmlldy1lbnRpdHktZmFjZXQvcHJldmlldy1lbnRpdHktZmFjZXQuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxlQUFBO0FBQ0Y7O0FBRUE7RUFDRSxnQkFBQTtBQUNGIiwiZmlsZSI6InByb2plY3RzL2NvbXBvbmVudHMvcHJldmlldy9ib290c3RyYXAvcHJldmlldy1lbnRpdHktZmFjZXQvcHJldmlldy1lbnRpdHktZmFjZXQuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY3Vyc29yLXBvaW50ZXIge1xuICBjdXJzb3I6IHBvaW50ZXI7XG59XG5cbi5lbnRpdHktZmFjZXQge1xuICBmb250LXNpemU6IDAuOWVtO1xufSJdfQ== */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsPreviewEntityFacetComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'sq-preview-entity-facet',
                templateUrl: './preview-entity-facet.component.html',
                styleUrls: ['./preview-entity-facet.component.scss']
            }]
    }], function () { return [{ type: _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__["AppService"] }]; }, { entity: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], data: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], previewData: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], previewDocument: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], startUnchecked: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], itemsChecked: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }] }); })();


/***/ }),

/***/ "N5TP":
/*!***********************************************************!*\
  !*** ../components/search/bootstrap/scroller/scroller.ts ***!
  \***********************************************************/
/*! exports provided: BsScroller */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsScroller", function() { return BsScroller; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _search_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../search.service */ "TJtf");



const _c0 = ["anchor"];
class BsScroller {
    constructor(searchService) {
        this.searchService = searchService;
        this.options = {};
    }
    ngAfterViewInit() {
        const options = Object.assign({ root: null }, this.options);
        this.observer = new IntersectionObserver(([entry]) => {
            if (entry.isIntersecting) {
                this.searchService.loadMore();
            }
        }, options);
        this.observer.observe(this.anchor.nativeElement);
    }
    ngOnDestroy() {
        this.observer.disconnect();
    }
}
BsScroller.ɵfac = function BsScroller_Factory(t) { return new (t || BsScroller)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_search_service__WEBPACK_IMPORTED_MODULE_1__["SearchService"])); };
BsScroller.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsScroller, selectors: [["sq-scroller"]], viewQuery: function BsScroller_Query(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c0, true);
    } if (rf & 2) {
        let _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.anchor = _t.first);
    } }, inputs: { options: "options" }, decls: 2, vars: 0, consts: [[2, "height", "5px"], ["anchor", ""]], template: function BsScroller_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "div", 0, 1);
    } }, encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsScroller, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'sq-scroller',
                template: `<div #anchor style="height:5px"></div>`
            }]
    }], function () { return [{ type: _search_service__WEBPACK_IMPORTED_MODULE_1__["SearchService"] }]; }, { options: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], anchor: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ['anchor']
        }] }); })();


/***/ }),

/***/ "NZVk":
/*!***************************************!*\
  !*** ../core/login/messages/index.ts ***!
  \***************************************/
/*! exports provided: enLogin, frLogin, deLogin */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "enLogin", function() { return enLogin; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "frLogin", function() { return frLogin; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "deLogin", function() { return deLogin; });
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/intl */ "EfqX");
/* harmony import */ var _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/modal */ "vMGo");
/* harmony import */ var _sinequa_core_validation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/validation */ "BovW");
/* harmony import */ var _en__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./en */ "c3wI");
/* harmony import */ var _fr__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./fr */ "FVww");
/* harmony import */ var _de__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./de */ "90KJ");







const enLogin = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].merge({}, _en__WEBPACK_IMPORTED_MODULE_4__["default"], _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_1__["enIntl"], _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_2__["enModal"], _sinequa_core_validation__WEBPACK_IMPORTED_MODULE_3__["enValidation"]);
const frLogin = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].merge({}, _fr__WEBPACK_IMPORTED_MODULE_5__["default"], _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_1__["frIntl"], _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_2__["frModal"], _sinequa_core_validation__WEBPACK_IMPORTED_MODULE_3__["frValidation"]);
const deLogin = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].merge({}, _de__WEBPACK_IMPORTED_MODULE_6__["default"], _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_1__["deIntl"], _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_2__["deModal"], _sinequa_core_validation__WEBPACK_IMPORTED_MODULE_3__["deValidation"]);



/***/ }),

/***/ "NZyV":
/*!***************************************************************************!*\
  !*** ../components/notification/bootstrap/notifications/notifications.ts ***!
  \***************************************************************************/
/*! exports provided: BsNotifications */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsNotifications", function() { return BsNotifications; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_notification__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/notification */ "mkLw");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _notification_notification__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../notification/notification */ "1JZ2");





function BsNotifications_sq_notification_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "sq-notification", 2);
} if (rf & 2) {
    const notification_r1 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("notification", notification_r1);
} }
class BsNotifications {
    constructor(notificationsService, changeDetectorRef) {
        this.notificationsService = notificationsService;
        this.changeDetectorRef = changeDetectorRef;
        this.notifications = [];
    }
    ngOnInit() {
        this.loadNotifications();
        this.subscription = this.notificationsService.events.subscribe((event) => {
            if (event.type === "updated") {
                this.loadNotifications();
                this.changeDetectorRef.markForCheck();
            }
        });
    }
    ngOnDestroy() {
        this.subscription.unsubscribe();
    }
    loadNotifications() {
        this.notifications.splice(0);
        for (const notification of this.notificationsService.notifications) {
            if (notification.state !== 2 /* Hidden */) {
                this.notifications.unshift(notification);
            }
        }
    }
}
BsNotifications.ɵfac = function BsNotifications_Factory(t) { return new (t || BsNotifications)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_notification__WEBPACK_IMPORTED_MODULE_1__["NotificationsService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"])); };
BsNotifications.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsNotifications, selectors: [["sq-notifications"]], decls: 2, vars: 1, consts: [[1, "sq-notifications"], [3, "notification", 4, "ngFor", "ngForOf"], [3, "notification"]], template: function BsNotifications_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsNotifications_sq_notification_1_Template, 1, 1, "sq-notification", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.notifications);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_2__["NgForOf"], _notification_notification__WEBPACK_IMPORTED_MODULE_3__["BsNotification"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsNotifications, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-notifications",
                templateUrl: "./notifications.html"
            }]
    }], function () { return [{ type: _sinequa_core_notification__WEBPACK_IMPORTED_MODULE_1__["NotificationsService"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] }]; }, null); })();


/***/ }),

/***/ "O2tJ":
/*!***************************!*\
  !*** ./src/locales/fr.ts ***!
  \***************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var moment_locale_fr__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! moment/locale/fr */ "Y8Ij");
/* harmony import */ var moment_locale_fr__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(moment_locale_fr__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var d3_format_locale_fr_FR_json__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! d3-format/locale/fr-FR.json */ "D2Yo");
var d3_format_locale_fr_FR_json__WEBPACK_IMPORTED_MODULE_1___namespace = /*#__PURE__*/__webpack_require__.t(/*! d3-format/locale/fr-FR.json */ "D2Yo", 1);
/* harmony import */ var d3_time_format_locale_fr_FR_json__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! d3-time-format/locale/fr-FR.json */ "QSO4");
var d3_time_format_locale_fr_FR_json__WEBPACK_IMPORTED_MODULE_2___namespace = /*#__PURE__*/__webpack_require__.t(/*! d3-time-format/locale/fr-FR.json */ "QSO4", 1);
/* harmony import */ var _sinequa_core__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core */ "8UJf");
/* harmony import */ var _messages_fr_json__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./messages/fr.json */ "M954");
var _messages_fr_json__WEBPACK_IMPORTED_MODULE_4___namespace = /*#__PURE__*/__webpack_require__.t(/*! ./messages/fr.json */ "M954", 1);
/* harmony import */ var intl_locale_data_jsonp_fr_FR__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! intl/locale-data/jsonp/fr-FR */ "ESB7");
/* harmony import */ var intl_locale_data_jsonp_fr_FR__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(intl_locale_data_jsonp_fr_FR__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _formatjs_intl_relativetimeformat_dist_locale_data_fr__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @formatjs/intl-relativetimeformat/dist/locale-data/fr */ "gfUx");
/* harmony import */ var _formatjs_intl_relativetimeformat_dist_locale_data_fr__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_formatjs_intl_relativetimeformat_dist_locale_data_fr__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @sinequa/components/utils */ "DD1E");
/* harmony import */ var _sinequa_components_advanced__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @sinequa/components/advanced */ "c96x");
/* harmony import */ var _sinequa_components_alerts__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @sinequa/components/alerts */ "wg+P");
/* harmony import */ var _sinequa_components_baskets__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @sinequa/components/baskets */ "jOUn");
/* harmony import */ var _sinequa_components_facet__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @sinequa/components/facet */ "vbgc");
/* harmony import */ var _sinequa_components_feedback__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @sinequa/components/feedback */ "+3Y0");
/* harmony import */ var _sinequa_analytics_heatmap__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @sinequa/analytics/heatmap */ "vvgm");
/* harmony import */ var _sinequa_components_labels__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @sinequa/components/labels */ "URQe");
/* harmony import */ var _sinequa_components_metadata__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @sinequa/components/metadata */ "l9Gu");
/* harmony import */ var _sinequa_components_notification__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @sinequa/components/notification */ "5e9m");
/* harmony import */ var _sinequa_components_preview__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @sinequa/components/preview */ "XNLR");
/* harmony import */ var _sinequa_components_result__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @sinequa/components/result */ "fMrC");
/* harmony import */ var _sinequa_components_results_view__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @sinequa/components/results-view */ "DYFJ");
/* harmony import */ var _sinequa_components_saved_queries__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @sinequa/components/saved-queries */ "vQnv");
/* harmony import */ var _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @sinequa/components/selection */ "8GPZ");
/* harmony import */ var _sinequa_components_search__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @sinequa/components/search */ "7+c1");
/* harmony import */ var _sinequa_components_status_bar__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @sinequa/components/status-bar */ "P4gH");
/* harmony import */ var _sinequa_components_user_settings__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! @sinequa/components/user-settings */ "ooqV");





 // Safari




















d3_format_locale_fr_FR_json__WEBPACK_IMPORTED_MODULE_1__.thousands = " "; // consistency with intl-number-format
const messages = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_7__["Utils"].merge({}, _sinequa_core__WEBPACK_IMPORTED_MODULE_3__["frCore"], _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_8__["frUtils"], _sinequa_components_advanced__WEBPACK_IMPORTED_MODULE_9__["frAdvanced"], _sinequa_components_alerts__WEBPACK_IMPORTED_MODULE_10__["frAlerts"], _sinequa_components_baskets__WEBPACK_IMPORTED_MODULE_11__["frBaskets"], _sinequa_components_facet__WEBPACK_IMPORTED_MODULE_12__["frFacet"], _sinequa_components_feedback__WEBPACK_IMPORTED_MODULE_13__["frFeedback"], _sinequa_analytics_heatmap__WEBPACK_IMPORTED_MODULE_14__["frHeatmap"], _sinequa_components_labels__WEBPACK_IMPORTED_MODULE_15__["frLabels"], _sinequa_components_metadata__WEBPACK_IMPORTED_MODULE_16__["frMetadata"], _sinequa_components_notification__WEBPACK_IMPORTED_MODULE_17__["frNotification"], _sinequa_components_preview__WEBPACK_IMPORTED_MODULE_18__["frPreview"], _sinequa_components_result__WEBPACK_IMPORTED_MODULE_19__["frResult"], _sinequa_components_results_view__WEBPACK_IMPORTED_MODULE_20__["frResultsView"], _sinequa_components_saved_queries__WEBPACK_IMPORTED_MODULE_21__["frSavedQueries"], _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_22__["frSelection"], _sinequa_components_search__WEBPACK_IMPORTED_MODULE_23__["frSearch"], _sinequa_components_status_bar__WEBPACK_IMPORTED_MODULE_24__["frStatusBar"], _sinequa_components_user_settings__WEBPACK_IMPORTED_MODULE_25__["frUserSettings"], _messages_fr_json__WEBPACK_IMPORTED_MODULE_4__);
/* harmony default export */ __webpack_exports__["default"] = ({
    intl: {
        locale: "fr-FR"
    },
    moment: {
        locale: "fr"
    },
    d3: {
        locale: "fr-FR",
        format: d3_format_locale_fr_FR_json__WEBPACK_IMPORTED_MODULE_1__,
        time: d3_time_format_locale_fr_FR_json__WEBPACK_IMPORTED_MODULE_2__
    },
    messages: messages
});


/***/ }),

/***/ "O7EN":
/*!*************************************************!*\
  !*** ../components/selection/messages/index.ts ***!
  \*************************************************/
/*! exports provided: enSelection, frSelection, deSelection */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "enSelection", function() { return enSelection; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "frSelection", function() { return frSelection; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "deSelection", function() { return deSelection; });
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_components_search__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/components/search */ "7+c1");
/* harmony import */ var _en__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./en */ "UiKc");
/* harmony import */ var _fr__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./fr */ "G/Gs");
/* harmony import */ var _de__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./de */ "RwpS");





const enSelection = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].merge({}, _en__WEBPACK_IMPORTED_MODULE_2__["default"], _sinequa_components_search__WEBPACK_IMPORTED_MODULE_1__["enSearch"]);
const frSelection = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].merge({}, _fr__WEBPACK_IMPORTED_MODULE_3__["default"], _sinequa_components_search__WEBPACK_IMPORTED_MODULE_1__["frSearch"]);
const deSelection = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].merge({}, _de__WEBPACK_IMPORTED_MODULE_4__["default"], _sinequa_components_search__WEBPACK_IMPORTED_MODULE_1__["deSearch"]);



/***/ }),

/***/ "OCLz":
/*!************************************************************!*\
  !*** ../components/facet/bootstrap/facet-bar/facet-bar.ts ***!
  \************************************************************/
/*! exports provided: BsFacetBar */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsFacetBar", function() { return BsFacetBar; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _facet_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../facet.service */ "mQJ4");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _facet_card_facet_card__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../facet-card/facet-card */ "wL8g");
/* harmony import */ var _facet_list_facet_list__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../facet-list/facet-list */ "MbPB");
/* harmony import */ var _facet_tree_facet_tree__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../facet-tree/facet-tree */ "JgJf");







function BsFacetBar_ng_container_3_sq_facet_list_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "sq-facet-list", 5, 6);
} if (rf & 2) {
    const f_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("name", f_r1.name)("results", ctx_r2.results)("aggregation", f_r1.aggregations);
} }
function BsFacetBar_ng_container_3_sq_facet_tree_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "sq-facet-tree", 5, 6);
} if (rf & 2) {
    const f_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("name", f_r1.name)("results", ctx_r3.results)("aggregation", f_r1.aggregations);
} }
function BsFacetBar_ng_container_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "sq-facet-card", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, BsFacetBar_ng_container_3_sq_facet_list_2_Template, 2, 3, "sq-facet-list", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, BsFacetBar_ng_container_3_sq_facet_tree_3_Template, 2, 3, "sq-facet-tree", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const f_r1 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMap"](f_r1["className"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngSwitch", f_r1.type)("title", f_r1.title);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngSwitchCase", "list");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngSwitchCase", "tree");
} }
const _c0 = ["*"];
class BsFacetBar {
    constructor(facetService) {
        this.facetService = facetService;
        this.containerIndex = 0; // There could be various facet bars (but only one service and storage array)
    }
    get facets() {
        const facets = this.facetService.getFacets(this.containerIndex);
        return facets;
    }
}
BsFacetBar.ɵfac = function BsFacetBar_Factory(t) { return new (t || BsFacetBar)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_facet_service__WEBPACK_IMPORTED_MODULE_1__["FacetService"])); };
BsFacetBar.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsFacetBar, selectors: [["sq-facet-bar"]], inputs: { results: "results", containerIndex: "containerIndex" }, ngContentSelectors: _c0, decls: 4, vars: 1, consts: [[1, "container-fluid"], [1, "row"], [4, "ngFor", "ngForOf"], [3, "ngSwitch", "title"], [3, "name", "results", "aggregation", 4, "ngSwitchCase"], [3, "name", "results", "aggregation"], ["facet", ""]], template: function BsFacetBar_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵprojectionDef"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵprojection"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, BsFacetBar_ng_container_3_Template, 4, 7, "ng-container", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.facets);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_2__["NgForOf"], _facet_card_facet_card__WEBPACK_IMPORTED_MODULE_3__["BsFacetCard"], _angular_common__WEBPACK_IMPORTED_MODULE_2__["NgSwitch"], _angular_common__WEBPACK_IMPORTED_MODULE_2__["NgSwitchCase"], _facet_list_facet_list__WEBPACK_IMPORTED_MODULE_4__["BsFacetList"], _facet_tree_facet_tree__WEBPACK_IMPORTED_MODULE_5__["BsFacetTree"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsFacetBar, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-facet-bar",
                templateUrl: "./facet-bar.html"
            }]
    }], function () { return [{ type: _facet_service__WEBPACK_IMPORTED_MODULE_1__["FacetService"] }]; }, { results: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], containerIndex: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "OMhs":
/*!***************************************************************************************!*\
  !*** ../components/advanced/bootstrap/advanced-form-range/date-picker/date-picker.ts ***!
  \***************************************************************************************/
/*! exports provided: DATE_PICKER_VALUE_ACCESSOR, BsDatePicker */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DATE_PICKER_VALUE_ACCESSOR", function() { return DATE_PICKER_VALUE_ACCESSOR; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsDatePicker", function() { return BsDatePicker; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ "nIj0");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! moment */ "wgY5");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/core/intl */ "EfqX");
/* harmony import */ var ngx_bootstrap_datepicker__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ngx-bootstrap/datepicker */ "QN9p");








const _c0 = ["picker"];
const _c1 = ["input"];
const DATE_PICKER_VALUE_ACCESSOR = {
    provide: _angular_forms__WEBPACK_IMPORTED_MODULE_1__["NG_VALUE_ACCESSOR"],
    useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(() => BsDatePicker),
    multi: true
};
class BsDatePicker {
    constructor(intlService) {
        this.intlService = intlService;
        this.SystemFormat = 'YYYY-MM-DD';
        this.onChangeCallback = () => { };
    }
    ngOnInit() {
        if (!this.options) {
            this.options = {};
        }
    }
    get dateFormat() {
        return this.options.system ? this.SystemFormat : moment__WEBPACK_IMPORTED_MODULE_3___default.a.localeData().longDateFormat('L');
    }
    setLocale() {
        if (!!this.picker && this.picker.isOpen) {
            this.picker.hide();
            this.picker.show();
        }
    }
    ngAfterViewInit() {
        this.setLocale();
        this.localeChange = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].subscribe(this.intlService.events, (value) => {
            this.setLocale();
        });
    }
    ngOnDestroy() {
        if (this.localeChange) {
            this.localeChange.unsubscribe();
        }
    }
    bsConfig() {
        return {
            minDate: this.options.minDate,
            maxDate: this.options.maxDate,
            containerClass: 'theme-default',
            showWeekNumbers: false,
            dateInputFormat: this.options.system ? this.SystemFormat : moment__WEBPACK_IMPORTED_MODULE_3___default.a.localeData().longDateFormat('L')
        };
    }
    updateValue(value) {
        this.value = value;
        this.zeroTimes(this.value);
        this.onChangeCallback(this.value);
        this.focus();
    }
    zeroTimes(value) {
        if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].isDate(value)) { // includes null checking
            value.setHours(0, 0, 0, 0);
        }
    }
    focus() {
        if (this.input) {
            this.input.nativeElement.focus();
        }
    }
    //#region ControlValueAccessor
    writeValue(value) {
        this.value = value;
    }
    registerOnChange(fn) {
        this.onChangeCallback = fn;
    }
    registerOnTouched(fn) {
    }
}
BsDatePicker.ɵfac = function BsDatePicker_Factory(t) { return new (t || BsDatePicker)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_intl__WEBPACK_IMPORTED_MODULE_4__["IntlService"])); };
BsDatePicker.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsDatePicker, selectors: [["sq-date-picker"]], viewQuery: function BsDatePicker_Query(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c0, true);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c1, true);
    } if (rf & 2) {
        let _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.picker = _t.first);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.input = _t.first);
    } }, inputs: { options: "options" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵProvidersFeature"]([DATE_PICKER_VALUE_ACCESSOR])], decls: 5, vars: 3, consts: [[1, "sq-date-picker", "form-row"], [1, "col"], ["type", "text", "autocomplete", "off", "bsDatepicker", "", "triggers", "click", 1, "form-control", 3, "bsConfig", "ngModel", "placeholder", "ngModelChange"], ["input", "", "picker", "bsDatepicker"]], template: function BsDatePicker_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "input", 2, 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("ngModelChange", function BsDatePicker_Template_input_ngModelChange_2_listener($event) { return ctx.updateValue($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("bsConfig", ctx.bsConfig())("ngModel", ctx.value)("placeholder", ctx.dateFormat);
    } }, directives: [ngx_bootstrap_datepicker__WEBPACK_IMPORTED_MODULE_5__["BsDatepickerInputDirective"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["DefaultValueAccessor"], ngx_bootstrap_datepicker__WEBPACK_IMPORTED_MODULE_5__["BsDatepickerDirective"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["NgControlStatus"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["NgModel"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsDatePicker, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-date-picker",
                template: `
        <div class="sq-date-picker form-row">
            <div class="col">
                <input type="text" #input class="form-control" autocomplete="off" bsDatepicker triggers="click" #picker="bsDatepicker" [bsConfig]="bsConfig()" [ngModel]="value" (ngModelChange)="updateValue($event)" [placeholder]="dateFormat" />
            </div>
        </div>
    `,
                providers: [DATE_PICKER_VALUE_ACCESSOR]
            }]
    }], function () { return [{ type: _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_4__["IntlService"] }]; }, { options: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], picker: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ["picker", { static: false }]
        }], input: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ['input', { static: false }]
        }] }); })();


/***/ }),

/***/ "OQ2v":
/*!***********************************************************!*\
  !*** ../components/feedback/bootstrap/feedback.module.ts ***!
  \***********************************************************/
/*! exports provided: BsFeedbackModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsFeedbackModule", function() { return BsFeedbackModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/intl */ "EfqX");
/* harmony import */ var _sinequa_core_validation__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/validation */ "BovW");
/* harmony import */ var _sinequa_components_action__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/components/action */ "WsHA");
/* harmony import */ var _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sinequa/components/modal */ "mOpA");
/* harmony import */ var _feedback_menu_feedback_menu__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./feedback-menu/feedback-menu */ "7eWH");








class BsFeedbackModule {
}
BsFeedbackModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: BsFeedbackModule });
BsFeedbackModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function BsFeedbackModule_Factory(t) { return new (t || BsFeedbackModule)(); }, imports: [[
            _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
            _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_2__["IntlModule"],
            _sinequa_components_action__WEBPACK_IMPORTED_MODULE_4__["BsActionModule"],
            _sinequa_core_validation__WEBPACK_IMPORTED_MODULE_3__["ValidationModule"],
            _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_5__["BsModalModule"]
        ]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](BsFeedbackModule, { declarations: [_feedback_menu_feedback_menu__WEBPACK_IMPORTED_MODULE_6__["BsFeedbackMenu"]], imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
        _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_2__["IntlModule"],
        _sinequa_components_action__WEBPACK_IMPORTED_MODULE_4__["BsActionModule"],
        _sinequa_core_validation__WEBPACK_IMPORTED_MODULE_3__["ValidationModule"],
        _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_5__["BsModalModule"]], exports: [_feedback_menu_feedback_menu__WEBPACK_IMPORTED_MODULE_6__["BsFeedbackMenu"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsFeedbackModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                    _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_2__["IntlModule"],
                    _sinequa_components_action__WEBPACK_IMPORTED_MODULE_4__["BsActionModule"],
                    _sinequa_core_validation__WEBPACK_IMPORTED_MODULE_3__["ValidationModule"],
                    _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_5__["BsModalModule"]
                ],
                declarations: [
                    _feedback_menu_feedback_menu__WEBPACK_IMPORTED_MODULE_6__["BsFeedbackMenu"]
                ],
                exports: [
                    _feedback_menu_feedback_menu__WEBPACK_IMPORTED_MODULE_6__["BsFeedbackMenu"]
                ]
            }]
    }], null, null); })();


/***/ }),

/***/ "OpW8":
/*!**********************************************!*\
  !*** ../components/labels/labels.service.ts ***!
  \**********************************************/
/*! exports provided: LABELS_COMPONENTS, LabelsService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LABELS_COMPONENTS", function() { return LABELS_COMPONENTS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LabelsService", function() { return LabelsService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "+kfY");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_components_action__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/components/action */ "WsHA");
/* harmony import */ var _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/core/web-services */ "cIYa");
/* harmony import */ var _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sinequa/core/app-utils */ "SBPP");
/* harmony import */ var _sinequa_components_search__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @sinequa/components/search */ "7+c1");
/* harmony import */ var _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @sinequa/core/modal */ "vMGo");
/* harmony import */ var _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @sinequa/core/intl */ "EfqX");
/* harmony import */ var _sinequa_core_notification__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @sinequa/core/notification */ "mkLw");
/* harmony import */ var _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @sinequa/components/selection */ "8GPZ");












const LABELS_COMPONENTS = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["InjectionToken"]("LABELS_COMPONENTS");
class LabelsService {
    constructor(labelsWebService, appService, searchService, modalService, principalWebService, intlService, notificationService, selectionService, labelsComponents) {
        this.labelsWebService = labelsWebService;
        this.appService = appService;
        this.searchService = searchService;
        this.modalService = modalService;
        this.principalWebService = principalWebService;
        this.intlService = intlService;
        this.notificationService = notificationService;
        this.selectionService = selectionService;
        this.labelsComponents = labelsComponents;
        this.principalWebService.events.subscribe((event) => {
            switch (event.type) {
                case "changed":
                    this._privateLabelsPrefix = undefined;
                    this.labelsRights = undefined;
                    this.labelsRightsSubscription = undefined;
                    break;
            }
        });
    }
    get publicLabelsField() {
        return this.appService.cclabels
            ? this.appService.cclabels.publicLabelsField
            : undefined;
    }
    get privateLabelsField() {
        return this.appService.cclabels
            ? this.appService.cclabels.privateLabelsField
            : undefined;
    }
    get labelsAutoSuggestWildcard() {
        return this.appService.cclabels
            ? this.appService.cclabels.labelsAutoSuggestWildcard
            : undefined;
    }
    get allowPublicLabelsManagement() {
        return this.appService.cclabels
            ? this.appService.cclabels.allowPublicLabelsCreation
            : false;
    }
    get allowPublicLabelsEdition() {
        return this.appService.cclabels
            ? this.appService.cclabels.allowPublicLabelsModification
            : false;
    }
    get userLabelsRights() {
        let rights;
        if (!this.labelsRights) {
            if (!this.labelsRightsSubscription) {
                const observable = this.labelsWebService.getUserRights();
                this.labelsRightsSubscription = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].subscribe(observable, (response) => (rights = response));
            }
            else {
                rights = LabelsService.defaultLabelsRights;
            }
            this.labelsRights = !!rights
                ? rights
                : LabelsService.defaultLabelsRights;
        }
        return this.labelsRights;
    }
    ngOnDestroy() {
        if (this.labelsRightsSubscription) {
            this.labelsRightsSubscription.unsubscribe();
        }
    }
    /** From navbar */
    renameLabelModal() {
        const data = {
            oldValues: [],
            newValue: "",
            properties: this._modalProperties(2 /* rename */),
        };
        return this.modalService.open(this.labelsComponents.renameModal, {
            model: data,
        });
    }
    deleteLabelModal() {
        const data = {
            values: [],
            properties: this._modalProperties(3 /* delete */),
        };
        return this.modalService.open(this.labelsComponents.deleteModal, {
            model: data,
        });
    }
    bulkAddLabelModal() {
        const data = {
            values: [],
            properties: this._modalProperties(4 /* bulkAdd */),
        };
        return this.modalService.open(this.labelsComponents.addModal, {
            model: data,
        });
    }
    bulkRemoveLabelModal() {
        const data = {
            values: [],
            properties: this._modalProperties(5 /* bulkRemove */),
        };
        return this.modalService.open(this.labelsComponents.deleteModal, {
            model: data,
        });
    }
    _modalProperties(action) {
        const allowManagePublicLabels = this.allowPublicLabelsManagement &&
            this.userLabelsRights &&
            this.userLabelsRights.canManagePublicLabels;
        const allowEditPublicLabels = this.allowPublicLabelsEdition &&
            this.userLabelsRights &&
            this.userLabelsRights.canEditPublicLabels;
        let allowNewLabels = false;
        let radioButtonsConf;
        switch (action) {
            case 2 /* rename */:
            case 1 /* remove */:
            case 3 /* delete */:
            case 5 /* bulkRemove */:
                allowNewLabels = false;
                break;
            case 0 /* add */:
            case 4 /* bulkAdd */:
            case 6 /* edit */:
                allowNewLabels = true;
                break;
            default:
                break;
        }
        switch (action) {
            case 2 /* rename */:
            case 3 /* delete */:
                radioButtonsConf = this._getModalRadioButtonsConf(allowManagePublicLabels);
                break;
            case 0 /* add */:
            case 4 /* bulkAdd */:
            case 1 /* remove */:
            case 5 /* bulkRemove */:
            case 6 /* edit */:
                radioButtonsConf = this._getModalRadioButtonsConf(allowManagePublicLabels || allowEditPublicLabels);
                break;
            default:
                break;
        }
        return Object.assign({ allowEditPublicLabels: allowEditPublicLabels, allowManagePublicLabels: allowManagePublicLabels, allowNewLabels: allowNewLabels, action: action }, radioButtonsConf);
    }
    _getModalRadioButtonsConf(publicRight) {
        let isPublic = true;
        let disableAutocomplete = false;
        let radioButtons = [];
        let publicRadioButton = {
            id: "publicLabel",
            name: "msg#labels.public",
            value: true,
            disabled: false,
            checked: true,
        };
        let privateRadioButton = {
            id: "privateLabel",
            name: "msg#labels.private",
            value: false,
            disabled: false,
            checked: false,
        };
        if (!!this.publicLabelsField && !!this.privateLabelsField) {
            if (publicRight) {
                isPublic = true;
                radioButtons = [publicRadioButton, privateRadioButton];
            }
            else {
                isPublic = false;
                publicRadioButton = Object.assign(Object.assign({}, publicRadioButton), { disabled: true, checked: false });
                privateRadioButton = Object.assign(Object.assign({}, privateRadioButton), { disabled: true, checked: true });
                radioButtons = [publicRadioButton, privateRadioButton];
            }
        }
        else if (!!this.publicLabelsField) {
            if (publicRight) {
                isPublic = true;
                publicRadioButton = Object.assign(Object.assign({}, publicRadioButton), { disabled: true, checked: true });
                radioButtons = [publicRadioButton];
            }
            else {
                isPublic = false;
                disableAutocomplete = true;
                publicRadioButton = Object.assign(Object.assign({}, publicRadioButton), { disabled: true, checked: false });
                radioButtons = [publicRadioButton];
            }
        }
        else if (!!this.privateLabelsField) {
            isPublic = false;
            privateRadioButton = Object.assign(Object.assign({}, privateRadioButton), { disabled: true, checked: true });
            radioButtons = [privateRadioButton];
        }
        return {
            public: isPublic,
            disableAutocomplete: disableAutocomplete,
            radioButtons: radioButtons,
        };
    }
    /** END From navbar */
    /** From result selector */
    buildSelectionAction() {
        if (!this.publicLabelsField && !this.privateLabelsField) {
            return undefined;
        }
        const action = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_3__["Action"]({
            icon: "fas fa-tags",
            title: "msg#labels.labels",
            action: () => {
                this.editLabelModal();
            },
        });
        if (action) {
            action.updater = (action) => {
                action.hidden = !this.selectionService.haveSelectedRecords;
            };
            action.hidden = true;
        }
        return action;
    }
    editLabelModal() {
        const data = {
            valuesToBeAdded: [],
            valuesToBeRemoved: [],
            properties: this._modalProperties(6 /* edit */),
        };
        return this.modalService.open(this.labelsComponents.editModal, {
            model: data,
        });
    }
    /** END result selector */
    addLabels(labels, ids, _public) {
        if (!labels || labels.length === 0 || !ids || ids.length === 0) {
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["of"])();
        }
        const observable = this.labelsWebService.add(labels, ids, _public);
        return observable;
    }
    removeLabels(labels, ids, _public) {
        if (!labels || labels.length === 0 || !ids || ids.length === 0) {
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["of"])();
        }
        const observable = this.labelsWebService.remove(labels, ids, _public);
        return observable;
    }
    selectLabels(labels, _public) {
        const field = this.appService.cclabels &&
            (_public
                ? this.appService.cclabels.publicLabelsField
                : this.appService.cclabels.privateLabelsField);
        if (!field) {
            return Promise.resolve(false);
        }
        const items = [];
        const selectedLabels = this.getSelectedLabels(field);
        for (let label of labels) {
            const display = label;
            if (!_public) {
                label = this.addPrivatePrefix(label);
            }
            if (selectedLabels.indexOf(label) === -1) {
                items.push({
                    value: label,
                    display: display,
                });
            }
        }
        this.searchService.addFieldSelect(field, items);
        return this.searchService.search(undefined, {
            type: "Label_Open" /* Label_Open */,
            detail: {
                label: !!labels ? labels.toString() : null,
                public: _public,
            },
        });
    }
    /**
     * Retrieves the labels that are not in the current filters of breadcrumbs
     *
     * @param field The column index containing the labels.
     * @returns The selected labels
     */
    getSelectedLabels(field) {
        var _a;
        const labels = [];
        if (field && ((_a = this.searchService.breadcrumbs) === null || _a === void 0 ? void 0 : _a.activeSelects)) {
            for (const select of this.searchService.breadcrumbs.activeSelects) {
                if (select.expr) {
                    const values = select.expr.getValues(field);
                    values.forEach((value) => {
                        if (labels.indexOf(value) === -1) {
                            labels.push(value);
                        }
                    });
                }
            }
        }
        return labels;
    }
    renameLabels(labels, newLabel, _public) {
        if (!labels || labels.length === 0) {
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["of"])();
        }
        const observable = this.labelsWebService.rename(labels, newLabel, _public);
        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].subscribe(observable, () => { }, () => {
            this.notificationService.error("msg#renameLabel.errorFeedback");
        }, () => {
            this.notificationService.success("msg#renameLabel.successFeedback");
            this.searchService.search(); /** Update the display immediately in the components and facets*/
        });
        return observable;
    }
    deleteLabels(labels, _public) {
        if (!labels || labels.length === 0) {
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["of"])();
        }
        const observable = this.labelsWebService.delete(labels, _public);
        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].subscribe(observable, () => { }, () => {
            this.notificationService.error("msg#deleteLabel.errorFeedback");
        }, () => {
            this.notificationService.success("msg#deleteLabel.successFeedback");
            this.searchService.search(); /** Update the display immediately in the components and facets*/
        });
        return observable;
    }
    bulkAddLabels(labels, _public) {
        if (!labels || labels.length === 0) {
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["of"])();
        }
        const observable = this.labelsWebService.bulkAdd(labels, this.searchService.query, _public);
        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].subscribe(observable, () => { }, () => {
            this.notificationService.error("msg#bulkAddLabel.errorFeedback");
        }, () => {
            this.notificationService.success("msg#bulkAddLabel.successFeedback");
            this.searchService.search(); /** Update the display immediately in the components and facets*/
        });
        return observable;
    }
    bulkRemoveLabels(labels, _public) {
        if (!labels || labels.length === 0) {
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["of"])();
        }
        const observable = this.labelsWebService.bulkRemove(labels, this.searchService.query, _public);
        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].subscribe(observable, () => { }, () => {
            this.notificationService.error("msg#bulkRemoveLabel.errorFeedback");
        }, () => {
            this.notificationService.success("msg#bulkRemoveLabel.successFeedback");
            this.searchService.search(); /** Update the display immediately in the components and facets*/
        });
        return observable;
    }
    get privateLabelsPrefix() {
        if (!this.principalWebService.principal) {
            return "";
        }
        if (!this._privateLabelsPrefix && this.appService.cclabels) {
            if (this.appService.isTree(this.appService.cclabels.privateLabelsField)) {
                this._privateLabelsPrefix = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].addUrl("/", _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].replace(this.principalWebService.principal.userId, "|", "/"), "/");
            }
            else {
                this._privateLabelsPrefix =
                    this.principalWebService.principal.userId + "|";
            }
        }
        return this._privateLabelsPrefix || "";
    }
    sort(labels, _public) {
        if (!labels)
            return labels;
        return labels.sort((a, b) => {
            if (!a)
                return -1;
            if (!b)
                return 1;
            if (!_public) {
                a = this.removePrivatePrefix(a);
                b = this.removePrivatePrefix(b);
            }
            a = this.intlService.formatMessage(a);
            b = this.intlService.formatMessage(b);
            return a.localeCompare(b);
        });
    }
    split(labels) {
        if (!labels) {
            return [];
        }
        return labels
            .trim()
            .split(/\s*;\s*/)
            .filter((value) => {
            return value !== "";
        });
    }
    _addPrivatePrefix(label) {
        if (this.appService.cclabels &&
            this.appService.isTree(this.appService.cclabels.privateLabelsField)) {
            return _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].addUrl(this.privateLabelsPrefix, label);
        }
        else {
            return this.privateLabelsPrefix + label;
        }
    }
    addPrivatePrefix(labels) {
        if (typeof labels === "string") {
            return this._addPrivatePrefix(labels);
        }
        else {
            for (let i = 0, ic = labels.length; i < ic; i++) {
                labels[i] = this._addPrivatePrefix(labels[i]);
            }
            return labels;
        }
    }
    _removePrivatePrefix(label) {
        if (label.indexOf(this.privateLabelsPrefix) === 0) {
            if (this.appService.cclabels &&
                this.appService.isTree(this.appService.cclabels.privateLabelsField)) {
                return label.slice(this.privateLabelsPrefix.length - 1);
            }
            else {
                return label.slice(this.privateLabelsPrefix.length);
            }
        }
        return label;
    }
    removePrivatePrefix(labels) {
        if (typeof labels === "string") {
            return this._removePrivatePrefix(labels);
        }
        else {
            for (let i = 0, ic = labels.length; i < ic; i++) {
                labels[i] = this._removePrivatePrefix(labels[i]);
            }
            return labels;
        }
    }
}
LabelsService.defaultLabelsRights = {
    canManagePublicLabels: true,
    canEditPublicLabels: true,
};
LabelsService.ɵfac = function LabelsService_Factory(t) { return new (t || LabelsService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_4__["LabelsWebService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_5__["AppService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_components_search__WEBPACK_IMPORTED_MODULE_6__["SearchService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_modal__WEBPACK_IMPORTED_MODULE_7__["ModalService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_4__["PrincipalWebService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_intl__WEBPACK_IMPORTED_MODULE_8__["IntlService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_notification__WEBPACK_IMPORTED_MODULE_9__["NotificationsService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_components_selection__WEBPACK_IMPORTED_MODULE_10__["SelectionService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](LABELS_COMPONENTS)); };
LabelsService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: LabelsService, factory: LabelsService.ɵfac, providedIn: "root" });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](LabelsService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: "root",
            }]
    }], function () { return [{ type: _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_4__["LabelsWebService"] }, { type: _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_5__["AppService"] }, { type: _sinequa_components_search__WEBPACK_IMPORTED_MODULE_6__["SearchService"] }, { type: _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_7__["ModalService"] }, { type: _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_4__["PrincipalWebService"] }, { type: _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_8__["IntlService"] }, { type: _sinequa_core_notification__WEBPACK_IMPORTED_MODULE_9__["NotificationsService"] }, { type: _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_10__["SelectionService"] }, { type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [LABELS_COMPONENTS]
            }] }]; }, null); })();


/***/ }),

/***/ "P4gH":
/*!*****************************************!*\
  !*** ../components/status-bar/index.ts ***!
  \*****************************************/
/*! exports provided: BsFullscreenActivator, BsNetworkActivity, BsStatusBarModule, enStatusBar, frStatusBar, deStatusBar */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _public_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./public-api */ "fHMS");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFullscreenActivator", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsFullscreenActivator"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsNetworkActivity", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsNetworkActivity"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsStatusBarModule", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsStatusBarModule"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "enStatusBar", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["enStatusBar"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "frStatusBar", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["frStatusBar"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "deStatusBar", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["deStatusBar"]; });




/***/ }),

/***/ "PM2X":
/*!***************************************************************!*\
  !*** ../components/result/result-extracts/result-extracts.ts ***!
  \***************************************************************/
/*! exports provided: ResultExtracts */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ResultExtracts", function() { return ResultExtracts; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _collapse_collapse_button_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../collapse/collapse-button.component */ "odaa");
/* harmony import */ var _utils_pipes_date_pipe__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/pipes/date-pipe */ "ZWTm");






function ResultExtracts_ng_container_0_p_1_span_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqDate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate2"]("", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](2, 2, ctx_r4.record.modified, ctx_r4.dateFormat), "", !!ctx_r4.text ? " - " : "", "");
} }
function ResultExtracts_ng_container_0_p_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, ResultExtracts_ng_container_0_p_1_span_1_Template, 3, 5, "span", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "span", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMapInterpolate1"]("", ctx_r1.extractsClass, " sq-text");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r1.record.modified && !ctx_r1.hideDate);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("innerHTML", ctx_r1.text, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeHtml"]);
} }
function ResultExtracts_ng_container_0_ng_container_2_p_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "p");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqDate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMapInterpolate1"]("", ctx_r5.extractsClass, " extracts-date sq-text");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](2, 4, ctx_r5.record.modified, ctx_r5.dateFormat));
} }
function ResultExtracts_ng_container_0_ng_container_2_ul_2_li_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "li", 7);
} if (rf & 2) {
    const extract_r8 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("innerHTML", extract_r8, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeHtml"]);
} }
function ResultExtracts_ng_container_0_ng_container_2_ul_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "ul");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, ResultExtracts_ng_container_0_ng_container_2_ul_2_li_1_Template, 1, 1, "li", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMapInterpolate1"]("", ctx_r6.extractsClass, " sq-text");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx_r6.longExtracts);
} }
function ResultExtracts_ng_container_0_ng_container_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, ResultExtracts_ng_container_0_ng_container_2_p_1_Template, 3, 7, "p", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, ResultExtracts_ng_container_0_ng_container_2_ul_2_Template, 2, 4, "ul", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r2.record.modified && !ctx_r2.hideDate);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r2.longExtracts);
} }
function ResultExtracts_ng_container_0_a_3_Template(rf, ctx) { if (rf & 1) {
    const _r10 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "a", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function ResultExtracts_ng_container_0_a_3_Template_a_click_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r10); const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r9.collapseClick($event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "sq-collapse-button", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("collapsed", ctx_r3.collapsed);
} }
function ResultExtracts_ng_container_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, ResultExtracts_ng_container_0_p_1_Template, 3, 5, "p", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, ResultExtracts_ng_container_0_ng_container_2_Template, 3, 2, "ng-container", 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, ResultExtracts_ng_container_0_a_3_Template, 2, 1, "a", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx_r0.longExtracts);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r0.longExtracts);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r0.showLinesExpander);
} }
class ResultExtracts {
    constructor() {
        this.dateFormat = { year: 'numeric', month: 'short', day: 'numeric' };
        this.collapsed = true;
    }
    setup() {
        this.text = undefined;
        this.longExtracts = undefined;
        if (this.showTextAlways) {
            this.text = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].encodeHTML(this.record.text);
            this.extractsClass = "sq-text-extracts";
        }
        else {
            if (this.showLongExtracts && (this.record["extracts"] || this.record["extractsperpartname"])) {
                this.longExtracts = [];
                // extractsperpartname is a complex structure where extracts are stored in an object: "highlight.data"
                // in a csv field (';' separator)
                let recordExtracts = this.record["extracts"] || this.record["extractsperpartname"].highlight[0].data.split(";");
                if (this.maxLongExtracts) {
                    recordExtracts = recordExtracts.slice(0, this.maxLongExtracts * 3);
                }
                for (let i = 0; i < recordExtracts.length; i += 3) {
                    this.longExtracts.push(recordExtracts[i].replace(/\{b\}/g, "<strong>").replace(/\{nb\}/g, "</strong>"));
                }
                this.extractsClass = "sq-long-extracts";
            }
            else if (this.record.relevantExtracts) {
                this.text = this.record.relevantExtracts;
                this.extractsClass = "sq-relevant-extracts";
            }
            else {
                this.text = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].encodeHTML(this.record.text);
                this.extractsClass = "sq-text-extracts";
            }
        }
        if (!this.limitLinesDisplayed || !this.collapsed) {
            this.extractsClass += " sq-show-all";
        }
    }
    ngOnChanges(changes) {
        this.setup();
    }
    collapseClick(event) {
        this.collapsed = !this.collapsed;
        this.setup();
        event.preventDefault();
    }
}
ResultExtracts.ɵfac = function ResultExtracts_Factory(t) { return new (t || ResultExtracts)(); };
ResultExtracts.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: ResultExtracts, selectors: [["sq-result-extracts"]], inputs: { record: "record", limitLinesDisplayed: "limitLinesDisplayed", showLinesExpander: "showLinesExpander", showTextAlways: "showTextAlways", showLongExtracts: "showLongExtracts", hideDate: "hideDate", maxLongExtracts: "maxLongExtracts", dateFormat: "dateFormat" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 1, vars: 1, consts: [[4, "ngIf"], [3, "class", 4, "ngIf"], ["class", "sq-text", "href", "#", 3, "click", 4, "ngIf"], ["class", "extracts-date", 4, "ngIf"], [1, "extracts-text", 3, "innerHTML"], [1, "extracts-date"], [3, "innerHTML", 4, "ngFor", "ngForOf"], [3, "innerHTML"], ["href", "#", 1, "sq-text", 3, "click"], [3, "collapsed"]], template: function ResultExtracts_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, ResultExtracts_ng_container_0_Template, 4, 3, "ng-container", 0);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.text || ctx.longExtracts);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_2__["NgIf"], _angular_common__WEBPACK_IMPORTED_MODULE_2__["NgForOf"], _collapse_collapse_button_component__WEBPACK_IMPORTED_MODULE_3__["CollapseButton"]], pipes: [_utils_pipes_date_pipe__WEBPACK_IMPORTED_MODULE_4__["DatePipe"]], styles: ["p[_ngcontent-%COMP%], ul[_ngcontent-%COMP%] {\n    margin: 0;\n    color: #676767;\n    font-size: 0.9em;\n}"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ResultExtracts, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-result-extracts",
                templateUrl: "./result-extracts.html",
                styles: [`
p, ul {
    margin: 0;
    color: #676767;
    font-size: 0.9em;
}
    `]
            }]
    }], null, { record: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], limitLinesDisplayed: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], showLinesExpander: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], showTextAlways: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], showLongExtracts: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], hideDate: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], maxLongExtracts: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], dateFormat: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "PWyw":
/*!***********************************!*\
  !*** ../core/intl/intl.module.ts ***!
  \***********************************/
/*! exports provided: IntlInitializer, IntlModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IntlInitializer", function() { return IntlInitializer; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IntlModule", function() { return IntlModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _intl_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./intl.service */ "Lvit");
/* harmony import */ var _message_pipe__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./message.pipe */ "X1Kh");
/* harmony import */ var _module_providers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./module.providers */ "sa9V");







/**
 * An APP_INITIALIZER factory function for initialising the {@link IntlService} before any UI is displayed
 */
function IntlInitializer(intlService) {
    const init = () => intlService.init().toPromise();
    return init;
}
/**
 * This module contains core internationalization functionality for the formatting of numbers, dates and strings.
 * It is based on the industry standard
 * [Intl]{@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl} API
 * and an implementation of the ICU Message syntax provided by [FormatJS]{@link https://formatjs.io/}.
 *
 * The module provides mechanisms for the definition and loading of locales which can be extended with library specific
 * locale information. By default, locales contain support for `Moment.js` and `D3.js`.
 *
 * The module can be initialized by importing it using the `forRoot` static method or otherwise providing the
 * {@link LOCALES_CONFIG} injection token
 */
class IntlModule {
    static forRoot(localeConfig) {
        return {
            ngModule: IntlModule,
            providers: [
                { provide: _intl_service__WEBPACK_IMPORTED_MODULE_3__["LOCALES_CONFIG"], useClass: localeConfig },
            ]
        };
    }
}
IntlModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: IntlModule });
IntlModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function IntlModule_Factory(t) { return new (t || IntlModule)(); }, providers: [
        { provide: _angular_core__WEBPACK_IMPORTED_MODULE_0__["APP_INITIALIZER"], useFactory: IntlInitializer, deps: [_intl_service__WEBPACK_IMPORTED_MODULE_3__["IntlService"]], multi: true },
        ..._module_providers__WEBPACK_IMPORTED_MODULE_5__["INTL_MODULE_PROVIDERS"]
    ], imports: [[
            _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
            _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["BaseModule"]
        ]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](IntlModule, { declarations: [_message_pipe__WEBPACK_IMPORTED_MODULE_4__["MessagePipe"]], imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["BaseModule"]], exports: [_message_pipe__WEBPACK_IMPORTED_MODULE_4__["MessagePipe"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](IntlModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                    _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["BaseModule"]
                ],
                declarations: [
                    _message_pipe__WEBPACK_IMPORTED_MODULE_4__["MessagePipe"]
                ],
                exports: [
                    _message_pipe__WEBPACK_IMPORTED_MODULE_4__["MessagePipe"]
                ],
                providers: [
                    { provide: _angular_core__WEBPACK_IMPORTED_MODULE_0__["APP_INITIALIZER"], useFactory: IntlInitializer, deps: [_intl_service__WEBPACK_IMPORTED_MODULE_3__["IntlService"]], multi: true },
                    ..._module_providers__WEBPACK_IMPORTED_MODULE_5__["INTL_MODULE_PROVIDERS"]
                ]
            }]
    }], null, null); })();


/***/ }),

/***/ "PcwS":
/*!************************************************!*\
  !*** ../components/feedback/messages/index.ts ***!
  \************************************************/
/*! exports provided: enFeedback, frFeedback, deFeedback */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "enFeedback", function() { return enFeedback; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "frFeedback", function() { return frFeedback; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "deFeedback", function() { return deFeedback; });
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/components/modal */ "mOpA");
/* harmony import */ var _en__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./en */ "6NaI");
/* harmony import */ var _fr__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./fr */ "adI0");
/* harmony import */ var _de__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./de */ "Jhjs");





const enFeedback = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].merge({}, _en__WEBPACK_IMPORTED_MODULE_2__["default"], _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_1__["enModal"]);
const frFeedback = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].merge({}, _fr__WEBPACK_IMPORTED_MODULE_3__["default"], _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_1__["frModal"]);
const deFeedback = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].merge({}, _de__WEBPACK_IMPORTED_MODULE_4__["default"], _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_1__["deModal"]);



/***/ }),

/***/ "PjFU":
/*!*********************************************!*\
  !*** ../components/advanced/messages/fr.ts ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    "advanced": {
        "rangeSeparator": " / ",
        "dateRangePicker": {
            "separator": " / "
        },
        "rangeInput": {
            "separator": "/"
        },
        "select": {
            "nItems": "{count} éléments sélectionnés",
            "allItems": "Tous les éléments",
            "noItems": "Aucun élément"
        }
    }
});


/***/ }),

/***/ "Pkfx":
/*!*******************************************************!*\
  !*** ../components/utils/pipes/relative-time-pipe.ts ***!
  \*******************************************************/
/*! exports provided: RelativeTimePipe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RelativeTimePipe", function() { return RelativeTimePipe; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/intl */ "EfqX");




class RelativeTimePipe extends _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_1__["AbstractIntlPipe"] {
    constructor(intlService, changeDetectorRef) {
        super(intlService, changeDetectorRef);
    }
    updateValue(key, params) {
        super.updateValue(key, params);
        this.value = this.intlService.formatRelativeTime(key, params ? params.unit : undefined, params);
    }
}
RelativeTimePipe.ɵfac = function RelativeTimePipe_Factory(t) { return new (t || RelativeTimePipe)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_intl__WEBPACK_IMPORTED_MODULE_1__["IntlService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinjectPipeChangeDetectorRef"]()); };
RelativeTimePipe.ɵpipe = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefinePipe"]({ name: "sqRelativeTime", type: RelativeTimePipe, pure: false });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](RelativeTimePipe, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Pipe"],
        args: [{ name: "sqRelativeTime", pure: false }]
    }], function () { return [{ type: _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_1__["IntlService"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] }]; }, null); })();


/***/ }),

/***/ "PrpF":
/*!*****************************************************************************************************************************!*\
  !*** ../components/metadata/metadata-access-lists-item-single-access-list/metadata-access-lists-item-single-access-list.ts ***!
  \*****************************************************************************************************************************/
/*! exports provided: MetadataAccessListsItemSingleAccessList */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MetadataAccessListsItemSingleAccessList", function() { return MetadataAccessListsItemSingleAccessList; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _collapse_collapse_button_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../collapse/collapse-button.component */ "odaa");
/* harmony import */ var _collapse_collapse_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../collapse/collapse.component */ "rVRG");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../core/intl/message.pipe */ "X1Kh");






function MetadataAccessListsItemSingleAccessList_ng_template_6_div_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4, " | ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const principal_r2 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](principal_r2.domain);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](principal_r2.id);
} }
function MetadataAccessListsItemSingleAccessList_ng_template_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, MetadataAccessListsItemSingleAccessList_ng_template_6_div_2_Template, 7, 2, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx_r0.accessList);
} }
const _c0 = function (a0) { return { value: a0 }; };
const _c1 = function (a0) { return { values: a0 }; };
class MetadataAccessListsItemSingleAccessList {
    constructor() {
        this.collapsed = true;
    }
    get headerMessage() {
        return "msg#metadata.accessLists." + (this.authorized ? "authorizedListHeader" : "deniedListHeader");
    }
    collapseClick(event) {
        this.collapsed = !this.collapsed;
        event.preventDefault();
    }
}
MetadataAccessListsItemSingleAccessList.ɵfac = function MetadataAccessListsItemSingleAccessList_Factory(t) { return new (t || MetadataAccessListsItemSingleAccessList)(); };
MetadataAccessListsItemSingleAccessList.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: MetadataAccessListsItemSingleAccessList, selectors: [["sq-metadata-access-lists-item-single-access-list"]], inputs: { authorized: "authorized", index: "index", accessList: "accessList" }, decls: 7, vars: 10, consts: [[1, "accessListHeader"], ["href", "#", 3, "click"], [1, "collapseButton", 3, "collapsed"], [3, "collapsed"], [1, "accessListBody"], [1, "principalList"], ["class", "principal", 4, "ngFor", "ngForOf"], [1, "principal"], [1, "domain"], [1, "separator"], [1, "id"]], template: function MetadataAccessListsItemSingleAccessList_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "a", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function MetadataAccessListsItemSingleAccessList_Template_a_click_3_listener($event) { return ctx.collapseClick($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](4, "sq-collapse-button", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "sq-collapse", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](6, MetadataAccessListsItemSingleAccessList_ng_template_6_Template, 3, 1, "ng-template");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](2, 3, ctx.headerMessage, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](8, _c1, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](6, _c0, ctx.index))), " ");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("collapsed", ctx.collapsed);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("collapsed", ctx.collapsed);
    } }, directives: [_collapse_collapse_button_component__WEBPACK_IMPORTED_MODULE_1__["CollapseButton"], _collapse_collapse_component__WEBPACK_IMPORTED_MODULE_2__["Collapse"], _angular_common__WEBPACK_IMPORTED_MODULE_3__["NgForOf"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_4__["MessagePipe"]], styles: [".collapseButton[_ngcontent-%COMP%] {\n    float: right;\n}\n\n.principalList[_ngcontent-%COMP%] {\n    display: table;\n}\n\n.principal[_ngcontent-%COMP%] {\n    display: table-row;\n}\n\n.domain[_ngcontent-%COMP%], .separator[_ngcontent-%COMP%], .id[_ngcontent-%COMP%] {\n    display: table-cell;\n}\n\n.separator[_ngcontent-%COMP%] {\n    padding-left: 0.25em;\n    padding-right: 0.25em;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2plY3RzL2NvbXBvbmVudHMvbWV0YWRhdGEvbWV0YWRhdGEtYWNjZXNzLWxpc3RzLWl0ZW0tc2luZ2xlLWFjY2Vzcy1saXN0L21ldGFkYXRhLWFjY2Vzcy1saXN0cy1pdGVtLXNpbmdsZS1hY2Nlc3MtbGlzdC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxZQUFZO0FBQ2hCOztBQUVBO0lBQ0ksY0FBYztBQUNsQjs7QUFFQTtJQUNJLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLG9CQUFvQjtJQUNwQixxQkFBcUI7QUFDekIiLCJmaWxlIjoicHJvamVjdHMvY29tcG9uZW50cy9tZXRhZGF0YS9tZXRhZGF0YS1hY2Nlc3MtbGlzdHMtaXRlbS1zaW5nbGUtYWNjZXNzLWxpc3QvbWV0YWRhdGEtYWNjZXNzLWxpc3RzLWl0ZW0tc2luZ2xlLWFjY2Vzcy1saXN0LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jb2xsYXBzZUJ1dHRvbiB7XG4gICAgZmxvYXQ6IHJpZ2h0O1xufVxuXG4ucHJpbmNpcGFsTGlzdCB7XG4gICAgZGlzcGxheTogdGFibGU7XG59XG5cbi5wcmluY2lwYWwge1xuICAgIGRpc3BsYXk6IHRhYmxlLXJvdztcbn1cblxuLmRvbWFpbiwgLnNlcGFyYXRvciwgLmlkIHtcbiAgICBkaXNwbGF5OiB0YWJsZS1jZWxsO1xufVxuXG4uc2VwYXJhdG9yIHtcbiAgICBwYWRkaW5nLWxlZnQ6IDAuMjVlbTtcbiAgICBwYWRkaW5nLXJpZ2h0OiAwLjI1ZW07XG59Il19 */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](MetadataAccessListsItemSingleAccessList, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-metadata-access-lists-item-single-access-list",
                templateUrl: "./metadata-access-lists-item-single-access-list.html",
                styleUrls: ["./metadata-access-lists-item-single-access-list.css"]
            }]
    }], null, { authorized: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], index: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], accessList: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "PyBi":
/*!**********************************************!*\
  !*** ../core/app-utils/query/expr-parser.ts ***!
  \**********************************************/
/*! exports provided: Expr, ExprParserOperator, ExprParser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Expr", function() { return Expr; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ExprParserOperator", function() { return ExprParserOperator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ExprParser", function() { return ExprParser; });
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _app_service_helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../app-service-helpers */ "ltth");


/**
 * Represents a parsed fielded search expression. A tree of expression nodes is built when an expression
 * combines sub-expressions using boolean operators
 */
class Expr {
    constructor(init) {
        this._field = undefined;
        this._display = undefined;
        this._displayObj = undefined;
        /**
         * The values of this expression
         */
        this.values = undefined;
        if (!init.op1) {
            const valueInit = init;
            this.exprContext = valueInit.exprContext;
            if (!_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].isUndefined(valueInit.value)) {
                this.value = ExprParser.unescape(valueInit.value);
            }
            else if (!_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].isUndefined(valueInit.values)) {
                this.values = ExprParser.unescapeList(valueInit.values);
            }
            this.locations = valueInit.locations;
            this.field = valueInit.field;
            this.display = valueInit.display;
            this.operator = !_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].isUndefined(valueInit.operator) ? valueInit.operator : 0 /* none */;
            this.near = -1;
            this.start = -1;
            this.length = 0;
        }
        else {
            const opsInit = init;
            this.exprContext = opsInit.exprContext;
            this.field = opsInit.field;
            this.display = opsInit.display;
            this.addOperand(opsInit.op1);
            this.addOperand(opsInit.op2);
            this.and = opsInit.and;
            this.near = -1;
            this.start = -1;
            this.length = 0;
        }
    }
    /**
     * Return the field name of this expression. Return the first ancestor's non-empty field
     * if the field on this node is empty
     */
    get field() {
        let expr = this;
        while (expr) {
            if (!_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].isEmpty(expr._field)) {
                return expr._field;
            }
            expr = expr.parent;
        }
        return undefined;
    }
    /**
     * Set the field name of this expression
     */
    set field(value) {
        this._field = value;
    }
    /**
     * Return the display value of this expression. Return the first ancestor's non-empty display value
     * if the display value on this node is empty
     */
    get display() {
        let expr = this;
        while (expr) {
            if (!_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].isEmpty(expr._display)) {
                return expr._display;
            }
            expr = expr.parent;
        }
        return undefined;
    }
    /**
     * Set the display value of this expression. If the display value is a valid stringified JSON object
     * then set `displayObj` to the parsed object
     */
    set display(value) {
        this._display = value;
        if (!this._display) {
            this._displayObj = undefined;
        }
        else {
            if (this._display[0] === "{" && this._display[this._display.length - 1] === "}") {
                try {
                    this._displayObj = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].fromJson(this._display);
                }
                catch (e) {
                    this._displayObj = undefined;
                }
            }
            else {
                this._displayObj = undefined;
            }
        }
    }
    /**
     * Return the display object of this expression. Return the first ancestor's non-empty display object
     * if the display object on this node is empty
     */
    get displayObj() {
        let expr = this;
        while (expr) {
            if (expr._displayObj) {
                return expr._displayObj;
            }
            expr = expr.parent;
        }
        return undefined;
    }
    /**
     * Return the value of this expression. Note that range expressions may have multiple values
     */
    get value() {
        if (!this.values || this.values.length === 0) {
            return undefined;
        }
        return this.values[0];
    }
    /**
     * Set the value of this expression
     */
    set value(value) {
        if (value === undefined) {
            this.values = undefined;
        }
        else {
            if (!this.values) {
                this.values = [];
            }
            this.values[0] = value;
            this.values.length = 1;
        }
    }
    get evaluationRegExps() {
        if (!this._evaluationRegExps) {
            this._evaluationRegExps = {};
        }
        return this._evaluationRegExps;
    }
    /**
     * Add an operand to this expression
     *
     * @param operand The operand to add
     * @param contextField The parser's field context, if any
     * @param prepend If `true` the operand is prepended to the operands
     */
    addOperand(operand, contextField, prepend = false) {
        if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].isUndefined(contextField)) {
            contextField = this.field;
        }
        if (!this.operands) {
            this.operands = [];
        }
        if (!_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].isEmpty(this.field) && _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].isEmpty(operand.field) && !operand.isStructured) {
            if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].isEmpty(contextField)) {
                // Prefer setting the fields explicitly on the target operands rather the Field to "text" on the source operand
                // operand.field = ExprParser.fieldPartnamePrefix + "text";
                for (const expr of this.operands) {
                    if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].isEmpty(expr._field)) {
                        expr._field = this.field;
                    }
                }
                this.field = undefined;
            }
        }
        if (!_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].eqNC(this.field || "", operand.field || "")) {
            operand._field = operand.field;
        }
        else {
            operand._field = undefined;
        }
        if (!_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].isEmpty(this.display)) {
            operand._display = undefined;
        }
        if (prepend) {
            this.operands.unshift(operand);
        }
        else {
            this.operands.push(operand);
        }
        operand.parent = this;
    }
    /**
     * Return `true` if this expression is a leaf node (does have a value)
     */
    get isLeaf() {
        // if (this.value === null && !this.operands) throw "Expr.isLeaf - bad expression";
        return !!this.value;
    }
    /**
     * Make an expression object
     *
     * @param exprContext The expression context
     * @param text The value of the expression
     * @param field The parser's field context
     * @param display The display value
     * @param allowEmptyValue Determines how empty values will be processed when making the expression
     */
    static makeExpr(exprContext, text, field, display, allowEmptyValue) {
        if (!Expr.getIsStructuredField(exprContext, Expr.resolveField(exprContext, field))) {
            return new Expr({
                exprContext: exprContext,
                value: text,
                field: field,
                display: display
            });
        }
        const values = { value: undefined };
        const locations = { value: undefined };
        const operator = { value: 0 /* none */ };
        const range = { value: 0 /* none */ };
        Expr.parseValue(exprContext, text, field, allowEmptyValue, values, locations, operator, range);
        if (range.value !== 0 /* none */ && values.value && locations.value) {
            const value1 = values.value[0];
            const value2 = values.value[1];
            const location1 = locations.value[0];
            const location2 = locations.value[1];
            if (range.value === 1 /* gteLte */ && !_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].eqNC(value1, "*") && !_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].eqNC(value2, "*")) {
                return new Expr({
                    exprContext: exprContext,
                    values: values.value,
                    locations: locations.value,
                    field: field,
                    display: display,
                    operator: 11 /* between */
                });
            }
            const expr1 = !_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].eqNC(value1, "*") ? new Expr({
                exprContext: exprContext,
                value: value1,
                locations: [location1],
                field: field,
                display: display,
                operator: range.value === 2 /* gteLt */ || range.value === 1 /* gteLte */ ? 3 /* gte */ : 2 /* gt */
            }) : null;
            const expr2 = !_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].eqNC(value2, "*") ? new Expr({
                exprContext: exprContext,
                value: value2,
                locations: [location2],
                field: field,
                display: display,
                operator: range.value === 1 /* gteLte */ || range.value === 3 /* gtLte */ ? 5 /* lte */ : 4 /* lt */
            }) : undefined;
            if (!expr1 && !expr2) {
                return undefined;
            }
            if (!(!!expr1 && !!expr2))
                return !!expr1 ? expr1 : expr2;
            return new Expr({
                exprContext: exprContext,
                op1: expr1,
                and: true,
                op2: expr2,
                display: display
            });
        }
        return new Expr({
            exprContext: exprContext,
            values: values.value,
            locations: locations.value,
            field: field,
            display: display,
            operator: operator.value
        });
    }
    static resolveField(exprContext, field) {
        if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].isString(field)) {
            return exprContext.appService.resolveColumnName(field);
        }
        return "";
    }
    static getColumn(exprContext, field) {
        return exprContext.appService.getColumn(field);
    }
    /**
     * Return the {@link CCColumn} corresponding to this expression
     */
    get column() {
        return Expr.getColumn(this.exprContext, this.field);
    }
    static getIsStructuredField(exprContext, field) {
        if (!field) {
            return false;
        }
        if (exprContext.disallowFulltext) {
            return true;
        }
        else {
            if (field[0] === ":") {
                return false; // :: => take partname over column
            }
            if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].eqNCN(field, "exists", "missing")) {
                return true;
            }
            return !!Expr.getColumn(exprContext, field);
        }
    }
    /**
     * Return `true` if the expression has a non-fulltext field. In this case the expression will be a leaf node
     */
    get isStructuredField() {
        if (!this.isLeaf) {
            return false;
        }
        return Expr.getIsStructuredField(this.exprContext, this.field);
    }
    /**
     * Return `true` if the expression only contains non-fulltext fields
     */
    get isStructured() {
        if (this.mergedStructured) {
            return true;
        }
        if (this.isLeaf) {
            return this.isStructuredField;
        }
        if (!this.operands) {
            return false;
        }
        for (const operand of this.operands) {
            if (!operand.isStructured) {
                return false;
            }
        }
        return true;
    }
    /**
     * Return `true` if the expression and its ancestors do not have `not` set to `true`
     */
    get isPositive() {
        let positive = true;
        let current = this;
        while (current != null) {
            positive = positive && !current.not;
            current = current.parent;
        }
        return positive;
    }
    /**
     * Return an `ExprValueLocation` object for the passed text. Leading and trailing
     * whitespace is excluded
     */
    static getValueAndLocation(text) {
        let start = 0;
        let length = text.length;
        const value1 = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].trimStart(text);
        start += length - value1.length;
        length -= length - value1.length;
        const value2 = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].trimEnd(value1);
        length -= length - value2.length;
        return {
            value: value2,
            start: start,
            length: length
        };
    }
    static parseValue(exprContext, text, field, allowEmptyValue, values, locations, operator, range) {
        if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].isEmpty(text) && !allowEmptyValue) {
            return;
        }
        const first = text[0];
        const last = text[text.length - 1];
        let vl;
        if ("[{".includes(first) && "]}".includes(last)) {
            text = text.substr(1, text.length - 2);
            let sepLen = 4;
            let sep = text.indexOf(" TO ");
            if (sep === -1) {
                sepLen = 2;
                sep = text.indexOf("..");
            }
            if (sep === -1) {
                const vls = ExprParser.valuesAndLocationsFromText(text, ',');
                values.value = [];
                locations.value = [];
                vls.forEach(vl1 => {
                    values.value.push(vl1.value);
                    locations.value.push({ start: 1 + vl1.start, length: vl1.length });
                });
                operator.value = 10 /* in */;
                return;
            }
            vl = Expr.getValueAndLocation(text.substr(0, sep));
            values.value = [vl.value];
            locations.value = [{ start: 1 + vl.start, length: vl.length }];
            vl = Expr.getValueAndLocation(text.substr(sep + sepLen));
            values.value.push(vl.value);
            locations.value.push({ start: 1 + sep + sepLen + vl.start, length: vl.length });
            if (first === "[") {
                range.value = last === "]" ? 1 /* gteLte */ : 2 /* gteLt */;
            }
            else { // '{'
                range.value = last === "}" ? 4 /* gtLt */ : 3 /* gtLte */;
            }
            return;
        }
        vl = {
            value: text,
            start: 0,
            length: text.length
        };
        if (text.startsWith("=")) {
            operator.value = 1 /* eq */;
            vl = Expr.getValueAndLocation(text.substr(1));
            vl.start += 1;
        }
        else if (text.startsWith(">=")) {
            operator.value = 3 /* gte */;
            vl = Expr.getValueAndLocation(text.substr(2));
            vl.start += 2;
        }
        else if (text.startsWith(">")) {
            operator.value = 2 /* gt */;
            vl = Expr.getValueAndLocation(text.substr(1));
            vl.start += 1;
        }
        else if (text.startsWith("<=")) {
            operator.value = 5 /* lte */;
            vl = Expr.getValueAndLocation(text.substr(2));
            vl.start += 2;
        }
        else if (text.startsWith("<>")) {
            operator.value = 6 /* neq */;
            vl = Expr.getValueAndLocation(text.substr(2));
            vl.start += 2;
        }
        else if (text.startsWith("<")) {
            operator.value = 4 /* lt */;
            vl = Expr.getValueAndLocation(text.substr(1));
            vl.start += 1;
        }
        else if (text.startsWith("~")) {
            operator.value = 7 /* regex */;
            vl = Expr.getValueAndLocation(text.substr(1));
            vl.start += 1;
        }
        else if (text.length > 1 && text.startsWith("/") && text.endsWith("/")) {
            operator.value = 7 /* regex */;
            vl.value = text.substr(1, text.length - 2);
            vl.start = 1;
            vl.length = vl.value.length;
        }
        if (text.startsWith("\"") && text.endsWith("\"")) {
            vl.value = text.substr(1, text.length - 2);
            vl.start = 1;
            vl.length = vl.value.length;
        }
        values.value = [vl.value];
        locations.value = [{ start: vl.start, length: vl.length }];
    }
    static getOperatorText(operator) {
        switch (operator) {
            case 1 /* eq */: return "=";
            case 2 /* gt */: return ">";
            case 3 /* gte */: return ">=";
            case 4 /* lt */: return "<";
            case 5 /* lte */: return "<=";
            case 6 /* neq */: return "<>";
            case 7 /* regex */: return "REGEXP";
            case 8 /* like */: return "LIKE";
            case 9 /* contains */: return "CONTAINS";
            case 10 /* in */: return "IN";
            case 11 /* between */: return "BETWEEN";
            default: return "=";
        }
    }
    /**
     * Find the first `ExprValueInfo` object from a starting position in this expression
     *
     * @param start The position at which to start the search
     */
    findValue(start) {
        if (this.isLeaf) {
            if (start >= this.start && start <= this.start + this.length) {
                if (!this.isStructured) {
                    return {
                        /* eslint-disable-next-line */
                        value: this.value,
                        /* eslint-disable-next-line */
                        field: this.field,
                        start: this.start,
                        length: this.length
                    };
                }
                else if (!!this.locations && this.values && this.values.length === this.locations.length) {
                    for (let i = 0, ic = this.values.length; i < ic; i++) {
                        const value = this.values[i];
                        const location = this.locations[i];
                        if (start >= this.start + location.start && start <= this.start + location.start + location.length) {
                            return {
                                value,
                                /* eslint-disable-next-line */
                                field: this.field,
                                start: this.start + location.start,
                                length: location.length
                            };
                        }
                    }
                }
            }
        }
        else if (!!this.operands) {
            for (const expr of this.operands) {
                const value = expr.findValue(start);
                if (value) {
                    return value;
                }
            }
        }
        return undefined;
    }
    /**
     * Combine two expressions into a single expression. The second expression will be added to
     * the first expression and the first expression returned if the first expression is non-leaf
     * and is an `AND` expression and not negated. Otherwise, a new `AND` expression will be created
     * to which both expressions are added as operands.
     */
    static combine(expr1, expr2) {
        if (!expr1) {
            return expr2;
        }
        if (!expr2) {
            return expr1;
        }
        if (!expr1.isLeaf && expr1.and && !expr1.not) {
            if (expr1.isLeaf || !expr2.and || expr2.not) {
                expr1.addOperand(expr2);
            }
            else {
                for (const expr3 of expr2.operands) {
                    expr1.addOperand(expr3);
                }
            }
            return expr1;
        }
        return new Expr({
            exprContext: expr1.exprContext,
            op1: expr1,
            and: true,
            op2: expr2
        });
    }
    normalizeField(field) {
        if (field && field[0] === ExprParser.fieldPartnamePrefix) {
            return field.substr(1);
        }
        return field;
    }
    shouldDisplayField() {
        if (!this.field && !this.parent) { // top level full text
            return true;
        }
        return !!this.field && (!this.parent || !_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].eqNC(this.field, this.parent.field || ""));
    }
    getOperatorString() {
        if (this.operator === 0 /* none */ || this.operator === 1 /* eq */) {
            return "";
        }
        return Expr.getOperatorText(this.operator);
    }
    escapeValue(value) {
        if (!!value && !!this.column && (_app_service_helpers__WEBPACK_IMPORTED_MODULE_1__["AppServiceHelpers"].isString(this.column) || _app_service_helpers__WEBPACK_IMPORTED_MODULE_1__["AppServiceHelpers"].isCsv(this.column))) {
            return ExprParser.escape(value);
        }
        return value || "";
    }
    getValueString() {
        if (this.operator === 11 /* between */ && this.values && this.values.length === 2) {
            return `[${this.escapeValue(this.values[0])}..${this.escapeValue(this.values[1])}]`;
        }
        if (this.values && this.values.length > 1) {
            const sb = [];
            for (const value of this.values) {
                if (sb.length > 0) {
                    sb.push(", ");
                }
                sb.push(this.escapeValue(value));
            }
            sb.unshift("[");
            sb.push("]");
            return sb.join("");
        }
        return this.escapeValue(this.value);
    }
    addFieldToString(sb) {
        let added = false;
        if (this.shouldDisplayField()) {
            sb.push(this.normalizeField(this.field) || "text");
            added = true;
        }
        if (this.display) {
            sb.push(ExprParser.escape(this.display));
            added = true;
        }
        if (added) {
            sb.push(":");
        }
        return added;
    }
    _toString(withFields, inner) {
        const sb = [];
        if (this.isLeaf) {
            if (this.not) {
                sb.push("NOT ");
            }
            if (withFields) {
                this.addFieldToString(sb);
            }
            sb.push(this.getOperatorString());
            sb.push(this.getValueString());
        }
        else {
            if (!this.operands) {
                return "";
            }
            if (this.not) {
                sb.push("NOT ");
            }
            let bracketed = inner;
            if (this.addFieldToString(sb)) {
                bracketed = true;
            }
            if (bracketed) {
                sb.push("(");
            }
            let first = true;
            for (const operand of this.operands) {
                if (!first) {
                    if (this.and) {
                        sb.push(" AND ");
                    }
                    else {
                        sb.push(" OR ");
                    }
                }
                first = false;
                sb.push(operand._toString(withFields, true));
            }
            if (bracketed) {
                sb.push(")");
            }
        }
        return sb.join("");
    }
    /**
     * Return a string representation of this expression
     *
     * @param withFields If `true`, include field names
     */
    toString(withFields = true) {
        return this._toString(withFields, false);
    }
    addDisplay(options, ctxt, display) {
        this._addValue(options, ctxt, this.value || "", display);
    }
    encodeHTML(text, options) {
        if (options && options.asHTML) {
            return _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].encodeHTML(text);
        }
        else {
            return text;
        }
    }
    _addValue(options, ctxt, value, display) {
        if (options.asHTML) {
            ctxt.message.push(`<span class="sq-value">`);
        }
        const column = this.exprContext.appService.getColumn(this.field);
        const valueId = `value${ctxt.valueIndex++}`;
        let _value = value;
        let _display;
        if (display) {
            _display = this.encodeHTML(ExprParser.unescape(display), options);
        }
        if (column && _app_service_helpers__WEBPACK_IMPORTED_MODULE_1__["AppServiceHelpers"].isNumber(column) && _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].testFloat(value)) {
            _value = +value;
        }
        else if (column && _app_service_helpers__WEBPACK_IMPORTED_MODULE_1__["AppServiceHelpers"].isDate(column)) {
            _value = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].fromSysDateStr(value) || value;
        }
        else if (column && _app_service_helpers__WEBPACK_IMPORTED_MODULE_1__["AppServiceHelpers"].isBoolean(column)) {
            _value = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].isTrue(value);
        }
        else if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].isString(_value)) {
            _value = this.encodeHTML(_value, options);
        }
        ctxt.message.push(`{${valueId}}`);
        ctxt.values[valueId] = column
            ? this.exprContext.formatService.formatFieldValue({ value: _value, display: _display }, column)
            : _display || _value;
        if (options.asHTML) {
            ctxt.message.push(`</span>`);
        }
    }
    addValue(options, ctxt) {
        if (this.values) {
            if (this.operator === 11 /* between */ && this.values.length === 2) {
                this._addValue(options, ctxt, this.values[0]);
                ctxt.message.push(" ");
                this.addOperator("AND", options, ctxt);
                ctxt.message.push(" ");
                this._addValue(options, ctxt, this.values[1]);
            }
            else if (this.values.length > 1) {
                let first = true;
                for (const value of this.values) {
                    ctxt.message.push(first ? "[" : ", ");
                    first = false;
                    this._addValue(options, ctxt, value);
                }
                ctxt.message.push("]");
            }
            else {
                this._addValue(options, ctxt, this.values[0]);
            }
        }
    }
    addText(options, ctxt, text) {
        const valueId = `value${ctxt.valueIndex++}`;
        const message = `{${valueId}}`;
        ctxt.message.push(message);
        ctxt.values[valueId] = this.encodeHTML(text, options);
    }
    addFieldLabel(options, ctxt) {
        const displayObj = this.displayObj;
        if (displayObj && displayObj.label) {
            this.addText(options, ctxt, displayObj.label);
        }
        else if (this.field) {
            const label = this.exprContext.appService.getLabel(this.normalizeField(this.field) || "");
            this.addText(options, ctxt, label);
        }
        else {
            if (!this.isStructured) {
                const label = this.exprContext.appService.getLabel("text");
                this.addText(options, ctxt, label);
            }
            else {
                const fields = this.getFields();
                fields.forEach((field, index) => {
                    if (index !== 0) {
                        this.addText(options, ctxt, "/");
                    }
                    const label = this.exprContext.appService.getLabel(field);
                    this.addText(options, ctxt, label);
                });
            }
        }
    }
    addField(options, ctxt) {
        if (options.asHTML) {
            ctxt.message.push(`<span class="sq-field">`);
        }
        this.addFieldLabel(options, ctxt);
        if (options.asHTML) {
            ctxt.message.push(`</span>`);
            ctxt.message.push(`<span class="sq-separator">`);
        }
        this.addText(options, ctxt, "msg#system.fieldSeparator");
        if (options.asHTML) {
            ctxt.message.push(`</span>`);
        }
    }
    addOperator(operator, options, ctxt) {
        if (!operator) {
            return;
        }
        if (options.asHTML) {
            ctxt.message.push(`<span class="sq-operator">`);
        }
        ctxt.message.push(this.encodeHTML(operator, options));
        if (options.asHTML) {
            ctxt.message.push(`</span>`);
        }
    }
    _toMessage(ctxt, options) {
        const inner = ctxt.inner;
        ctxt.inner = true;
        if (!options) {
            options = {};
        }
        if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].isUndefined(options.useDisplay)) {
            options.useDisplay = true;
        }
        const displayObj = this.displayObj;
        const display = (displayObj ? displayObj.display : undefined) || this.display;
        const showNot = this.not && (inner || !options.hideOuterNot);
        const showField = (options.withFields || inner) && this.shouldDisplayField();
        if (options.useDisplay && !!display) {
            if (showNot) {
                this.addOperator("NOT", options, ctxt);
                ctxt.message.push(" ");
            }
            if (showField) {
                this.addField(options, ctxt);
            }
            this.addDisplay(options, ctxt, display);
        }
        else if (this.isLeaf) {
            if (showNot) {
                this.addOperator("NOT", options, ctxt);
                ctxt.message.push(" ");
            }
            if (showField) {
                this.addField(options, ctxt);
            }
            const operator = this.getOperatorString();
            if (operator) {
                this.addOperator(operator, options, ctxt);
                ctxt.message.push(" ");
            }
            this.addValue(options, ctxt);
        }
        else {
            if (!this.operands) {
                return { message: "" };
            }
            if (showNot) {
                this.addOperator("NOT", options, ctxt);
                ctxt.message.push(" ");
            }
            let bracketed = inner;
            if (showField) {
                this.addField(options, ctxt);
                bracketed = true;
            }
            if (bracketed) {
                ctxt.message.push("(");
            }
            let first = true;
            for (const operand of this.operands) {
                if (!first) {
                    if (this.and) {
                        ctxt.message.push(" ");
                        this.addOperator("AND", options, ctxt);
                        ctxt.message.push(" ");
                    }
                    else {
                        ctxt.message.push(" ");
                        this.addOperator("OR", options, ctxt);
                        ctxt.message.push(" ");
                    }
                }
                first = false;
                operand._toMessage(ctxt, options);
            }
            if (bracketed) {
                ctxt.message.push(")");
            }
        }
        if (inner) {
            return { message: "" };
        }
        return {
            message: ctxt.message.join(""),
            values: ctxt.values
        };
    }
    /**
     * Return an `ExprMessage` for the expression which can be used with [IntlService.formatMessage]{@link IntlService#formatMessage}
     * for display purposes
     */
    toMessage(options) {
        return this._toMessage({
            inner: false,
            message: ["txt#"],
            values: {},
            valueIndex: 0
        }, options);
    }
    static matchNode(context, expr1, expr2) {
        if (expr1.isLeaf !== expr2.isLeaf) {
            return false;
        }
        if (expr1.isLeaf) {
            if (expr1.isStructured !== expr2.isStructured) {
                return false;
            }
            if (expr1.not !== expr2.not) {
                return false;
            }
            const field1 = context.appService.resolveColumnAlias(expr1.field);
            const field2 = context.appService.resolveColumnAlias(expr2.field);
            if (field1 !== field2) {
                return false;
            }
            const operator1 = expr1.operator === 0 /* none */ ? 1 /* eq */ : expr1.operator;
            const operator2 = expr2.operator === 0 /* none */ ? 1 /* eq */ : expr2.operator;
            if (operator1 !== operator2) {
                return false;
            }
        }
        if (!expr1.isLeaf) {
            if (expr1.and !== expr2.and) {
                return false;
            }
            // All of the structured and non-structured operands in expr2 must be in expr1 so check that there are at least enough
            // operands available. (The actual matching of the contents of the operand nodes is done in the recursive calls to MatchNode)
            if (!expr1.operands !== !expr2.operands) {
                return false;
            }
            let expr1StructuredCount = 0, expr1UnstructuredCount = 0, expr2StructuredCount = 0, expr2UnstructuredCount = 0;
            expr1.operands.forEach((operand) => { if (operand.isStructured) {
                expr1StructuredCount++;
            }
            else {
                expr1UnstructuredCount++;
            } });
            expr2.operands.forEach((operand) => { if (operand.isStructured) {
                expr2StructuredCount++;
            }
            else {
                expr2UnstructuredCount++;
            } });
            if ((expr2StructuredCount > expr1StructuredCount) || (expr2UnstructuredCount > expr1UnstructuredCount)) {
                return false;
            }
        }
        const values1Length = expr1.values ? expr1.values.length : 0;
        const values2Length = expr2.values ? expr2.values.length : 0;
        if (values1Length !== values2Length) {
            return false;
        }
        if (values1Length && expr1.values && expr2.values) {
            for (const value1 of expr1.values) {
                let found = false;
                for (const value2 of expr2.values) {
                    if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].eqNC(value1, value2)) {
                        found = true;
                    }
                }
                if (!found) {
                    return false;
                }
            }
        }
        return true;
    }
    /**
     * Return `true` if this expression matches the passed one
     */
    matchNode(expr) {
        return Expr.matchNode(this.exprContext, this, expr);
    }
    /**
     * Returns the matching expression or sub-expression in this expression with the passed one.
     *
     * @param expr The expression to match
     * @param filter An option filter function called on first level candidate sub-expressions
     * before matching within them
     */
    find(expr, filter) {
        if (this.matchNode(expr)) {
            if (!this.isLeaf && this.operands) {
                for (const child1 of expr.operands) {
                    let found = false;
                    for (const child2 of this.operands) {
                        if (filter && filter(child2)) {
                            continue;
                        }
                        if (child2.find(child1)) {
                            found = true;
                            break;
                        }
                    }
                    if (!found) {
                        return null;
                    }
                }
            }
            return this;
        }
        else {
            if (!this.isLeaf && this.operands) {
                for (const child of this.operands) {
                    if (filter && filter(child)) {
                        continue;
                    }
                    if (child.find(expr)) {
                        return child;
                    }
                }
            }
        }
        return null;
    }
    /**
     * Perform the passed `action` on this expression and any descendant operands
     *
     * @param action The action to perform
     */
    forEach(action) {
        action(this);
        if (this.operands) {
            for (const operand of this.operands) {
                operand.forEach(action);
            }
        }
    }
    /**
     * Execute the callback function on this node and any descendants until the callback returns a truthy value
     * in which case immediately return `true`. Otherwise return `false`.
     */
    some(callback) {
        if (callback(this)) {
            return true;
        }
        if (this.operands) {
            for (const operand of this.operands) {
                if (operand.some(callback)) {
                    return true;
                }
            }
        }
        return false;
    }
    /**
     * Execute the callback function on this node and any descendants until the callback returns a falsy value
     * in which case, immediately return `false`. Otherwise return `true`.
     */
    every(callback) {
        if (!callback(this)) {
            return false;
        }
        if (this.operands) {
            for (const operand of this.operands) {
                if (!operand.every(callback)) {
                    return false;
                }
            }
        }
        return true;
    }
    /**
     * Return `true` if the exoression has at least one fulltext operand.
     * The test on `isPositive` filters expressions that only contain
     * negative fulltext terms which will be ignored on the server. Fulltext
     * expressions must have at least one positive term.
     */
    get hasRelevance() {
        return this.some(expr => expr.isLeaf && !expr.isStructured && expr.isPositive);
    }
    /**
     * Return an array of all fields used in this expression
     */
    getFields() {
        const fields = [];
        this.forEach((expr) => {
            const field = this.exprContext.appService.resolveColumnAlias(expr.field);
            if (field) {
                if (!fields.find((field1) => _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].eqNC(field, field1))) {
                    fields.push(field);
                }
            }
        });
        return fields;
    }
    /**
     * Return an array of all values used in this expression that pertain to the passed field and where the associated `isPositive`
     * field matches the passed `positive` parameter
     *
     * @param field The field for which values are to be returned
     * @param positive The value to test against `isPositive`
     */
    getValues(field, positive = true) {
        const values = [];
        const column = this.exprContext.appService.resolveColumnName(field);
        this.forEach((expr) => {
            if (column) {
                const column1 = this.exprContext.appService.resolveColumnName(expr.field);
                if (!_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].eqNC(column, column1)) {
                    return;
                }
            }
            if (expr.isLeaf && expr.isPositive === positive && expr.values) {
                values.push(...expr.values);
            }
        });
        return values;
    }
    getDataValue(data, field, defaultScope) {
        if (!data) {
            return undefined;
        }
        const fields = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].split(field || "", ".");
        if (fields.length >= 1 && _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].isUndefined(data[fields[0]]) && !!defaultScope) {
            // By default, look on the "defaultScope" sub-object
            fields.unshift(..._sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].split(defaultScope, "."));
        }
        let value = data;
        for (const _field of fields) {
            if (!value) {
                break;
            }
            value = value[_field];
        }
        return value;
    }
    getWildcardRegExp(value) {
        if (value) {
            let regExp = this.evaluationRegExps[value];
            if (!_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].isUndefined(regExp)) {
                return regExp;
            }
            let haveWildcards = false;
            let escaping = false;
            const sb = [];
            for (const ch of value) {
                switch (ch) {
                    // Handle wildcards and wildcard escaping
                    case "\\":
                        if (escaping) {
                            sb.push("\\\\");
                            escaping = false;
                        }
                        else {
                            escaping = true;
                        }
                        break;
                    case "*":
                        if (escaping) {
                            sb.push("\\");
                            sb.push(ch);
                            escaping = false;
                        }
                        else {
                            haveWildcards = true;
                            sb.push(".*?");
                        }
                        break;
                    case "?":
                        if (escaping) {
                            sb.push("\\");
                            sb.push(ch);
                            escaping = false;
                        }
                        else {
                            haveWildcards = true;
                            sb.push(".");
                        }
                        break;
                    // Escape other regexp special characters
                    case "-":
                    case "/":
                    case "^":
                    case "$":
                    case "+":
                    case ".":
                    case "(":
                    case ")":
                    case "|":
                    case "[":
                    case "]":
                    case "{":
                    case "}":
                        sb.push("\\");
                        sb.push(ch);
                        escaping = false;
                        break;
                    // All other characters just emit
                    default:
                        sb.push(ch);
                        escaping = false;
                        break;
                }
            }
            if (haveWildcards) {
                regExp = new RegExp("^" + sb.join("") + "$", "i");
                this.evaluationRegExps[value] = regExp;
                return regExp;
            }
            else {
                this.evaluationRegExps[value] = undefined;
            }
        }
        return undefined;
    }
    // NB comparisons with NaN always return false
    compare(value, dataValue, equality) {
        if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].isArray(dataValue) && dataValue.length === 0) {
            return NaN;
        }
        const column = Expr.getColumn(this.exprContext, this.field || "");
        if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].isArray(dataValue) || _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].isArray(value)) {
            // "in" / "contains"
            if (!_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].isArray(dataValue)) {
                dataValue = [dataValue];
            }
            if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].isArray(value)) {
                if (value.length === 0) {
                    return NaN;
                }
            }
            else {
                value = [value + ""];
            }
            // At least one value in the value array must match a value in the dataValue array
            for (const value1 of value) {
                for (const dataValue1 of dataValue) {
                    if (this.compare(value1, dataValue1, true) === 0) {
                        return 0;
                    }
                }
            }
            return NaN;
        }
        if (!_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].isArray(value)) {
            value = ExprParser.unescape(value || "");
            if (column && column.parser) {
                value = this.exprContext.formatService.parseValue(value, column.parser);
            }
            if (_app_service_helpers__WEBPACK_IMPORTED_MODULE_1__["AppServiceHelpers"].isNumber(column)) {
                if (!_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].isNumber(dataValue)) {
                    dataValue = 0;
                }
                const _value = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].toNumber(value);
                return dataValue - _value;
            }
            if (_app_service_helpers__WEBPACK_IMPORTED_MODULE_1__["AppServiceHelpers"].isDate(column)) {
                if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].isString(dataValue)) {
                    dataValue = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].toDate(dataValue);
                }
                if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].isDate(dataValue)) {
                    const _value = this.exprContext.intlService.parseDate(value);
                    if (_value) {
                        return dataValue.getTime() - _value.getTime();
                    }
                }
                return NaN;
            }
            if (_app_service_helpers__WEBPACK_IMPORTED_MODULE_1__["AppServiceHelpers"].isBoolean(column)) {
                const _value = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].isTrue(value) ? 1 : 0;
                return (dataValue ? 1 : 0) - _value;
            }
            dataValue = dataValue || "";
            if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].isString(dataValue)) {
                dataValue = ExprParser.unescape(dataValue);
                if (equality) {
                    const regExp = this.getWildcardRegExp(value);
                    if (regExp) {
                        return regExp.test(dataValue) ? 0 : -1;
                    }
                }
                return _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].compare(dataValue, value);
            }
        }
        return NaN;
    }
    /**
     * Evaluate this expression using `data` to provide field values. Field values
     * can contain scopes (full stop separated components) to reference sub-objects
     * in the data
     *
     * @param data The field values to be used in the evaluation
     * @param defaultScope If a field value cannot be resolved then try to retrieve a value with this scope prepended to the field name
     * @return The boolean result of the expression evaluation
     */
    evaluate(data, defaultScope) {
        let ret;
        if (this.isLeaf) {
            if (!this.isStructured) {
                ret = false;
            }
            else {
                if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].eqNC(this.field || "", "exists")) {
                    const dataValue = this.getDataValue(data, this.value, defaultScope);
                    ret = !_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].isUndefined(dataValue);
                }
                else if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].eqNC(this.field || "", "missing")) {
                    const dataValue = this.getDataValue(data, this.value, defaultScope);
                    ret = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].isUndefined(dataValue);
                }
                else {
                    const dataValue = this.getDataValue(data, this.field, defaultScope);
                    switch (this.operator) {
                        case 0 /* none */:
                        case 1 /* eq */:
                            ret = this.compare(this.value, dataValue, true) === 0;
                            break;
                        case 2 /* gt */:
                            ret = this.compare(this.value, dataValue) > 0;
                            break;
                        case 3 /* gte */:
                            ret = this.compare(this.value, dataValue) >= 0;
                            break;
                        case 4 /* lt */:
                            ret = this.compare(this.value, dataValue) < 0;
                            break;
                        case 5 /* lte */:
                            ret = this.compare(this.value, dataValue) <= 0;
                            break;
                        case 6 /* neq */:
                            ret = this.compare(this.value, dataValue, true) !== 0;
                            break;
                        case 7 /* regex */: {
                            const regExp = new RegExp(this.value || "");
                            ret = regExp.test(dataValue + "");
                            break;
                        }
                        case 8 /* like */: // not currently generated in parse
                            ret = this.compare(this.value + "*", dataValue, true) === 0;
                            break;
                        case 10 /* in */:
                            ret = this.compare(this.values, dataValue, true) === 0;
                            break;
                        case 9 /* contains */: // not currently generated in parse
                            ret = this.compare(this.value, dataValue, true) === 0;
                            break;
                        case 11 /* between */:
                            ret = !!this.values &&
                                this.compare(this.values[0], dataValue) >= 0 && this.compare(this.values[1], dataValue) <= 0;
                            break;
                    }
                }
            }
        }
        else {
            ret = !!this.and;
            for (const operand of this.operands) {
                const ret1 = operand.evaluate(data, defaultScope);
                if (this.and) {
                    ret = ret && ret1;
                    if (!ret) {
                        break;
                    }
                }
                else {
                    ret = ret || ret1;
                }
            }
        }
        if (this.not) {
            ret = !ret;
        }
        return ret;
    }
}
/**
 * @ignore
 */
class ExprParserOperator {
    constructor(tok, value = "", valuePos = -1, valueLen = -1) {
        this.tok = tok;
        this.tokValue = value;
        this.tokValuePos = valuePos;
        this.tokValueLen = valueLen;
    }
}
ExprParserOperator.invalid = new ExprParserOperator(-1 /* invalid */);
ExprParserOperator.or = new ExprParserOperator(0 /* or */);
ExprParserOperator.and = new ExprParserOperator(1 /* and */);
ExprParserOperator.not = new ExprParserOperator(2 /* not */);
ExprParserOperator.lPar = new ExprParserOperator(5 /* lPar */);
ExprParserOperator.rPar = new ExprParserOperator(6 /* rPar */);
ExprParserOperator.eof = new ExprParserOperator(7 /* eof */);
/**
 * A parser for Sinequa fielded search expressions. Such expressions allow filters to be specified in fulltext and
 * can be combined with boolean operators to build complex queries.
 *
 * A single fielded search clause has this form:
 * ``<fieldname>[`display value`]:[:][<operator>]<value>``
 *
 * A field name is either a column name or alias or a partname. In the case of a partname and column name clashing then
 * the field is treated as a column. Two colons can be specified as the separator to denote that the field is a partname.
 * An optional display value can follow the fieldname enclosed in backquote characters
 *
 * Operators are: `=` (default), `>=`, `>`, `<=`, `<`, `~` (regexp)
 * In addition, a regular expression can be specified by enclosing the value in `/` characters
 *
 * An inclusive range of values can be specified using a square bracket syntax: `[value1..value2]`
 * An exclusive range of values can be specified using a curly bracket syntax: `{value1..value2}`
 * The brackets can be mixed. For example: `age:{5..13]` expresses `13 >= age > 5`.
 *
 * For multi-value csv fields an `IN` condition can be expressed using a comma-separated list of values enclosed in square brackets.
 * For example: `authors:[Proust, Orwell, Dickens]`
 *
 * If a value contains reserved characters then it can be enclosed in backquote characters to prevent the parser interpreting them
 * incorrectly. For example: ``code: `a:b:c` ``
 *
 * The parser also supports a NEAR operator to allow searching for terms close to each other. There are two forms suppported:
 * * infix - `term1 NEAR[/n] term2` where `n` is the maximum number of words between the two terms for them to match
 * * function - `NEAR[/n](term1, term2, term3, ...)` where `n` is "window" size within which all the terms must be present for them
 * to match. The minimum useful value for n is thus equal to the number of terms passed to the operator.
 *
 * Fielded search expresions can be combined with the boolean operators `AND`, `OR` and `NOT` and brackets used for grouping.
 * For example: `football (age:>=7 AND (name:smith OR name:jones))`
 */
class ExprParser {
    constructor(exprContext, options) {
        this.exprContext = exprContext;
        this.options = options || {};
        this.exprContext.disallowFulltext = this.options.disallowFulltext;
        this.expressions = [];
        this.operators = [];
        this.fields = [];
        this.displays = [];
        this.text = "";
        this.current = 0;
        this.length = 0;
        this.op = this.prevOp = this.saveOp = ExprParserOperator.invalid;
    }
    /**
     * Escape a string so that the characters in it are not processed by the fielded search expression parser.
     * Single occurrences of the backslash character are replaced by two backslashes and backquote characters
     * are prefixed by a backslash. Finally, the string is enclosed in backquotes.
     *
     * For example: `` a\`\b `` => `` a\\\`\\b ``
     */
    // \ => \\
    // ` => \`
    // then surround with ``
    static escape(value) {
        if (!value) {
            return "``";
        }
        value = String(value); // make sure we have a string
        if (value.search(/[\\`]/) === -1) {
            return "`" + value + "`";
        }
        const sb = ["`"];
        for (let i = 0, ic = value.length; i < ic; i++) {
            const ch = value[i];
            if (ch === "\\" || ch === "`") {
                sb.push("\\");
            }
            sb.push(ch);
        }
        sb.push("`");
        return sb.join("");
    }
    static isEscaped(value) {
        return !!value && value.length >= 2 && value[0] === "`" && value[value.length - 1] === "`";
    }
    /**
     * Perform the reverse operation to [ExprParser.escpae]{@link ExprParser#escape}
     */
    // remove surrounding ``
    // \\ => \
    // \` => `
    static unescape(value) {
        if (!ExprParser.isEscaped(value)) {
            return value;
        }
        const sb = [];
        for (let i = 1, ic = value.length - 1; i < ic; i++) {
            let ch = value[i];
            if (ch === "\\") {
                if (i >= ic - 1) { // we end with a \ => drop it
                    continue;
                }
                ch = value[++i];
            }
            sb.push(ch);
        }
        return sb.join("");
    }
    /**
     * @ignore
     */
    static unescapeList(values) {
        if (!values) {
            return values;
        }
        const values1 = [];
        for (let _i = 0, _a = values; _i < _a.length; _i++) {
            const value = _a[_i];
            values1.push(ExprParser.unescape(value));
        }
        return values1;
    }
    /**
     * @ignore
     */
    static valuesAndLocationsFromText(text, separator) {
        if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].isEmpty(text)) {
            return [];
        }
        if (!text.includes(separator)) {
            return [{ value: text, start: 0, length: text.length }];
        }
        const values = [];
        const length = text.length;
        let current = 0;
        let currentStart = 0;
        const sb = [];
        let value;
        while (true) {
            if (current >= length) {
                value = Expr.getValueAndLocation(sb.join(""));
                value.start += currentStart;
                if (!_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].isEmpty(value.value)) {
                    values.push(value);
                }
                break;
            }
            const ch = text[current];
            if (ch === "\\") {
                sb.push(ch);
                current++;
                if (current < length) {
                    const ch1 = text[current];
                    if (ch1 === "\\" || ch1 === "`") {
                        sb.push(ch1);
                        current++;
                    }
                }
            }
            else if (ch === "`") {
                const last = { value: 0 };
                const s = ExprParser.matchUntil(text, length, current, current + 1, "`", last);
                if (!!s) {
                    sb.push(s);
                    current = last.value;
                }
                else {
                    sb.push(ch);
                    current++;
                }
            }
            else if (ch === separator) {
                value = Expr.getValueAndLocation(sb.join(""));
                value.start += currentStart;
                sb.length = 0;
                if (!_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].isEmpty(value.value)) {
                    values.push(value);
                }
                current++;
                currentStart = current;
            }
            else {
                sb.push(ch);
                current++;
            }
        }
        return values;
    }
    matchKeyword(keyword, sbCurrentValue, suffixCh) {
        if (sbCurrentValue.length !== 0) {
            const currentValue = sbCurrentValue.join("");
            if (!!currentValue && !" \r\n\t".includes(currentValue[currentValue.length - 1])) {
                return false;
            }
        }
        if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].isEmpty(keyword)) {
            return false;
        }
        const keywordLen = keyword.length;
        if (this.current + keywordLen > this.length) {
            return false;
        }
        for (let i = 0, ic = keywordLen; i < ic; i++) {
            const ch = this.text[this.current + i];
            const kh = keyword[i];
            if (ch !== kh) {
                return false;
            }
        }
        if (this.current + keywordLen < this.length) {
            const nch = this.text[this.current + keywordLen];
            if (nch !== suffixCh && !" \r\n\t(".includes(nch)) {
                return false;
            }
        }
        return true;
    }
    matchUntil(first, start, endChars, last) {
        return ExprParser.matchUntil(this.text, this.length, first, start, endChars, last);
    }
    static matchUntil(text, length, first, start, endChars, last) {
        last.value = start;
        let found = false;
        const sb = [text.substr(first, start - first)];
        while (last.value < length) {
            let ch = text[last.value++];
            if (ch === "\\") {
                sb.push(ch);
                if (last.value < length) {
                    ch = text[last.value++];
                    if (ch === "\\" || ch === "`") {
                        sb.push(ch);
                        continue;
                    }
                }
            }
            sb.push(ch);
            if (endChars.includes(ch)) {
                found = true;
                break;
            }
        }
        if (!found) {
            return undefined;
        }
        return sb.join("");
    }
    matchSimpleValue(start) {
        const first = this.current;
        let last = start;
        while (last < this.length) {
            const ch = this.text[last];
            if (" \r\n\t)".includes(ch)) {
                break;
            }
            last++;
        }
        if (last === start) {
            return "";
        }
        return this.text.substr(first, last - first);
    }
    getTerminators(ch, allowRanges) {
        if (ch === "\"")
            return "\"";
        if (ch === "[")
            return allowRanges ? "]}" : "]";
        if (ch === "{")
            return allowRanges ? "}]" : "}";
        if (ch === "/")
            return "/";
        if (ch === "(")
            return ")";
        if (ch === "`")
            return "`";
        return "";
    }
    canBeTokValue(value, canBeEmpty = true) {
        return !_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].isEmpty(value) || (canBeEmpty && this.options.allowEmptyValues && !_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].isEmpty(this.field));
    }
    _getTokValue(value, canBeEmpty = true) {
        // Current is pointing at the next non-whitepspace character after this value
        if (value === null)
            return false;
        let pos = this.current;
        const len = value.length;
        value = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].trimEnd(value);
        pos -= len - value.length;
        value = value.trim();
        if (this.canBeTokValue(value, canBeEmpty)) {
            this.op = new ExprParserOperator(8 /* value */, value, pos - value.length, value.length);
            return true;
        }
        return false;
    }
    getTokValue(sb, canBeEmpty = true) {
        if (!sb) {
            return false;
        }
        return this._getTokValue(sb.join(""), canBeEmpty);
    }
    ensureNearValue(value) {
        const defaultNearValue = this.exprContext.appService.ccquery ? this.exprContext.appService.ccquery.defaultNearValue : 0;
        let near = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].toInt(value, defaultNearValue);
        if (near < 0) {
            near = defaultNearValue;
        }
        return near.toString();
    }
    findDisplay(value) {
        if (!value || value.length < 3) {
            return -1;
        }
        if (value[value.length - 1] !== "`") {
            return -1;
        }
        let pos = value.length - 2;
        while (pos !== -1) {
            pos = value.lastIndexOf("`", pos);
            if (pos !== -1) {
                let escapes = 0;
                let pos1 = pos - 1;
                while (pos1 >= 0) {
                    if (value[pos1] !== "\\") {
                        break;
                    }
                    escapes++;
                    pos1--;
                }
                if (escapes % 2 === 0) {
                    return pos;
                }
                pos--;
            }
        }
        return -1;
    }
    isValidFieldName(name) {
        return this.options.allowScopedFields ? _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].isValidScopedSimpleName(name) : _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].isValidSimpleName(name);
    }
    isAllowedField(field, forcePartname, isPartname) {
        isPartname.value = false;
        if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].eqNCN(field, "exists", "missing")) {
            return true;
        }
        if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].eqNCN(field, "text", "concepts", "refine", "matchingpartnames")) {
            // NB @concepts, @refine and @matchingpartnames must be handled specially by the caller
            isPartname.value = true;
            return true;
        }
        const ccquery = this.exprContext.appService.ccquery;
        if (ccquery) {
            forcePartname = forcePartname && !this.exprContext.disallowFulltext;
            let column = forcePartname ? undefined : this.exprContext.appService.getColumn(field);
            if (!!column) {
                if (column.eType === 12 /* varchar */) { // only type not indexed
                    column = undefined;
                }
                else if ((ccquery.$columnFieldsPattern && ccquery.$columnFieldsPattern.hasPatterns()) &&
                    !ccquery.$columnFieldsPattern.isIncluded(field) &&
                    !ccquery.$columnFieldsPattern.isIncluded(column.name)) {
                    column = undefined;
                }
            }
            if (!this.exprContext.disallowFulltext && !column) {
                isPartname.value = true;
                if ((ccquery.$partnameFieldsPattern && ccquery.$partnameFieldsPattern.hasPatterns()) &&
                    !ccquery.$partnameFieldsPattern.isIncluded(field)) {
                    return false;
                }
            }
        }
        return true;
    }
    readToken() {
        if (this.saveOp !== ExprParserOperator.invalid) {
            this.prevOp = this.op;
            this.op = this.saveOp;
            this.saveOp = ExprParserOperator.invalid;
            return undefined;
        }
        let ch;
        this.prevOp = this.op;
        let nextValue;
        const sbCurrentValue = [];
        let candidateFieldPos = -1;
        let fieldSpecified = false;
        while (true) {
            if (this.current >= this.length) {
                if (this.getTokValue(sbCurrentValue)) {
                    return undefined;
                }
                this.op = ExprParserOperator.eof;
                return undefined;
            }
            ch = this.text[this.current];
            if (ch === "\\") { // \ escapes \ and `
                sbCurrentValue.push(ch);
                this.current++;
                if (this.current < this.length) {
                    const ch1 = this.text[this.current];
                    if (ch1 === "\\" || ch1 === "`") {
                        sbCurrentValue.push(ch1);
                        this.current++;
                    }
                }
            }
            else if (ch === "(") {
                if (this.getTokValue(sbCurrentValue, false)) {
                    return undefined;
                }
                this.op = ExprParserOperator.lPar;
                this.current++;
                return undefined;
            }
            else if (ch === ")") {
                if (this.getTokValue(sbCurrentValue)) {
                    return undefined;
                }
                this.op = ExprParserOperator.rPar;
                this.current++;
                return undefined;
            }
            else if (this.matchKeyword("AND", sbCurrentValue)) {
                if (this.getTokValue(sbCurrentValue)) {
                    return undefined;
                }
                this.op = ExprParserOperator.and;
                this.current += 3;
                return undefined;
            }
            else if (this.matchKeyword("OR", sbCurrentValue)) {
                if (this.getTokValue(sbCurrentValue)) {
                    return undefined;
                }
                this.op = ExprParserOperator.or;
                this.current += 2;
                return undefined;
            }
            else if (this.matchKeyword("NOT", sbCurrentValue)) {
                if (this.getTokValue(sbCurrentValue)) {
                    return undefined;
                }
                this.op = ExprParserOperator.not;
                this.current += 3;
                return undefined;
            }
            else if (this.matchKeyword("NEAR", sbCurrentValue, "/")) {
                if (this.getTokValue(sbCurrentValue)) {
                    return undefined;
                }
                this.current += 4;
                nextValue = undefined;
                if (this.current < this.length && this.text[this.current] === "/") {
                    const last = { value: 0 };
                    nextValue = this.matchUntil(this.current + 1, this.current + 1, " \r\n\t`\"([/", last);
                    let near = -1;
                    if (nextValue !== undefined) {
                        nextValue = nextValue.substr(0, nextValue.length - 1);
                        near = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].toInt(nextValue, -1);
                    }
                    if (near < 0) {
                        return "bad operator";
                    }
                    this.current = last.value - 1;
                }
                nextValue = this.ensureNearValue(nextValue || "");
                const infix = this.current >= this.length || this.text[this.current] !== "(";
                // For infix, near value is the number of words between the two terms so add the 2 terms to
                // the window (near/0 = adjacent terms)
                this.op = infix ?
                    new ExprParserOperator(4 /* infixNear */, (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].toInt(nextValue) + 2).toString()) :
                    new ExprParserOperator(3 /* near */, nextValue);
                return undefined;
            }
            else if (ch === "+" || ch === "-") {
                if (this.current + 1 < this.length) {
                    const ch1 = this.text[this.current + 1];
                    const last = { value: 0 };
                    let length;
                    if ("(\"[/`".includes(ch1)) { // ( " [ / `
                        nextValue = this.matchUntil(this.current, this.current + 2, this.getTerminators(ch1, false), last);
                        length = last.value - this.current;
                    }
                    else {
                        nextValue = this.matchSimpleValue(this.current + 1);
                        length = !!nextValue ? nextValue.length : 0;
                    }
                    if (!!nextValue) {
                        sbCurrentValue.push(nextValue);
                        this.current += length;
                        continue;
                    }
                }
                return "bad operator: " + ch;
            }
            else if ("\"[{/`".includes(ch)) { // " [ { / `
                const last = { value: 0 };
                nextValue = this.matchUntil(this.current, this.current + 1, this.getTerminators(ch, true), last);
                if (!!nextValue) {
                    const forceRange = (fieldSpecified && "[{".includes(ch) && sbCurrentValue.length === 0);
                    sbCurrentValue.push(nextValue);
                    this.current = last.value;
                    if (forceRange && this.getTokValue(sbCurrentValue)) {
                        return undefined;
                    }
                    continue;
                }
                return "bad operator: " + ch;
            }
            else {
                if (ch === ":") { // Field
                    // Pick out previous value and/or field name
                    // Field specifier can be:
                    // field:value
                    // field`display`:value
                    // `display`:value
                    const currentValue = sbCurrentValue.join("");
                    if (candidateFieldPos === -1) {
                        // Check for display
                        candidateFieldPos = this.findDisplay(currentValue);
                        if (candidateFieldPos === -1) {
                            this.op = ExprParserOperator.invalid;
                            return "invalid token";
                        }
                    }
                    let field = currentValue.substr(candidateFieldPos).trim();
                    let display = "";
                    // Extract display
                    const displayStart = this.findDisplay(field);
                    if (displayStart !== -1) {
                        display = ExprParser.unescape(field.substr(displayStart, field.length - displayStart));
                        field = field.substr(0, displayStart);
                    }
                    if (this.isValidFieldName(field) || (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].isEmpty(field) && !_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].isEmpty(display))) {
                        const value = currentValue.substr(0, candidateFieldPos);
                        if (this.canBeTokValue(value.trim())) {
                            this.current -= (sbCurrentValue.join("").length - candidateFieldPos); // back up to field
                            this._getTokValue(value);
                            return undefined;
                        }
                        if (!_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].isEmpty(field)) {
                            let forcePartname = false;
                            if (this.current + 1 < this.length && this.text[this.current + 1] === ":") {
                                // :: => force partname over column
                                forcePartname = true;
                                this.current++;
                            }
                            const isPartname = { value: false };
                            if (!this.isAllowedField(field, forcePartname, isPartname)) {
                                candidateFieldPos = -1;
                                sbCurrentValue.push(":");
                                if (forcePartname) {
                                    sbCurrentValue.push(":");
                                }
                                this.current++;
                                continue;
                            }
                            if (isPartname.value) {
                                field = ExprParser.fieldPartnamePrefix + field;
                            }
                        }
                        if (!_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].isEmpty(field)) {
                            this.field = field;
                            fieldSpecified = true;
                        }
                        if (!_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].isEmpty(display)) {
                            this.display = display;
                        }
                        sbCurrentValue.length = 0;
                        this.current++;
                        continue;
                    }
                }
                if (" \r\n\t)".includes(ch)) {
                    candidateFieldPos = -1;
                }
                else if (candidateFieldPos === -1) {
                    candidateFieldPos = sbCurrentValue.join("").length;
                }
                sbCurrentValue.push(ch);
                this.current++;
            }
        }
    }
    clear() {
        this.text = "";
        this.current = 0;
        this.length = 0;
        this.operators.length = 0;
        this.expressions.length = 0;
        this.fields.length = 0;
        this.displays.length = 0;
    }
    /**
     * Parse some text using the Sinequa fielded search syntax
     *
     * @return The parsed `Expr` or an error string
     */
    static parse(text, context, options) {
        const parser = new ExprParser(context, options);
        const error = parser.parse(text);
        if (error) {
            return error;
        }
        return parser.parseResult();
    }
    parseResult() {
        if (this.expressions.length !== 1) {
            return "no expression found";
        }
        return this.expressions[0];
    }
    get contextField() {
        let field = this.field;
        if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].isEmpty(field)) {
            field = this.peekField();
        }
        return field;
    }
    get contextDisplay() {
        let display = this.display;
        if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].isEmpty(display)) {
            display = this.peekDisplay();
        }
        return display;
    }
    parse(text) {
        this.clear();
        if (this.options.allowEmptyValues && !_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].len(text.trim())) {
            const expr = Expr.makeExpr(this.exprContext, "", this.contextField, this.contextDisplay, this.options.allowEmptyValues);
            if (expr) {
                expr.start = 0;
                expr.length = 0;
                this.expressions.push(expr);
            }
            return "";
        }
        this.text = text || "";
        this.length = this.text.length;
        this.operators.push(ExprParserOperator.eof);
        let err = this.readToken();
        if (err) {
            return err;
        }
        while (true) {
            if ((this.op.tok === 8 /* value */ || this.op.tok === 5 /* lPar */ || this.op.tok === 2 /* not */ || this.op.tok === 3 /* near */) &&
                (this.prevOp.tok === 8 /* value */ || this.prevOp.tok === 6 /* rPar */)) {
                // Default to AND for space separated terms
                // NOT xxx => AND NOT xxx
                this.saveOp = this.op;
                this.op = ExprParserOperator.and;
            }
            let a;
            if (this.op.tok === 8 /* value */) {
                a = 0 /* s */;
            }
            else {
                a = ExprParser.parsetbl[this.operators[this.operators.length - 1].tok][this.op.tok];
            }
            switch (a) {
                case 1 /* r */:
                    err = this.reduce();
                    if (err) {
                        return err;
                    }
                    break;
                case 0 /* s */:
                    err = this.shift();
                    if (err) {
                        return err;
                    }
                    break;
                case 2 /* a */:
                    if (this.expressions.length !== 1) {
                        return "syntax error";
                    }
                    return "";
                case 3 /* e1 */:
                    return "missing ')'";
                case 4 /* e2 */:
                    return "missing operator (AND,OR,NOT)";
                case 5 /* e3 */:
                    return "missing '('";
                case 6 /* e4 */:
                    return "invalid argument";
            }
        }
    }
    shift() {
        if (this.op.tok === 8 /* value */) {
            const value = this.op.tokValue.trim();
            if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].isEmpty(value) && !this.options.allowEmptyValues) {
                return "empty token";
            }
            const expr = Expr.makeExpr(this.exprContext, value, this.contextField, this.contextDisplay, !!this.options.allowEmptyValues);
            if (!expr) {
                return "invalid expression";
            }
            expr.start = this.op.tokValuePos;
            expr.length = this.op.tokValueLen;
            if (!!expr.operands) {
                expr.operands.forEach(operand => {
                    operand.start = this.op.tokValuePos;
                    operand.length = this.op.tokValueLen;
                });
            }
            this.expressions.push(expr);
            this.field = "";
            this.display = "";
        }
        else {
            this.operators.push(this.op);
            if (this.op.tok === 5 /* lPar */) {
                if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].isEmpty(this.field)) {
                    this.fields.push(this.peekField());
                }
                else {
                    this.fields.push(this.field);
                }
                this.field = "";
                if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].isEmpty(this.display)) {
                    this.displays.push(this.peekDisplay());
                }
                else {
                    this.displays.push(this.display);
                }
                this.display = "";
            }
        }
        return this.readToken();
    }
    peekField() {
        if (this.fields.length === 0) {
            return "";
        }
        return this.fields[this.fields.length - 1];
    }
    peekDisplay() {
        if (this.displays.length === 0) {
            return "";
        }
        return this.displays[this.displays.length - 1];
    }
    canBeMergeTarget(e, and) {
        if (e.isLeaf) {
            return false;
        }
        if (e.near >= 0) {
            return false;
        }
        if (e.and !== and) {
            return false;
        }
        if (e.not) {
            return false;
        }
        return true;
    }
    mergeExpr(e1, e2, and) {
        let source, target;
        let prepend = false;
        if (this.canBeMergeTarget(e1, and)) {
            target = e1;
            source = e2;
        }
        else if (this.canBeMergeTarget(e2, and)) {
            target = e2;
            source = e1;
            prepend = true; // to keep the same order as in the input text
        }
        else {
            return new Expr({
                exprContext: e1.exprContext,
                op1: e1,
                and,
                op2: e2,
                field: this.peekField(),
                display: this.peekDisplay()
            });
        }
        if (source.isLeaf || source.and !== and || source.not || !_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].eq(source.display || "", target.display || "")) {
            target.addOperand(source, this.peekField(), prepend);
        }
        else {
            if (source.operands) {
                for (const operand of source.operands) {
                    target.addOperand(operand, this.peekField(), prepend);
                }
            }
        }
        return target;
    }
    reduce() {
        let e;
        let e1;
        let e2;
        const op = this.operators[this.operators.length - 1];
        switch (op.tok) {
            case 2 /* not */:
                // Apply E := NOT E
                e = this.expressions.pop();
                if (!e) {
                    return "syntax error";
                }
                e.not = !e.not;
                this.expressions.push(e);
                break;
            case 1 /* and */:
                e2 = this.expressions.pop();
                e1 = this.expressions.pop();
                if (!e1 || !e2) {
                    return "syntax error";
                }
                this.expressions.push(this.mergeExpr(e1, e2, true));
                break;
            case 0 /* or */:
                e2 = this.expressions.pop();
                e1 = this.expressions.pop();
                if (!e1 || !e2) {
                    return "syntax error";
                }
                this.expressions.push(this.mergeExpr(e1, e2, false));
                break;
            case 3 /* near */:
                e = this.expressions.pop();
                if (!e) {
                    return "syntax error";
                }
                e.near = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].toInt(this.ensureNearValue(op.tokValue));
                this.expressions.push(e);
                break;
            case 4 /* infixNear */:
                e2 = this.expressions.pop();
                e1 = this.expressions.pop();
                if (!e1 || !e2) {
                    return "syntax error";
                }
                if (!e2.isLeaf || e2.isStructured || !e1.isLeaf || e1.isStructured || e2.not || e1.not || !_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].eqNC(e2.field || "", e1.field || "")) {
                    return "syntax error";
                }
                e = new Expr({
                    exprContext: e1.exprContext,
                    op1: e1,
                    and: false,
                    op2: e2,
                    field: this.peekField(),
                    display: this.peekDisplay()
                });
                e.near = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].toInt(this.ensureNearValue(op.tokValue));
                this.expressions.push(e);
                break;
            case 6 /* rPar */:
                this.operators.pop();
                if (this.fields.length === 0) {
                    return "missing field";
                }
                if (this.expressions.length === 0) {
                    return "syntax error";
                }
                const field = this.fields.pop();
                const display = this.displays.pop();
                // Set Field for single term bracketed expressions
                e = this.expressions[this.expressions.length - 1];
                if (e.isLeaf) {
                    if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].isEmpty(e.field)) {
                        e.field = field;
                    }
                    if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].isEmpty(e.display)) {
                        e.display = display;
                    }
                }
                break;
        }
        this.operators.pop();
        return undefined;
    }
}
ExprParser.fieldPartnamePrefix = "@";
ExprParser.parsetbl = [
    /* stk  ------------- input ------------*/
    /*		                                 INFIX                  */
    /*		         OR	   AND	 NOT   NEAR  NEAR  (	  )	     $  */
    /*OR */ [1 /* r */, 0 /* s */, 0 /* s */, 0 /* s */, 0 /* s */, 0 /* s */, 1 /* r */, 1 /* r */],
    /*AND*/ [1 /* r */, 1 /* r */, 0 /* s */, 0 /* s */, 0 /* s */, 0 /* s */, 1 /* r */, 1 /* r */],
    /*NOT*/ [1 /* r */, 1 /* r */, 0 /* s */, 0 /* s */, 1 /* r */, 0 /* s */, 1 /* r */, 1 /* r */],
    /*NEAR*/ [1 /* r */, 1 /* r */, 0 /* s */, 0 /* s */, 1 /* r */, 0 /* s */, 1 /* r */, 1 /* r */],
    /*INFIXNEAR*/ [1 /* r */, 1 /* r */, 0 /* s */, 0 /* s */, 1 /* r */, 0 /* s */, 1 /* r */, 1 /* r */],
    /*(*/ [0 /* s */, 0 /* s */, 0 /* s */, 0 /* s */, 0 /* s */, 0 /* s */, 0 /* s */, 3 /* e1 */],
    /*)*/ [1 /* r */, 1 /* r */, 1 /* r */, 1 /* r */, 1 /* r */, 4 /* e2 */, 1 /* r */, 1 /* r */],
    /*$*/ [0 /* s */, 0 /* s */, 0 /* s */, 0 /* s */, 0 /* s */, 0 /* s */, 5 /* e3 */, 2 /* a */]
];


/***/ }),

/***/ "Q/3P":
/*!*********************************************!*\
  !*** ../components/collapse/messages/de.ts ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    collapseButton: {
        "collapse": "Reduzieren",
        "expand": "Erweitern"
    }
});


/***/ }),

/***/ "Q/Cl":
/*!***********************************************!*\
  !*** ../components/search/bootstrap/index.ts ***!
  \***********************************************/
/*! exports provided: BsBreadcrumbs, BsDidYouMean, BsPageSizeSelector, BsPager, BsSearchModule, BsSortSelector, BsTabs, BsLoadingBar, BsScroller, BsLoadMore */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _public_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./public-api */ "6MfX");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsBreadcrumbs", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsBreadcrumbs"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsDidYouMean", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsDidYouMean"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsPageSizeSelector", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsPageSizeSelector"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsPager", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsPager"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsSearchModule", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsSearchModule"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsSortSelector", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsSortSelector"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsTabs", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsTabs"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsLoadingBar", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsLoadingBar"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsScroller", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsScroller"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsLoadMore", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsLoadMore"]; });




/***/ }),

/***/ "Q6YF":
/*!**************************************************!*\
  !*** ../components/user-settings/messages/fr.ts ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    "userMenu": {
        "user": "Utilisateur",
        "login": "S'identifier",
        "overrideUser": "Surcharger l'utilisateur",
        "settings": "Paramètres",
        "revertUserOverride": "Revenir à l'utilisateur normal",
        "administration": "Administration",
        "logout": "Se déconnecter",
        "language": "Langue",
        "resetUserSettings": {
            "menu": "Réinitialiser les paramètres utilisateur",
            "modalTitle": "Réinitialiser Paramètres Utilisateur",
            "modalMessage": "Vous êtes sur le point de réinitialiser TOUTES vos données utilisateur (requêtes récentes, collections, alertes, préférences, etc.). Voulez-vous continuer ?",
            "modalConfirmButton": "Confirmer",
            "successMessage": "Réinitialisation des paramètres utilisateur réussie",
            "errorMessage": "Echec de la réinitialisation des paramètres utilisateur"
        }
    },
    "editUserSettings": {
        "title": "Paramètres",
        "language": "Langue de l'interface",
        "pageSize": "Nombre de résultats par page",
        "email": "E-mail"
    }
});


/***/ }),

/***/ "QQOA":
/*!*********************************************!*\
  !*** ../components/metadata/messages/de.ts ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    metadata: {
        extractslocationsLabel: "Relevanter Extrakt",
        extractslocationsPluralLabel: "Relevante Extrakte",
        geoLabel: "Ort",
        geoPluralLabel: "Orte",
        personLabel: "Person",
        personPluralLabel: "Personen",
        companyLabel: "Firma",
        companyPluralLabel: "Firmen",
        treepathLabel: "Quelle",
        treepathPluralLabel: "Quellen",
        matchlocationsLabel: "Suchbegriff",
        matchlocationsPluralLabel: "Suchbegriffe",
        titleLabel: "Titel",
        titlePluralLabel: "Titel",
        authorsLabel: "Autor",
        authorsPluralLabel: "Autoren",
        filenameLabel: "Dateiname",
        filenamePluralLabel: "Dateinamen",
        modifiedLabel: "Datum",
        modifiedPluralLabel: "Datumsangaben",
        sizeLabel: "Größe",
        sizePluralLabel: "Größen",
        docformatLabel: "Format",
        docformatPluralLabel: "Formate",
        documentlanguagesLabel: "Sprache",
        documentlanguagesPluralLabel: "Sprachen",
        geo_label: "Ort",
        geo_plural_label: "Orte",
        person_label: "Person",
        person_plural_label: "Personen",
        company_label: "Firma",
        company_plural_label: "Firmen",
        treepath_label: "Quelle",
        treepath_plural_label: "Quellen",
        title_label: "Titel",
        title_plural_label: "Titel",
        authors_label: "Autor",
        authors_plural_label: "Autoren",
        filename_label: "Dateiname",
        filename_plural_label: "Dateinamen",
        modified_label: "Datum",
        modified_plural_label: "Datumsangaben",
        size_label: "Größe",
        size_plural_label: "Größen",
        docformat_label: "Format",
        docformat_plural_label: "Formate",
        documentlanguages_label: "Sprache",
        documentlanguages_plural_label: "Sprachen",
        accessLists: {
            authorizedListTitleText: "Liste der erlaubten Zugriffe",
            authorizedListHeader: "Liste der erlaubten Zugriffe {value, number}",
            deniedListTitleText: "Liste der unerlaubten Zugriffe",
            deniedListHeader: "Liste der unerlaubten Zugriffe {value, number}"
        },
        item: {
            label: "{label}:",
            separator: "|",
            treeSeparator: " ; ",
            treeNodeSeparator: "/",
            listSeparator: ", ",
            empty_boolean: 'false',
            empty_number: '0'
        }
    }
});


/***/ }),

/***/ "QfBj":
/*!*************************************************************!*\
  !*** ../components/labels/labels-autocomplete.directive.ts ***!
  \*************************************************************/
/*! exports provided: LabelsAutocomplete */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LabelsAutocomplete", function() { return LabelsAutocomplete; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_components_autocomplete__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/components/autocomplete */ "jAS1");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/app-utils */ "SBPP");
/* harmony import */ var _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/components/utils */ "DD1E");
/* harmony import */ var _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sinequa/core/web-services */ "cIYa");
/* harmony import */ var _labels_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./labels.service */ "OpW8");









class LabelsAutocomplete extends _sinequa_components_autocomplete__WEBPACK_IMPORTED_MODULE_1__["Autocomplete"] {
    constructor(elementRef, suggestService, appService, uiService, labelsWebService, labelsService) {
        super(elementRef, suggestService, appService, uiService);
        this.labelsWebService = labelsWebService;
        this.labelsService = labelsService;
        /** Event synchronizing the list of selected labels in the parent component */
        this.itemsUpdate = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        /** Enable adding new labels in labelsItems or not */
        this.allowNewLabels = false;
        /** Define the right of adding new labels in labelsItems or not */
        this.allowManagePublicLabels = false;
        /** Stores the selected labels items selected via Tab */
        this.labelsItems = [];
        /** Stores the suggestions retrieved by th server in order to perform checks on key.enter events */
        this._suggestions = [];
    }
    /**
     * The ngOnInit() method from the original directive is overriden
     * On initialization, we listen to the autocomplete component for
     * selection events
     */
    ngOnInit() {
        this._dropdownSubscription = this.dropdown.clicked.subscribe((item) => {
            this.select(item, true); // An item was selected from the autocomplete => take the value
        });
        this.start();
    }
    /**
     * If the inputs changes state, react accordingly
     * @param changes
     */
    ngOnChanges(changes) {
        if (changes["labelsItems"]) {
            this.updatePlaceholder();
        }
        // Override start() by using init() instead, so that no double queries are generated and autocomplete dropdown is shown only on focus
        if (changes["off"] && !this.off) {
            this.init();
        }
        // If labels category changes, we must remove the selected labels items and reinitialize the autocomplete
        if (changes["public"] && !changes["public"].firstChange) {
            const newInitLabels = [...changes["labelsItems"].currentValue];
            this.inputElement.blur();
            /** Reset the input Value*/
            this.setInputValue("");
            /** initialize the input needed specially for labels edit cases */
            this.updatePlaceholder();
            this.itemsUpdate.next(newInitLabels);
        }
    }
    /**
     * The getSuggests() method from the original directive is overriden to
     * use the labelsService rather than suggest service.
     */
    getSuggests() {
        const value = this.getInputValue();
        if (value) {
            // parse
            const labels = value.split(";");
            // find label at caret location
            const position = this.getInputPosition();
            let length = 0;
            let val;
            for (const label of labels) {
                if (position >= length && position <= length + label.length) {
                    val = {
                        value: label,
                        start: length,
                        length: label.length,
                    };
                    break;
                }
                length += label.length + 1;
            }
            // Get suggestions from web service
            if (val) {
                this._getLabelsSuggestions(val.value);
            }
        }
        else {
            if (!!this.labelsService.labelsAutoSuggestWildcard) {
                this._getLabelsSuggestions(this.labelsService.labelsAutoSuggestWildcard);
            }
            else {
                this.start();
            }
        }
    }
    _getLabelsSuggestions(val) {
        this.labelsWebService.list(val, this.public).subscribe((labels) => {
            if (this.getState() === _sinequa_components_autocomplete__WEBPACK_IMPORTED_MODULE_1__["AutocompleteState"].ACTIVE ||
                this.getState() === _sinequa_components_autocomplete__WEBPACK_IMPORTED_MODULE_1__["AutocompleteState"].OPENED) {
                /** Eliminate suggestions that are already selected */
                labels.labels = labels.labels.filter((label) => !this.labelsItems.find((item) => item.display === label));
                /** update the local list of suggestions */
                this._suggestions = labels.labels;
                /** limit the suggestions to be displayed to 10  */
                labels.labels = labels.labels.slice(0, 10);
                this.dropdown.update(true, labels.labels.map((label) => {
                    return {
                        display: label,
                        category: "",
                    };
                }));
            }
        }, () => {
            this.dropdown.update(false);
        }, () => {
            if (this.dropdown.hasItems &&
                this.getState() === _sinequa_components_autocomplete__WEBPACK_IMPORTED_MODULE_1__["AutocompleteState"].ACTIVE) {
                this.open(); // Switch from ACTIVE to OPENED (if not already)
            }
            else if (!this.dropdown.hasItems &&
                this.getState() === _sinequa_components_autocomplete__WEBPACK_IMPORTED_MODULE_1__["AutocompleteState"].OPENED) {
                // No data
                this.active(); // Switch from OPENED to ACTIVE (if not already)
            }
        });
    }
    /**
     * The setAutocompleteItem() method from the original directive is overriden to
     * Sets the content of the <input> based on the given
     * Autocomplete Item.
     * @returns false since labels items don't need to be searched
     */
    setAutocompleteItem(item) {
        if (item) {
            // Store the autocomplete items that will be used to create a selection
            this.labelsItems.push(item);
            this.updatePlaceholder();
            this.itemsUpdate.next(this.labelsItems);
            this.setInputValue("");
        }
        return false;
    }
    /**
     * The startOrActive() method from the original directive is overriden to
     * immediately switch to ACTIVE if it is not the case
     */
    startOrActive() {
        if (this.getState() !== _sinequa_components_autocomplete__WEBPACK_IMPORTED_MODULE_1__["AutocompleteState"].ACTIVE &&
            this.getState() !== _sinequa_components_autocomplete__WEBPACK_IMPORTED_MODULE_1__["AutocompleteState"].OPENED) {
            // Avoid flickering
            this.start();
            this.active();
        }
    }
    /**
     * Listen to user's keyboard actions in the <input>, in order to navigate
     * and select the autocomplete suggestions.
     * Overrides the parent keydown method, adds the management of the backspace key
     * to remove labels items, enhance the enter key to support adding new labels.
     * @param event the keyboard
     */
    keydown(event) {
        const keydown = super.keydown(event);
        if (keydown === undefined) {
            //We can remove selections by typing <backspace> when the input is empty
            if (event.keyCode === _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Keys"].backspace) {
                if (this.getInputValue() === "") {
                    this.labelsItems.pop();
                    this.updatePlaceholder();
                    this.itemsUpdate.next(this.labelsItems);
                }
            }
            /** Allow the selection one of new labels that not exists in the list */
            if (event.keyCode === _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Keys"].enter) {
                this._manageSetAutocompleteItem();
            }
        }
        return keydown;
    }
    /**
     * Listens to focus events on the <input> host and overrides the parent focus events in order to launch the autocomplete
     * If empty input :
     * - display top relevent labels if the auto-suggest wildcard is configured
     * - restart the autocomplete if no auto-suggest wildcard is found
     * If not empty input :
     * retrieve suggestions based on this input text
     */
    focus() {
        this.start();
        this.active();
    }
    /**
     * Listens to blur events (out of focus) on the <input> host and overrides the parent blur events
     */
    blur(event) {
        this._manageSetAutocompleteItem();
        this.init();
    }
    /**
     * Overrides the parent inputChanged method, so that it is possible to reinitialize the autocomplete
     * @param event
     */
    inputChanged(event) {
        switch (this.getState()) {
            case _sinequa_components_autocomplete__WEBPACK_IMPORTED_MODULE_1__["AutocompleteState"].OPENED:
                this.suggest(); // Just request more data, but no state change
                break;
            case _sinequa_components_autocomplete__WEBPACK_IMPORTED_MODULE_1__["AutocompleteState"].START:
            case _sinequa_components_autocomplete__WEBPACK_IMPORTED_MODULE_1__["AutocompleteState"].ACTIVE:
                this.active(); // get more data, and change state if not already ACTIVE
                break;
            case _sinequa_components_autocomplete__WEBPACK_IMPORTED_MODULE_1__["AutocompleteState"].SELECTED:
                this.start(); // The model changed because we selected a value ==> we restart in case the user keeps typing
                this.active();
                break;
            case _sinequa_components_autocomplete__WEBPACK_IMPORTED_MODULE_1__["AutocompleteState"].INIT:
                break;
        }
    }
    /**
     * Updates the <input>'s placeholder to avoid displaying something
     * when there are labelsItems displayed to the left.
     */
    updatePlaceholder() {
        this._placeholder = this.labelsItems.length > 0 ? "" : this.placeholder;
    }
    _manageSetAutocompleteItem() {
        /** Always consider if there is text in the <input> and that it is not yet added in the labelsItems  */
        if (!!this.getInputValue() && this.getInputValue() !== "") {
            if (this.allowNewLabels) {
                /** When it is an add Labels action ==> check the privilege to create new label */
                if (!this.public ||
                    (this.public && this.allowManagePublicLabels)) {
                    this.setAutocompleteItem({
                        display: this.getInputValue(),
                        category: "",
                    });
                }
            }
            else {
                /** For all other actions on the labels, check if the typed text equals an existing label in the _suggestions  */
                if (this._suggestions.indexOf(this.getInputValue()) > -1) {
                    this.setAutocompleteItem({
                        display: this.getInputValue(),
                        category: "",
                    });
                }
            }
        }
    }
}
LabelsAutocomplete.ɵfac = function LabelsAutocomplete_Factory(t) { return new (t || LabelsAutocomplete)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_autocomplete__WEBPACK_IMPORTED_MODULE_1__["SuggestService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__["AppService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_utils__WEBPACK_IMPORTED_MODULE_4__["UIService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_5__["LabelsWebService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_labels_service__WEBPACK_IMPORTED_MODULE_6__["LabelsService"])); };
LabelsAutocomplete.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({ type: LabelsAutocomplete, selectors: [["", "sqAutocompleteLabels", ""]], hostBindings: function LabelsAutocomplete_HostBindings(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("focus", function LabelsAutocomplete_focus_HostBindingHandler() { return ctx.focus(); })("blur", function LabelsAutocomplete_blur_HostBindingHandler($event) { return ctx.blur($event); })("input", function LabelsAutocomplete_input_HostBindingHandler($event) { return ctx.inputChanged($event); });
    } }, inputs: { public: "public", allowNewLabels: "allowNewLabels", allowManagePublicLabels: "allowManagePublicLabels", labelsItems: "labelsItems" }, outputs: { itemsUpdate: "itemsUpdate" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"], _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](LabelsAutocomplete, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Directive"],
        args: [{
                selector: "[sqAutocompleteLabels]",
            }]
    }], function () { return [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"] }, { type: _sinequa_components_autocomplete__WEBPACK_IMPORTED_MODULE_1__["SuggestService"] }, { type: _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__["AppService"] }, { type: _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_4__["UIService"] }, { type: _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_5__["LabelsWebService"] }, { type: _labels_service__WEBPACK_IMPORTED_MODULE_6__["LabelsService"] }]; }, { itemsUpdate: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }], public: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], allowNewLabels: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], allowManagePublicLabels: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], labelsItems: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], focus: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostListener"],
            args: ["focus"]
        }], blur: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostListener"],
            args: ["blur", ["$event"]]
        }], inputChanged: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostListener"],
            args: ["input", ["$event"]]
        }] }); })();


/***/ }),

/***/ "Qrf+":
/*!***************************************************!*\
  !*** ../core/web-services/web-services.module.ts ***!
  \***************************************************/
/*! exports provided: StartConfigInitializer, WebServicesModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StartConfigInitializer", function() { return StartConfigInitializer; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WebServicesModule", function() { return WebServicesModule; });
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/common/http */ "vobO");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/core/intl */ "EfqX");
/* harmony import */ var _start_config_web_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./start-config.web.service */ "R3Oh");
/* harmony import */ var _module_providers__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./module.providers */ "UuwM");



// Intl is required by various web services


// StartConfig



// Used to ensure that the StartConfigWebService is instantiated
function StartConfigInitializer(startConfigWebService) {
    const init = () => Promise.resolve();
    return init;
}
/**
 * This module implements client services for the Sinequa web service APIs
 */
// @dynamic
class WebServicesModule {
    /**
     * Configures the module with a start configuration
     *
     * @param startConfig The start configuration object
     *
     * @returns The configured module
     */
    static forRoot(startConfig) {
        return {
            ngModule: WebServicesModule,
            providers: [
                // Provide START_CONFIG
                { provide: _start_config_web_service__WEBPACK_IMPORTED_MODULE_5__["START_CONFIG"], useValue: startConfig },
            ]
        };
    }
}
WebServicesModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineNgModule"]({ type: WebServicesModule });
WebServicesModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵdefineInjector"]({ factory: function WebServicesModule_Factory(t) { return new (t || WebServicesModule)(); }, providers: [
        // Ensure that the StartConfigWebService is instantiated so StartConfig is initialized
        { provide: _angular_core__WEBPACK_IMPORTED_MODULE_1__["APP_INITIALIZER"], useFactory: StartConfigInitializer, deps: [_start_config_web_service__WEBPACK_IMPORTED_MODULE_5__["StartConfigWebService"]], multi: true },
        ..._module_providers__WEBPACK_IMPORTED_MODULE_6__["WEB_SERVICES_MODULE_PROVIDERS"]
    ], imports: [[
            _angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"],
            _angular_common_http__WEBPACK_IMPORTED_MODULE_0__["HttpClientModule"],
            _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["BaseModule"],
            _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_4__["IntlModule"]
        ]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵɵsetNgModuleScope"](WebServicesModule, { imports: [_angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"],
        _angular_common_http__WEBPACK_IMPORTED_MODULE_0__["HttpClientModule"],
        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["BaseModule"],
        _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_4__["IntlModule"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_1__["ɵsetClassMetadata"](WebServicesModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"],
        args: [{
                imports: [
                    _angular_common__WEBPACK_IMPORTED_MODULE_2__["CommonModule"],
                    _angular_common_http__WEBPACK_IMPORTED_MODULE_0__["HttpClientModule"],
                    _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["BaseModule"],
                    _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_4__["IntlModule"]
                ],
                declarations: [],
                exports: [],
                providers: [
                    // Ensure that the StartConfigWebService is instantiated so StartConfig is initialized
                    { provide: _angular_core__WEBPACK_IMPORTED_MODULE_1__["APP_INITIALIZER"], useFactory: StartConfigInitializer, deps: [_start_config_web_service__WEBPACK_IMPORTED_MODULE_5__["StartConfigWebService"]], multi: true },
                    ..._module_providers__WEBPACK_IMPORTED_MODULE_6__["WEB_SERVICES_MODULE_PROVIDERS"]
                ]
            }]
    }], null, null); })();


/***/ }),

/***/ "QseT":
/*!*****************************!*\
  !*** ../core/base/index.ts ***!
  \*****************************/
/*! exports provided: SqErrorCode, SqError, NameValueArrayViewHelper, IteratorAdaptor, Keys, PatternType, Pattern, Patterns, PatternMatcher, Timer, Utils, BaseModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _public_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./public-api */ "D4VF");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SqErrorCode", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["SqErrorCode"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SqError", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["SqError"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "NameValueArrayViewHelper", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["NameValueArrayViewHelper"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "IteratorAdaptor", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["IteratorAdaptor"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Keys", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["Keys"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "PatternType", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["PatternType"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Pattern", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["Pattern"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Patterns", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["Patterns"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "PatternMatcher", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["PatternMatcher"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Timer", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["Timer"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Utils", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["Utils"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BaseModule", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BaseModule"]; });




/***/ }),

/***/ "R3Oh":
/*!********************************************************!*\
  !*** ../core/web-services/start-config.web.service.ts ***!
  \********************************************************/
/*! exports provided: START_CONFIG, StartConfigWebService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "START_CONFIG", function() { return START_CONFIG; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StartConfigWebService", function() { return StartConfigWebService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "+kfY");
/* harmony import */ var atomicjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! atomicjs */ "zgF2");
/* harmony import */ var atomicjs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(atomicjs__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");





/**
 * An {@link InjectionToken} to access the app's {@link StartConfig} instance
 */
const START_CONFIG = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["InjectionToken"]("START_CONFIG");
/**
 * A service to manage the initialization of the app's {@link StartConfig} instance. The service
 * is automatically instantiated by an {@link APP_INITIALIZER} in {@link WebServicesModule} and the
 * initialization is performed in the constructor.
 */
class StartConfigWebService {
    /**
     * Initializes the injected {@link StartConfig} instance. Outputs an error to the
     * console if no instance is injected.
     *
     * @param startConfig The start configuration instance
     */
    constructor(startConfig) {
        this.startConfig = startConfig;
        if (!startConfig) {
            console.error("START_CONFIG must be provided in your app module");
            return;
        }
        this.initStartConfig();
    }
    getDefaultStartConfig() {
        const startConfig = {};
        const browserUrl = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].makeURL(window.location.href);
        let parts = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].split(browserUrl.pathname, "/");
        const appSpecifierIndex = parts.findIndex(value => _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].eqNCN(value, "app", "app-debug"));
        if (appSpecifierIndex !== -1 && appSpecifierIndex < parts.length - 1) {
            const appSpecifier = parts[appSpecifierIndex];
            startConfig.app = parts[appSpecifierIndex + 1];
            startConfig.production = appSpecifier === "app" ? true : false;
            parts = parts.slice(0, appSpecifierIndex);
        }
        startConfig.url = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].addUrl(browserUrl.origin, ...parts);
        return startConfig;
    }
    initStartConfig() {
        const defaultStartConfig = this.getDefaultStartConfig();
        const initialStartConfig = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].copy(this.startConfig);
        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].extend(this.startConfig, defaultStartConfig, initialStartConfig);
        const browserUrl = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].makeURL(window.location.href);
        const url = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].makeURL(this.startConfig.url);
        let apiPath = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].addUrl(url.pathname, StartConfigWebService.API_PATH);
        let applicationPath = url.pathname;
        const corsActive = url.origin !== browserUrl.origin;
        if (corsActive) {
            apiPath = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].addUrl(url.origin, apiPath);
            applicationPath = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].addUrl(url.origin, applicationPath);
        }
        this.startConfig.origin = url.origin;
        this.startConfig.applicationPath = applicationPath;
        this.startConfig.apiPath = apiPath;
        this.startConfig.corsActive = corsActive;
        this.startConfig.browserUrl = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].addUrl(browserUrl.origin, browserUrl.pathname);
    }
    /**
     * Fetches pre-login app configuration from the Sinequa server and merges it
     * into the start config instance
     *
     * @returns An observable of the start config after being merged with the pre-login app configuration
     */
    fetchPreLoginAppConfig() {
        return rxjs__WEBPACK_IMPORTED_MODULE_1__["Observable"].create(observer => {
            let _url = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].addUrl(this.startConfig.apiPath, "app");
            _url = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].addSearchParams(_url, {
                app: this.startConfig.app,
                preLogin: true
            });
            atomicjs__WEBPACK_IMPORTED_MODULE_2___default()(_url, {
                headers: {
                    "sinequa-force-camel-case": true
                }
            })
                .then(response => {
                const initialStartConfig = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].copy(this.startConfig);
                _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].extend(this.startConfig, response.data, initialStartConfig);
                const versionDate = this.startConfig.versionDate;
                if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].isString(versionDate)) { // it will be
                    this.startConfig.versionDate = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].fromSysDateStr(versionDate);
                }
                observer.next(this.startConfig);
                observer.complete();
            })
                .catch(error => {
                console.error("Error retrieving app config");
                observer.error(error);
            });
        });
    }
    /**
     * Retrieves Sinequa server configuration from a web server hosting the app
     *
     * @param url A URL to a JSON file containing the Sinequa server configuration
     *
     * @returns An observable of the Sinequa server configuration
     */
    fetchServerConfig(url) {
        return rxjs__WEBPACK_IMPORTED_MODULE_1__["Observable"].create(observer => {
            if (!url) {
                const _url = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].makeURL(window.location.href);
                url = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].addUrl(_url.pathname, "sinequa-config.json");
            }
            atomicjs__WEBPACK_IMPORTED_MODULE_2___default()(url)
                .then(response => {
                // If the config file is empty or not valid json we'll most likely get a string for data
                let serverConfig = response.data;
                if (!_sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].isObject(serverConfig)) {
                    console.warn("invalid sinequa-config.json file");
                    serverConfig = {};
                }
                observer.next(serverConfig);
                observer.complete();
            })
                .catch(error => {
                console.log("sinequa-config.json not found");
                observer.next({});
                observer.complete();
            });
        });
    }
}
StartConfigWebService.API_PATH = "/api/v1";
StartConfigWebService.ɵfac = function StartConfigWebService_Factory(t) { return new (t || StartConfigWebService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](START_CONFIG, 8)); };
StartConfigWebService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: StartConfigWebService, factory: StartConfigWebService.ɵfac, providedIn: "root" });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](StartConfigWebService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: "root"
            }]
    }], function () { return [{ type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Optional"]
            }, {
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [START_CONFIG]
            }] }]; }, null); })();


/***/ }),

/***/ "RK6X":
/*!***********************************!*\
  !*** ../core/base/base.module.ts ***!
  \***********************************/
/*! exports provided: BaseModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BaseModule", function() { return BaseModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _polyfills__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./polyfills */ "XHQf");



/**
 * This module contains a variety of base types and utility classes including the {@link Utils} utilility class
 */
class BaseModule {
}
BaseModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: BaseModule });
BaseModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function BaseModule_Factory(t) { return new (t || BaseModule)(); }, imports: [[]] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BaseModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [],
                declarations: [],
                exports: []
            }]
    }], null, null); })();


/***/ }),

/***/ "RQGe":
/*!*****************************************************!*\
  !*** ../components/results-view/bootstrap/index.ts ***!
  \*****************************************************/
/*! exports provided: BsResultsGridView, BsResultsViewModule, BsResultsViewSelector */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _public_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./public-api */ "/7yP");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsResultsGridView", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsResultsGridView"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsResultsViewModule", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsResultsViewModule"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsResultsViewSelector", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsResultsViewSelector"]; });




/***/ }),

/***/ "RRIn":
/*!******************************************************!*\
  !*** ../components/user-settings/bootstrap/index.ts ***!
  \******************************************************/
/*! exports provided: JsonInfo, BsEditUserSettings, BsUserSettingsEditor, BsUserSettingsModule, BsUserMenuComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _public_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./public-api */ "5yUi");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "JsonInfo", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["JsonInfo"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsEditUserSettings", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsEditUserSettings"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsUserSettingsEditor", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsUserSettingsEditor"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsUserSettingsModule", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsUserSettingsModule"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsUserMenuComponent", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsUserMenuComponent"]; });




/***/ }),

/***/ "RgS7":
/*!*********************************************************!*\
  !*** ../components/baskets/bootstrap/baskets.module.ts ***!
  \*********************************************************/
/*! exports provided: BsBasketsModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsBasketsModule", function() { return BsBasketsModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "nIj0");
/* harmony import */ var _angular_cdk_drag_drop__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/cdk/drag-drop */ "oqI+");
/* harmony import */ var _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/core/intl */ "EfqX");
/* harmony import */ var _sinequa_core_validation__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sinequa/core/validation */ "BovW");
/* harmony import */ var _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @sinequa/components/utils */ "DD1E");
/* harmony import */ var _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @sinequa/components/selection */ "8GPZ");
/* harmony import */ var _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @sinequa/components/modal */ "mOpA");
/* harmony import */ var _sinequa_components_action__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @sinequa/components/action */ "WsHA");
/* harmony import */ var _baskets_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../baskets.service */ "3Nz9");
/* harmony import */ var _edit_basket_edit_basket__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./edit-basket/edit-basket */ "IzYZ");
/* harmony import */ var _manage_baskets_manage_baskets__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./manage-baskets/manage-baskets */ "vNc4");
/* harmony import */ var _select_basket_select_basket__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./select-basket/select-basket */ "lfQx");
/* harmony import */ var _result_baskets_result_baskets__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./result-baskets/result-baskets */ "fBWz");
/* harmony import */ var _baskets_menu_baskets_menu_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./baskets-menu/baskets-menu.component */ "G38c");
/* harmony import */ var _facet_baskets_facet_baskets_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./facet-baskets/facet-baskets.component */ "Xg0A");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/router */ "sEIs");



















class BsBasketsModule {
}
BsBasketsModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: BsBasketsModule });
BsBasketsModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function BsBasketsModule_Factory(t) { return new (t || BsBasketsModule)(); }, providers: [
        {
            provide: _baskets_service__WEBPACK_IMPORTED_MODULE_10__["BASKET_COMPONENTS"],
            useValue: {
                selectBasketModal: _select_basket_select_basket__WEBPACK_IMPORTED_MODULE_13__["BsSelectBasket"],
                editBasketModal: _edit_basket_edit_basket__WEBPACK_IMPORTED_MODULE_11__["BsEditBasket"],
                manageBasketsModal: _manage_baskets_manage_baskets__WEBPACK_IMPORTED_MODULE_12__["BsManageBaskets"]
            }
        }
    ], imports: [[
            _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"], _angular_forms__WEBPACK_IMPORTED_MODULE_2__["ReactiveFormsModule"],
            _angular_cdk_drag_drop__WEBPACK_IMPORTED_MODULE_3__["DragDropModule"],
            _angular_router__WEBPACK_IMPORTED_MODULE_17__["RouterModule"],
            _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_8__["BsModalModule"],
            _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_4__["IntlModule"],
            _sinequa_core_validation__WEBPACK_IMPORTED_MODULE_5__["ValidationModule"],
            _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_6__["UtilsModule"],
            _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_7__["BsSelectionModule"],
            _sinequa_components_action__WEBPACK_IMPORTED_MODULE_9__["BsActionModule"]
        ]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](BsBasketsModule, { declarations: [_edit_basket_edit_basket__WEBPACK_IMPORTED_MODULE_11__["BsEditBasket"], _manage_baskets_manage_baskets__WEBPACK_IMPORTED_MODULE_12__["BsManageBaskets"], _select_basket_select_basket__WEBPACK_IMPORTED_MODULE_13__["BsSelectBasket"],
        _result_baskets_result_baskets__WEBPACK_IMPORTED_MODULE_14__["BsResultBaskets"], _baskets_menu_baskets_menu_component__WEBPACK_IMPORTED_MODULE_15__["BsBasketsMenuComponent"],
        _facet_baskets_facet_baskets_component__WEBPACK_IMPORTED_MODULE_16__["BsFacetBasketsComponent"]], imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
        _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"], _angular_forms__WEBPACK_IMPORTED_MODULE_2__["ReactiveFormsModule"],
        _angular_cdk_drag_drop__WEBPACK_IMPORTED_MODULE_3__["DragDropModule"],
        _angular_router__WEBPACK_IMPORTED_MODULE_17__["RouterModule"],
        _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_8__["BsModalModule"],
        _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_4__["IntlModule"],
        _sinequa_core_validation__WEBPACK_IMPORTED_MODULE_5__["ValidationModule"],
        _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_6__["UtilsModule"],
        _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_7__["BsSelectionModule"],
        _sinequa_components_action__WEBPACK_IMPORTED_MODULE_9__["BsActionModule"]], exports: [_edit_basket_edit_basket__WEBPACK_IMPORTED_MODULE_11__["BsEditBasket"], _manage_baskets_manage_baskets__WEBPACK_IMPORTED_MODULE_12__["BsManageBaskets"], _select_basket_select_basket__WEBPACK_IMPORTED_MODULE_13__["BsSelectBasket"],
        _result_baskets_result_baskets__WEBPACK_IMPORTED_MODULE_14__["BsResultBaskets"], _baskets_menu_baskets_menu_component__WEBPACK_IMPORTED_MODULE_15__["BsBasketsMenuComponent"],
        _facet_baskets_facet_baskets_component__WEBPACK_IMPORTED_MODULE_16__["BsFacetBasketsComponent"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsBasketsModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                    _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"], _angular_forms__WEBPACK_IMPORTED_MODULE_2__["ReactiveFormsModule"],
                    _angular_cdk_drag_drop__WEBPACK_IMPORTED_MODULE_3__["DragDropModule"],
                    _angular_router__WEBPACK_IMPORTED_MODULE_17__["RouterModule"],
                    _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_8__["BsModalModule"],
                    _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_4__["IntlModule"],
                    _sinequa_core_validation__WEBPACK_IMPORTED_MODULE_5__["ValidationModule"],
                    _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_6__["UtilsModule"],
                    _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_7__["BsSelectionModule"],
                    _sinequa_components_action__WEBPACK_IMPORTED_MODULE_9__["BsActionModule"]
                ],
                declarations: [
                    _edit_basket_edit_basket__WEBPACK_IMPORTED_MODULE_11__["BsEditBasket"], _manage_baskets_manage_baskets__WEBPACK_IMPORTED_MODULE_12__["BsManageBaskets"], _select_basket_select_basket__WEBPACK_IMPORTED_MODULE_13__["BsSelectBasket"],
                    _result_baskets_result_baskets__WEBPACK_IMPORTED_MODULE_14__["BsResultBaskets"], _baskets_menu_baskets_menu_component__WEBPACK_IMPORTED_MODULE_15__["BsBasketsMenuComponent"],
                    _facet_baskets_facet_baskets_component__WEBPACK_IMPORTED_MODULE_16__["BsFacetBasketsComponent"]
                ],
                exports: [
                    _edit_basket_edit_basket__WEBPACK_IMPORTED_MODULE_11__["BsEditBasket"], _manage_baskets_manage_baskets__WEBPACK_IMPORTED_MODULE_12__["BsManageBaskets"], _select_basket_select_basket__WEBPACK_IMPORTED_MODULE_13__["BsSelectBasket"],
                    _result_baskets_result_baskets__WEBPACK_IMPORTED_MODULE_14__["BsResultBaskets"], _baskets_menu_baskets_menu_component__WEBPACK_IMPORTED_MODULE_15__["BsBasketsMenuComponent"],
                    _facet_baskets_facet_baskets_component__WEBPACK_IMPORTED_MODULE_16__["BsFacetBasketsComponent"]
                ],
                providers: [
                    {
                        provide: _baskets_service__WEBPACK_IMPORTED_MODULE_10__["BASKET_COMPONENTS"],
                        useValue: {
                            selectBasketModal: _select_basket_select_basket__WEBPACK_IMPORTED_MODULE_13__["BsSelectBasket"],
                            editBasketModal: _edit_basket_edit_basket__WEBPACK_IMPORTED_MODULE_11__["BsEditBasket"],
                            manageBasketsModal: _manage_baskets_manage_baskets__WEBPACK_IMPORTED_MODULE_12__["BsManageBaskets"]
                        }
                    }
                ]
            }]
    }], null, null); })();


/***/ }),

/***/ "RwpS":
/*!**********************************************!*\
  !*** ../components/selection/messages/de.ts ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    "resultSelector": {
        "selectDocument": "Dokument auswählen",
        "unselectDocument": "Dokumentauswahl aufheben"
    },
    "resultsSelector": {
        "selectDocuments": "{count, selectordinal, =0 {} other {(#)}}",
        "selectDocumentsTitle": "Dokumente auswählen",
        "unselectDocumentsTitle": "Dokumentauswahl aufheben",
    },
    "selection": {
        "selectedDocuments": "{count, plural, =0 {} one {# ausgewähltes Dokument} other {# ausgewählte Dokumente}}"
    }
});


/***/ }),

/***/ "Rys7":
/*!***************************************************************************************************!*\
  !*** ../components/advanced/bootstrap/advanced-form-range/date-range-picker/date-range-picker.ts ***!
  \***************************************************************************************************/
/*! exports provided: DATE_RANGE_PICKER_VALUE_ACCESSOR, BsDateRangePicker */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DATE_RANGE_PICKER_VALUE_ACCESSOR", function() { return DATE_RANGE_PICKER_VALUE_ACCESSOR; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsDateRangePicker", function() { return BsDateRangePicker; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ "nIj0");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! moment */ "wgY5");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/core/intl */ "EfqX");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var ngx_bootstrap_datepicker__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ngx-bootstrap/datepicker */ "QN9p");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../../core/intl/message.pipe */ "X1Kh");










const _c0 = ["fromTo"];
const _c1 = ["from"];
const _c2 = ["to"];
function BsDateRangePicker_div_0_Template(rf, ctx) { if (rf & 1) {
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "input", 3, 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("ngModelChange", function BsDateRangePicker_div_0_Template_input_ngModelChange_2_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r4); const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r3.updateFromTo($event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("bsConfig", ctx_r0.bsFromToConfig())("ngModel", ctx_r0.value)("placeholder", ctx_r0.dateFormat);
} }
function BsDateRangePicker_div_1_Template(rf, ctx) { if (rf & 1) {
    const _r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "input", 6, 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("ngModelChange", function BsDateRangePicker_div_1_Template_input_ngModelChange_2_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r8); const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r7.updateFrom($event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](6, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "input", 9, 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("ngModelChange", function BsDateRangePicker_div_1_Template_input_ngModelChange_8_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r8); const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r9.updateTo($event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("id", ctx_r1.fromName)("bsConfig", ctx_r1.bsFromConfig())("ngModel", ctx_r1.value[0])("placeholder", ctx_r1.dateFormat);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](6, 9, "msg#advanced.dateRangePicker.separator"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("id", ctx_r1.toName)("bsConfig", ctx_r1.bsToConfig())("ngModel", ctx_r1.value[1])("placeholder", ctx_r1.dateFormat);
} }
const DATE_RANGE_PICKER_VALUE_ACCESSOR = {
    provide: _angular_forms__WEBPACK_IMPORTED_MODULE_1__["NG_VALUE_ACCESSOR"],
    useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(() => BsDateRangePicker),
    multi: true
};
class BsDateRangePicker {
    constructor(intlService) {
        this.intlService = intlService;
        this.SystemFormat = 'YYYY-MM-DD';
        this.onChangeCallback = () => { };
    }
    ngOnInit() {
        if (!this.options) {
            this.options = {};
        }
        this.fromName = "from_" + this.options.name;
        this.toName = "to_" + this.options.name;
        if (!this.value) {
            this.value = [undefined, undefined];
        }
    }
    get dateFormat() {
        return this.options.system ? this.SystemFormat : moment__WEBPACK_IMPORTED_MODULE_3___default.a.localeData().longDateFormat('L');
    }
    setLocale() {
        if (!!this.fromToPicker && this.fromToPicker.isOpen) {
            this.fromToPicker.hide();
            this.fromToPicker.show();
        }
        if (!!this.fromPicker && this.fromPicker.isOpen) {
            this.fromPicker.hide();
            this.fromPicker.show();
        }
        if (!!this.toPicker && this.toPicker.isOpen) {
            this.toPicker.hide();
            this.toPicker.show();
        }
    }
    ngAfterViewInit() {
        this.setLocale();
        this.localeChange = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].subscribe(this.intlService.events, (value) => {
            this.setLocale();
        });
    }
    ngOnDestroy() {
        if (this.localeChange) {
            this.localeChange.unsubscribe();
        }
    }
    //#region closedRange
    bsFromToConfig() {
        return {
            minDate: this.options.minDate,
            maxDate: this.options.maxDate,
            containerClass: 'theme-default',
            showWeekNumbers: false,
            rangeInputFormat: this.options.system ? this.SystemFormat : moment__WEBPACK_IMPORTED_MODULE_3___default.a.localeData().longDateFormat('L')
        };
    }
    updateFromTo(fromTo) {
        this.setValue([!!fromTo ? fromTo[0] : undefined, !!fromTo ? fromTo[1] : undefined]);
        this.onChangeCallback(this.value);
    }
    bsFromConfig() {
        return {
            minDate: this.options.minDate,
            maxDate: this.maxDate,
            containerClass: 'theme-default',
            showWeekNumbers: false,
            dateInputFormat: this.options.system ? this.SystemFormat : moment__WEBPACK_IMPORTED_MODULE_3___default.a.localeData().longDateFormat('L'),
        };
    }
    bsToConfig() {
        return {
            minDate: this.minDate,
            maxDate: this.options.maxDate,
            containerClass: 'theme-default',
            showWeekNumbers: false,
            dateInputFormat: this.options.system ? this.SystemFormat : moment__WEBPACK_IMPORTED_MODULE_3___default.a.localeData().longDateFormat('L'),
        };
    }
    setMinMaxDate() {
        this.maxDate = this.value[1] || this.options.maxDate;
        this.minDate = this.value[0] || this.options.minDate;
    }
    resetMinMaxDate() {
        this.maxDate = this.options.maxDate;
        this.minDate = this.options.minDate;
    }
    updateFrom(from) {
        this.setValue([from, this.value[1]]);
        this.onChangeCallback(this.value);
    }
    updateTo(to) {
        this.setValue([this.value[0], to]);
        this.onChangeCallback(this.value);
    }
    //#endregion !closedRange
    zeroTimes() {
        if (this.value) {
            if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].isDate(this.value[0])) {
                const date = this.value[0];
                date.setHours(0);
                date.setMinutes(0);
                date.setSeconds(0);
                date.setMilliseconds(0);
            }
            if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].isDate(this.value[1])) {
                const date = this.value[1];
                date.setHours(0);
                date.setMinutes(0);
                date.setSeconds(0);
                date.setMilliseconds(0);
            }
        }
    }
    setValue(value) {
        if (!this.value || !value || !_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].equals(this.value[0], value[0]) || !_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].equals(this.value[1], value[1])) {
            if (!value) {
                value = [undefined, undefined];
            }
            else {
                value[0] = !!value[0] ? new Date(value[0]) : value[0];
                value[1] = !!value[1] ? new Date(value[1]) : value[1];
            }
            if (this.options.closedRange) {
                this.value = value;
                this.zeroTimes();
            }
            else {
                this.resetMinMaxDate();
                this.value = value;
                this.zeroTimes();
                this.setMinMaxDate();
            }
        }
    }
    //#region ControlValueAccessor
    writeValue(value) {
        this.setValue(value);
    }
    registerOnChange(fn) {
        this.onChangeCallback = fn;
    }
    registerOnTouched(fn) {
    }
}
BsDateRangePicker.ɵfac = function BsDateRangePicker_Factory(t) { return new (t || BsDateRangePicker)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_intl__WEBPACK_IMPORTED_MODULE_4__["IntlService"])); };
BsDateRangePicker.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsDateRangePicker, selectors: [["sq-date-range-picker"]], viewQuery: function BsDateRangePicker_Query(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c0, true);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c1, true);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c2, true);
    } if (rf & 2) {
        let _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.fromToPicker = _t.first);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.fromPicker = _t.first);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.toPicker = _t.first);
    } }, inputs: { options: "options" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵProvidersFeature"]([DATE_RANGE_PICKER_VALUE_ACCESSOR])], decls: 2, vars: 2, consts: [["class", "sq-date-range-picker form-row", 4, "ngIf"], [1, "sq-date-range-picker", "form-row"], [1, "col"], ["type", "text", "autocomplete", "off", "bsDaterangepicker", "", "triggers", "click", 1, "form-control", 3, "bsConfig", "ngModel", "placeholder", "ngModelChange"], ["fromTo", "bsDaterangepicker"], [1, "col-auto"], ["type", "text", "autocomplete", "off", "bsDatepicker", "", "triggers", "click", 1, "form-control", "sq-range-from", 3, "id", "bsConfig", "ngModel", "placeholder", "ngModelChange"], ["from", "bsDatepicker"], [1, "col-auto", "sq-separator"], ["type", "text", "autocomplete", "off", "bsDatepicker", "", "triggers", "click", 1, "form-control", "sq-range-to", 3, "id", "bsConfig", "ngModel", "placeholder", "ngModelChange"], ["to", "bsDatepicker"]], template: function BsDateRangePicker_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, BsDateRangePicker_div_0_Template, 4, 3, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsDateRangePicker_div_1_Template, 10, 11, "div", 0);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.options.closedRange);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.options.closedRange);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_5__["NgIf"], ngx_bootstrap_datepicker__WEBPACK_IMPORTED_MODULE_6__["BsDaterangepickerInputDirective"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["DefaultValueAccessor"], ngx_bootstrap_datepicker__WEBPACK_IMPORTED_MODULE_6__["BsDaterangepickerDirective"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["NgControlStatus"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["NgModel"], ngx_bootstrap_datepicker__WEBPACK_IMPORTED_MODULE_6__["BsDatepickerInputDirective"], ngx_bootstrap_datepicker__WEBPACK_IMPORTED_MODULE_6__["BsDatepickerDirective"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_7__["MessagePipe"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsDateRangePicker, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-date-range-picker",
                template: `
        <div *ngIf="options.closedRange" class="sq-date-range-picker form-row">
            <div class="col">
                <input type="text" autocomplete="off" class="form-control" bsDaterangepicker triggers="click" #fromTo="bsDaterangepicker" [bsConfig]="bsFromToConfig()" [ngModel]="value" (ngModelChange)="updateFromTo($event)" [placeholder]="dateFormat"/>
            </div>
        </div>
        <div *ngIf="!options.closedRange" class="sq-date-range-picker form-row">
            <div class="col-auto">
                <input type="text" autocomplete="off" [id]="fromName" class="form-control sq-range-from" bsDatepicker triggers="click" #from="bsDatepicker" [bsConfig]="bsFromConfig()" [ngModel]="value[0]" (ngModelChange)="updateFrom($event)" [placeholder]="dateFormat"/>
            </div>
            <div class="col-auto sq-separator">{{'msg#advanced.dateRangePicker.separator' | sqMessage}}</div>
            <div class="col-auto">
                <input type="text" autocomplete="off" [id]="toName" class="form-control sq-range-to" bsDatepicker triggers="click" #to="bsDatepicker" [bsConfig]="bsToConfig()" [ngModel]="value[1]" (ngModelChange)="updateTo($event)" [placeholder]="dateFormat"/>
            </div>
        </div>
    `,
                providers: [DATE_RANGE_PICKER_VALUE_ACCESSOR]
            }]
    }], function () { return [{ type: _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_4__["IntlService"] }]; }, { options: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], fromToPicker: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ["fromTo", { static: false }]
        }], fromPicker: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ["from", { static: false }]
        }], toPicker: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ["to", { static: false }]
        }] }); })();


/***/ }),

/***/ "SBPP":
/*!**********************************!*\
  !*** ../core/app-utils/index.ts ***!
  \**********************************/
/*! exports provided: Expr, ExprParserOperator, ExprParser, ExprBuilder, advancedFacetPrefix, Query, AppService, FormatService, AuditInterceptor, AppUtilsModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _public_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./public-api */ "zp34");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Expr", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["Expr"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ExprParserOperator", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["ExprParserOperator"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ExprParser", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["ExprParser"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ExprBuilder", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["ExprBuilder"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "advancedFacetPrefix", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["advancedFacetPrefix"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Query", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["Query"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AppService", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["AppService"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "FormatService", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["FormatService"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AuditInterceptor", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["AuditInterceptor"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AppUtilsModule", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["AppUtilsModule"]; });




/***/ }),

/***/ "SJVL":
/*!*************************************************!*\
  !*** ../core/web-services/audit.web.service.ts ***!
  \*************************************************/
/*! exports provided: AuditWebService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuditWebService", function() { return AuditWebService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "+kfY");
/* harmony import */ var _http_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./http.service */ "3Hvy");
/* harmony import */ var _start_config_web_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./start-config.web.service */ "R3Oh");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _http_client__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./http-client */ "j7UU");







/**
 * A service to notify the audit manager on the Sinequa server of client-side events
 */
class AuditWebService extends _http_service__WEBPACK_IMPORTED_MODULE_2__["HttpService"] {
    constructor(startConfig, httpClient) {
        super(startConfig);
        this.httpClient = httpClient;
    }
    /**
     * Notify the Sinequa server of a sponsored link event
     *
     * @param evt The audit event type
     * @param sl The sponsored link
     * @param resultId The id of the results that showed the sponsored link
     * @param parameters Additional information
     */
    notifySponsoredLink(evt, sl, resultId, parameters) {
        const detail = {
            "link-id": sl.id,
            rank: sl.rank || 0,
            title: sl.title,
            url: sl.url,
            "result-id": resultId
        };
        if (parameters) {
            Object.keys(parameters).forEach(key => detail[key] = parameters[key]);
        }
        const data = {
            type: evt,
            detail
        };
        return this.notify(data);
    }
    /**
     * Notify the Sinequa server of a document event
     *
     * @param evt The audit event type
     * @param doc The document (record) in question
     * @param resultsOrId The results or resultid that contain the document
     * @param parameters Additional parameters
     * @param rfmParameters Additional RFM parameters
     */
    notifyDocument(evt, doc, resultsOrId, parameters, rfmParameters) {
        let resultId;
        let results;
        if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__["Utils"].isString(resultsOrId)) {
            resultId = resultsOrId;
        }
        else {
            results = resultsOrId;
            resultId = results ? results.id : null;
        }
        const detail = {
            app: this.appName,
            "doc-id": doc.id,
            rank: doc.rank,
            title: doc.title,
            source: _sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__["Utils"].treeFirstNode(doc.collection[0]),
            collection: doc.collection[0],
            "result-id": resultId,
            filename: doc.filename,
            fileext: doc.fileext,
            index: doc.databasealias
        };
        if (results) {
            detail["result-count"] = results.totalRowCount;
        }
        if (parameters) {
            Object.keys(parameters).forEach(key => detail[key] = parameters[key]);
        }
        const data = {
            type: evt,
            detail
        };
        if (rfmParameters) {
            const rfmDetail = {};
            Object.keys(rfmParameters).forEach(key => rfmDetail[key] = rfmParameters[key]);
            data.rfmDetail = rfmDetail;
        }
        return this.notify(data);
    }
    /**
     * Notify the Sinequa server of a document event
     *
     * @param evt The audit event type
     * @param id The id of the document (record) in question
     * @param parameters Additional parameters
     * @param rfmParameters Additional RFM parameters
     */
    notifyDocumentById(evt, id, parameters, rfmParameters) {
        const collection = id.substr(0, id.indexOf("|"));
        const detail = {
            app: this.appName,
            "doc-id": id,
            rank: -1,
            source: _sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__["Utils"].treeFirstNode(collection),
            collection
        };
        if (parameters) {
            Object.keys(parameters).forEach(key => detail[key] = parameters[key]);
        }
        const data = {
            type: evt,
            detail
        };
        if (rfmParameters) {
            const rfmDetail = {};
            Object.keys(rfmParameters).forEach(key => rfmDetail[key] = rfmParameters[key]);
            data.rfmDetail = rfmDetail;
        }
        return this.notify(data);
    }
    /**
     * Notify logout
     */
    notifyLogout() {
        const detail = {
            app: this.appName,
        };
        const data = {
            type: "Search_Exit_Logout" /* Search_Exit_Logout */,
            detail
        };
        return this.notify(data);
    }
    /**
     * Notify the Sinequa server of a set of audit events
     *
     * @param auditEvents The audit events
     */
    notify(auditEvents) {
        if (!this.startConfig.auditEnabled) {
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["of"])(undefined);
        }
        const observable = this.httpClient.post(this.makeUrl(AuditWebService.endpoint), {
            event: "None" /* None */,
            app: this.appName,
            $auditRecord: auditEvents
        });
        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__["Utils"].subscribe(observable, (response) => {
            return response;
        }, (error) => {
            console.log("auditService.notify failure - error: ", error);
        });
        return observable;
    }
}
AuditWebService.endpoint = "audit.notify";
AuditWebService.ɵfac = function AuditWebService_Factory(t) { return new (t || AuditWebService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_start_config_web_service__WEBPACK_IMPORTED_MODULE_3__["START_CONFIG"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_http_client__WEBPACK_IMPORTED_MODULE_5__["SqHttpClient"])); };
AuditWebService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: AuditWebService, factory: AuditWebService.ɵfac, providedIn: "root" });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AuditWebService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: "root"
            }]
    }], function () { return [{ type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [_start_config_web_service__WEBPACK_IMPORTED_MODULE_3__["START_CONFIG"]]
            }] }, { type: _http_client__WEBPACK_IMPORTED_MODULE_5__["SqHttpClient"] }]; }, null); })();


/***/ }),

/***/ "SKA6":
/*!*******************************************************!*\
  !*** ../components/search/bootstrap/search.module.ts ***!
  \*******************************************************/
/*! exports provided: BsSearchModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsSearchModule", function() { return BsSearchModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "nIj0");
/* harmony import */ var _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/web-services */ "cIYa");
/* harmony import */ var _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/core/intl */ "EfqX");
/* harmony import */ var _sinequa_core_login__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sinequa/core/login */ "7O5u");
/* harmony import */ var _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @sinequa/components/utils */ "DD1E");
/* harmony import */ var _sinequa_components_action__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @sinequa/components/action */ "WsHA");
/* harmony import */ var _search_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../search.service */ "TJtf");
/* harmony import */ var _did_you_mean_did_you_mean__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./did-you-mean/did-you-mean */ "zj6v");
/* harmony import */ var _breadcrumbs_breadcrumbs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./breadcrumbs/breadcrumbs */ "BmYW");
/* harmony import */ var _pager_pager__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./pager/pager */ "VxCu");
/* harmony import */ var _page_size_selector_page_size_selector__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./page-size-selector/page-size-selector */ "DJod");
/* harmony import */ var _sort_selector_sort_selector__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./sort-selector/sort-selector */ "BWoz");
/* harmony import */ var _tabs_tabs__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./tabs/tabs */ "+6eA");
/* harmony import */ var _loading_bar_loading_bar__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./loading-bar/loading-bar */ "U/EC");
/* harmony import */ var _scroller_scroller__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./scroller/scroller */ "N5TP");
/* harmony import */ var _load_more_load_more__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./load-more/load-more */ "vf5w");



















class BsSearchModule {
    static forRoot(searchOptions) {
        return {
            ngModule: BsSearchModule,
            providers: [
                // Provide SEARCH_OPTIONS
                { provide: _search_service__WEBPACK_IMPORTED_MODULE_8__["SEARCH_OPTIONS"], useValue: searchOptions },
            ]
        };
    }
}
BsSearchModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: BsSearchModule });
BsSearchModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function BsSearchModule_Factory(t) { return new (t || BsSearchModule)(); }, imports: [[
            _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"], _angular_forms__WEBPACK_IMPORTED_MODULE_2__["ReactiveFormsModule"],
            _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_3__["WebServicesModule"],
            _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_4__["IntlModule"],
            _sinequa_core_login__WEBPACK_IMPORTED_MODULE_5__["LoginModule"],
            _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_6__["UtilsModule"],
            _sinequa_components_action__WEBPACK_IMPORTED_MODULE_7__["BsActionModule"]
        ]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](BsSearchModule, { declarations: [_did_you_mean_did_you_mean__WEBPACK_IMPORTED_MODULE_9__["BsDidYouMean"],
        _breadcrumbs_breadcrumbs__WEBPACK_IMPORTED_MODULE_10__["BsBreadcrumbs"], _pager_pager__WEBPACK_IMPORTED_MODULE_11__["BsPager"], _page_size_selector_page_size_selector__WEBPACK_IMPORTED_MODULE_12__["BsPageSizeSelector"], _sort_selector_sort_selector__WEBPACK_IMPORTED_MODULE_13__["BsSortSelector"],
        _tabs_tabs__WEBPACK_IMPORTED_MODULE_14__["BsTabs"], _loading_bar_loading_bar__WEBPACK_IMPORTED_MODULE_15__["BsLoadingBar"],
        _scroller_scroller__WEBPACK_IMPORTED_MODULE_16__["BsScroller"], _load_more_load_more__WEBPACK_IMPORTED_MODULE_17__["BsLoadMore"]], imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
        _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"], _angular_forms__WEBPACK_IMPORTED_MODULE_2__["ReactiveFormsModule"],
        _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_3__["WebServicesModule"],
        _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_4__["IntlModule"],
        _sinequa_core_login__WEBPACK_IMPORTED_MODULE_5__["LoginModule"],
        _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_6__["UtilsModule"],
        _sinequa_components_action__WEBPACK_IMPORTED_MODULE_7__["BsActionModule"]], exports: [_did_you_mean_did_you_mean__WEBPACK_IMPORTED_MODULE_9__["BsDidYouMean"],
        _breadcrumbs_breadcrumbs__WEBPACK_IMPORTED_MODULE_10__["BsBreadcrumbs"], _pager_pager__WEBPACK_IMPORTED_MODULE_11__["BsPager"], _page_size_selector_page_size_selector__WEBPACK_IMPORTED_MODULE_12__["BsPageSizeSelector"], _sort_selector_sort_selector__WEBPACK_IMPORTED_MODULE_13__["BsSortSelector"],
        _tabs_tabs__WEBPACK_IMPORTED_MODULE_14__["BsTabs"], _loading_bar_loading_bar__WEBPACK_IMPORTED_MODULE_15__["BsLoadingBar"],
        _scroller_scroller__WEBPACK_IMPORTED_MODULE_16__["BsScroller"], _load_more_load_more__WEBPACK_IMPORTED_MODULE_17__["BsLoadMore"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsSearchModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                    _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"], _angular_forms__WEBPACK_IMPORTED_MODULE_2__["ReactiveFormsModule"],
                    _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_3__["WebServicesModule"],
                    _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_4__["IntlModule"],
                    _sinequa_core_login__WEBPACK_IMPORTED_MODULE_5__["LoginModule"],
                    _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_6__["UtilsModule"],
                    _sinequa_components_action__WEBPACK_IMPORTED_MODULE_7__["BsActionModule"]
                ],
                declarations: [
                    _did_you_mean_did_you_mean__WEBPACK_IMPORTED_MODULE_9__["BsDidYouMean"],
                    _breadcrumbs_breadcrumbs__WEBPACK_IMPORTED_MODULE_10__["BsBreadcrumbs"], _pager_pager__WEBPACK_IMPORTED_MODULE_11__["BsPager"], _page_size_selector_page_size_selector__WEBPACK_IMPORTED_MODULE_12__["BsPageSizeSelector"], _sort_selector_sort_selector__WEBPACK_IMPORTED_MODULE_13__["BsSortSelector"],
                    _tabs_tabs__WEBPACK_IMPORTED_MODULE_14__["BsTabs"], _loading_bar_loading_bar__WEBPACK_IMPORTED_MODULE_15__["BsLoadingBar"],
                    _scroller_scroller__WEBPACK_IMPORTED_MODULE_16__["BsScroller"], _load_more_load_more__WEBPACK_IMPORTED_MODULE_17__["BsLoadMore"]
                ],
                exports: [
                    _did_you_mean_did_you_mean__WEBPACK_IMPORTED_MODULE_9__["BsDidYouMean"],
                    _breadcrumbs_breadcrumbs__WEBPACK_IMPORTED_MODULE_10__["BsBreadcrumbs"], _pager_pager__WEBPACK_IMPORTED_MODULE_11__["BsPager"], _page_size_selector_page_size_selector__WEBPACK_IMPORTED_MODULE_12__["BsPageSizeSelector"], _sort_selector_sort_selector__WEBPACK_IMPORTED_MODULE_13__["BsSortSelector"],
                    _tabs_tabs__WEBPACK_IMPORTED_MODULE_14__["BsTabs"], _loading_bar_loading_bar__WEBPACK_IMPORTED_MODULE_15__["BsLoadingBar"],
                    _scroller_scroller__WEBPACK_IMPORTED_MODULE_16__["BsScroller"], _load_more_load_more__WEBPACK_IMPORTED_MODULE_17__["BsLoadMore"]
                ],
            }]
    }], null, null); })();


/***/ }),

/***/ "STs+":
/*!**************************************************************************************************!*\
  !*** ../components/preview/bootstrap/preview-extracts-panel/preview-extracts-panel.component.ts ***!
  \**************************************************************************************************/
/*! exports provided: Extract, BsPreviewExtractsPanelComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Extract", function() { return Extract; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsPreviewExtractsPanelComponent", function() { return BsPreviewExtractsPanelComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _sinequa_components_action__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/components/action */ "WsHA");
/* harmony import */ var _preview_document__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../preview-document */ "4uMq");
/* harmony import */ var _preview_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../preview.service */ "lGAU");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/platform-browser */ "e4iD");
/* harmony import */ var _action_bootstrap_action_buttons_action_buttons__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../action/bootstrap/action-buttons/action-buttons */ "9+ai");
/* harmony import */ var _angular_cdk_scrolling__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/cdk/scrolling */ "qvOF");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/intl/message.pipe */ "X1Kh");











const _c0 = ["scrollViewport"];
const _c1 = function (a0) { return [a0]; };
const _c2 = function (a0) { return { items: a0, autoAdjust: true }; };
function BsPreviewExtractsPanelComponent_ng_container_0_div_1_Template(rf, ctx) { if (rf & 1) {
    const _r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "button", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsPreviewExtractsPanelComponent_ng_container_0_div_1_Template_button_click_1_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r8); const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r7.previousExtract(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "i", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](4, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](5, "div", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "button", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsPreviewExtractsPanelComponent_ng_container_0_div_1_Template_button_click_6_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r8); const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r9.nextExtract(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](8, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](9, "i", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("disabled", ctx_r2.currentIndex < 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"]("\u00A0", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](4, 5, "msg#preview.previousDocument"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("sq-action-buttons", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](11, _c2, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](9, _c1, ctx_r2.sortAction)));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("disabled", ctx_r2.currentIndex >= ctx_r2.extracts.length - 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](8, 7, "msg#preview.nextDocument"), "\u00A0");
} }
function BsPreviewExtractsPanelComponent_ng_container_0_div_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "div", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function BsPreviewExtractsPanelComponent_ng_container_0_div_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](3, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](3, 1, "msg#preview.noextract"));
} }
const _c3 = function (a0) { return { "active": a0 }; };
function BsPreviewExtractsPanelComponent_ng_container_0_ng_template_4_div_2_Template(rf, ctx) { if (rf & 1) {
    const _r15 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "a", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsPreviewExtractsPanelComponent_ng_container_0_ng_template_4_div_2_Template_a_click_1_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r15); const extract_r12 = ctx.$implicit; const i_r13 = ctx.index; const ctx_r14 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3); return ctx_r14.scrollExtract(extract_r12, i_r13); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "p", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const extract_r12 = ctx.$implicit;
    const i_r13 = ctx.index;
    const ctx_r11 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](2, _c3, i_r13 === ctx_r11.currentIndex));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("innerHTML", extract_r12.text, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeHtml"]);
} }
function BsPreviewExtractsPanelComponent_ng_container_0_ng_template_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "cdk-virtual-scroll-viewport", 15, 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, BsPreviewExtractsPanelComponent_ng_container_0_ng_template_4_div_2_Template, 3, 4, "div", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("itemSize", 64);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("cdkVirtualForOf", ctx_r6.extracts);
} }
function BsPreviewExtractsPanelComponent_ng_container_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsPreviewExtractsPanelComponent_ng_container_0_div_1_Template, 10, 13, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, BsPreviewExtractsPanelComponent_ng_container_0_div_2_Template, 2, 0, "div", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, BsPreviewExtractsPanelComponent_ng_container_0_div_3_Template, 4, 3, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, BsPreviewExtractsPanelComponent_ng_container_0_ng_template_4_Template, 3, 2, "ng-template", null, 5, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplateRefExtractor"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const _r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](5);
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", (ctx_r0.extracts == null ? null : ctx_r0.extracts.length) > 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r0.loading);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx_r0.loading && (ctx_r0.extracts == null ? null : ctx_r0.extracts.length) === 0)("ngIfElse", _r5);
} }
function BsPreviewExtractsPanelComponent_div_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 1, "msg#preview.loading"), "\n");
} }
class Extract {
}
class BsPreviewExtractsPanelComponent {
    constructor(document, previewService, cdr, domSanitizer) {
        this.previewService = previewService;
        this.cdr = cdr;
        this.domSanitizer = domSanitizer;
        this.style = "light";
        this.extracts = [];
        this.currentIndex = -1;
        this.loading = false;
    }
    ngOnDestroy() {
        if (this.loadCompleteSubscription) {
            this.loadCompleteSubscription.unsubscribe();
        }
    }
    /**
     * Extracts the list of extracts from the preview document
     */
    ngOnChanges(changes) {
        var _a, _b;
        this.extracts = [];
        if (this.previewData && this.previewDocument) {
            const extracts = (_a = this.previewData.highlightsPerCategory["extractslocations"]) === null || _a === void 0 ? void 0 : _a.values; //Extract locations Array ordered by "relevance"
            if (!!extracts && extracts.length > 0) {
                this.extractAll(extracts, this.previewDocument);
                return;
            }
        }
        if (this.previewData && this.downloadUrl) {
            const extracts = (_b = this.previewData.highlightsPerCategory["extractslocations"]) === null || _b === void 0 ? void 0 : _b.values; //Extract locations Array ordered by "relevance"
            if (!!extracts && extracts.length > 0) {
                this.loading = true;
                if (this.previewDocument) {
                    this.extractAll(extracts, this.previewDocument);
                }
                else {
                    this.previewService.getHtmlPreview(this.downloadUrl)
                        .subscribe((value) => {
                        const previewDocument = this.createDocument(value);
                        this.extractAll(extracts, previewDocument);
                    });
                }
            }
        }
    }
    createDocument(value) {
        const doc = document.implementation.createHTMLDocument("");
        doc.write(value);
        doc.close();
        let previewDocument = new _preview_document__WEBPACK_IMPORTED_MODULE_3__["PreviewDocument"](doc);
        const count = previewDocument.document.querySelectorAll("[id^='extractslocations']").length;
        if (count === 0 && this.previewDocument) {
            // use previous document to retrieve extracts
            previewDocument = this.previewDocument;
        }
        return previewDocument;
    }
    extractAll(extracts, previewDocument) {
        // Init the extracts Array and storing the relevancy index = i because extractsLocations is already ordered by relevance
        // but extract's text is sort by "start", that why text is set to empty here
        this.extracts = extracts[0].locations.map((el, i) => ({
            text: "",
            startIndex: el.start,
            relevanceIndex: i,
            textIndex: 0
        }));
        // next sort the array by startIndex to extract the correct extract's text
        // and set the textIndex
        this.extracts.sort((a, b) => a.startIndex - b.startIndex) // Sorting by start index (text index)
            .forEach((el, i) => {
            el.text = this.sanitize(previewDocument.getHighlightText("extractslocations", i)); // get the text
            el.textIndex = i; // Storing the TextIndex to be able to select extracts
        });
        // do not take item without text
        this.extracts = this.extracts.filter(el => el.text !== '');
        // finally sort extracts by relevance
        this.extracts.sort((a, b) => a.relevanceIndex - b.relevanceIndex);
        this.buildSortAction();
        this.loading = false;
        this.currentIndex = -1;
        this.cdr.detectChanges();
    }
    /**
     * Build Sort Action for Extracts
     * @param i
     */
    buildSortAction() {
        this.sortAction = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_2__["Action"]({
            title: "msg#sortSelector.sortByTitle",
            text: "msg#preview.relevanceSortHighlightButtonText",
            children: [
                new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_2__["Action"]({
                    icon: 'fas fa-sort-amount-down',
                    text: "msg#preview.relevanceSortHighlightButtonText",
                    action: (item, event) => {
                        // return a new map to re-render the collection
                        this.extracts = this.extracts.map(el => el).sort((a, b) => a.relevanceIndex - b.relevanceIndex);
                        this.sortAction.text = item.text;
                        this.currentIndex = -1;
                    }
                }),
                new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_2__["Action"]({
                    icon: 'fas fa-sort-amount-down',
                    text: "msg#preview.textOrderSortHighlightButtonText",
                    action: (item, event) => {
                        // return a new map to re-render the collection
                        this.extracts = this.extracts.map(el => el).sort((a, b) => a.textIndex - b.textIndex);
                        this.sortAction.text = item.text;
                        this.currentIndex = -1;
                    }
                })
            ]
        });
    }
    /**
     * Scroll to a specific extract
     * @param i
     */
    scrollExtract(extract, index) {
        if (index !== undefined) {
            this.currentIndex = index;
        }
        if (this.previewDocument) {
            // extracts are always at textIndex position whatever the sort
            this.previewDocument.selectHighlight("extractslocations", extract.textIndex);
        }
        return false;
    }
    /**
     * Sanitize the text of a HTML formatted extract
     * @param text
     */
    sanitize(text) {
        return text !== "" ? this.domSanitizer.bypassSecurityTrustHtml(text.replace(/sq\-current/, "")) : "";
    }
    /**
     * Select the previous extract in the list
     */
    previousExtract() {
        this.currentIndex--;
        this.scrollTo();
    }
    /**
     * Select the next extract in the list
     */
    nextExtract() {
        this.currentIndex++;
        this.scrollTo();
    }
    scrollTo() {
        this.cdkScrollViewport.scrollToIndex(this.currentIndex);
        const extract = this.extracts[this.currentIndex];
        this.scrollExtract(extract);
    }
}
BsPreviewExtractsPanelComponent.ɵfac = function BsPreviewExtractsPanelComponent_Factory(t) { return new (t || BsPreviewExtractsPanelComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_common__WEBPACK_IMPORTED_MODULE_1__["DOCUMENT"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_preview_service__WEBPACK_IMPORTED_MODULE_4__["PreviewService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_platform_browser__WEBPACK_IMPORTED_MODULE_5__["DomSanitizer"])); };
BsPreviewExtractsPanelComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsPreviewExtractsPanelComponent, selectors: [["sq-preview-extracts-panel"]], viewQuery: function BsPreviewExtractsPanelComponent_Query(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c0, true);
    } if (rf & 2) {
        let _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.cdkScrollViewport = _t.first);
    } }, inputs: { previewData: "previewData", previewDocument: "previewDocument", downloadUrl: "downloadUrl", style: "style" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 2, vars: 2, consts: [[4, "ngIf"], ["class", "text-center", 4, "ngIf"], ["class", "d-flex justify-content-between p-2", 4, "ngIf"], ["class", "d-flex justify-content-center align-items-center h-100", 4, "ngIf"], ["class", "text-center text-muted", 4, "ngIf", "ngIfElse"], ["extractsTpl", ""], [1, "d-flex", "justify-content-between", "p-2"], [1, "btn", "btn-light", 3, "disabled", "click"], [1, "fas", "fa-arrow-left"], [1, "btn-group", 3, "sq-action-buttons"], [1, "btn", "btn-light", "float-right", 3, "disabled", "click"], [1, "fas", "fa-arrow-right"], [1, "d-flex", "justify-content-center", "align-items-center", "h-100"], ["role", "status", 1, "spinner-grow"], [1, "text-center", "text-muted"], [2, "height", "100%", 3, "itemSize"], ["scrollViewport", ""], ["class", "pl-2 pr-2", 4, "cdkVirtualFor", "cdkVirtualForOf"], [1, "pl-2", "pr-2"], ["href", "#", 1, "card", "my-1", "list-group-item-action", 3, "ngClass", "click"], [1, "card-body", "m-0", 3, "innerHTML"], [1, "text-center"]], template: function BsPreviewExtractsPanelComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, BsPreviewExtractsPanelComponent_ng_container_0_Template, 6, 4, "ng-container", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsPreviewExtractsPanelComponent_div_1_Template, 3, 3, "div", 1);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.previewData);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.previewData);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["NgIf"], _action_bootstrap_action_buttons_action_buttons__WEBPACK_IMPORTED_MODULE_6__["BsActionButtons"], _angular_cdk_scrolling__WEBPACK_IMPORTED_MODULE_7__["CdkVirtualScrollViewport"], _angular_cdk_scrolling__WEBPACK_IMPORTED_MODULE_7__["CdkFixedSizeVirtualScroll"], _angular_cdk_scrolling__WEBPACK_IMPORTED_MODULE_7__["CdkVirtualForOf"], _angular_common__WEBPACK_IMPORTED_MODULE_1__["NgClass"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_8__["MessagePipe"]], styles: ["[_nghost-%COMP%]     .cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper {\n  min-width: 100%;\n  max-width: 100%;\n}\n\n.spinner-grow[_ngcontent-%COMP%] {\n  width: 3rem;\n  height: 3rem;\n}\n\n.active[_ngcontent-%COMP%] {\n  background-color: #f8f9fa;\n}\n\n.dark[_nghost-%COMP%]   .active[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .active[_ngcontent-%COMP%] {\n  background-color: #e9ecef;\n  color: #768883;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2plY3RzL2NvbXBvbmVudHMvcHJldmlldy9ib290c3RyYXAvcHJldmlldy1leHRyYWN0cy1wYW5lbC9wcmV2aWV3LWV4dHJhY3RzLXBhbmVsLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsZUFBQTtFQUNBLGVBQUE7QUFDRjs7QUFFQTtFQUNFLFdBQUE7RUFDQSxZQUFBO0FBQ0Y7O0FBRUE7RUFDRSx5QkFBQTtBQUNGOztBQUVBO0VBQ0UseUJBQUE7RUFDQSxjQUFBO0FBQ0YiLCJmaWxlIjoicHJvamVjdHMvY29tcG9uZW50cy9wcmV2aWV3L2Jvb3RzdHJhcC9wcmV2aWV3LWV4dHJhY3RzLXBhbmVsL3ByZXZpZXctZXh0cmFjdHMtcGFuZWwuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCA6Om5nLWRlZXAgLmNkay12aXJ0dWFsLXNjcm9sbC1vcmllbnRhdGlvbi12ZXJ0aWNhbCAuY2RrLXZpcnR1YWwtc2Nyb2xsLWNvbnRlbnQtd3JhcHBlciB7XG4gIG1pbi13aWR0aDogMTAwJTtcbiAgbWF4LXdpZHRoOiAxMDAlO1xufVxuXG4uc3Bpbm5lci1ncm93IHtcbiAgd2lkdGg6IDNyZW07XG4gIGhlaWdodDogM3JlbTtcbn1cblxuLmFjdGl2ZSB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNmOGY5ZmE7XG59XG5cbjpob3N0LWNvbnRleHQoLmRhcmspIC5hY3RpdmUge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTllY2VmO1xuICBjb2xvcjogIzc2ODg4Mztcbn0iXX0= */"], changeDetection: 0 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsPreviewExtractsPanelComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'sq-preview-extracts-panel',
                templateUrl: './preview-extracts-panel.component.html',
                styleUrls: ['./preview-extracts-panel.component.scss'],
                changeDetection: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectionStrategy"].OnPush
            }]
    }], function () { return [{ type: Document, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["DOCUMENT"]]
            }] }, { type: _preview_service__WEBPACK_IMPORTED_MODULE_4__["PreviewService"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] }, { type: _angular_platform_browser__WEBPACK_IMPORTED_MODULE_5__["DomSanitizer"] }]; }, { previewData: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], previewDocument: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], downloadUrl: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], style: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], cdkScrollViewport: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ["scrollViewport"]
        }] }); })();


/***/ }),

/***/ "SV+Y":
/*!**********************************************!*\
  !*** ../core/app-utils/audit.interceptor.ts ***!
  \**********************************************/
/*! exports provided: AuditInterceptor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuditInterceptor", function() { return AuditInterceptor; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "vobO");
/* harmony import */ var _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/web-services */ "cIYa");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");





/**
 * An `HttpInterceptor` to process audi events attached to the request body
 * in the `$auditRecord` member.
 */
class AuditInterceptor {
    constructor(startConfig) {
        this.startConfig = startConfig;
    }
    shouldIntercept(url) {
        return _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].startsWith(url, this.startConfig.apiPath);
    }
    isJsonable(obj) {
        return (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].isObject(obj) || _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].isArray(obj)) && !_sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].isArrayBuffer(obj) && !_sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].isBlob(obj) &&
            !_sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].isString(obj) && !(obj instanceof _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpParams"]);
    }
    // Handle legacy calls where auditEvents is either an AuditEvent or AuditEvent[]
    ensureAuditRecord(auditEvents) {
        if (!auditEvents) {
            return undefined;
        }
        let auditEvents1;
        if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].isArray(auditEvents)) {
            auditEvents1 = auditEvents;
        }
        else if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].isObject(auditEvents)) {
            const auditRecord = auditEvents;
            if (auditRecord.auditEvents || auditRecord.mlAuditEvents) {
                return auditRecord;
            }
            auditEvents1 = [auditEvents];
        }
        return {
            auditEvents: auditEvents1
        };
    }
    /**
     * Add a sessionid to all the audit events
     * @param auditRecord
     */
    addSessionId(auditRecord) {
        var _a;
        const sessionid = this.getSessionId();
        (_a = auditRecord === null || auditRecord === void 0 ? void 0 : auditRecord.auditEvents) === null || _a === void 0 ? void 0 : _a.forEach(event => {
            if (!event.detail) {
                event.detail = {};
            }
            event.detail['session-id'] = sessionid;
        });
    }
    /**
     * Get a Session Id initialized upon login. The session is maintained for 10 minutes
     * after the last call to this method.
     */
    getSessionId() {
        if (!this.sessionid || this.isSessionStale()) {
            this.sessionid = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].guid();
        }
        this.sessionstart = new Date();
        return this.sessionid;
    }
    /**
     * Test whether the current session id valid or stale (need to be refreshed)
     */
    isSessionStale() {
        const lastSession = new Date().getTime() - this.sessionstart.getTime();
        // Consider the session stale after 10 minutes
        return lastSession > 10 * 60 * 1000;
    }
    /**
     * Called once the `$auditRecord` member has been standardized, this method
     * can be overidden to update fields in the audit events associated with a
     * web service call.
     */
    updateAuditRecord(auditRecord) {
    }
    /**
     * Intercept requests with a JSON body and standardize the format of the
     * `$auditRecord` member.
     */
    intercept(request, next) {
        if (this.shouldIntercept(request.url) && this.isJsonable(request.body)) {
            request.body.$auditRecord = this.ensureAuditRecord(request.body.$auditRecord);
            this.addSessionId(request.body.$auditRecord);
            this.updateAuditRecord(request.body.$auditRecord);
        }
        return next.handle(request);
    }
}
AuditInterceptor.ɵfac = function AuditInterceptor_Factory(t) { return new (t || AuditInterceptor)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_2__["START_CONFIG"])); };
AuditInterceptor.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: AuditInterceptor, factory: AuditInterceptor.ɵfac, providedIn: "root" });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AuditInterceptor, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: "root"
            }]
    }], function () { return [{ type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_2__["START_CONFIG"]]
            }] }]; }, null); })();


/***/ }),

/***/ "Sc2F":
/*!**********************************************************!*\
  !*** ../components/utils/directives/scroll-into-view.ts ***!
  \**********************************************************/
/*! exports provided: ScrollIntoView */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ScrollIntoView", function() { return ScrollIntoView; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");


class ScrollIntoView {
    constructor(elementRef) {
        this.elementRef = elementRef;
    }
    ngOnChanges() {
        if (this.options.active) {
            if (this.options.first) {
                this.elementRef.nativeElement.scrollIntoView(false);
            }
            else {
                this.elementRef.nativeElement.scrollIntoViewIfNeeded(false);
            }
        }
    }
}
ScrollIntoView.ɵfac = function ScrollIntoView_Factory(t) { return new (t || ScrollIntoView)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"])); };
ScrollIntoView.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({ type: ScrollIntoView, selectors: [["", "sqScrollIntoView", ""]], inputs: { options: ["sqScrollIntoView", "options"] }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ScrollIntoView, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Directive"],
        args: [{
                selector: "[sqScrollIntoView]"
            }]
    }], function () { return [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"] }]; }, { options: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"],
            args: ["sqScrollIntoView"]
        }] }); })();


/***/ }),

/***/ "Sg0G":
/*!****************************************************!*\
  !*** ../components/selection/selection.service.ts ***!
  \****************************************************/
/*! exports provided: SelectionEventType, defaultSelectionOptions, SELECTION_OPTIONS, SelectionService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SelectionEventType", function() { return SelectionEventType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "defaultSelectionOptions", function() { return defaultSelectionOptions; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SELECTION_OPTIONS", function() { return SELECTION_OPTIONS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SelectionService", function() { return SelectionService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "+kfY");
/* harmony import */ var _sinequa_components_action__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/components/action */ "WsHA");
/* harmony import */ var _sinequa_components_search__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/components/search */ "7+c1");





var SelectionEventType;
(function (SelectionEventType) {
    SelectionEventType[SelectionEventType["SELECT"] = 0] = "SELECT";
    SelectionEventType[SelectionEventType["UNSELECT"] = 1] = "UNSELECT";
    SelectionEventType[SelectionEventType["MOVE"] = 2] = "MOVE";
})(SelectionEventType || (SelectionEventType = {}));
const defaultSelectionOptions = {
    resetOnNewResults: false,
    resetOnNewQuery: true,
    storage: "id"
};
const SELECTION_OPTIONS = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["InjectionToken"]("SELECTION_OPTIONS");
class SelectionService {
    constructor(searchService, selectionOptions) {
        this.searchService = searchService;
        this.selectionOptions = selectionOptions;
        this.selectedRecords = []; // currently selected items
        this.selectionActions = []; // Actions that other services can register onto this service
        this._events = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
        this.searchService.events.subscribe(event => {
            var _a;
            if (!this.selectionOptions.resetOnNewResults && event.type === "new-results" && this.searchService.haveRecords) {
                const newSelectedRecords = [];
                if ((_a = this.searchService.results) === null || _a === void 0 ? void 0 : _a.records) {
                    for (const record of this.searchService.results.records) {
                        const index = this.selectedRecords.findIndex(item => item.id === record.id);
                        if (index !== -1 && !record.$selected) {
                            record.$selected = true; // Select previously selected records
                            this.selectedRecords.splice(index, 1, record);
                            newSelectedRecords.push(record);
                        }
                    }
                }
                if (newSelectedRecords.length > 0) // Menus might need to be refreshed
                    this._events.next({ type: SelectionEventType.SELECT, records: newSelectedRecords, source: event.type });
            }
            if (this.selectionOptions.resetOnNewResults && event.type === "new-results") {
                this.clearSelectedRecords(event.type);
            }
            if (this.selectionOptions.resetOnNewQuery && event.type === "new-query") {
                this.clearSelectedRecords(event.type);
            }
        });
        this.selectedRecordsAction = this.buildSelectRecordsAction();
        this.selectionActions.push(this.selectedRecordsAction);
        this.events.subscribe({ next: () => {
                this.selectionActions.forEach(action => action.update());
            } });
    }
    /**
     * Emits an event on any (bulk or single) selection and unselection events
     */
    get events() {
        return this._events;
    }
    ngOnDestroy() {
        this._events.complete();
    }
    getItem(record) {
        if (this.selectionOptions.storage === "id") {
            return { id: record.id };
        }
        else if (this.selectionOptions.storage === "record") {
            return record;
        }
        else {
            return this.selectionOptions.storage(record);
        }
    }
    /**
     * Returns a copy of the list of selected records
     */
    getSelectedItems() {
        return this.selectedRecords.slice(0);
    }
    /**
     * Return the list of selected record ids
     */
    getSelectedIds() {
        return this.selectedRecords.map(r => r.id);
    }
    /**
     * @returns true if at least one record is selected
     */
    get haveSelectedRecords() {
        return this.selectedRecords.length > 0;
    }
    getSelectedCount() {
        return this.selectedRecords.length;
    }
    /**
     * @returns true if all records in the search results are selected
     */
    get allRecordsSelected() {
        if (!this.searchService.results || !this.searchService.results.records) {
            return false;
        }
        for (const record of this.searchService.results.records) {
            if (!record.$selected) {
                return false;
            }
        }
        return true;
    }
    selectCurrentRecords(source) {
        const newSelectedRecords = [];
        if (this.searchService.results && this.searchService.results.records) {
            for (const record of this.searchService.results.records) {
                if (!record.$selected) {
                    this.selectedRecords.push(this.getItem(record));
                    newSelectedRecords.push(record);
                    record.$selected = true;
                }
            }
        }
        if (newSelectedRecords.length > 0)
            this._events.next({ type: SelectionEventType.SELECT, records: newSelectedRecords, source });
    }
    /**
     * Toggles the selection of one record or all those in the results.
     * Emits a SelectionEvent if a record is selected or unselected.
     * @param record if provided, will toggle the selection of this record; if not will toggle all records in results
     */
    toggleSelectedRecords(record, source) {
        if (!!record) {
            const index = this.selectedRecords.findIndex(item => item.id === record.id);
            if (index > -1) {
                this.selectedRecords.splice(index, 1);
                record.$selected = false;
            }
            else {
                this.selectedRecords.push(this.getItem(record));
                record.$selected = true;
            }
            // record might not be the one in the search service results (if passing a SelectionItem)
            const ssRecord = this.searchService.getRecordFromId(record.id);
            if (ssRecord) {
                ssRecord.$selected = record.$selected;
            }
            this._events.next({ type: record.$selected ? SelectionEventType.UNSELECT : SelectionEventType.SELECT, records: [record], source });
        }
        else {
            if (this.allRecordsSelected) {
                this.clearSelectedRecords(source);
            }
            else {
                this.selectCurrentRecords(source);
            }
        }
    }
    /**
     * Moves a selected record to a different index;
     * @param record
     * @param newIndex
     */
    moveSelectedRecord(record, newIndex, source) {
        const i = this.selectedRecords.findIndex(r => r.id === record.id);
        if (i === -1) {
            throw new Error(`Record ${record.id} is not in the selected records`);
        }
        this.selectedRecords.splice(i, 1);
        this.selectedRecords.splice(newIndex, 0, this.getItem(record));
        this.events.next({ type: SelectionEventType.MOVE, records: [record], source });
    }
    /**
     * Unselect all selected records
     * Emits a SelectionEvent
     */
    clearSelectedRecords(source) {
        this.selectedRecords.splice(0);
        const newUnselectedRecords = [];
        if (this.searchService.results && this.searchService.results.records) {
            for (const record of this.searchService.results.records) {
                if (record.$selected) {
                    record.$selected = false;
                    newUnselectedRecords.push(record);
                }
            }
        }
        if (newUnselectedRecords.length > 0)
            this._events.next({ type: SelectionEventType.UNSELECT, records: newUnselectedRecords, source });
    }
    buildSelectRecordsAction() {
        return new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_2__["Action"]({
            icon: "far fa-square",
            text: "msg#resultsSelector.selectDocuments",
            title: this.allRecordsSelected ? "msg#resultsSelector.unselectDocumentsTitle" : "msg#resultsSelector.selectDocumentsTitle",
            messageParams: { values: { count: this.selectedRecords.length } },
            action: (item, $event) => {
                this.toggleSelectedRecords(undefined, "multiple-selector");
            },
            updater: (item) => {
                item.icon = this.haveSelectedRecords ? "far fa-check-square" : "far fa-square";
                item.title = this.allRecordsSelected ? "msg#resultsSelector.unselectDocumentsTitle" : "msg#resultsSelector.selectDocumentsTitle";
                item.messageParams = { values: { count: this.selectedRecords.length } };
            }
        });
    }
}
SelectionService.ɵfac = function SelectionService_Factory(t) { return new (t || SelectionService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_components_search__WEBPACK_IMPORTED_MODULE_3__["SearchService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](SELECTION_OPTIONS)); };
SelectionService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: SelectionService, factory: SelectionService.ɵfac, providedIn: 'root' });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](SelectionService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: 'root',
            }]
    }], function () { return [{ type: _sinequa_components_search__WEBPACK_IMPORTED_MODULE_3__["SearchService"] }, { type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [SELECTION_OPTIONS]
            }] }]; }, null); })();


/***/ }),

/***/ "Sjzu":
/*!**********************************************!*\
  !*** ../components/alerts/messages/index.ts ***!
  \**********************************************/
/*! exports provided: enAlerts, frAlerts, deAlerts */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "enAlerts", function() { return enAlerts; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "frAlerts", function() { return frAlerts; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "deAlerts", function() { return deAlerts; });
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_components_search__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/components/search */ "7+c1");
/* harmony import */ var _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/components/modal */ "mOpA");
/* harmony import */ var _en__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./en */ "CieW");
/* harmony import */ var _fr__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./fr */ "KTn5");
/* harmony import */ var _de__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./de */ "0u5f");






const enAlerts = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].merge({}, _en__WEBPACK_IMPORTED_MODULE_3__["default"], _sinequa_components_search__WEBPACK_IMPORTED_MODULE_1__["enSearch"], _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_2__["enModal"]);
const frAlerts = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].merge({}, _fr__WEBPACK_IMPORTED_MODULE_4__["default"], _sinequa_components_search__WEBPACK_IMPORTED_MODULE_1__["frSearch"], _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_2__["frModal"]);
const deAlerts = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].merge({}, _de__WEBPACK_IMPORTED_MODULE_5__["default"], _sinequa_components_search__WEBPACK_IMPORTED_MODULE_1__["deSearch"], _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_2__["deModal"]);



/***/ }),

/***/ "Ss1q":
/*!***************************************************!*\
  !*** ../core/validation/validation-error.pipe.ts ***!
  \***************************************************/
/*! exports provided: ValidationErrorPipe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ValidationErrorPipe", function() { return ValidationErrorPipe; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/intl */ "EfqX");
/* harmony import */ var _validation_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./validation.service */ "HM27");





/**
 * A pipe to display the first error in a `ValidationErrors` map.
 */
class ValidationErrorPipe extends _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_1__["AbstractIntlPipe"] {
    constructor(intlService, changeDetectorRef, validationService) {
        super(intlService, changeDetectorRef);
        this.validationService = validationService;
    }
    updateValue(key, params) {
        super.updateValue(key, params);
        const text = this.validationService.getFirstErrorText(key);
        const info = this.validationService.getFirstErrorInfo(key);
        this.value = text ? this.intlService.formatMessage(text, { values: info }) : undefined;
    }
}
ValidationErrorPipe.ɵfac = function ValidationErrorPipe_Factory(t) { return new (t || ValidationErrorPipe)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_intl__WEBPACK_IMPORTED_MODULE_1__["IntlService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinjectPipeChangeDetectorRef"](), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_validation_service__WEBPACK_IMPORTED_MODULE_2__["ValidationService"])); };
ValidationErrorPipe.ɵpipe = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefinePipe"]({ name: "sqValidationError", type: ValidationErrorPipe, pure: false });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ValidationErrorPipe, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Pipe"],
        args: [{ name: "sqValidationError", pure: false }]
    }], function () { return [{ type: _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_1__["IntlService"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] }, { type: _validation_service__WEBPACK_IMPORTED_MODULE_2__["ValidationService"] }]; }, null); })();


/***/ }),

/***/ "Sy1n":
/*!**********************************!*\
  !*** ./src/app/app.component.ts ***!
  \**********************************/
/*! exports provided: AppComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppComponent", function() { return AppComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "sEIs");
/* harmony import */ var _sinequa_core_login__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/login */ "7O5u");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../config */ "1wtQ");
/* harmony import */ var _sinequa_components_user_settings__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/components/user-settings */ "ooqV");
/* harmony import */ var _sinequa_components_saved_queries__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sinequa/components/saved-queries */ "vQnv");
/* harmony import */ var _sinequa_components_baskets__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @sinequa/components/baskets */ "jOUn");
/* harmony import */ var _sinequa_components_alerts__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @sinequa/components/alerts */ "wg+P");
/* harmony import */ var _sinequa_components_labels__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @sinequa/components/labels */ "URQe");
/* harmony import */ var _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @sinequa/components/selection */ "8GPZ");
/* harmony import */ var _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @sinequa/core/app-utils */ "SBPP");
/* harmony import */ var _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @sinequa/core/web-services */ "cIYa");
/* harmony import */ var _components_notification_bootstrap_notifications_notifications__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../components/notification/bootstrap/notifications/notifications */ "NZyV");
















class AppComponent extends _sinequa_core_login__WEBPACK_IMPORTED_MODULE_2__["ComponentWithLogin"] {
    constructor(
    // These 2 services are required by the constructor of ComponentWithLogin
    loginService, cdRef, 
    // Services are instantiated by the app component,
    // to guarantee they are instantiated in a consistent order,
    // regardless of the entry route.
    // The order below impacts the order of the actions in the selection menu.
    prefs, savedQueriesService, basketsService, alertsService, labelsService, recentQueriesService, RecentDocumentsService, selectionService, appService, router, auditWebService) {
        super(loginService, cdRef);
        this.savedQueriesService = savedQueriesService;
        this.basketsService = basketsService;
        this.alertsService = alertsService;
        this.labelsService = labelsService;
        this.selectionService = selectionService;
        this.appService = appService;
        this.router = router;
        this.auditWebService = auditWebService;
        this.initDone = false;
    }
    /**
     * Initialize the list of actions in the selection service.
     * This method may be called multiple times, before the login is actually complete,
     * hence the initDone and this.appService.app test
     */
    onLoginComplete() {
        if (!this.initDone && this.appService.app) {
            this.initDone = true;
            let features = _config__WEBPACK_IMPORTED_MODULE_3__["FEATURES"];
            // The local config (config.ts) can be overriden by server-side config
            if (this.appService.app && this.appService.app.data && this.appService.app.data.features) {
                features = this.appService.app.data.features;
            }
            features.forEach(feature => {
                switch (feature) {
                    case 'saved-queries': {
                        this.selectionService.selectionActions.push(this.savedQueriesService.selectedRecordsAction);
                        break;
                    }
                    case 'baskets': {
                        this.basketsService.selectedRecordsAction.icon = "fas fa-inbox"; // Overriding the baskets icon (hard coded in the service)
                        this.selectionService.selectionActions.push(this.basketsService.selectedRecordsAction);
                        break;
                    }
                    case 'labels': {
                        const action = this.labelsService.buildSelectionAction();
                        if (action) {
                            this.selectionService.selectionActions.push(action);
                        }
                        break;
                    }
                }
            });
            this.auditRouteChange();
            this.router.events.subscribe(event => {
                if (event instanceof _angular_router__WEBPACK_IMPORTED_MODULE_1__["NavigationEnd"] && this.loginService.complete) { // Check login complete in case of logout
                    this.auditRouteChange();
                }
            });
            document.addEventListener('visibilitychange', () => {
                if (document.visibilityState === 'hidden') {
                    this.auditWebService.notify({
                        type: `Navigation.exit`
                    });
                }
                if (document.visibilityState === 'visible') {
                    this.auditWebService.notify({
                        type: `Navigation.return`
                    });
                }
            });
        }
    }
    auditRouteChange() {
        const route = this.router.url.substr(1).split('?')[0]; // Extract route name
        if (route && route !== this.previousRoute) {
            this.auditWebService.notify({
                type: `Navigation.${route}`
            });
        }
        this.previousRoute = route;
    }
}
AppComponent.ɵfac = function AppComponent_Factory(t) { return new (t || AppComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_login__WEBPACK_IMPORTED_MODULE_2__["LoginService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_user_settings__WEBPACK_IMPORTED_MODULE_4__["UserPreferences"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_saved_queries__WEBPACK_IMPORTED_MODULE_5__["SavedQueriesService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_baskets__WEBPACK_IMPORTED_MODULE_6__["BasketsService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_alerts__WEBPACK_IMPORTED_MODULE_7__["AlertsService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_labels__WEBPACK_IMPORTED_MODULE_8__["LabelsService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_saved_queries__WEBPACK_IMPORTED_MODULE_5__["RecentQueriesService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_saved_queries__WEBPACK_IMPORTED_MODULE_5__["RecentDocumentsService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_selection__WEBPACK_IMPORTED_MODULE_9__["SelectionService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_10__["AppService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_11__["AuditWebService"])); };
AppComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: AppComponent, selectors: [["app"]], features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"]], decls: 2, vars: 0, template: function AppComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "router-outlet");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "sq-notifications");
    } }, directives: [_angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterOutlet"], _components_notification_bootstrap_notifications_notifications__WEBPACK_IMPORTED_MODULE_12__["BsNotifications"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AppComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "app",
                templateUrl: "./app.component.html"
            }]
    }], function () { return [{ type: _sinequa_core_login__WEBPACK_IMPORTED_MODULE_2__["LoginService"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] }, { type: _sinequa_components_user_settings__WEBPACK_IMPORTED_MODULE_4__["UserPreferences"] }, { type: _sinequa_components_saved_queries__WEBPACK_IMPORTED_MODULE_5__["SavedQueriesService"] }, { type: _sinequa_components_baskets__WEBPACK_IMPORTED_MODULE_6__["BasketsService"] }, { type: _sinequa_components_alerts__WEBPACK_IMPORTED_MODULE_7__["AlertsService"] }, { type: _sinequa_components_labels__WEBPACK_IMPORTED_MODULE_8__["LabelsService"] }, { type: _sinequa_components_saved_queries__WEBPACK_IMPORTED_MODULE_5__["RecentQueriesService"] }, { type: _sinequa_components_saved_queries__WEBPACK_IMPORTED_MODULE_5__["RecentDocumentsService"] }, { type: _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_9__["SelectionService"] }, { type: _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_10__["AppService"] }, { type: _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"] }, { type: _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_11__["AuditWebService"] }]; }, null); })();


/***/ }),

/***/ "TBux":
/*!******************************************************************************!*\
  !*** ../components/advanced/bootstrap/advanced-form-select/select/select.ts ***!
  \******************************************************************************/
/*! exports provided: BsSelectComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsSelectComponent", function() { return BsSelectComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ "nIj0");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _utils_directives_scroll_into_view__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../utils/directives/scroll-into-view */ "Sc2F");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../core/intl/message.pipe */ "X1Kh");







const _c0 = ["button"];
const _c1 = function (a0, a1) { return { active: a0, first: a1 }; };
function BsSelectComponent_div_6_a_1_Template(rf, ctx) { if (rf & 1) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "a", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsSelectComponent_div_6_a_1_Template_a_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r6); const i_r4 = ctx.index; const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r5.toggleItemSelected(i_r4); })("keydown", function BsSelectComponent_div_6_a_1_Template_a_keydown_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r6); const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r7.keydown($event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const itemName_r3 = ctx.$implicit;
    const i_r4 = ctx.index;
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMapInterpolate1"]("dropdown-item", ctx_r2.activeItem === i_r4 ? " active" : "", "");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("sqScrollIntoView", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction2"](8, _c1, i_r4 === ctx_r2.activeItem, i_r4 === 0));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMapInterpolate1"]("fas fa-check ", ctx_r2.isItemSelected(i_r4) ? "" : " invisible", " left");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](itemName_r3);
} }
function BsSelectComponent_div_6_Template(rf, ctx) { if (rf & 1) {
    const _r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("mousedown", function BsSelectComponent_div_6_Template_div_mousedown_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r9); const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r8.mousedown($event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsSelectComponent_div_6_a_1_Template, 4, 11, "a", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵstyleProp"]("max-height", ctx_r1.itemListHeight);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("hidden", !ctx_r1.isOpen);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx_r1.names);
} }
class BsSelectComponent {
    constructor() {
        this.opened = false;
        this.isOpen = false;
        this.activeItem = -1;
        this.cancelBlur = false; // For IE which takes focus when clicking on dropdown scrollbar despite the mousedown handling
        this.onChangeCallback = () => { };
    }
    ngOnInit() {
        this.clearSelected();
        if (this.items.length === 0) {
            this.disabled = false;
        }
        this.names = [];
        this.items.forEach(item => this.names.push(item.display));
    }
    setOpen(value) {
        if (!this.opened) {
            if (this.disabled || !value) {
                return;
            }
            this.opened = true;
        }
        this.isOpen = value;
        if (!value) {
            this.activeItem = -1;
        }
    }
    mousedown(event) {
        event.preventDefault();
        this.cancelBlur = true;
        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].delay().then(() => this.cancelBlur = false);
    }
    blur(event) {
        if (this.cancelBlur) {
            event.preventDefault();
            event.stopImmediatePropagation();
            _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].delay().then(() => {
                this.buttonElement.nativeElement.focus();
            });
            return;
        }
        this.setOpen(false);
    }
    toggleOpen() {
        if (this.disabled) {
            return;
        }
        this.setOpen(!this.isOpen);
    }
    keydown($event) {
        if (this.disabled) {
            return;
        }
        // arrow down
        if ($event.keyCode === _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Keys"].down) {
            if (!this.isOpen) {
                this.setOpen(true);
            }
            this.activeItem++;
            if (this.activeItem >= this.items.length) {
                this.activeItem = 0;
            }
            $event.preventDefault();
            $event.stopPropagation();
        }
        // arrow up
        else if ($event.keyCode === _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Keys"].up) {
            if (!this.isOpen) {
                this.setOpen(true);
            }
            this.activeItem--;
            if (this.activeItem < 0) {
                this.activeItem = this.items.length - 1;
            }
            $event.preventDefault();
            $event.stopPropagation();
        }
        // enter or space
        else if (($event.keyCode === _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Keys"].enter || $event.keyCode === _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Keys"].space) &&
            this.activeItem >= 0 && this.activeItem < this.items.length) {
            this.toggleItemSelected(this.activeItem);
            $event.preventDefault();
            $event.stopPropagation();
        }
        // escape
        else if ($event.keyCode === _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Keys"].esc && this.isOpen) {
            this.setOpen(false);
            $event.preventDefault();
            $event.stopPropagation();
        }
    }
    clearSelected() {
        this.selectedItems = [];
    }
    countSelected() {
        return this.selectedItems.length;
    }
    isItemSelected(itemIndex) {
        return this.selectedItems.includes(itemIndex);
    }
    toggleItemSelected(itemIndex) {
        const idx = this.selectedItems.indexOf(itemIndex);
        // Remove item if it was already selected
        if (idx > -1) {
            this.selectedItems.splice(idx, 1);
        }
        // regular case: just add the index, and update the active item if it exists
        else if (this.multiple) {
            this.selectedItems.push(itemIndex);
            if (this.activeItem >= 0)
                this.activeItem = itemIndex;
        }
        // single-item case: ensure there is only one selected item, and close the menu
        else {
            this.selectedItems = [itemIndex];
            this.setOpen(false);
        }
        this.triggerOnChange();
    }
    /* Template properties */
    get buttonTitleMessageParams() {
        return {
            values: {
                count: this.countSelected()
            }
        };
    }
    get buttonTitle() {
        const selectCount = this.countSelected();
        if (selectCount === 0) {
            return "msg#advanced.select.noItems";
        }
        if (!this.multiple) {
            return this.items[this.selectedItems[0]].display;
        }
        if (selectCount === this.items.length) {
            return "msg#advanced.select.allItems";
        }
        //Get list of items names corresponding to selected indices
        return this.selectedItems
            .map(index => this.items[index].display)
            .sort()
            .join(", ");
    }
    get itemListHeight() {
        // use 10 as default
        return (10 * 4) + "ex";
    }
    /* End Template properties */
    /* Change event */
    triggerOnChange() {
        // Gather selected item values
        let values;
        // We can not pass an empty array, when empty use undefined instead
        if (this.selectedItems.length === 0) {
            values = undefined;
        }
        // return an array if multiple
        else if (this.multiple) {
            values = this.selectedItems.map(index => this.items[index]);
        }
        // directly pass the value if not multiple
        else {
            values = this.items[this.selectedItems[0]];
        }
        this.onChangeCallback(values);
    }
    /* End Change event */
    /* ControlValueAccessor methods */
    writeValue(value) {
        this.clearSelected();
        if (value) {
            // the value may not be an array if this select is not multiple
            const asArray = Array.isArray(value) ? value : [value];
            //Mark items as selected based on input values
            this.items.forEach((item, index) => {
                if (asArray.find((el) => el.value === item.value) && index !== undefined) {
                    this.selectedItems.push(index);
                }
            });
        }
    }
    registerOnChange(fn) {
        this.onChangeCallback = fn;
    }
    registerOnTouched(fn) {
    }
}
BsSelectComponent.ɵfac = function BsSelectComponent_Factory(t) { return new (t || BsSelectComponent)(); };
BsSelectComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsSelectComponent, selectors: [["sq-select"]], viewQuery: function BsSelectComponent_Query(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c0, true);
    } if (rf & 2) {
        let _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.buttonElement = _t.first);
    } }, inputs: { items: "items", disabled: "disabled", multiple: "multiple" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵProvidersFeature"]([{
                provide: _angular_forms__WEBPACK_IMPORTED_MODULE_1__["NG_VALUE_ACCESSOR"],
                multi: true,
                useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(() => BsSelectComponent),
            }])], decls: 7, vars: 8, consts: [[1, "dropdown"], ["data-toggle", "dropdown", "type", "button", "role", "button", "tabindex", "0", 3, "click", "blur", "keydown"], ["button", ""], [1, "sq-button-text"], ["class", "dropdown-menu dropdown-menu-left show", "role", "combobox", 3, "hidden", "max-height", "mousedown", 4, "ngIf"], ["role", "combobox", 1, "dropdown-menu", "dropdown-menu-left", "show", 3, "hidden", "mousedown"], ["tabindex", "-1", 3, "class", "sqScrollIntoView", "click", "keydown", 4, "ngFor", "ngForOf"], ["tabindex", "-1", 3, "sqScrollIntoView", "click", "keydown"]], template: function BsSelectComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "button", 1, 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsSelectComponent_Template_button_click_1_listener() { return ctx.toggleOpen(); })("blur", function BsSelectComponent_Template_button_blur_1_listener($event) { return ctx.blur($event); })("keydown", function BsSelectComponent_Template_button_keydown_1_listener($event) { return ctx.keydown($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "span", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](5, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](6, BsSelectComponent_div_6_Template, 2, 4, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMapInterpolate1"]("btn btn-light ", ctx.disabled ? " disabled" : "", " dropdown-toggle form-control");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](5, 5, ctx.buttonTitle, ctx.buttonTitleMessageParams));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.opened);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_3__["NgIf"], _angular_common__WEBPACK_IMPORTED_MODULE_3__["NgForOf"], _utils_directives_scroll_into_view__WEBPACK_IMPORTED_MODULE_4__["ScrollIntoView"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_5__["MessagePipe"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsSelectComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-select",
                templateUrl: "./select.html",
                providers: [{
                        provide: _angular_forms__WEBPACK_IMPORTED_MODULE_1__["NG_VALUE_ACCESSOR"],
                        multi: true,
                        useExisting: Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["forwardRef"])(() => BsSelectComponent),
                    }]
            }]
    }], null, { items: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], disabled: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], multiple: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], buttonElement: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ["button", { static: false }]
        }] }); })();


/***/ }),

/***/ "TE8J":
/*!*****************************************************************!*\
  !*** ../components/action/bootstrap/action-item/action-item.ts ***!
  \*****************************************************************/
/*! exports provided: BsActionItem */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsActionItem", function() { return BsActionItem; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/components/utils */ "DD1E");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _utils_directives_tooltip_tooltip_directive__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../utils/directives/tooltip/tooltip.directive */ "v6qE");
/* harmony import */ var _action_item_content_action_item_content__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../action-item-content/action-item-content */ "U5E6");
/* harmony import */ var _dropdown_directive__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../dropdown.directive */ "yfgI");
/* harmony import */ var _dropdown_menu_dropdown_menu__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../dropdown-menu/dropdown-menu */ "g+0j");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/intl/message.pipe */ "X1Kh");









const _c0 = ["sq-action-item", ""];
function BsActionItem_ng_container_0_button_1_Template(rf, ctx) { if (rf & 1) {
    const _r11 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsActionItem_ng_container_0_button_1_Template_button_click_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r11); const ctx_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r10.click($event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](3, "sq-action-item-content", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMapInterpolate3"]("btn ", ctx_r4.styleClass, " ", ctx_r4.sizeClass, " ", ctx_r4.options.item.disabled ? "disabled" : "", "");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("sqTooltip", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](1, 9, ctx_r4.itemTitle, ctx_r4.itemMessageParams));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵattribute"]("aria-label", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](2, 12, ctx_r4.itemTitle, ctx_r4.itemMessageParams));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("item", ctx_r4.options.item)("text", ctx_r4.itemText);
} }
function BsActionItem_ng_container_0_ng_container_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainer"](0);
} }
function BsActionItem_ng_container_0_ng_template_3_div_0_sq_action_item_content_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "sq-action-item-content", 8);
} if (rf & 2) {
    const ctx_r13 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("item", ctx_r13.options.item)("text", ctx_r13.itemText);
} }
function BsActionItem_ng_container_0_ng_template_3_div_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsActionItem_ng_container_0_ng_template_3_div_0_sq_action_item_content_1_Template, 1, 2, "sq-action-item-content", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r12 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMapInterpolate1"]("btn-text ", ctx_r12.sizeClass, "");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx_r12.hasAction);
} }
function BsActionItem_ng_container_0_ng_template_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, BsActionItem_ng_container_0_ng_template_3_div_0_Template, 2, 4, "div", 9);
} if (rf & 2) {
    const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx_r7.hasAction);
} }
function BsActionItem_ng_container_0_ng_template_5_sq_action_item_content_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "sq-action-item-content", 8);
} if (rf & 2) {
    const ctx_r14 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("item", ctx_r14.options.item)("text", ctx_r14.itemText);
} }
function BsActionItem_ng_container_0_ng_template_5_ul_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "ul", 12);
} if (rf & 2) {
    const ctx_r15 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("sq-dropdown-menu", ctx_r15.dropdownMenuOptions);
} }
function BsActionItem_ng_container_0_ng_template_5_Template(rf, ctx) { if (rf & 1) {
    const _r17 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("touchstart", function BsActionItem_ng_container_0_ng_template_5_Template_button_touchstart_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r17); const ctx_r16 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r16.touchstart(); })("mousedown", function BsActionItem_ng_container_0_ng_template_5_Template_button_mousedown_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r17); const ctx_r18 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r18.mousedown(); })("focusin", function BsActionItem_ng_container_0_ng_template_5_Template_button_focusin_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r17); const ctx_r19 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r19.focusin(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, BsActionItem_ng_container_0_ng_template_5_sq_action_item_content_3_Template, 1, 2, "sq-action-item-content", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, BsActionItem_ng_container_0_ng_template_5_ul_4_Template, 1, 1, "ul", 11);
} if (rf & 2) {
    const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMapInterpolate2"]("btn ", ctx_r9.styleClass, " dropdown-toggle ", ctx_r9.sizeClass, "");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("sqTooltip", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](1, 8, ctx_r9.itemTitle, ctx_r9.itemMessageParams));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵattribute"]("aria-label", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](2, 11, ctx_r9.itemTitle, ctx_r9.itemMessageParams));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx_r9.hasAction);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r9.showDropdown);
} }
function BsActionItem_ng_container_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsActionItem_ng_container_0_button_1_Template, 4, 15, "button", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, BsActionItem_ng_container_0_ng_container_2_Template, 1, 0, "ng-container", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, BsActionItem_ng_container_0_ng_template_3_Template, 1, 1, "ng-template", null, 5, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplateRefExtractor"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](5, BsActionItem_ng_container_0_ng_template_5_Template, 5, 14, "ng-template", null, 6, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplateRefExtractor"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](4);
    const _r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](6);
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r0.hasAction);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r0.options.item.flattenable && (ctx_r0.options.item.children == null ? null : ctx_r0.options.item.children.length) === 1)("ngIfThen", _r6)("ngIfElse", _r8);
} }
function BsActionItem_sq_action_item_content_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "sq-action-item-content", 8);
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("item", ctx_r1.options.item)("text", ctx_r1.itemText);
} }
function BsActionItem_ng_container_2_Template(rf, ctx) { if (rf & 1) {
    const _r21 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "a", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsActionItem_ng_container_2_Template_a_click_1_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r21); const ctx_r20 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r20.click($event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](3, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](4, "sq-action-item-content", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](5, "ul", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMapInterpolate2"]("", ctx_r2.options.inMenu ? "nav-link" : "dropdown-item", " dropdown-toggle ", ctx_r2.options.item.disabled ? "disabled" : "", "");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("title", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](2, 9, ctx_r2.itemTitle, ctx_r2.itemMessageParams));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵattribute"]("aria-label", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](3, 12, ctx_r2.itemTitle, ctx_r2.itemMessageParams));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("item", ctx_r2.options.item)("text", ctx_r2.itemText);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("sq-dropdown-menu", ctx_r2.dropdownMenuOptions);
} }
function BsActionItem_a_3_Template(rf, ctx) { if (rf & 1) {
    const _r23 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "a", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsActionItem_a_3_Template_a_click_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r23); const ctx_r22 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r22.click($event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](3, "sq-action-item-content", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMapInterpolate2"]("", ctx_r3.options.inMenu ? "nav-link" : "dropdown-item", " ", ctx_r3.options.item.disabled ? "disabled" : "", "");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("title", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](1, 8, ctx_r3.itemTitle, ctx_r3.itemMessageParams));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵattribute"]("aria-label", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](2, 11, ctx_r3.itemTitle, ctx_r3.itemMessageParams));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("item", ctx_r3.options.item)("text", ctx_r3.itemText);
} }
class BsActionItem {
    constructor(uiService, elementRef, cdRef) {
        this.uiService = uiService;
        this.elementRef = elementRef;
        this.cdRef = cdRef;
        this.collapseBreakpoint = "md";
    }
    get haveItem() {
        return !!this.options.item;
    }
    get isVisible() {
        return this.haveItem && !this.options.item.hidden;
    }
    get hasAction() {
        return this.haveItem && !!this.options.item.action;
    }
    get isDropdownButton() {
        return this.isVisible && !this.inListItem && this.options.item.hasChildren;
    }
    get isButton() {
        return this.isVisible && !this.inListItem && !this.options.item.hasChildren && this.hasAction;
    }
    get isDropdownListItem() {
        return this.isVisible && this.inListItem && this.options.item.hasChildren;
    }
    get isListItem() {
        return this.isVisible && this.inListItem && !this.options.item.hasChildren && this.hasAction;
    }
    get haveSpace() {
        if (this.uiService.screenSizeIsGreaterOrEqual(this.autoAdjustBreakpoint)) {
            return true;
        }
        if (this.inListItem && this.uiService.screenSizeIsLess(this.collapseBreakpoint)) {
            return true;
        }
        return false;
    }
    get haveIcon() {
        return !!this.options.item.icon || !!this.options.item.iconAfter;
    }
    get itemText() {
        if (!this.haveItem) {
            return "";
        }
        const text = this.options.item.text || "";
        if (this.options.autoAdjust && this.haveIcon) {
            return this.haveSpace ? text : "";
        }
        else {
            return text;
        }
    }
    get itemTitle() {
        if (!this.haveItem) {
            return "";
        }
        const text = this.options.item.text || "";
        const title = this.options.item.title || "";
        if (this.options.autoAdjust && this.haveIcon) {
            return this.haveSpace ? (title !== text ? title : "") : title || text;
        }
        else {
            return title;
        }
    }
    get itemMessageParams() {
        if (!this.haveItem) {
            return null;
        }
        return this.options.item.messageParams;
    }
    get sizeClass() {
        return this.options.size ? `btn-${this.options.size}` : "";
    }
    get styleClass() {
        return this.options.style ? `btn-${this.options.style}` : "btn-light";
    }
    get dropdownMenuOptions() {
        return (Object.assign(Object.assign({}, this.options), { showMenuClass: 'show' }));
    }
    ngAfterViewInit() {
        this.dropdownButton = this.elementRef.nativeElement.querySelector("div.dropdown");
        this.dropdownListItem = this.elementRef.nativeElement.querySelector("li.dropdown-toggle");
    }
    ngOnInit() {
        this.inListItem = (this.elementRef.nativeElement.nodeName === "LI");
        if (this.options.item.init) {
            this.options.item.init(this.options.item);
        }
        this.autoAdjustBreakpoint = this.options.autoAdjustBreakpoint;
        this.uiService.resizeEvent.subscribe(e => this.cdRef.detectChanges());
    }
    ngOnDestroy() {
        if (this.options.item.destroy) {
            this.options.item.destroy(this.options.item);
        }
    }
    click(event) {
        if (!this.options.item.disabled) {
            if (this.options.item.action) {
                this.options.item.action(this.options.item, event);
            }
            if (this.options.item.toggle && (this.isDropdownButton || this.isDropdownListItem)) {
                const openElement = this.dropdownButton || (this.dropdownListItem ? this.dropdownListItem.parentElement : null);
                if (openElement) {
                    this.options.item.toggle(this.options.item, !openElement.classList.contains("open"));
                }
            }
        }
    }
    touchstart() {
        this.showDropdown = true;
    }
    mousedown() {
        this.showDropdown = true;
    }
    focusin() {
        this.showDropdown = true;
    }
}
BsActionItem.ɵfac = function BsActionItem_Factory(t) { return new (t || BsActionItem)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_utils__WEBPACK_IMPORTED_MODULE_1__["UIService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"])); };
BsActionItem.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsActionItem, selectors: [["", "sq-action-item", ""]], inputs: { options: ["sq-action-item", "options"], collapseBreakpoint: "collapseBreakpoint" }, attrs: _c0, decls: 4, vars: 4, consts: [[4, "ngIf"], [3, "item", "text", 4, "ngIf"], ["href", "javascript:void(0)", "role", "button", 3, "class", "title", "click", 4, "ngIf"], ["type", "button", 3, "class", "sqTooltip", "click", 4, "ngIf"], [4, "ngIf", "ngIfThen", "ngIfElse"], ["flattened", ""], ["unflattened", ""], ["type", "button", 3, "sqTooltip", "click"], [3, "item", "text"], [3, "class", 4, "ngIf"], ["type", "button", "data-toggle", "dropdown", 3, "sqTooltip", "touchstart", "mousedown", "focusin"], [3, "sq-dropdown-menu", 4, "ngIf"], [3, "sq-dropdown-menu"], ["href", "javascript:void(0)", "data-toggle", "dropdown", "role", "button", "aria-haspopup", "true", "aria-expanded", "false", 3, "title", "click"], ["href", "javascript:void(0)", "role", "button", 3, "title", "click"]], template: function BsActionItem_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, BsActionItem_ng_container_0_Template, 7, 4, "ng-container", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsActionItem_sq_action_item_content_1_Template, 1, 2, "sq-action-item-content", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, BsActionItem_ng_container_2_Template, 6, 15, "ng-container", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, BsActionItem_a_3_Template, 4, 14, "a", 2);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.isDropdownButton);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.isButton);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.isDropdownListItem);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.isListItem);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_2__["NgIf"], _utils_directives_tooltip_tooltip_directive__WEBPACK_IMPORTED_MODULE_3__["TooltipDirective"], _action_item_content_action_item_content__WEBPACK_IMPORTED_MODULE_4__["BsActionItemContent"], _dropdown_directive__WEBPACK_IMPORTED_MODULE_5__["BsDropdownDirective"], _dropdown_menu_dropdown_menu__WEBPACK_IMPORTED_MODULE_6__["BsDropdownMenu"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_7__["MessagePipe"]], encapsulation: 2, changeDetection: 0 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsActionItem, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "[sq-action-item]",
                templateUrl: "./action-item.html",
                changeDetection: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectionStrategy"].OnPush
            }]
    }], function () { return [{ type: _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_1__["UIService"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] }]; }, { options: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"],
            args: ["sq-action-item"]
        }], collapseBreakpoint: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "TJtf":
/*!**********************************************!*\
  !*** ../components/search/search.service.ts ***!
  \**********************************************/
/*! exports provided: SEARCH_OPTIONS, SearchService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SEARCH_OPTIONS", function() { return SEARCH_OPTIONS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SearchService", function() { return SearchService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "sEIs");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "+kfY");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ "0Wlh");
/* harmony import */ var _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/core/web-services */ "cIYa");
/* harmony import */ var _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sinequa/core/app-utils */ "SBPP");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _breadcrumbs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./breadcrumbs */ "2ZSg");
/* harmony import */ var _sinequa_core_login__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @sinequa/core/login */ "7O5u");
/* harmony import */ var _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @sinequa/core/intl */ "EfqX");
/* harmony import */ var _sinequa_core_notification__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @sinequa/core/notification */ "mkLw");















const SEARCH_OPTIONS = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["InjectionToken"]("SEARCH_OPTIONS");
class SearchService {
    constructor(options, router, appService, queryService, loginService, intlService, formatService, auditService, notificationsService, exprBuilder) {
        this.options = options;
        this.router = router;
        this.appService = appService;
        this.queryService = queryService;
        this.loginService = loginService;
        this.intlService = intlService;
        this.formatService = formatService;
        this.auditService = auditService;
        this.notificationsService = notificationsService;
        this.exprBuilder = exprBuilder;
        this.queryStringParams = {};
        this.fetchingLoadMore = false;
        this._events = new rxjs__WEBPACK_IMPORTED_MODULE_2__["Subject"]();
        this._queryStream = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](undefined);
        this._resultsStream = new rxjs__WEBPACK_IMPORTED_MODULE_2__["BehaviorSubject"](undefined);
        if (!this.options) {
            this.options = {
                routes: ["search"]
            };
        }
        this.results = undefined;
        this.breadcrumbs = undefined;
        this.loginSubscription = this.loginService.events.subscribe((value) => {
            if (value.type === "session-changed") {
                this.handleLogin();
            }
        });
        this.routerSubscription = this.router.events.subscribe((event) => {
            if (event instanceof _angular_router__WEBPACK_IMPORTED_MODULE_1__["NavigationStart"]) {
                // Restore state on back/forward until this issue is fixed: https://github.com/angular/angular/issues/28108
                const currentNavigation = this.router.getCurrentNavigation();
                if (currentNavigation && event.navigationTrigger === "popstate" &&
                    !currentNavigation.extras.state && event.restoredState) {
                    currentNavigation.extras.state = event.restoredState;
                }
            }
            else if (event instanceof _angular_router__WEBPACK_IMPORTED_MODULE_1__["NavigationEnd"]) {
                this.handleNavigation();
            }
        });
        this.appSubscription = this.appService.events.subscribe((event) => {
            if (event.type === "query-changed") {
                if (this._query && (!this.appService.ccquery || (this._query.name !== this.appService.ccquery.name))) {
                    this.clearQuery();
                }
            }
        });
    }
    ngOnDestroy() {
        this.loginSubscription.unsubscribe();
        this.routerSubscription.unsubscribe();
        this.appSubscription.unsubscribe();
        this._events.complete();
        this._queryStream.complete();
        this._resultsStream.complete();
    }
    get events() {
        return this._events;
    }
    get queryStream() {
        return this._queryStream;
    }
    get resultsStream() {
        return this._resultsStream.asObservable();
    }
    getTabConfig(name) {
        if (this.appService.ccquery && this.appService.ccquery.tabSearch && this.appService.ccquery.tabSearch.tabs) {
            return this.appService.ccquery.tabSearch.tabs.find(t => _sinequa_core_base__WEBPACK_IMPORTED_MODULE_6__["Utils"].eqNC(t.name, name));
        }
        return undefined;
    }
    get query() {
        if (!this._query) {
            this._query = this.makeQuery();
            this._events.next({ type: "new-query", query: this._query });
        }
        return this._query;
    }
    setQuery(query, newQuery = true) {
        if (query === this._query) {
            return;
        }
        this._query = query;
        if (this._query) {
            let ccquery;
            if (this.options.preventQueryNameChanges) {
                ccquery = this.appService.ccquery || this.appService.defaultCCQuery;
            }
            else {
                ccquery = this.appService.getCCQuery(this._query.name);
                if (!ccquery) {
                    console.warn(`Query '${this._query.name}' not found`);
                    ccquery = this.appService.defaultCCQuery;
                }
            }
            if (ccquery) {
                this._query.name = ccquery.name;
                if (this.appService.ccquery !== ccquery) {
                    this.appService.ccquery = ccquery;
                }
            }
        }
        if (newQuery) {
            this._events.next({ type: "new-query", query: this._query });
        }
    }
    clearQuery() {
        this.setQuery(undefined);
    }
    updateBreadcrumbs(results, options) {
        if (!results) {
            this.breadcrumbs = undefined;
            return;
        }
        if (!this.breadcrumbs || (!options.resuseBreadcrumbs && !options.advanced)) {
            this.breadcrumbs = _breadcrumbs__WEBPACK_IMPORTED_MODULE_7__["Breadcrumbs"].create(this.appService, this, this.query);
        }
        else if (options.advanced) {
            this.breadcrumbs.update(this.query);
        }
    }
    _setResults(results, options = {}) {
        if (results === this.results) {
            return;
        }
        this._events.next({ type: "before-new-results", results });
        this.results = results;
        this.treatQueryIntents(results);
        this.updateBreadcrumbs(results, options);
        if (this.results) {
            if (this.results.tab) {
                this.query.tab = this.results.tab;
            }
            if (this.results.attributes && this.results.attributes.queryid) {
                this.query.queryId = this.results.attributes.queryid;
            }
        }
        this._events.next({ type: "new-results", results: this.results });
        this._resultsStream.next(this.results);
    }
    setResults(results) {
        return this._setResults(results);
    }
    // TODO: queryintents in their own service ?
    treatQueryIntents(results) {
        if (results && results.queryAnalysis && results.queryIntents) {
            const queryIntents = results.queryIntents;
            for (const intent of queryIntents) {
                if (intent.actions) {
                    for (const action of intent.actions) {
                        const event = { type: "process-query-intent-action", action: action, intent: intent, analysis: results.queryAnalysis };
                        this._events.next(event);
                        if (!event.actionProcessed) {
                            if (!!action.data) {
                                switch (action.type) {
                                    case "tab":
                                        if (results.queryAnalysis.initial && this.query &&
                                            !_sinequa_core_base__WEBPACK_IMPORTED_MODULE_6__["Utils"].eqNC(this.query.tab || "", action.data)) {
                                            this.selectTab(action.data, { skipLocationChange: true });
                                        }
                                        break;
                                }
                            }
                        }
                    }
                }
            }
        }
    }
    get haveRecords() {
        return !!this.results && !!this.results.records && this.results.records.length > 0;
    }
    get rowCount() {
        return (!!this.results && this.results.rowCount) ? this.results.rowCount : 0;
    }
    get totalRowCount() {
        return (!!this.results && this.results.totalRowCount) ? this.results.totalRowCount : 0;
    }
    get pageSize() {
        if (this.query && this.query.pageSize) {
            return this.query.pageSize;
        }
        if (this.appService.ccquery && this.appService.ccquery.pageSize) {
            return this.appService.ccquery.pageSize;
        }
        return SearchService.DefaultPageSize;
    }
    get page() {
        if (!this.results) {
            return 1;
        }
        return this.results.page;
    }
    get pageCount() {
        if (!this.results || !this.results.rowCount) {
            return 0;
        }
        return Math.ceil(this.results.rowCount / this.results.pageSize);
    }
    makeQuery(recentQuery) {
        const ccquery = this.appService.ccquery;
        const query = new _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_5__["Query"](ccquery ? ccquery.name : "_unknown");
        if (recentQuery) {
            Object.assign(query, recentQuery);
        }
        this._events.next({ type: "make-query", query: query });
        return query;
    }
    makeAuditEvent(event) {
        this._events.next({ type: "make-audit-event", event: event });
        return event;
    }
    selectBreadcrumbsItem(item) {
        if (this.breadcrumbs) {
            const query = this.breadcrumbs.selectItem(item);
            if (query) {
                this.setQuery(query, false);
                this.search({ reuseBreadcrumbs: true }); // audit?
            }
        }
    }
    removeBreadcrumbsItem(item) {
        if (this.breadcrumbs) {
            const next = this.breadcrumbs.removeItem(item);
            if (this.isEmptySearch(this.breadcrumbs.query)) {
                this.clear();
                return;
            }
            if (next) {
                this.selectBreadcrumbsItem(next);
            }
        }
    }
    removeSelect(index) {
        if (this.breadcrumbs) {
            const item = this.breadcrumbs.items[index + 1];
            this.removeBreadcrumbsItem(item);
        }
    }
    removeText() {
        if (this.breadcrumbs) {
            const item = this.breadcrumbs.items[0];
            this.removeBreadcrumbsItem(item);
        }
    }
    clear(navigate = true, path) {
        this.clearQuery();
        path = path || this.options.homeRoute;
        this._setResults(undefined);
        this._events.next({ type: "clear", path });
        if (navigate) {
            this.navigate({ path: path || this.options.homeRoute });
        }
    }
    home(path = this.options.homeRoute) {
        this.clear(true, path);
    }
    makeQueryIntentData(queryIntentData) {
        this._events.next({ type: "make-query-intent-data", intentData: queryIntentData });
        return queryIntentData;
    }
    isEmptySearchIgnoreSelects(query) {
        if (!query) {
            return true;
        }
        if (!query.action || query.action === "search") {
            // Test isFirstPage
            if (query.isFirstPage) {
                return false;
            }
            // Test empty text
            if (query.text && _sinequa_core_base__WEBPACK_IMPORTED_MODULE_6__["Utils"].trim(query.text)) {
                return false;
            }
            // Test basket
            if (query.basket) {
                return false;
            }
            return true;
        }
        return false;
    }
    isEmptySearch(query) {
        if (!query) {
            return true;
        }
        if (!query.action || query.action === "search") {
            if (!this.isEmptySearchIgnoreSelects(query)) {
                return false;
            }
            // Test no facet selection
            if (query.select && query.select.length > 0) {
                return false;
            }
            return true;
        }
        return false;
    }
    checkEmptySearch(queries) {
        if (this.appService.ccquery && !this.appService.ccquery.allowEmptySearch) {
            if (!_sinequa_core_base__WEBPACK_IMPORTED_MODULE_6__["Utils"].isArray(queries)) {
                queries = [queries];
            }
            for (const query of queries) {
                if (this.isEmptySearch(query)) {
                    this.notificationsService.info("msg#search.emptySearchNotification");
                    return false;
                }
            }
        }
        return true;
    }
    getResults(query, auditEvents, options = {}) {
        if (!this.checkEmptySearch(query)) {
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["throwError"])("empty search");
        }
        if (!options.searchInactive) {
            this.searchActive = true;
        }
        const tab = this.getCurrentTab();
        return this.queryService.getResults(query, auditEvents, this.makeQueryIntentData({
            tab: !!tab ? tab.name : undefined,
            queryIntents: options.queryIntents,
            queryAnalysis: options.queryAnalysis
        })).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])((results) => {
            this.searchActive = false;
            return results;
        }));
    }
    getMultipleResults(queries, auditEvents) {
        if (!this.checkEmptySearch(queries)) {
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["of"])({ results: [] });
        }
        return this.queryService.getMultipleResults(queries, auditEvents);
    }
    navigate(options, audit) {
        if (!options) {
            options = {};
        }
        if (!options.analyzeQueryText && this.results) {
            options.queryIntents = this.results.queryIntents;
            options.queryAnalysis = this.results.queryAnalysis;
        }
        if (!this.routingActive) {
            this.handleNavigation(options, audit);
            return Promise.resolve(true);
        }
        else {
            // Save currentPath and currentSearch
            let url = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_6__["Utils"].makeURL(this.router.url);
            const currentPath = url.pathname;
            url.searchParams.delete("$refresh");
            const currentSearch = decodeURIComponent(url.search);
            // Set up queryParams and add current query
            const queryParams = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_6__["Utils"].copy(this.queryStringParams);
            if (this._query) {
                queryParams.query = this._query.toJsonForQueryString();
            }
            // Set up history state
            const state = {
                audit,
                navigationOptions: options
            };
            const extras = {
                queryParams,
                state,
                skipLocationChange: options.skipLocationChange
            };
            // Calculate new search
            let path = options.path;
            if (!path) {
                path = currentPath;
            }
            url = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_6__["Utils"].makeURL(path);
            path = url.pathname; // normalized
            for (const key of Object.keys(queryParams)) {
                url.searchParams.set(key, queryParams[key]);
            }
            const search = decodeURIComponent(url.search);
            // If path and search are both the same as current then force navigation (without adding to history)
            if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_6__["Utils"].eq(currentPath, path) && _sinequa_core_base__WEBPACK_IMPORTED_MODULE_6__["Utils"].eq(currentSearch, search)) {
                // We want to force the navigation so that the query will be processed
                extras.queryParams.$refresh = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_6__["Utils"].now.getTime();
                // But don't update the browser url
                extras.skipLocationChange = true;
            }
            return this.router.navigate([path], extras);
        }
    }
    getHistoryState() {
        const navigation = this.router.getCurrentNavigation();
        if (navigation) {
            return navigation.extras && navigation.extras.state || {};
        }
        return window.history.state || {};
    }
    isSearchRouteActive() {
        const url = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_6__["Utils"].makeURL(this.router.url);
        return this.isSearchRoute(url.pathname);
    }
    isSearchRoute(pathname) {
        return this.checkSearchRoute(pathname, this.options.routes);
    }
    isSkipSearchRoute(pathname) {
        return this.checkSearchRoute(pathname, this.options.skipSearchRoutes);
    }
    checkSearchRoute(pathname, routes) {
        if (routes) {
            for (const route of routes) {
                if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_6__["Utils"].endsWith(pathname, _sinequa_core_base__WEBPACK_IMPORTED_MODULE_6__["Utils"].addUrl("/", route))) {
                    return true;
                }
            }
        }
        return false;
    }
    getQueryFromUrl() {
        let query;
        const url = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_6__["Utils"].makeURL(this.router.url);
        if (this.isSearchRoute(url.pathname)) {
            const jquery = url.searchParams.get("query");
            if (jquery) {
                try {
                    query = this.makeQuery().fromJson(jquery);
                }
                catch (_a) { }
            }
        }
        return query;
    }
    ensureQueryFromUrl() {
        const query = this.getQueryFromUrl();
        if (!query) {
            this.clear(false);
            return undefined;
        }
        else {
            // The url query should be the same as the current query on SearchService unless
            // it's the initial navigation or if the url is changed manually.
            // In any case, we always set the query from the url. We only send a new-query
            // event if the current query is empty so that we don't systematically create a
            // new query "session" (ml-audit)
            this.setQuery(query, !this._query);
            return query;
        }
    }
    handleLogin() {
        if (!this.loginService.complete) {
            return Promise.resolve(false);
        }
        if (!!this.ensureQueryFromUrl()) {
            return this.navigate();
        }
        else {
            return Promise.resolve(true);
        }
    }
    get routingActive() {
        return !this.options.deactivateRouting;
    }
    set routingActive(value) {
        this.options.deactivateRouting = !value;
    }
    makeAuditEventFromCurrentQuery() {
        const lastSelect = this.query.lastSelect();
        if (lastSelect) {
            const lastExpr = this.appService.parseExpr(lastSelect.expression);
            if (lastExpr instanceof _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_5__["Expr"]) {
                if (lastExpr.field === "refine") {
                    return this.makeAuditEvent({
                        type: "Search_Refine" /* Search_Refine */,
                        detail: {
                            text: lastExpr.value,
                            itembox: lastSelect.facet,
                            "from-result-id": !!this.results ? this.results.id : null
                        }
                    });
                }
                else {
                    return this.makeAuditEvent({
                        type: "Search_Select_Item" /* Search_Select_Item */,
                        detail: {
                            item: lastSelect,
                            itembox: lastSelect.facet,
                            itemcolumn: lastExpr.field,
                            isitemexclude: lastExpr.not,
                            "from-result-id": !!this.results ? this.results.id : null
                        }
                    });
                }
            }
        }
        else {
            if (this.query.basket) {
                return this.makeAuditEvent({
                    type: "Basket_Open" /* Basket_Open */,
                    detail: {
                        basket: this.query.basket
                    }
                });
            }
            else {
                return this.makeAuditEvent({
                    type: "Search_Text" /* Search_Text */,
                    detail: {
                        text: this.query.text,
                        scope: this.query.scope
                    }
                });
            }
        }
        return undefined;
    }
    handleNavigation(navigationOptions, audit) {
        if (!this.loginService.complete) {
            return Promise.resolve(false);
        }
        if (!this.appService.ccquery) {
            return Promise.resolve(false);
        }
        let query = this._query;
        if (this.routingActive) {
            query = this.ensureQueryFromUrl();
        }
        this._events.next({ type: "update-query", query });
        this._queryStream.next(query);
        if (!query) {
            return Promise.resolve(true);
        }
        if (this.routingActive) {
            const state = this.getHistoryState();
            // console.log("history.state:", state);
            audit = state.audit;
            navigationOptions = state.navigationOptions;
        }
        navigationOptions = navigationOptions || {};
        const pathName = navigationOptions.path ? navigationOptions.path : _sinequa_core_base__WEBPACK_IMPORTED_MODULE_6__["Utils"].makeURL(this.router.url).pathname;
        if (navigationOptions.skipSearch || this.isSkipSearchRoute(pathName)) {
            return Promise.resolve(true);
        }
        if (!audit) {
            audit = this.makeAuditEventFromCurrentQuery();
            if (audit && audit.type === "Search_Text" /* Search_Text */) {
                delete navigationOptions.queryIntents;
                delete navigationOptions.queryAnalysis;
            }
        }
        let observable = this.getResults(this.query, audit, {
            queryIntents: navigationOptions.queryIntents,
            queryAnalysis: navigationOptions.queryAnalysis
        });
        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_6__["Utils"].subscribe(observable, (results) => {
            navigationOptions = navigationOptions || {};
            this._setResults(results, {
                resuseBreadcrumbs: navigationOptions.reuseBreadcrumbs,
            });
            return results;
        });
        if (navigationOptions.selectTab) {
            const afterSelectTabEvent = {
                type: "after-select-tab",
                observable
            };
            this._events.next(afterSelectTabEvent);
            observable = afterSelectTabEvent.observable;
        }
        return observable.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])(() => true), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(() => Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["of"])(false))).toPromise();
    }
    search(navigationOptions, audit) {
        delete this.query.page;
        delete this.query.spellingCorrectionMode;
        return this.navigate(navigationOptions, audit);
    }
    searchText(path) {
        // Check for empty search preemptively to avoid clearing the current results in the most
        // common case of the user entering empty search text in the search box
        // The lower level check in getResults will handle less obvious cases (url editing etc)
        if (!this.checkEmptySearch(this.query)) {
            return Promise.resolve(false);
        }
        return this.search({
            path,
            analyzeQueryText: true
        }, this.makeAuditEvent({
            type: "Search_Text" /* Search_Text */,
            detail: {
                text: this.query.text,
                scope: this.query.scope,
                language: this.intlService.currentLocale.name
            }
        }));
    }
    searchRefine(text) {
        // add "refine" name to facet value is mandatory as it's used in preview's query
        this.query.addSelect(this.exprBuilder.makeRefineExpr(text), "refine");
        return this.search(undefined, this.makeAuditEvent({
            type: "Search_Refine" /* Search_Refine */,
            detail: {
                text: text,
                itembox: "refine",
                "from-result-id": !!this.results ? this.results.id : null
            }
        }));
    }
    gotoPage(page) {
        this.query.page = page;
        return this.navigate(undefined, this.makeAuditEvent({
            type: "Search_GotoPage" /* Search_GotoPage */,
            detail: {
                page: page,
                "from-result-id": !!this.results ? this.results.id : null
            }
        }));
    }
    /**
     * Load more results and append them to previous results
     */
    loadMore() {
        if (!this.fetchingLoadMore) {
            let page = this.query.page || this.page;
            page += (page <= this.pageCount) ? 1 : 0;
            if (page <= this.pageCount) {
                this.fetchingLoadMore = true;
                this.query.page = page;
                const auditEvents = this.makeAuditEvent({
                    type: "Search_GotoPage" /* Search_GotoPage */,
                    detail: {
                        page: page,
                        "from-result-id": !!this.results ? this.results.id : null
                    }
                });
                this.getResults(this.query, auditEvents)
                    .subscribe(results => {
                    var _a;
                    if (this.results && results) {
                        this.results.records = [...((_a = this.results) === null || _a === void 0 ? void 0 : _a.records) || [], ...results.records] || false;
                        this._resultsStream.next(this.results);
                    }
                    this.fetchingLoadMore = false;
                });
            }
        }
    }
    /**
     * @returns true if more are available otherwise false
     */
    hasMore() {
        const page = this.query.page || this.page;
        return (page < this.pageCount);
    }
    didYouMean(text, context, kind) {
        if (context === "search") {
            this.query.text = text;
        }
        else {
            const refineSelect = this.query.findSelect("refine");
            if (refineSelect) {
                refineSelect.expression = "refine:" + _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_5__["ExprParser"].escape(text);
            }
        }
        this.query.spellingCorrectionMode = "dymonly";
        return this.navigate(undefined, this.makeAuditEvent({
            type: kind === _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_4__["DidYouMeanKind"].Original ? "Search_DidYouMean_Original" /* Search_DidYouMean_Original */ : "Search_DidYouMean_Correction" /* Search_DidYouMean_Correction */,
            detail: {
                text: text
            }
        }));
    }
    getCurrentRecordIds() {
        if (this.results && this.results.records) {
            return this.results.records.map(record => record.id);
        }
        return [];
    }
    getRecordFromId(id) {
        if (this.results && this.results.records) {
            return this.results.records.find(record => _sinequa_core_base__WEBPACK_IMPORTED_MODULE_6__["Utils"].eq(record.id, id));
        }
        return undefined;
    }
    addFieldSelect(field, items, options) {
        if (items && (!_sinequa_core_base__WEBPACK_IMPORTED_MODULE_6__["Utils"].isArray(items) || items.length > 0)) {
            let expr = this.exprBuilder.makeFieldExpr(field, items, options === null || options === void 0 ? void 0 : options.and);
            if (options === null || options === void 0 ? void 0 : options.not) {
                expr = this.exprBuilder.makeNotExpr(expr);
            }
            this.query.addSelect(expr, options === null || options === void 0 ? void 0 : options.facetName);
            return true;
        }
        return false;
    }
    get lastRefineText() {
        if (this.breadcrumbs) {
            const refineExpr = this.breadcrumbs.findSelect("refine");
            if (refineExpr) {
                return _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_5__["ExprParser"].unescape(refineExpr.toString(false));
            }
        }
        return "";
    }
    get hasRelevance() {
        var _a;
        if (!this.breadcrumbs) {
            return false;
        }
        if ((_a = this.breadcrumbs.textExpr) === null || _a === void 0 ? void 0 : _a.hasRelevance) {
            return true;
        }
        const refineExpr = this.breadcrumbs.findSelect("refine");
        return (refineExpr === null || refineExpr === void 0 ? void 0 : refineExpr.hasRelevance) || false;
    }
    selectTab(arg, options = {}) {
        options.selectTab = true;
        const tabName = typeof arg === 'string' ? arg : arg.name;
        this.query.tab = tabName;
        delete this.query.queryId; // SBA-154
        this._events.next({ type: "before-select-tab", query: this.query });
        return this.search(options, this.makeAuditEvent({
            type: "Search_GotoTab" /* Search_GotoTab */,
            detail: {
                tab: tabName,
                "from-result-id": !!this.results ? this.results.id : null
            }
        }));
    }
    selectScope(scope) {
        this.query.scope = scope;
    }
    getTab(tabName) {
        if (this.results && this.results.tabs) {
            for (const tab of this.results.tabs) {
                if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_6__["Utils"].equals(tab.name, tabName)) {
                    return tab;
                }
            }
        }
        return undefined;
    }
    getCurrentTab() {
        if (this.results && this.results.tab) {
            return this.getTab(this.results.tab);
        }
        return undefined;
    }
    notifyOpenOriginalDocument(record, resultId) {
        var _a, _b, _c, _d, _e;
        const results = this.results && this.results.records && this.results.records.includes(record) ? this.results : undefined;
        this._events.next({ type: "open-original-document", record });
        const querylang = ((_b = (_a = this.results) === null || _a === void 0 ? void 0 : _a.queryAnalysis) === null || _b === void 0 ? void 0 : _b.queryLanguage) || ((_c = this.query) === null || _c === void 0 ? void 0 : _c.questionLanguage)
            || ((_e = (_d = this.appService) === null || _d === void 0 ? void 0 : _d.ccquery) === null || _e === void 0 ? void 0 : _e.questionLanguage);
        this.auditService.notifyDocument("Click_ResultLink" /* Click_ResultLink */, record, results || resultId || "", {
            text: this.query.text,
            querylang,
        }, {
            queryhash: results ? results.rfmQueryHash : undefined,
            querytext: this.query.text,
            querylang: querylang
        });
    }
    checkBeforeSearch(cancelReasons) {
        const beforeSearch = { type: "before-search" };
        this._events.next(beforeSearch);
        if (cancelReasons && beforeSearch.cancelReasons) {
            cancelReasons.splice(0, 0, ...beforeSearch.cancelReasons);
        }
        return !beforeSearch.cancel;
    }
}
SearchService.ɵfac = function SearchService_Factory(t) { return new (t || SearchService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](SEARCH_OPTIONS, 8), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_5__["AppService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_4__["QueryWebService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_login__WEBPACK_IMPORTED_MODULE_8__["LoginService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_intl__WEBPACK_IMPORTED_MODULE_9__["IntlService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_5__["FormatService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_4__["AuditWebService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_notification__WEBPACK_IMPORTED_MODULE_10__["NotificationsService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_5__["ExprBuilder"])); };
SearchService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: SearchService, factory: SearchService.ɵfac, providedIn: "root" });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](SearchService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: "root"
            }]
    }], function () { return [{ type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Optional"]
            }, {
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [SEARCH_OPTIONS]
            }] }, { type: _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"] }, { type: _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_5__["AppService"] }, { type: _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_4__["QueryWebService"] }, { type: _sinequa_core_login__WEBPACK_IMPORTED_MODULE_8__["LoginService"] }, { type: _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_9__["IntlService"] }, { type: _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_5__["FormatService"] }, { type: _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_4__["AuditWebService"] }, { type: _sinequa_core_notification__WEBPACK_IMPORTED_MODULE_10__["NotificationsService"] }, { type: _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_5__["ExprBuilder"] }]; }, null); })();
(function (SearchService) {
    SearchService.DefaultPageSize = 20;
})(SearchService || (SearchService = {}));


/***/ }),

/***/ "TUPJ":
/*!***********************************************!*\
  !*** ../components/preview/preview.module.ts ***!
  \***********************************************/
/*! exports provided: PreviewModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PreviewModule", function() { return PreviewModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/intl */ "EfqX");
/* harmony import */ var _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/web-services */ "cIYa");
/* harmony import */ var _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/components/utils */ "DD1E");
/* harmony import */ var _preview_document_iframe_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./preview-document-iframe.component */ "sUkJ");
/* harmony import */ var _preview_tooltip_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./preview-tooltip.component */ "n+UL");
/* harmony import */ var _preview_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./preview.service */ "lGAU");









class PreviewModule {
    static forRoot(previewModal) {
        return {
            ngModule: PreviewModule,
            providers: [
                { provide: _preview_service__WEBPACK_IMPORTED_MODULE_7__["PREVIEW_MODAL"], useValue: previewModal },
            ]
        };
    }
}
PreviewModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: PreviewModule });
PreviewModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function PreviewModule_Factory(t) { return new (t || PreviewModule)(); }, imports: [[
            _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
            _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_2__["IntlModule"],
            _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_3__["WebServicesModule"],
            _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_4__["UtilsModule"]
        ]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](PreviewModule, { declarations: [_preview_document_iframe_component__WEBPACK_IMPORTED_MODULE_5__["PreviewDocumentIframe"], _preview_tooltip_component__WEBPACK_IMPORTED_MODULE_6__["PreviewTooltip"]], imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
        _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_2__["IntlModule"],
        _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_3__["WebServicesModule"],
        _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_4__["UtilsModule"]], exports: [_preview_document_iframe_component__WEBPACK_IMPORTED_MODULE_5__["PreviewDocumentIframe"], _preview_tooltip_component__WEBPACK_IMPORTED_MODULE_6__["PreviewTooltip"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](PreviewModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                    _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_2__["IntlModule"],
                    _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_3__["WebServicesModule"],
                    _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_4__["UtilsModule"]
                ],
                declarations: [
                    _preview_document_iframe_component__WEBPACK_IMPORTED_MODULE_5__["PreviewDocumentIframe"], _preview_tooltip_component__WEBPACK_IMPORTED_MODULE_6__["PreviewTooltip"]
                ],
                exports: [
                    _preview_document_iframe_component__WEBPACK_IMPORTED_MODULE_5__["PreviewDocumentIframe"], _preview_tooltip_component__WEBPACK_IMPORTED_MODULE_6__["PreviewTooltip"]
                ],
            }]
    }], null, null); })();


/***/ }),

/***/ "TVTe":
/*!******************************************!*\
  !*** ../components/utils/messages/en.ts ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    "clipboard": {
        "success": "{data} copied to the clipboard",
        "error": "Clipboard error"
    }
});


/***/ }),

/***/ "TyST":
/*!******************************************************************************!*\
  !*** ../components/advanced/bootstrap/advanced-form-validation.directive.ts ***!
  \******************************************************************************/
/*! exports provided: BsAdvancedFormValidation */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsAdvancedFormValidation", function() { return BsAdvancedFormValidation; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_validation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/validation */ "BovW");



class BsAdvancedFormValidation extends _sinequa_core_validation__WEBPACK_IMPORTED_MODULE_1__["ValidationDirective"] {
    ngOnInit() {
        this.options = {
            form: this.validationForm,
            controlName: this.field,
        };
        super.ngOnInit();
    }
}
BsAdvancedFormValidation.ɵfac = function BsAdvancedFormValidation_Factory(t) { return ɵBsAdvancedFormValidation_BaseFactory(t || BsAdvancedFormValidation); };
BsAdvancedFormValidation.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({ type: BsAdvancedFormValidation, selectors: [["", "sqAdvancedFormValidation", ""]], inputs: { field: "field", validationForm: "validationForm" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"]] });
const ɵBsAdvancedFormValidation_BaseFactory = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetInheritedFactory"](BsAdvancedFormValidation);
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsAdvancedFormValidation, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Directive"],
        args: [{
                selector: "[sqAdvancedFormValidation]",
            }]
    }], null, { field: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], validationForm: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "U/EC":
/*!*****************************************************************!*\
  !*** ../components/search/bootstrap/loading-bar/loading-bar.ts ***!
  \*****************************************************************/
/*! exports provided: BsLoadingBar */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsLoadingBar", function() { return BsLoadingBar; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _search_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../search.service */ "TJtf");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "2kYt");




function BsLoadingBar_div_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "div", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](3, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
// From https://stackoverflow.com/questions/34773266/how-to-write-css-keyframes-to-indeterminate-material-design-progress-bar
class BsLoadingBar {
    constructor(searchService) {
        this.searchService = searchService;
    }
    isActive() {
        return this.active === undefined ? this.searchService.searchActive : this.active;
    }
}
BsLoadingBar.ɵfac = function BsLoadingBar_Factory(t) { return new (t || BsLoadingBar)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_search_service__WEBPACK_IMPORTED_MODULE_1__["SearchService"])); };
BsLoadingBar.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsLoadingBar, selectors: [["sq-loading-bar"]], inputs: { active: "active" }, decls: 1, vars: 1, consts: [["class", "slider", 4, "ngIf"], [1, "slider"], [1, "line"], [1, "subline", "inc"], [1, "subline", "dec"]], template: function BsLoadingBar_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, BsLoadingBar_div_0_Template, 4, 0, "div", 0);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.isActive());
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_2__["NgIf"]], styles: [".slider[_ngcontent-%COMP%]{\n  position:absolute;\n  width:100%;\n  height:3px;\n  overflow: hidden;\n  z-index: 3;\n}\n\n.line[_ngcontent-%COMP%]{\n  position:absolute;\n  opacity: 0.4;\n  background:#4a8df8;\n  width:150%;\n  height:5px;\n}\n\n.subline[_ngcontent-%COMP%]{\n  position:absolute;\n  background:#4a8df8;\n  height:5px;\n}\n.inc[_ngcontent-%COMP%]{\nanimation: increase 1s infinite;\n}\n.dec[_ngcontent-%COMP%]{\nanimation: decrease 1s 0.25s infinite;\n}\n\n@keyframes increase {\n from { left: -5%; width: 5%; }\n to { left: 130%; width: 100%;}\n}\n@keyframes decrease {\n from { left: -80%; width: 80%; }\n to { left: 110%; width: 10%;}\n}"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsLoadingBar, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'sq-loading-bar',
                template: `
<div class="slider" *ngIf="isActive()">
	<div class="line"></div>
  <div class="subline inc"></div>
  <div class="subline dec"></div>
</div>
    `,
                styles: [`

.slider{
  position:absolute;
  width:100%;
  height:3px;
  overflow: hidden;
  z-index: 3;
}

.line{
  position:absolute;
  opacity: 0.4;
  background:#4a8df8;
  width:150%;
  height:5px;
}

.subline{
  position:absolute;
  background:#4a8df8;
  height:5px;
}
.inc{
animation: increase 1s infinite;
}
.dec{
animation: decrease 1s 0.25s infinite;
}

@keyframes increase {
 from { left: -5%; width: 5%; }
 to { left: 130%; width: 100%;}
}
@keyframes decrease {
 from { left: -80%; width: 80%; }
 to { left: 110%; width: 10%;}
}
    `]
            }]
    }], function () { return [{ type: _search_service__WEBPACK_IMPORTED_MODULE_1__["SearchService"] }]; }, { active: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "U2ve":
/*!*******************************************!*\
  !*** ../components/labels/messages/de.ts ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    "labels": {
        "labels": "Etiketten",
        "publicLabels": "Öffentliche Etiketten",
        "privateLabels": "Private Etiketten",
        "public": "Öffentliche",
        "private": "Private",
        "selectLabel": "Etikett(en) auswählen",
        "deleteLabelAreYouSure": "Möchten Sie dieses Etikett wirklich löschen: {name}?",
        "bulkAddLabelAreYouSure": "Möchten Sie wirklich das Etikett {name} zu allen Ergebnissen der aktuellen Suche hinzufügen?",
        "bulkRemoveLabelAreYouSure": "Möchten Sie wirklich das Etikett {name} von allen Ergebnissen der aktuellen Suche entfernen?",
        "addPublicLabelText": "+",
        "removePublicLabelText": "×",
        "addPublicLabelTitle": "Öffentliches Etikett hinzufügen",
        "selectPublicLabelTitle": "Öffentliches Etikett auswählen",
        "removePublicLabelTitle": "Öffentliches Etikett entfernen",
        "addPrivateLabelText": "+",
        "removePrivateLabelText": "×",
        "addPrivateLabelTitle": "Privates Etikett hinzufügen",
        "selectPrivateLabelTitle": "Privates Etikett auswählen",
        "removePrivateLabelTitle": "Privates Etikett entfernen"
    },
    "renameLabel": {
        "title": "Etikett(en) unbenennen",
        "btnRename": "Umbennen",
        "newLabel": "Neuen Etikett",
        "oldLabels": "Altes Etikett(en)",
        "alertText": "Diese Aktion benennt das (die) ausgewählte(n) Etikett(en) im Index um und ist unwiderruflich",
        "successFeedback": "Etikett(en), das (die) im Index umbenannt wurde(n)",
        "errorFeedback": "Ein Fehler ist aufgetreten. Die Suchanfrage war erfolglos"
    },
    "deleteLabel": {
        "title": "Etikett(en) global entfernen",
        "btnDelete": "Löschen",
        "alertText": "Diese Aktion löscht das (die) ausgewählte(n) Etikett(en) aus dem Index und ist unwiderruflich",
        "successFeedback": "Etikett(en), das (die) aus dem Index gelöscht wurde(n)",
        "errorFeedback": "Ein Fehler ist aufgetreten. Die Suchanfrage war erfolglos"
    },
    "bulkRemoveLabel": {
        "title": "Etikett(en) von aktuellen Ergebnissen entfernen",
        "btnBulkRemove": "Entfernen",
        "alertText": "Diese Aktion löscht das (die) ausgewählte(n) Etikett(en) aus allen gefundenen Ergebnisse (nicht nur die der ersten Seite)",
        "successFeedback": "Etikett(en), das (die) aus allen gefundenen Ergebnissen gelöscht wurde(n)",
        "errorFeedback": "Ein Fehler ist aufgetreten. Die Suchanfrage war erfolglos"
    },
    "bulkAddLabel": {
        "title": "Etikett(en) zu aktuellen Ergebnissen hinzufügen",
        "btnBulkAdd": "Hinzufügen",
        "alertText": "Diese Aktion fügt das (die) ausgewählte(n) Etikett(en) zu allen gefundenen Ergebnissen (nicht nur denen der ersten Seite) hinzu",
        "infoText": "klicken Sie auf 'Enter', um ein neues Etikett, das nicht in den Vorschlägen existiert, hinzuzufügen",
        "successFeedback": "Etikett(en), das (die) allen gefundenen Ergebnissen hinzugefügt wurde(n)",
        "errorFeedback": "Ein Fehler ist aufgetreten. Die Suchanfrage war erfolglos"
    },
    "editLabel": {
        "title": "Bearbeiten des (der) Etikett(en) aus dem (den) ausgewählten Ergebnis(sen)",
        "btnEdit": "speichern",
        "alertText": "Diese Aktion bearbeitet das (die) Etikett(en) des (der) ausgewählten Ergebnisse(s)",
        "infoText": "klicken Sie auf 'Enter', um ein neues Etikett, das nicht in den Vorschlägen existiert, hinzuzufügen",
        "labelsToBeRemoved": "Zu löschende(s) Etikett(en)",
        "labelsToBeAdded": "Hinzuzufügende(s) Etikett(en)",
        "successFeedback": "Etikett(en), das (die) zu dem (den) ausgewählten Ergebnis(sen) bearbeit(en)",
        "errorFeedback": "Ein Fehler ist aufgetreten. Die Suchanfrage war erfolglos"
    }
});


/***/ }),

/***/ "U5E6":
/*!*********************************************************************************!*\
  !*** ../components/action/bootstrap/action-item-content/action-item-content.ts ***!
  \*********************************************************************************/
/*! exports provided: BsActionItemContent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsActionItemContent", function() { return BsActionItemContent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _core_load_component_load_component_directive__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../core/load-component/load-component.directive */ "/2Dk");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/intl/message.pipe */ "X1Kh");





function BsActionItemContent_ng_container_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainer"](0);
} }
const _c0 = function (a0, a1) { return { component: a0, inputs: a1 }; };
function BsActionItemContent_ng_template_1_ng_container_0_Template(rf, ctx) { if (rf & 1) {
    const _r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0, 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsActionItemContent_ng_template_1_ng_container_0_Template_ng_container_click_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r8); const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r7.componentClick($event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("sqLoadComponent", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction2"](1, _c0, ctx_r5.item.component, ctx_r5.item.componentInputs));
} }
function BsActionItemContent_ng_template_1_div_1_div_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "span", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMapInterpolate1"]("fas fa-check ", ctx_r9.item.selected ? "" : "invisible", "");
} }
function BsActionItemContent_ng_template_1_div_1_div_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "span", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMap"](ctx_r10.item.icon);
} }
function BsActionItemContent_ng_template_1_div_1_div_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "span", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r11 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMap"](ctx_r11.item.iconAfter);
} }
function BsActionItemContent_ng_template_1_div_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsActionItemContent_ng_template_1_div_1_div_1_Template, 2, 3, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, BsActionItemContent_ng_template_1_div_1_div_2_Template, 2, 3, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](5, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](6, BsActionItemContent_ng_template_1_div_1_div_6_Template, 2, 3, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r6.item.showSelected);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !!ctx_r6.item.icon);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](5, 4, ctx_r6.text, ctx_r6.item.messageParams));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !!ctx_r6.item.iconAfter);
} }
function BsActionItemContent_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, BsActionItemContent_ng_template_1_ng_container_0_Template, 1, 4, "ng-container", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsActionItemContent_ng_template_1_div_1_Template, 7, 7, "div", 4);
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !!ctx_r2.item.component);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !!!ctx_r2.item.component);
} }
function BsActionItemContent_ng_template_3_span_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "span", 9);
} if (rf & 2) {
    const ctx_r12 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMap"](ctx_r12.item.icon);
} }
function BsActionItemContent_ng_template_3_span_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "span", 9);
} if (rf & 2) {
    const ctx_r13 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMap"](ctx_r13.item.iconAfter);
} }
function BsActionItemContent_ng_template_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsActionItemContent_ng_template_3_span_1_Template, 1, 3, "span", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](3, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, BsActionItemContent_ng_template_3_span_4_Template, 1, 3, "span", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", ctx_r4.item.styles || "");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !!ctx_r4.item.icon);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](3, 4, ctx_r4.text, ctx_r4.item.messageParams), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !!ctx_r4.item.iconAfter);
} }
class BsActionItemContent {
    componentClick(event) {
        if (this.item.action && !this.item.disabled) {
            this.item.action(this.item, event);
        }
        event.stopPropagation();
        return false;
    }
}
BsActionItemContent.ɵfac = function BsActionItemContent_Factory(t) { return new (t || BsActionItemContent)(); };
BsActionItemContent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsActionItemContent, selectors: [["sq-action-item-content"]], inputs: { item: "item", text: "text", inDropdownMenu: ["in-dropdown-menu", "inDropdownMenu"] }, decls: 5, vars: 3, consts: [[4, "ngIf", "ngIfThen", "ngIfElse"], ["in_dropdown_menu", ""], ["not_in_dropdown_menu", ""], [3, "sqLoadComponent", "click", 4, "ngIf"], ["class", "d-flex flex-row sq-action-item-content-container", 4, "ngIf"], [3, "sqLoadComponent", "click"], [1, "d-flex", "flex-row", "sq-action-item-content-container"], [4, "ngIf"], ["class", "ml-auto", 4, "ngIf"], ["aria-hidden", "true"], [1, "ml-auto"], [3, "ngClass"], ["aria-hidden", "true", 3, "class", 4, "ngIf"]], template: function BsActionItemContent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, BsActionItemContent_ng_container_0_Template, 1, 0, "ng-container", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsActionItemContent_ng_template_1_Template, 2, 2, "ng-template", null, 1, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplateRefExtractor"]);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, BsActionItemContent_ng_template_3_Template, 5, 7, "ng-template", null, 2, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplateRefExtractor"]);
    } if (rf & 2) {
        const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](2);
        const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.inDropdownMenu)("ngIfThen", _r1)("ngIfElse", _r3);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["NgIf"], _core_load_component_load_component_directive__WEBPACK_IMPORTED_MODULE_2__["LoadComponentDirective"], _angular_common__WEBPACK_IMPORTED_MODULE_1__["NgClass"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_3__["MessagePipe"]], styles: [".sq-action-item-content-container[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%]:not(:last-child) {\n    margin-right: 0.25rem;\n}"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsActionItemContent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-action-item-content",
                templateUrl: "./action-item-content.html",
                styles: [`
.sq-action-item-content-container > div:not(:last-child) {
    margin-right: 0.25rem;
}
    `]
            }]
    }], null, { item: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], text: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], inDropdownMenu: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"],
            args: ["in-dropdown-menu"]
        }] }); })();


/***/ }),

/***/ "ULb8":
/*!***************************************************************!*\
  !*** ../components/modal/bootstrap/modal-header.component.ts ***!
  \***************************************************************/
/*! exports provided: BsModalHeader */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsModalHeader", function() { return BsModalHeader; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/modal */ "vMGo");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/intl/message.pipe */ "X1Kh");






function BsModalHeader_h5_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "h5", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 1, ctx_r0.title));
} }
const _c0 = ["*"];
class BsModalHeader {
    constructor(modalRef, injector) {
        this.modalRef = modalRef;
        this.injector = injector;
    }
    // Avoid circular reference (via Confirm)
    get modalService() {
        return this.injector.get(_sinequa_core_modal__WEBPACK_IMPORTED_MODULE_1__["ModalService"]);
    }
    cancel() {
        this.modalRef.close(-2 /* Cancel */);
    }
}
BsModalHeader.ɵfac = function BsModalHeader_Factory(t) { return new (t || BsModalHeader)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_modal__WEBPACK_IMPORTED_MODULE_1__["ModalRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"])); };
BsModalHeader.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsModalHeader, selectors: [["sq-modal-header"]], hostVars: 2, hostBindings: function BsModalHeader_HostBindings(rf, ctx) { if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassProp"]("sq-modal-header", true);
    } }, inputs: { title: "title" }, ngContentSelectors: _c0, decls: 5, vars: 1, consts: [[1, "modal-header"], ["class", "modal-title", 4, "ngIf"], ["type", "button", "data-dismiss", "modal", "aria-hidden", "true", 1, "close", 3, "click"], [1, "modal-title"]], template: function BsModalHeader_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵprojectionDef"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsModalHeader_h5_1_Template, 3, 3, "h5", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵprojection"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "button", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsModalHeader_Template_button_click_3_listener() { return ctx.cancel(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4, "\u00D7");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.title);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_2__["NgIf"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_3__["MessagePipe"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsModalHeader, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-modal-header",
                templateUrl: "./modal-header.component.html"
            }]
    }], function () { return [{ type: _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_1__["ModalRef"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"] }]; }, { title: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], true: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostBinding"],
            args: ["class.sq-modal-header"]
        }] }); })();


/***/ }),

/***/ "URQe":
/*!*************************************!*\
  !*** ../components/labels/index.ts ***!
  \*************************************/
/*! exports provided: LabelsModule, LABELS_COMPONENTS, LabelsService, LabelPipe, Labels, ResultLabels, LabelsAutocomplete, BsLabelsAutocompleteComponent, defaultLabelComponents, BsLabelsModule, BsRenameLabel, BsLabelsMenuComponent, BsDeleteLabel, BsAddLabel, BsEditLabel, enLabels, frLabels, deLabels */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _public_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./public-api */ "3g4L");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "LabelsModule", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["LabelsModule"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "LABELS_COMPONENTS", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["LABELS_COMPONENTS"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "LabelsService", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["LabelsService"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "LabelPipe", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["LabelPipe"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Labels", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["Labels"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ResultLabels", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["ResultLabels"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "LabelsAutocomplete", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["LabelsAutocomplete"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsLabelsAutocompleteComponent", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsLabelsAutocompleteComponent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "defaultLabelComponents", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["defaultLabelComponents"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsLabelsModule", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsLabelsModule"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsRenameLabel", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsRenameLabel"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsLabelsMenuComponent", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsLabelsMenuComponent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsDeleteLabel", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsDeleteLabel"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsAddLabel", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsAddLabel"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsEditLabel", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsEditLabel"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "enLabels", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["enLabels"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "frLabels", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["frLabels"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "deLabels", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["deLabels"]; });




/***/ }),

/***/ "UiKc":
/*!**********************************************!*\
  !*** ../components/selection/messages/en.ts ***!
  \**********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    "resultSelector": {
        "selectDocument": "Select document",
        "unselectDocument": "Unselect document"
    },
    "resultsSelector": {
        "selectDocuments": "{count, selectordinal, =0 {} other {(#)}}",
        "selectDocumentsTitle": "Select documents",
        "unselectDocumentsTitle": "Unselect documents"
    },
    "selection": {
        "selectedDocuments": "{count, plural, =0 {} one {# selected document} other {# selected documents}}"
    }
});


/***/ }),

/***/ "UkvF":
/*!********************************************!*\
  !*** ../components/preview/messages/de.ts ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    "preview": {
        "noDocumentDataErrorPopupTitle": "Fehler beim Laden der Dokumentdaten",
        "highlightsTitle": "Markierungen",
        "noEntityToHighlight": "Keine Markierungen im Dokument verfügbar",
        "termXLabel": "Suchbegriff",
        "otherTerms": "Andere Begriffe",
        "previousDocument": "Vorheriges Dokument",
        "nextDocument": "Nächstes Dokument",
        "originalDocument": "Originales Dokument",
        "selectedHighlight": "Ausgewählte Markierung",
        "noSelectedHighlight": "Keine Markierung ausgewählt",
        "firstHighlightButtonAltText": "Erste Markierung",
        "previousHighlightButtonAltText": "Vorherige Markierung",
        "nextHighlightButtonAltText": "Nächste Markierung",
        "lastHighlightButtonAltText": "Letzte Markierung",
        "highlightFilters": {
            "title": "Filter",
            "keepAll": "Alle",
            "keepNone": "Keine",
            "keepAllInCategory": "Alle",
            "keepNoneInCategory": "Keine"
        },
        "documentPropertiesTitle": "Dokumenteigenschaften",
        "similarDocumentsTitle": "Ähnliche Dokumente",
        "showAll": "Zeige alle Werte",
        "sortAlphabetically": "Alphabetische Sortierung",
        "sortFrequency": "Sortierung nach Häufigkeit",
        "loading": "Laden...",
        "noextract": "kein Auszug",
        "search": "Suche",
        "gotopage": "Zur Seite gehen",
        "page": "Seite {page}",
        "current": "aktuell"
    },
    "facet": {
        "preview": {
            "closeTitle": "Schließen",
            "expandTitle": "Maximieren",
            "minimize": "Rauszoomen",
            "maximize": "hineinzoomen",
            "toggleExtracts": "Schalten Sie die Hervorhebung relevanter Auszüge um",
            "toggleEntities": "Schalten Sie die Hervorhebung von Objekten"
        }
    }
});


/***/ }),

/***/ "UusF":
/*!**********************************************!*\
  !*** ../components/modal/bootstrap/index.ts ***!
  \**********************************************/
/*! exports provided: BsModalModule, BsConfirm, BsPrompt, BsEditable, BsHelp, BsLogin, BsModalFooter, BsModalHeader, BsModal, BsOverrideUser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _public_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./public-api */ "Cbsm");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsModalModule", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsModalModule"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsConfirm", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsConfirm"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsPrompt", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsPrompt"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsEditable", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsEditable"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsHelp", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsHelp"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsLogin", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsLogin"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsModalFooter", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsModalFooter"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsModalHeader", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsModalHeader"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsModal", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsModal"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsOverrideUser", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsOverrideUser"]; });




/***/ }),

/***/ "UuwM":
/*!************************************************!*\
  !*** ../core/web-services/module.providers.ts ***!
  \************************************************/
/*! exports provided: WEB_SERVICES_MODULE_PROVIDERS */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WEB_SERVICES_MODULE_PROVIDERS", function() { return WEB_SERVICES_MODULE_PROVIDERS; });
const WEB_SERVICES_MODULE_PROVIDERS = [];



/***/ }),

/***/ "UvRH":
/*!*********************************************!*\
  !*** ../components/metadata/messages/fr.ts ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    metadata: {
        extractslocationsLabel: "Extrait pertinent",
        extractslocationsPluralLabel: "Extraits pertinents",
        geoLabel: "Lieu",
        geoPluralLabel: "Lieux",
        personLabel: "Personne",
        personPluralLabel: "Personnes",
        companyLabel: "Société",
        companyPluralLabel: "Sociétés",
        treepathLabel: "Source",
        treepathPluralLabel: "Sources",
        matchlocationsLabel: "Terme recherché",
        matchlocationsPluralLabel: "Termes recherchés",
        titleLabel: "Titre",
        titlePluralLabel: "Titres",
        authorsLabel: "Auteur",
        authorsPluralLabel: "Auteurs",
        filenameLabel: "Nom de fichier",
        filenamePluralLabel: "Noms de fichiers",
        modifiedLabel: "Date",
        modifiedPluralLabel: "Dates",
        sizeLabel: "Taille",
        sizePluralLabel: "Tailles",
        docformatLabel: "Format",
        docformatPluralLabel: "Formats",
        documentlanguagesLabel: "Langue",
        documentlanguagesPluralLabel: "Langues",
        geo_label: "Lieu",
        geo_plural_label: "Lieux",
        person_label: "Personne",
        person_plural_label: "Personnes",
        company_label: "Société",
        company_plural_label: "Sociétés",
        treepath_label: "Source",
        treepath_plural_label: "Sources",
        title_label: "Titre",
        title_plural_label: "Titres",
        authors_label: "Auteur",
        authors_plural_label: "Auteurs",
        filename_label: "Nom de fichier",
        filename_plural_label: "Noms de fichiers",
        modified_label: "Date",
        modified_plural_label: "Dates",
        size_label: "Taille",
        size_plural_label: "Tailles",
        docformat_label: "Format",
        docformat_plural_label: "Formats",
        documentlanguages_label: "Langue",
        documentlanguages_plural_label: "Langues",
        accessLists: {
            authorizedListTitleText: "Accès autorisés",
            authorizedListHeader: "Liste d'accès autorisés {value, number}",
            deniedListTitleText: "Accès refusés",
            deniedListHeader: "Liste d'accès refusés {value, number}"
        },
        item: {
            label: "{label}:",
            separator: "|",
            treeSeparator: " ; ",
            treeNodeSeparator: "/",
            listSeparator: ", ",
            empty_boolean: 'false',
            empty_number: '0'
        }
    },
});


/***/ }),

/***/ "VDPn":
/*!*******************************************************!*\
  !*** ../components/utils/directives/click-outside.ts ***!
  \*******************************************************/
/*! exports provided: ClickOutside */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ClickOutside", function() { return ClickOutside; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");



class ClickOutside {
    constructor(elementRef) {
        this.clickOutside = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.clickHandler = (event) => {
            if (!event || !event.target) {
                return;
            }
            if (this.element.offsetWidth === 0) {
                return;
            }
            if (event.target === document.body && document.elementFromPoint(event.pageX, event.pageY) !== event.target) {
                return;
            }
            if (this.element.contains(event.target)) {
                return;
            }
            if (this.options.exclude) {
                let targetRoot = event.target;
                while (!!targetRoot.parentElement) {
                    targetRoot = targetRoot.parentElement;
                }
                for (const selector of this.options.exclude) {
                    const elts = Array.from(targetRoot.querySelectorAll(selector));
                    for (const elt of elts) {
                        if (elt && elt.contains(event.target)) {
                            return;
                        }
                    }
                }
            }
            // Call via timeout so we can check whether the click was leading to us taking focus
            // If we have the focus then we don't call clickOutside
            _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].delay()
                .then(() => {
                if (!this.isActive(this.element)) {
                    this.clickOutside.emit({ click: event });
                }
            });
        };
        this.element = elementRef.nativeElement;
    }
    ngOnInit() {
        document.addEventListener("click", this.clickHandler);
        if (!this.options) {
            this.options = { exclude: ['.bs-datepicker'] }; // By default exclude bootstrap date picker
        }
    }
    ngOnDestroy() {
        document.removeEventListener("click", this.clickHandler);
    }
    isActive(element) {
        let active = document["activeElement"];
        while (active) {
            if (element === active) {
                return true;
            }
            active = active.parentElement;
        }
        return false;
    }
}
ClickOutside.ɵfac = function ClickOutside_Factory(t) { return new (t || ClickOutside)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"])); };
ClickOutside.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({ type: ClickOutside, selectors: [["", "sqClickOutside", ""]], inputs: { options: ["sqClickOutside", "options"] }, outputs: { clickOutside: "sqClickOutside" } });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ClickOutside, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Directive"],
        args: [{
                selector: "[sqClickOutside]"
            }]
    }], function () { return [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"] }]; }, { options: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"],
            args: ["sqClickOutside"]
        }], clickOutside: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"],
            args: ["sqClickOutside"]
        }] }); })();


/***/ }),

/***/ "VEOA":
/*!**************************************************!*\
  !*** ../components/selection/bootstrap/index.ts ***!
  \**************************************************/
/*! exports provided: BsResultSelector, BsResultsSelector, BsSelectionModule, BsSelectionArranger */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _public_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./public-api */ "ENc8");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsResultSelector", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsResultSelector"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsResultsSelector", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsResultsSelector"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsSelectionModule", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsSelectionModule"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsSelectionArranger", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsSelectionArranger"]; });




/***/ }),

/***/ "VEf0":
/*!***********************************************************************************************!*\
  !*** ../components/advanced/bootstrap/advanced-form-multi-input/advanced-form-multi-input.ts ***!
  \***********************************************************************************************/
/*! exports provided: BsAdvancedFormMultiInput */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsAdvancedFormMultiInput", function() { return BsAdvancedFormMultiInput; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/app-utils */ "SBPP");
/* harmony import */ var _advanced_form_validation_directive__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../advanced-form-validation.directive */ "TyST");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _advanced_form_autocomplete_multi_input_directive__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./advanced-form-autocomplete-multi-input.directive */ "xwCo");
/* harmony import */ var _autocomplete_bootstrap_autocomplete_list_autocomplete_list__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../autocomplete/bootstrap/autocomplete-list/autocomplete-list */ "0Tqz");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/intl/message.pipe */ "X1Kh");









function BsAdvancedFormMultiInput_span_6_Template(rf, ctx) { if (rf & 1) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "span", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsAdvancedFormMultiInput_span_6_Template_span_click_2_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r6); const item_r4 = ctx.$implicit; const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r5.removeItem(item_r4); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const item_r4 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", item_r4.display, " ");
} }
function BsAdvancedFormMultiInput_ng_template_10_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const item_r7 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"]("", item_r7.display, " ");
} }
/**
 * Component representing a text input that accepts multiple entries.
 * This component also performs value validation on each entry.
 *
 */
class BsAdvancedFormMultiInput {
    constructor(elementRef, appService) {
        this.elementRef = elementRef;
        this.appService = appService;
        this.items = []; /** List of items already existing in the advanced search */
    }
    ngOnChanges() {
        if (this.label === undefined) {
            this.label = this.appService.getPluralLabel(this.field);
        }
        this.control = this.form.get(this.field);
        if (this.control) {
            this.items = this.control.value
                ? (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].isArray(this.control.value)
                    ? this.control.value
                    : [this.control.value]).map((item) => {
                    return {
                        display: item.display ? item.display : item.value.toString(),
                        normalized: item.value.toString(),
                        category: "",
                    };
                })
                : [];
            this._valueChangesSubscription = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].subscribe(this.control.valueChanges, (value) => {
                if (value && !_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].isArray(value)) {
                    value = [value];
                }
                this.items = value
                    ? value.map((item) => {
                        return {
                            display: item.display ? item.display : item.value.toString(),
                            normalized: item.value.toString(),
                            category: "",
                        };
                    })
                    : [];
            });
        }
        else {
            throw new Error("No form control named " + this.field);
        }
    }
    ngOnDestroy() {
        if (this._valueChangesSubscription) {
            this._valueChangesSubscription.unsubscribe();
        }
    }
    removeItem(item) {
        this.items.splice(this.items.indexOf(item), 1);
        this._updateControl();
    }
    onItemsChanged(items) {
        this.items = items;
        this._updateControl();
    }
    keydown(event) {
        // Intercept tab and set focus to surrounding dropdown-item
        if (event.keyCode === _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Keys"].tab) {
            const dropdownItem = this._getDropdownItem();
            if (dropdownItem) {
                dropdownItem.focus();
                event.preventDefault();
                return false;
            }
        }
        return undefined;
    }
    keypress(event) {
        if (event.keyCode === _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Keys"].enter) {
            // Stop click event firing on surrounding anchor (Firefox)
            event.preventDefault();
            return false;
        }
        return undefined;
    }
    _updateControl() {
        var _a, _b;
        const value = this.items.length > 0
            ? this.items.map((item) => ({
                value: item.normalized,
                display: item.display
            }))
            : undefined;
        (_a = this.control) === null || _a === void 0 ? void 0 : _a.markAsDirty();
        (_b = this.control) === null || _b === void 0 ? void 0 : _b.setValue(value, { emitEvent: false });
    }
    _getDropdownItem() {
        if (this.elementRef) {
            let current = this.elementRef
                .nativeElement;
            while (current && !current.classList.contains("dropdown-item")) {
                current = current.parentElement;
            }
            return current;
        }
        return null;
    }
}
BsAdvancedFormMultiInput.ɵfac = function BsAdvancedFormMultiInput_Factory(t) { return new (t || BsAdvancedFormMultiInput)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_2__["AppService"])); };
BsAdvancedFormMultiInput.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsAdvancedFormMultiInput, selectors: [["sq-advanced-form-multi-input"]], inputs: { form: "form", field: "field", suggestQuery: "suggestQuery", label: "label" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 12, vars: 11, consts: [[1, "d-inline"], [1, "sq-dropdown-form"], ["sqAdvancedFormValidation", "", 1, "form-control", "multi-entry", 3, "field", "validationForm"], ["class", "badge badge-pill badge-secondary align-self-center mr-1", 4, "ngFor", "ngForOf"], ["type", "text", "autocomplete", "off", "spellcheck", "off", "sqAdvancedFormAutocompleteMultiInput", "", 1, "input-autocomplete", "flex-grow-1", 3, "field", "off", "suggestQuery", "items", "dropdown", "itemsUpdate", "keydown", "keypress"], ["dropdown", ""], ["itemTpl", ""], [1, "badge", "badge-pill", "badge-secondary", "align-self-center", "mr-1"], [1, "fas", "fa-times-circle", "clickable", 3, "click"], [1, "autocomplete-item", "p-2"]], template: function BsAdvancedFormMultiInput_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "label");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](3, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "section", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](6, BsAdvancedFormMultiInput_span_6_Template, 3, 1, "span", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "input", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("itemsUpdate", function BsAdvancedFormMultiInput_Template_input_itemsUpdate_7_listener($event) { return ctx.onItemsChanged($event); })("keydown", function BsAdvancedFormMultiInput_Template_input_keydown_7_listener($event) { return ctx.keydown($event); })("keypress", function BsAdvancedFormMultiInput_Template_input_keypress_7_listener($event) { return ctx.keypress($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "sq-autocomplete-list", null, 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](10, BsAdvancedFormMultiInput_ng_template_10_Template, 2, 1, "ng-template", null, 6, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplateRefExtractor"]);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](9);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](3, 9, ctx.label));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("field", ctx.field)("validationForm", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.items);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("field", ctx.field)("off", !ctx.suggestQuery)("suggestQuery", ctx.suggestQuery)("items", ctx.items)("dropdown", _r1);
    } }, directives: [_advanced_form_validation_directive__WEBPACK_IMPORTED_MODULE_3__["BsAdvancedFormValidation"], _angular_common__WEBPACK_IMPORTED_MODULE_4__["NgForOf"], _advanced_form_autocomplete_multi_input_directive__WEBPACK_IMPORTED_MODULE_5__["BsAdvancedFormAutocompleteMultiInput"], _autocomplete_bootstrap_autocomplete_list_autocomplete_list__WEBPACK_IMPORTED_MODULE_6__["BsAutocompleteList"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_7__["MessagePipe"]], styles: [".sq-dropdown-form[_ngcontent-%COMP%] {\n  min-width: 13rem;\n  display: inline;\n}\n\n.disabled[_ngcontent-%COMP%] {\n  cursor: not-allowed;\n}\n\n.clickable[_ngcontent-%COMP%] {\n  cursor: pointer;\n}\n\n.clickable[_ngcontent-%COMP%]:hover {\n  opacity: 85%;\n}\n\n.multi-entry[_ngcontent-%COMP%] {\n  width: 100%;\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  height: unset !important;\n}\n\n[_nghost-%COMP%]   input[_ngcontent-%COMP%] {\n  border: none;\n  flex-grow: 1;\n  flex-basis: 100px;\n  min-width: 100px;\n}\n\n[_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus {\n  outline: none;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2plY3RzL2NvbXBvbmVudHMvYWR2YW5jZWQvYm9vdHN0cmFwL2FkdmFuY2VkLWZvcm0tbXVsdGktaW5wdXQvYWR2YW5jZWQtZm9ybS1tdWx0aS1pbnB1dC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsZ0JBQUE7RUFDQSxlQUFBO0FBQ0Y7O0FBRUE7RUFDRSxtQkFBQTtBQUNGOztBQUVBO0VBQ0UsZUFBQTtBQUNGOztBQUVBO0VBQ0UsWUFBQTtBQUNGOztBQUVBO0VBQ0UsV0FBQTtFQUNBLGFBQUE7RUFDQSxlQUFBO0VBQ0EsbUJBQUE7RUFDQSx3QkFBQTtBQUNGOztBQUVBO0VBQ0UsWUFBQTtFQUNBLFlBQUE7RUFDQSxpQkFBQTtFQUNBLGdCQUFBO0FBQ0Y7O0FBRUE7RUFDRSxhQUFBO0FBQ0YiLCJmaWxlIjoicHJvamVjdHMvY29tcG9uZW50cy9hZHZhbmNlZC9ib290c3RyYXAvYWR2YW5jZWQtZm9ybS1tdWx0aS1pbnB1dC9hZHZhbmNlZC1mb3JtLW11bHRpLWlucHV0LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuc3EtZHJvcGRvd24tZm9ybSB7XG4gIG1pbi13aWR0aDogMTNyZW07XG4gIGRpc3BsYXk6IGlubGluZTtcbn1cblxuLmRpc2FibGVkIHtcbiAgY3Vyc29yOiBub3QtYWxsb3dlZDtcbn1cblxuLmNsaWNrYWJsZSB7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cblxuLmNsaWNrYWJsZTpob3ZlciB7XG4gIG9wYWNpdHk6IDg1JTtcbn1cblxuLm11bHRpLWVudHJ5IHtcbiAgd2lkdGg6IDEwMCU7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtd3JhcDogd3JhcDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgaGVpZ2h0OiB1bnNldCAhaW1wb3J0YW50O1xufVxuXG46aG9zdCBpbnB1dCB7XG4gIGJvcmRlcjogbm9uZTtcbiAgZmxleC1ncm93OiAxO1xuICBmbGV4LWJhc2lzOiAxMDBweDtcbiAgbWluLXdpZHRoOiAxMDBweDtcbn1cblxuOmhvc3QgaW5wdXQ6Zm9jdXMge1xuICBvdXRsaW5lOiBub25lO1xufSJdfQ== */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsAdvancedFormMultiInput, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-advanced-form-multi-input",
                templateUrl: "./advanced-form-multi-input.html",
                styleUrls: ["./advanced-form-multi-input.scss"],
            }]
    }], function () { return [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"] }, { type: _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_2__["AppService"] }]; }, { form: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], field: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], suggestQuery: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], label: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "VIZk":
/*!************************************************!*\
  !*** ../components/utils/pipes/moment-pipe.ts ***!
  \************************************************/
/*! exports provided: MomentPipe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MomentPipe", function() { return MomentPipe; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/intl */ "EfqX");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! moment */ "wgY5");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_2__);





class MomentPipe extends _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_1__["AbstractIntlPipe"] {
    constructor(intlService, changeDetectorRef) {
        super(intlService, changeDetectorRef);
    }
    updateValue(key, params = {}) {
        super.updateValue(key, params);
        const m = moment__WEBPACK_IMPORTED_MODULE_2___default()(key);
        if (params.format) {
            this.value = m.format(params.format);
        }
        else {
            switch (params.type) {
                case "fromNow":
                    this.value = m.fromNow(params.suffix);
                    break;
                case "from":
                    this.value = m.from(params.reference, params.suffix);
                    break;
                case "toNow":
                    this.value = m.toNow(params.suffix);
                    break;
                case "to":
                    this.value = m.to(params.reference, params.suffix);
                    break;
                case "calendar":
                    this.value = m.calendar(params.reference);
                    break;
                case "diff":
                    this.value = "" + m.diff(params.reference, params.unit, params.precise);
                    break;
                case "valueOf":
                    this.value = "" + m.valueOf();
                    break;
                case "unix":
                    this.value = "" + m.unix();
                    break;
                case "daysInMonth":
                    this.value = "" + m.daysInMonth();
                    break;
                case "iso":
                    this.value = m.toISOString();
                    break;
            }
        }
    }
}
MomentPipe.ɵfac = function MomentPipe_Factory(t) { return new (t || MomentPipe)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_intl__WEBPACK_IMPORTED_MODULE_1__["IntlService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinjectPipeChangeDetectorRef"]()); };
MomentPipe.ɵpipe = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefinePipe"]({ name: "sqMoment", type: MomentPipe, pure: false });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](MomentPipe, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Pipe"],
        args: [{ name: "sqMoment", pure: false }]
    }], function () { return [{ type: _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_1__["IntlService"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] }]; }, null); })();


/***/ }),

/***/ "VZTv":
/*!***********************************************!*\
  !*** ../components/alerts/bootstrap/index.ts ***!
  \***********************************************/
/*! exports provided: BsAlertsModule, BsAlertsMenuComponent, BsEditAlert, BsManageAlerts */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _public_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./public-api */ "LWKG");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsAlertsModule", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsAlertsModule"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsAlertsMenuComponent", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsAlertsMenuComponent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsEditAlert", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsEditAlert"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsManageAlerts", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsManageAlerts"]; });




/***/ }),

/***/ "VqmR":
/*!*********************************************!*\
  !*** ../components/result/result-module.ts ***!
  \*********************************************/
/*! exports provided: ResultModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ResultModule", function() { return ResultModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "nIj0");
/* harmony import */ var _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/intl */ "EfqX");
/* harmony import */ var _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/components/utils */ "DD1E");
/* harmony import */ var _sinequa_components_collapse__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sinequa/components/collapse */ "niHV");
/* harmony import */ var _sinequa_components_metadata__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @sinequa/components/metadata */ "l9Gu");
/* harmony import */ var _result_title_result_title__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./result-title/result-title */ "HBFV");
/* harmony import */ var _result_source_result_source__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./result-source/result-source */ "0UXu");
/* harmony import */ var _result_extracts_result_extracts__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./result-extracts/result-extracts */ "PM2X");
/* harmony import */ var _result_missing_terms_result_missing_terms__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./result-missing-terms/result-missing-terms */ "8LMT");
/* harmony import */ var _result_thumbnail_result_thumbnail__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./result-thumbnail/result-thumbnail */ "L67x");
/* harmony import */ var _user_rating_user_rating__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./user-rating/user-rating */ "qvST");
/* harmony import */ var _sponsored_results_sponsored_results__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./sponsored-results/sponsored-results */ "d4ai");
/* harmony import */ var _results_counter_results_counter__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./results-counter/results-counter */ "fPNs");
/* harmony import */ var _result_icon_result_icon__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./result-icon/result-icon */ "6sWL");

















class ResultModule {
}
ResultModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: ResultModule });
ResultModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function ResultModule_Factory(t) { return new (t || ResultModule)(); }, imports: [[
            _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"], _angular_forms__WEBPACK_IMPORTED_MODULE_2__["ReactiveFormsModule"],
            _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_3__["IntlModule"],
            _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_4__["UtilsModule"],
            _sinequa_components_collapse__WEBPACK_IMPORTED_MODULE_5__["CollapseModule"],
            _sinequa_components_metadata__WEBPACK_IMPORTED_MODULE_6__["MetadataModule"]
        ]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](ResultModule, { declarations: [_result_title_result_title__WEBPACK_IMPORTED_MODULE_7__["ResultTitle"], _result_extracts_result_extracts__WEBPACK_IMPORTED_MODULE_9__["ResultExtracts"],
        _result_missing_terms_result_missing_terms__WEBPACK_IMPORTED_MODULE_10__["ResultMissingTerms"],
        _result_thumbnail_result_thumbnail__WEBPACK_IMPORTED_MODULE_11__["ResultThumbnail"], _user_rating_user_rating__WEBPACK_IMPORTED_MODULE_12__["UserRating"],
        _sponsored_results_sponsored_results__WEBPACK_IMPORTED_MODULE_13__["SponsoredResults"], _results_counter_results_counter__WEBPACK_IMPORTED_MODULE_14__["ResultsCounter"],
        _result_icon_result_icon__WEBPACK_IMPORTED_MODULE_15__["ResultIcon"], _result_source_result_source__WEBPACK_IMPORTED_MODULE_8__["ResultSource"]], imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
        _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"], _angular_forms__WEBPACK_IMPORTED_MODULE_2__["ReactiveFormsModule"],
        _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_3__["IntlModule"],
        _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_4__["UtilsModule"],
        _sinequa_components_collapse__WEBPACK_IMPORTED_MODULE_5__["CollapseModule"],
        _sinequa_components_metadata__WEBPACK_IMPORTED_MODULE_6__["MetadataModule"]], exports: [_result_title_result_title__WEBPACK_IMPORTED_MODULE_7__["ResultTitle"], _result_extracts_result_extracts__WEBPACK_IMPORTED_MODULE_9__["ResultExtracts"],
        _result_missing_terms_result_missing_terms__WEBPACK_IMPORTED_MODULE_10__["ResultMissingTerms"],
        _result_thumbnail_result_thumbnail__WEBPACK_IMPORTED_MODULE_11__["ResultThumbnail"], _user_rating_user_rating__WEBPACK_IMPORTED_MODULE_12__["UserRating"],
        _sponsored_results_sponsored_results__WEBPACK_IMPORTED_MODULE_13__["SponsoredResults"], _results_counter_results_counter__WEBPACK_IMPORTED_MODULE_14__["ResultsCounter"],
        _result_icon_result_icon__WEBPACK_IMPORTED_MODULE_15__["ResultIcon"], _result_source_result_source__WEBPACK_IMPORTED_MODULE_8__["ResultSource"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ResultModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                    _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"], _angular_forms__WEBPACK_IMPORTED_MODULE_2__["ReactiveFormsModule"],
                    _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_3__["IntlModule"],
                    _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_4__["UtilsModule"],
                    _sinequa_components_collapse__WEBPACK_IMPORTED_MODULE_5__["CollapseModule"],
                    _sinequa_components_metadata__WEBPACK_IMPORTED_MODULE_6__["MetadataModule"]
                ],
                declarations: [
                    _result_title_result_title__WEBPACK_IMPORTED_MODULE_7__["ResultTitle"], _result_extracts_result_extracts__WEBPACK_IMPORTED_MODULE_9__["ResultExtracts"],
                    _result_missing_terms_result_missing_terms__WEBPACK_IMPORTED_MODULE_10__["ResultMissingTerms"],
                    _result_thumbnail_result_thumbnail__WEBPACK_IMPORTED_MODULE_11__["ResultThumbnail"], _user_rating_user_rating__WEBPACK_IMPORTED_MODULE_12__["UserRating"],
                    _sponsored_results_sponsored_results__WEBPACK_IMPORTED_MODULE_13__["SponsoredResults"], _results_counter_results_counter__WEBPACK_IMPORTED_MODULE_14__["ResultsCounter"],
                    _result_icon_result_icon__WEBPACK_IMPORTED_MODULE_15__["ResultIcon"], _result_source_result_source__WEBPACK_IMPORTED_MODULE_8__["ResultSource"]
                ],
                exports: [
                    _result_title_result_title__WEBPACK_IMPORTED_MODULE_7__["ResultTitle"], _result_extracts_result_extracts__WEBPACK_IMPORTED_MODULE_9__["ResultExtracts"],
                    _result_missing_terms_result_missing_terms__WEBPACK_IMPORTED_MODULE_10__["ResultMissingTerms"],
                    _result_thumbnail_result_thumbnail__WEBPACK_IMPORTED_MODULE_11__["ResultThumbnail"], _user_rating_user_rating__WEBPACK_IMPORTED_MODULE_12__["UserRating"],
                    _sponsored_results_sponsored_results__WEBPACK_IMPORTED_MODULE_13__["SponsoredResults"], _results_counter_results_counter__WEBPACK_IMPORTED_MODULE_14__["ResultsCounter"],
                    _result_icon_result_icon__WEBPACK_IMPORTED_MODULE_15__["ResultIcon"], _result_source_result_source__WEBPACK_IMPORTED_MODULE_8__["ResultSource"]
                ]
            }]
    }], null, null); })();


/***/ }),

/***/ "VvWf":
/*!*******************************************************************************!*\
  !*** ../components/status-bar/bootstrap/network-activity/network-activity.ts ***!
  \*******************************************************************************/
/*! exports provided: BsNetworkActivity */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsNetworkActivity", function() { return BsNetworkActivity; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_notification__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/notification */ "mkLw");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/intl/message.pipe */ "X1Kh");





const _c0 = function (a0) { return { "blink": a0 }; };
class BsNetworkActivity {
    constructor(notificationsService, changeDetectorRef) {
        this.notificationsService = notificationsService;
        this.changeDetectorRef = changeDetectorRef;
    }
    ngOnInit() {
        this.unbind();
        this.bind();
    }
    ngOnDestroy() {
        this.unbind();
    }
    bind() {
        this.subscription = this.notificationsService.events.subscribe((value) => {
            this.active = this.notificationsService.get("network") > 0;
            setTimeout(() => this.changeDetectorRef.markForCheck(), 0); // Value can switch synchronously => this can cause "Expression has changed" error
        });
    }
    unbind() {
        if (this.subscription) {
            this.subscription.unsubscribe();
            this.subscription = undefined;
        }
    }
}
BsNetworkActivity.ɵfac = function BsNetworkActivity_Factory(t) { return new (t || BsNetworkActivity)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_notification__WEBPACK_IMPORTED_MODULE_1__["NotificationsService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"])); };
BsNetworkActivity.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsNetworkActivity, selectors: [["sq-network-activity"]], decls: 5, vars: 6, consts: [[1, "btn-toolbar"], [1, "btn-group"], [1, "btn-text", 3, "title"], [1, "fas", "fa-bolt", 3, "ngClass"]], template: function BsNetworkActivity_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](3, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](4, "span", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("title", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](3, 2, "msg#statusbar.networkActivity"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](4, _c0, ctx.active));
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_2__["NgClass"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_3__["MessagePipe"]], styles: ["@-webkit-keyframes blink {\n  0% {\n    opacity: 1;\n  }\n  25% {\n    opacity: 0.25;\n  }\n  50% {\n    opacity: 0.5;\n  }\n  75% {\n    opacity: 0.75;\n  }\n  100% {\n    opacity: 0;\n  }\n}\n@keyframes blink {\n  0% {\n    opacity: 1;\n  }\n  25% {\n    opacity: 0.25;\n  }\n  50% {\n    opacity: 0.5;\n  }\n  75% {\n    opacity: 0.75;\n  }\n  100% {\n    opacity: 0;\n  }\n}\n.blink[_ngcontent-%COMP%] {\n  -webkit-animation: blink 0.75s linear infinite;\n          animation: blink 0.75s linear infinite;\n  color: red;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2plY3RzL2NvbXBvbmVudHMvc3RhdHVzLWJhci9ib290c3RyYXAvbmV0d29yay1hY3Rpdml0eS9uZXR3b3JrLWFjdGl2aXR5LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRTtJQUNFLFVBQUE7RUFDRjtFQUNBO0lBQ0UsYUFBQTtFQUNGO0VBQ0E7SUFDRSxZQUFBO0VBQ0Y7RUFDQTtJQUNFLGFBQUE7RUFDRjtFQUNBO0lBQ0UsVUFBQTtFQUNGO0FBQ0Y7QUFoQkE7RUFDRTtJQUNFLFVBQUE7RUFDRjtFQUNBO0lBQ0UsYUFBQTtFQUNGO0VBQ0E7SUFDRSxZQUFBO0VBQ0Y7RUFDQTtJQUNFLGFBQUE7RUFDRjtFQUNBO0lBQ0UsVUFBQTtFQUNGO0FBQ0Y7QUFDQTtFQUNFLDhDQUFBO1VBQUEsc0NBQUE7RUFDQSxVQUFBO0FBQ0YiLCJmaWxlIjoicHJvamVjdHMvY29tcG9uZW50cy9zdGF0dXMtYmFyL2Jvb3RzdHJhcC9uZXR3b3JrLWFjdGl2aXR5L25ldHdvcmstYWN0aXZpdHkuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIkBrZXlmcmFtZXMgYmxpbmsge1xuICAwJSB7XG4gICAgb3BhY2l0eTogMTtcbiAgfVxuICAyNSUge1xuICAgIG9wYWNpdHk6IDAuMjU7XG4gIH1cbiAgNTAlIHtcbiAgICBvcGFjaXR5OiAwLjU7XG4gIH1cbiAgNzUlIHtcbiAgICBvcGFjaXR5OiAwLjc1O1xuICB9XG4gIDEwMCUge1xuICAgIG9wYWNpdHk6IDA7XG4gIH1cbn1cbi5ibGluayB7XG4gIGFuaW1hdGlvbjogYmxpbmsgMC43NXMgbGluZWFyIGluZmluaXRlO1xuICBjb2xvcjogcmVkO1xufSJdfQ== */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsNetworkActivity, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-network-activity",
                templateUrl: "./network-activity.html",
                styleUrls: ["./network-activity.scss"]
            }]
    }], function () { return [{ type: _sinequa_core_notification__WEBPACK_IMPORTED_MODULE_1__["NotificationsService"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] }]; }, null); })();


/***/ }),

/***/ "VxCu":
/*!*****************************************************!*\
  !*** ../components/search/bootstrap/pager/pager.ts ***!
  \*****************************************************/
/*! exports provided: BsPager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsPager", function() { return BsPager; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _search_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../search.service */ "TJtf");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/intl/message.pipe */ "X1Kh");
/* harmony import */ var _utils_pipes_number_pipe__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../utils/pipes/number-pipe */ "FbeZ");







const _c0 = function (a0) { return { page: a0 }; };
const _c1 = function (a0) { return { values: a0 }; };
const _c2 = function (a0, a1, a2, a3, a4) { return { "active": a0, "disabled": a1, "sq-navigation": a2, "sq-page": a3, "sq-ellipsis": a4 }; };
function BsPager_ul_0_li_1_Template(rf, ctx) { if (rf & 1) {
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "li", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsPager_ul_0_li_1_Template_li_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r4); const item_r2 = ctx.$implicit; const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r3.gotoPage(item_r2.page); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "a", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](5, "sqNumber");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const item_r2 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("title", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](1, 3, item_r2.title, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](10, _c1, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](8, _c0, item_r2.page))));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction5"](12, _c2, item_r2.active, item_r2.disabled, item_r2.isNavigation, item_r2.isPage, item_r2.isEllipsis));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](5, 6, item_r2.display));
} }
function BsPager_ul_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "ul", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsPager_ul_0_li_1_Template, 6, 18, "li", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx_r0.items);
} }
class BsPager {
    constructor(searchService) {
        this.searchService = searchService;
        this.showNavigation = true;
        this.showFirstLast = true;
        this.showPages = true;
        this.endPages = 1;
        this.pages = 5;
        this.pageCount = 0;
    }
    ngOnChanges(changes) {
        if (changes["results"]) {
            this.makeItems();
        }
    }
    makeItems() {
        this.pageCount = this.searchService.pageCount;
        this.currentPage = this.searchService.page;
        if (this.pageCount === 0) {
            this.items = undefined;
            return;
        }
        let endPages = this.endPages;
        if (!endPages || endPages <= 0) {
            endPages = 1;
        }
        const endWidth = endPages + 1; // +1 for the …
        let pages = this.pages;
        if (!pages) {
            pages = 3 + endWidth * 2;
        }
        if (pages < 3 + endWidth * 2) {
            pages = 3 + endWidth * 2; // 3 is the minimum number of pages to show between the … separators
        }
        let split1 = -1, split2 = -1;
        if (this.pageCount <= pages) {
            pages = this.pageCount;
        }
        else {
            // pages must be an odd number to accommodate:  (First page) … (Current page - 1) (Current page) (Current page + 1) … (Last page)
            pages = Math.floor(pages / 2) * 2 + 1;
            const mid = pages - endWidth * 2;
            const delta = Math.floor(mid / 2);
            if ((this.currentPage - delta) > endPages + 1 + 1) {
                split1 = this.currentPage - delta;
            }
            if ((this.currentPage + delta) < (this.pageCount - endWidth)) {
                split2 = this.currentPage + delta;
            }
            if (split1 === -1 && split2 !== -1) {
                split2 += endPages + 1 + 1 - (this.currentPage - delta);
            }
            else if (split2 === -1 && split1 !== -1) {
                split1 -= (this.currentPage + delta) - (this.pageCount - endWidth);
            }
        }
        this.items = [];
        if (this.showNavigation) {
            if (this.showFirstLast) {
                this.items.push(new BsPager.Item(1, this.currentPage, BsPager.FIRST_PAGE, "msg#pager.firstPage"));
            }
            this.items.push(new BsPager.Item(this.currentPage > 1 ? this.currentPage - 1 : 1, this.currentPage, BsPager.PREVIOUS_PAGE, "msg#pager.previousPage"));
        }
        if (this.showPages) {
            for (let i = 1, ic = split1 !== -1 ? endPages : split2 !== -1 ? split2 : this.pageCount; i <= ic; i++) {
                this.items.push(new BsPager.Item(i, this.currentPage));
            }
            if (split1 !== -1) {
                this.items.push(new BsPager.Item(0, this.currentPage, BsPager.ELLIPSIS));
                for (let i = split1, ic = split2 !== -1 ? split2 : this.pageCount; i <= ic; i++) {
                    this.items.push(new BsPager.Item(i, this.currentPage));
                }
            }
            if (split2 !== -1) {
                this.items.push(new BsPager.Item(0, this.currentPage, BsPager.ELLIPSIS));
                for (let i = this.pageCount - endPages + 1, ic = this.pageCount; i <= ic; i++) {
                    this.items.push(new BsPager.Item(i, this.currentPage));
                }
            }
        }
        if (this.showNavigation) {
            this.items.push(new BsPager.Item(this.currentPage < this.pageCount ? this.currentPage + 1 : this.pageCount, this.currentPage, BsPager.NEXT_PAGE, "msg#pager.nextPage"));
            if (this.showFirstLast) {
                this.items.push(new BsPager.Item(this.pageCount, this.currentPage, BsPager.LAST_PAGE, "msg#pager.lastPage"));
            }
        }
    }
    gotoPage(page) {
        if (page !== this.currentPage && page > 0) {
            this.searchService.gotoPage(page);
        }
    }
}
BsPager.FIRST_PAGE = "«";
BsPager.PREVIOUS_PAGE = "‹";
BsPager.NEXT_PAGE = "›";
BsPager.LAST_PAGE = "»";
BsPager.ELLIPSIS = "…";
BsPager.ɵfac = function BsPager_Factory(t) { return new (t || BsPager)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_search_service__WEBPACK_IMPORTED_MODULE_2__["SearchService"])); };
BsPager.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsPager, selectors: [["sq-pager"]], inputs: { results: "results", showNavigation: "showNavigation", showFirstLast: "showFirstLast", showPages: "showPages", endPages: "endPages", pages: "pages" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 1, vars: 1, consts: [["class", "pagination my-0", 4, "ngIf"], [1, "pagination", "my-0"], ["class", "page-item", 3, "title", "ngClass", "click", 4, "ngFor", "ngForOf"], [1, "page-item", 3, "title", "ngClass", "click"], ["href", "javascript:void(0)", 1, "page-link"]], template: function BsPager_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, BsPager_ul_0_Template, 2, 1, "ul", 0);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.pageCount > 1);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_3__["NgIf"], _angular_common__WEBPACK_IMPORTED_MODULE_3__["NgForOf"], _angular_common__WEBPACK_IMPORTED_MODULE_3__["NgClass"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_4__["MessagePipe"], _utils_pipes_number_pipe__WEBPACK_IMPORTED_MODULE_5__["NumberPipe"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsPager, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-pager",
                templateUrl: "./pager.html",
            }]
    }], function () { return [{ type: _search_service__WEBPACK_IMPORTED_MODULE_2__["SearchService"] }]; }, { results: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], showNavigation: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], showFirstLast: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], showPages: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], endPages: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], pages: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();
(function (BsPager) {
    class Item {
        constructor(page, currentPage, display, title) {
            this.page = page;
            this.currentPage = currentPage;
            this.display = display;
            this.title = title;
            if (display) {
                this.display = display;
            }
            else {
                this.display = page;
            }
            if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].isUndefined(title) && page) {
                this.title = "msg#pager.pageNumberTitle";
            }
        }
        get active() {
            return this.isPage && (this.currentPage === this.page);
        }
        get disabled() {
            return this.isEllipsis || ((this.currentPage === this.page) && this.isNavigation);
        }
        get isNavigation() {
            return this.display === BsPager.FIRST_PAGE ||
                this.display === BsPager.PREVIOUS_PAGE ||
                this.display === BsPager.NEXT_PAGE ||
                this.display === BsPager.LAST_PAGE;
        }
        get isPage() {
            return !!this.page && !this.isNavigation;
        }
        get isEllipsis() {
            return this.display === BsPager.ELLIPSIS;
        }
    }
    BsPager.Item = Item;
})(BsPager || (BsPager = {}));


/***/ }),

/***/ "WEma":
/*!*****************************************!*\
  !*** ../core/modal/module.providers.ts ***!
  \*****************************************/
/*! exports provided: MODAL_MODULE_PROVIDERS */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MODAL_MODULE_PROVIDERS", function() { return MODAL_MODULE_PROVIDERS; });
const MODAL_MODULE_PROVIDERS = [];



/***/ }),

/***/ "WFuT":
/*!********************************************************!*\
  !*** ../components/modal/bootstrap/login.component.ts ***!
  \********************************************************/
/*! exports provided: BsLogin */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsLogin", function() { return BsLogin; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ "nIj0");
/* harmony import */ var _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/web-services */ "cIYa");
/* harmony import */ var _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/modal */ "vMGo");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_core_login__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sinequa/core/login */ "7O5u");
/* harmony import */ var _modal_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./modal.component */ "oSLy");
/* harmony import */ var _core_validation_validation_directive__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../core/validation/validation.directive */ "FRsM");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../core/intl/message.pipe */ "X1Kh");













function BsLogin_div_12_option_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "option", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const provider_r2 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", provider_r2.name)("hidden", !provider_r2.name)("disabled", !provider_r2.name);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 4, provider_r2.displayName || provider_r2.name));
} }
function BsLogin_div_12_Template(rf, ctx) { if (rf & 1) {
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "label", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](3, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "select", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("change", function BsLogin_div_12_Template_select_change_4_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r4); const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r3.authenticate(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](5, BsLogin_div_12_option_5_Template, 3, 6, "option", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](3, 2, "msg#modal.login.singleSignOn"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx_r0.providers);
} }
class BsLogin {
    constructor(model, modalService, modalRef, formBuilder, startConfig, authenticationService) {
        this.model = model;
        this.modalService = modalService;
        this.modalRef = modalRef;
        this.formBuilder = formBuilder;
        this.startConfig = startConfig;
        this.authenticationService = authenticationService;
    }
    ngOnInit() {
        this.userNameControl = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"](this.model.userName, _angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required);
        this.passwordControl = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"](this.model.password, _angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required);
        this.providerNameControl = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"]();
        this.form = this.formBuilder.group({
            userName: this.userNameControl,
            password: this.passwordControl,
            providerName: this.providerNameControl
        });
        this.formChanges = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__["Utils"].subscribe(this.form.valueChanges, (value) => {
            this.model.userName = this.userNameControl.value;
            this.model.password = this.passwordControl.value;
            this.providerName = this.providerNameControl.value;
        });
        this.buttons = [
            new _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_3__["ModalButton"]({
                result: -1 /* OK */,
                primary: true,
                validation: this.form
            }),
            new _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_3__["ModalButton"]({
                result: -2 /* Cancel */
            })
        ];
        if (this.startConfig.providers) {
            Object.keys(this.startConfig.providers).forEach((providerName) => {
                if (!this.providers) {
                    this.providerName = "";
                    this.providers = [{ displayName: "msg#modal.login.signInWith", name: "" }];
                }
                this.providers.push(this.startConfig.providers[providerName]);
            });
        }
    }
    ngOnDestroy() {
        this.formChanges.unsubscribe();
    }
    yes() {
        this.modalRef.close(-3 /* Yes */);
    }
    authenticate() {
        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__["Utils"].subscribe(this.authenticationService.authenticateWithProvider(this.providerName), (response) => {
            this.yes();
        }, (error) => {
            console.log("login.authenticate cancelled: ", error);
        });
    }
}
BsLogin.ɵfac = function BsLogin_Factory(t) { return new (t || BsLogin)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_modal__WEBPACK_IMPORTED_MODULE_3__["MODAL_MODEL"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_modal__WEBPACK_IMPORTED_MODULE_3__["ModalService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_modal__WEBPACK_IMPORTED_MODULE_3__["ModalRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormBuilder"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_2__["START_CONFIG"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_login__WEBPACK_IMPORTED_MODULE_5__["AuthenticationService"])); };
BsLogin.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsLogin, selectors: [["sq-login"]], hostVars: 2, hostBindings: function BsLogin_HostBindings(rf, ctx) { if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassProp"]("sq-login", true);
    } }, decls: 13, vars: 12, consts: [["novalidate", "", 3, "formGroup"], [3, "title", "buttons"], [1, "form-group", "sq-form-group"], ["for", "userName"], ["type", "text", "id", "userName", "formControlName", "userName", "spellcheck", "off", "cdkFocusInitial", "", 1, "form-control", 3, "sqValidation"], ["for", "password"], ["type", "password", "id", "password", "formControlName", "password", "autocomplete", "off", "spellcheck", "off", 1, "form-control", 3, "sqValidation"], ["class", "form-group sq-form-group", 4, "ngIf"], ["for", "providerName"], ["id", "providerName", "formControlName", "providerName", 1, "form-control", "custom-select", 3, "change"], [3, "value", "hidden", "disabled", 4, "ngFor", "ngForOf"], [3, "value", "hidden", "disabled"]], template: function BsLogin_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "form", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "sq-modal", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "label", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](5, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](6, "input", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "label", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](9);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](10, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](11, "input", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](12, BsLogin_div_12_Template, 6, 4, "div", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("title", "msg#modal.login.title")("buttons", ctx.buttons);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](5, 8, "msg#modal.login.userName"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("sqValidation", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](10, 10, "msg#modal.login.password"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("sqValidation", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !!ctx.providers);
    } }, directives: [_angular_forms__WEBPACK_IMPORTED_MODULE_1__["ɵangular_packages_forms_forms_y"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["NgControlStatusGroup"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormGroupDirective"], _modal_component__WEBPACK_IMPORTED_MODULE_6__["BsModal"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["DefaultValueAccessor"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["NgControlStatus"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControlName"], _core_validation_validation_directive__WEBPACK_IMPORTED_MODULE_7__["ValidationDirective"], _angular_common__WEBPACK_IMPORTED_MODULE_8__["NgIf"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["SelectControlValueAccessor"], _angular_common__WEBPACK_IMPORTED_MODULE_8__["NgForOf"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["NgSelectOption"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["ɵangular_packages_forms_forms_x"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_9__["MessagePipe"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsLogin, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-login",
                templateUrl: "./login.component.html"
            }]
    }], function () { return [{ type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [_sinequa_core_modal__WEBPACK_IMPORTED_MODULE_3__["MODAL_MODEL"]]
            }] }, { type: _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_3__["ModalService"] }, { type: _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_3__["ModalRef"] }, { type: _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormBuilder"] }, { type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_2__["START_CONFIG"]]
            }] }, { type: _sinequa_core_login__WEBPACK_IMPORTED_MODULE_5__["AuthenticationService"] }]; }, { true: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostBinding"],
            args: ["class.sq-login"]
        }] }); })();


/***/ }),

/***/ "WIRU":
/*!**************************************!*\
  !*** ../core/login/token.service.ts ***!
  \**************************************/
/*! exports provided: TokenService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TokenService", function() { return TokenService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/web-services */ "cIYa");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs/operators */ "0Wlh");





/**
 * A service to manage JWT and CSRF tokens. The methods of this service
 * can be called before the authentication process has completed
 */
class TokenService extends _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_1__["HttpService"] {
    constructor(startConfig, httpClient) {
        super(startConfig);
        this.httpClient = httpClient;
    }
    /**
     * Retrieve the CSRF token corresponding to the current JWT cookie
     * which should accompany the request. This method is called by
     * [AuthenticationService.autoAuthenticate]{@link AuthenticationService#autoAuthenticate}
     *
     * @param notify `true` if any errors should be notified using the {@NotificationService}
     */
    getCsrfToken(notify = false) {
        return this.httpClient.get(this.makeUrl("challenge"), {
            params: this.makeParams({
                action: "getCsrfToken",
                suppressErrors: !notify,
                noUserOverride: true,
                noAutoAuthentication: true,
                noNotify: !notify
            })
        }).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["map"])((value) => {
            return value.csrfToken;
        }));
    }
    /**
     * Delete the current JWT cookie.
     * This method is called by [AuthenticationService.logout]{@link AuthenticationService#logout}
     */
    deleteWebTokenCookie() {
        return this.httpClient.get(this.makeUrl("challenge"), {
            params: this.makeParams({
                action: "deleteWebTokenCookie",
                noUserOverride: true,
                noAutoAuthentication: true
            })
        });
    }
}
TokenService.ɵfac = function TokenService_Factory(t) { return new (t || TokenService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_1__["START_CONFIG"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_1__["SqHttpClient"])); };
TokenService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: TokenService, factory: TokenService.ɵfac, providedIn: "root" });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](TokenService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: "root"
            }]
    }], function () { return [{ type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_1__["START_CONFIG"]]
            }] }, { type: _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_1__["SqHttpClient"] }]; }, null); })();


/***/ }),

/***/ "WX/0":
/*!*************************************************!*\
  !*** ../components/results-view/messages/fr.ts ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    "results": {
        "viewTitle": "Vue : {text}",
        "unselectableViewDisplay": "<Autre>",
        "resultsListView": {
            "display": "Liste",
            "selectDocument": "Sélectionner le document",
            "unselectDocument": "Désélectionner le document",
            "previewPopup": "Document Navigator",
            "previewInCurrentPage": "Document Navigator (dans la page courante)",
            "previewInNewTab": "Document Navigator (dans un nouvel onglet)",
            "showMetadata": "Détails",
            "showLabels": "Libellés"
        },
        "resultsGridView": {
            "display": "Grille",
            "selectDocument": "Sélectionner le document",
            "unselectDocument": "Désélectionner le document",
            "selectDocuments": "Sélectionner les documents",
            "unselectDocuments": "Désélectionner les documents "
        },
        "viewPageSize": "Nombre de résultats par page",
        "viewUpdateApply": "Appliquer",
        "warningNoViewForTab": "L'onglet '{tab}' n'est associé à aucune vue.",
        "warningCannotDisplayTabOnView": "L'onglet '{tab}' ne peut pas être affiché dans la vue '{view}' car il n'est pas inclus dans la configuration de la vue.",
        "resultsAllTab": "Tous",
        "resultsTextTab": "Texte",
        "results_all_tab": "Tous",
        "results_text_tab": "Texte",
    }
});


/***/ }),

/***/ "WqyX":
/*!******************************************************!*\
  !*** ../components/advanced/bootstrap/public-api.ts ***!
  \******************************************************/
/*! exports provided: BsAdvancedFormCheckbox, BsAdvancedFormInput, BsAdvancedFormMultiInput, BsAdvancedFormRange, BsAdvancedFormSelect, BsAdvancedModule, BsSelectComponent, DATE_PICKER_VALUE_ACCESSOR, BsDatePicker, DATE_RANGE_PICKER_VALUE_ACCESSOR, BsDateRangePicker, BsAdvancedFormAutocomplete, BsAdvancedFormValidation, BsAdvancedFormAutocompleteMultiInput */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _advanced_form_checkbox_advanced_form_checkbox__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./advanced-form-checkbox/advanced-form-checkbox */ "gh78");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsAdvancedFormCheckbox", function() { return _advanced_form_checkbox_advanced_form_checkbox__WEBPACK_IMPORTED_MODULE_0__["BsAdvancedFormCheckbox"]; });

/* harmony import */ var _advanced_form_input_advanced_form_input__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./advanced-form-input/advanced-form-input */ "1wgL");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsAdvancedFormInput", function() { return _advanced_form_input_advanced_form_input__WEBPACK_IMPORTED_MODULE_1__["BsAdvancedFormInput"]; });

/* harmony import */ var _advanced_form_multi_input_advanced_form_multi_input__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./advanced-form-multi-input/advanced-form-multi-input */ "VEf0");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsAdvancedFormMultiInput", function() { return _advanced_form_multi_input_advanced_form_multi_input__WEBPACK_IMPORTED_MODULE_2__["BsAdvancedFormMultiInput"]; });

/* harmony import */ var _advanced_form_range_advanced_form_range__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./advanced-form-range/advanced-form-range */ "xE+r");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsAdvancedFormRange", function() { return _advanced_form_range_advanced_form_range__WEBPACK_IMPORTED_MODULE_3__["BsAdvancedFormRange"]; });

/* harmony import */ var _advanced_form_select_advanced_form_select__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./advanced-form-select/advanced-form-select */ "p6KM");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsAdvancedFormSelect", function() { return _advanced_form_select_advanced_form_select__WEBPACK_IMPORTED_MODULE_4__["BsAdvancedFormSelect"]; });

/* harmony import */ var _advanced_module__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./advanced.module */ "YIA9");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsAdvancedModule", function() { return _advanced_module__WEBPACK_IMPORTED_MODULE_5__["BsAdvancedModule"]; });

/* harmony import */ var _advanced_form_select_select_select__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./advanced-form-select/select/select */ "TBux");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsSelectComponent", function() { return _advanced_form_select_select_select__WEBPACK_IMPORTED_MODULE_6__["BsSelectComponent"]; });

/* harmony import */ var _advanced_form_range_date_picker_date_picker__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./advanced-form-range/date-picker/date-picker */ "OMhs");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "DATE_PICKER_VALUE_ACCESSOR", function() { return _advanced_form_range_date_picker_date_picker__WEBPACK_IMPORTED_MODULE_7__["DATE_PICKER_VALUE_ACCESSOR"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsDatePicker", function() { return _advanced_form_range_date_picker_date_picker__WEBPACK_IMPORTED_MODULE_7__["BsDatePicker"]; });

/* harmony import */ var _advanced_form_range_date_range_picker_date_range_picker__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./advanced-form-range/date-range-picker/date-range-picker */ "Rys7");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "DATE_RANGE_PICKER_VALUE_ACCESSOR", function() { return _advanced_form_range_date_range_picker_date_range_picker__WEBPACK_IMPORTED_MODULE_8__["DATE_RANGE_PICKER_VALUE_ACCESSOR"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsDateRangePicker", function() { return _advanced_form_range_date_range_picker_date_range_picker__WEBPACK_IMPORTED_MODULE_8__["BsDateRangePicker"]; });

/* harmony import */ var _advanced_form_autocomplete_directive__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./advanced-form-autocomplete.directive */ "EF9c");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsAdvancedFormAutocomplete", function() { return _advanced_form_autocomplete_directive__WEBPACK_IMPORTED_MODULE_9__["BsAdvancedFormAutocomplete"]; });

/* harmony import */ var _advanced_form_validation_directive__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./advanced-form-validation.directive */ "TyST");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsAdvancedFormValidation", function() { return _advanced_form_validation_directive__WEBPACK_IMPORTED_MODULE_10__["BsAdvancedFormValidation"]; });

/* harmony import */ var _advanced_form_multi_input_advanced_form_autocomplete_multi_input_directive__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./advanced-form-multi-input/advanced-form-autocomplete-multi-input.directive */ "xwCo");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsAdvancedFormAutocompleteMultiInput", function() { return _advanced_form_multi_input_advanced_form_autocomplete_multi_input_directive__WEBPACK_IMPORTED_MODULE_11__["BsAdvancedFormAutocompleteMultiInput"]; });















/***/ }),

/***/ "WsHA":
/*!*************************************!*\
  !*** ../components/action/index.ts ***!
  \*************************************/
/*! exports provided: IAction, Action, BsActionButtons, BsActionItem, BsActionItemContent, BsActionMenu, BsDropdownMenu, BsDropdownDirective, gClassName, gSelector, gAttachmentMap, BsDropdownService, BsActionModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _public_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./public-api */ "p62I");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "IAction", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["IAction"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Action", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["Action"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsActionButtons", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsActionButtons"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsActionItem", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsActionItem"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsActionItemContent", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsActionItemContent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsActionMenu", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsActionMenu"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsDropdownMenu", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsDropdownMenu"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsDropdownDirective", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsDropdownDirective"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "gClassName", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["gClassName"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "gSelector", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["gSelector"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "gAttachmentMap", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["gAttachmentMap"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsDropdownService", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsDropdownService"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsActionModule", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsActionModule"]; });




/***/ }),

/***/ "WzNQ":
/*!*****************************************************!*\
  !*** ../components/modal/bootstrap/modal.module.ts ***!
  \*****************************************************/
/*! exports provided: BsModalModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsModalModule", function() { return BsModalModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "nIj0");
/* harmony import */ var _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/modal */ "vMGo");
/* harmony import */ var _sinequa_core_login__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/core/login */ "7O5u");
/* harmony import */ var _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sinequa/core/intl */ "EfqX");
/* harmony import */ var _sinequa_core_validation__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @sinequa/core/validation */ "BovW");
/* harmony import */ var _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @sinequa/components/utils */ "DD1E");
/* harmony import */ var _modal_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./modal.component */ "oSLy");
/* harmony import */ var _modal_header_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./modal-header.component */ "ULb8");
/* harmony import */ var _modal_footer_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./modal-footer.component */ "Av1P");
/* harmony import */ var _login_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./login.component */ "WFuT");
/* harmony import */ var _confirm_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./confirm.component */ "o0UK");
/* harmony import */ var _prompt_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./prompt.component */ "Cy1w");
/* harmony import */ var _help_help__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./help/help */ "20FV");
/* harmony import */ var _override_user_override_user__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./override-user/override-user */ "hFWr");
/* harmony import */ var _editable_editable__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./editable/editable */ "lolS");
/* harmony import */ var _angular_cdk_overlay__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @angular/cdk/overlay */ "HYj3");
/* harmony import */ var _angular_cdk_a11y__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @angular/cdk/a11y */ "sg/T");
/* harmony import */ var _core_modal_modal_module__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../core/modal/modal.module */ "E2wZ");
/* harmony import */ var _core_login_login_module__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../core/login/login.module */ "zkag");






















class BsModalModule {
}
BsModalModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: BsModalModule });
BsModalModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function BsModalModule_Factory(t) { return new (t || BsModalModule)(); }, imports: [[
            _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"], _angular_forms__WEBPACK_IMPORTED_MODULE_2__["ReactiveFormsModule"],
            _angular_cdk_overlay__WEBPACK_IMPORTED_MODULE_17__["OverlayModule"],
            _angular_cdk_a11y__WEBPACK_IMPORTED_MODULE_18__["A11yModule"],
            _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_5__["IntlModule"],
            _sinequa_core_validation__WEBPACK_IMPORTED_MODULE_6__["ValidationModule"],
            _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_3__["ModalModule"].forRoot(_confirm_component__WEBPACK_IMPORTED_MODULE_12__["BsConfirm"], _prompt_component__WEBPACK_IMPORTED_MODULE_13__["BsPrompt"]),
            _sinequa_core_login__WEBPACK_IMPORTED_MODULE_4__["LoginModule"].forRoot(_login_component__WEBPACK_IMPORTED_MODULE_11__["BsLogin"]),
            _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_7__["UtilsModule"],
        ]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](BsModalModule, { declarations: [_modal_component__WEBPACK_IMPORTED_MODULE_8__["BsModal"], _modal_header_component__WEBPACK_IMPORTED_MODULE_9__["BsModalHeader"], _modal_footer_component__WEBPACK_IMPORTED_MODULE_10__["BsModalFooter"], _login_component__WEBPACK_IMPORTED_MODULE_11__["BsLogin"], _confirm_component__WEBPACK_IMPORTED_MODULE_12__["BsConfirm"],
        _help_help__WEBPACK_IMPORTED_MODULE_14__["BsHelp"], _override_user_override_user__WEBPACK_IMPORTED_MODULE_15__["BsOverrideUser"], _editable_editable__WEBPACK_IMPORTED_MODULE_16__["BsEditable"], _prompt_component__WEBPACK_IMPORTED_MODULE_13__["BsPrompt"]], imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
        _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"], _angular_forms__WEBPACK_IMPORTED_MODULE_2__["ReactiveFormsModule"],
        _angular_cdk_overlay__WEBPACK_IMPORTED_MODULE_17__["OverlayModule"],
        _angular_cdk_a11y__WEBPACK_IMPORTED_MODULE_18__["A11yModule"],
        _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_5__["IntlModule"],
        _sinequa_core_validation__WEBPACK_IMPORTED_MODULE_6__["ValidationModule"], _core_modal_modal_module__WEBPACK_IMPORTED_MODULE_19__["ModalModule"], _core_login_login_module__WEBPACK_IMPORTED_MODULE_20__["LoginModule"], _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_7__["UtilsModule"]], exports: [_modal_component__WEBPACK_IMPORTED_MODULE_8__["BsModal"], _modal_header_component__WEBPACK_IMPORTED_MODULE_9__["BsModalHeader"], _modal_footer_component__WEBPACK_IMPORTED_MODULE_10__["BsModalFooter"], _login_component__WEBPACK_IMPORTED_MODULE_11__["BsLogin"], _confirm_component__WEBPACK_IMPORTED_MODULE_12__["BsConfirm"],
        _help_help__WEBPACK_IMPORTED_MODULE_14__["BsHelp"], _override_user_override_user__WEBPACK_IMPORTED_MODULE_15__["BsOverrideUser"], _editable_editable__WEBPACK_IMPORTED_MODULE_16__["BsEditable"], _prompt_component__WEBPACK_IMPORTED_MODULE_13__["BsPrompt"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsModalModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                    _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"], _angular_forms__WEBPACK_IMPORTED_MODULE_2__["ReactiveFormsModule"],
                    _angular_cdk_overlay__WEBPACK_IMPORTED_MODULE_17__["OverlayModule"],
                    _angular_cdk_a11y__WEBPACK_IMPORTED_MODULE_18__["A11yModule"],
                    _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_5__["IntlModule"],
                    _sinequa_core_validation__WEBPACK_IMPORTED_MODULE_6__["ValidationModule"],
                    _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_3__["ModalModule"].forRoot(_confirm_component__WEBPACK_IMPORTED_MODULE_12__["BsConfirm"], _prompt_component__WEBPACK_IMPORTED_MODULE_13__["BsPrompt"]),
                    _sinequa_core_login__WEBPACK_IMPORTED_MODULE_4__["LoginModule"].forRoot(_login_component__WEBPACK_IMPORTED_MODULE_11__["BsLogin"]),
                    _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_7__["UtilsModule"],
                ],
                declarations: [
                    _modal_component__WEBPACK_IMPORTED_MODULE_8__["BsModal"], _modal_header_component__WEBPACK_IMPORTED_MODULE_9__["BsModalHeader"], _modal_footer_component__WEBPACK_IMPORTED_MODULE_10__["BsModalFooter"], _login_component__WEBPACK_IMPORTED_MODULE_11__["BsLogin"], _confirm_component__WEBPACK_IMPORTED_MODULE_12__["BsConfirm"],
                    _help_help__WEBPACK_IMPORTED_MODULE_14__["BsHelp"], _override_user_override_user__WEBPACK_IMPORTED_MODULE_15__["BsOverrideUser"], _editable_editable__WEBPACK_IMPORTED_MODULE_16__["BsEditable"], _prompt_component__WEBPACK_IMPORTED_MODULE_13__["BsPrompt"]
                ],
                exports: [
                    _modal_component__WEBPACK_IMPORTED_MODULE_8__["BsModal"], _modal_header_component__WEBPACK_IMPORTED_MODULE_9__["BsModalHeader"], _modal_footer_component__WEBPACK_IMPORTED_MODULE_10__["BsModalFooter"], _login_component__WEBPACK_IMPORTED_MODULE_11__["BsLogin"], _confirm_component__WEBPACK_IMPORTED_MODULE_12__["BsConfirm"],
                    _help_help__WEBPACK_IMPORTED_MODULE_14__["BsHelp"], _override_user_override_user__WEBPACK_IMPORTED_MODULE_15__["BsOverrideUser"], _editable_editable__WEBPACK_IMPORTED_MODULE_16__["BsEditable"], _prompt_component__WEBPACK_IMPORTED_MODULE_13__["BsPrompt"]
                ],
            }]
    }], null, null); })();


/***/ }),

/***/ "X0nh":
/*!**************************************************!*\
  !*** ../components/user-settings/messages/de.ts ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    "userMenu": {
        "user": "Benutzer",
        "login": "Anmeldung",
        "overrideUser": "Benutzer wechseln",
        "settings": "Einstellungen",
        "revertUserOverride": "Zum Administrator zurückkehren",
        "administration": "Administration",
        "logout": "Abmeldung",
        "language": "Sprache",
        "resetUserSettings": {
            "menu": "Benutzereinstellungen zurücksetzen",
            "modalTitle": "Benutzereinstellungen zurücksetzen",
            "modalMessage": "Sie sind dabei, ALLE Ihre Benutzerdaten zurückzusetzen (letzte Abfragen, Sammlungen, Warnungen, Einstellungen usw.). Möchtest du fortfahren?",
            "modalConfirmButton": "Bestätigen",
            "successMessage": "Benutzereinstellungen erfolgreich zurücksetzen",
            "errorMessage": "Benutzereinstellungen zurücksetzen fehlgeschlagen"
        }
    },
    "editUserSettings": {
        "title": "Einstellungen",
        "language": "Sprache der Benutzeroberfläche",
        "pageSize": "Anzahl der Ergebnisse pro Seite",
        "email": "E-Mail"
    }
});


/***/ }),

/***/ "X1Kh":
/*!************************************!*\
  !*** ../core/intl/message.pipe.ts ***!
  \************************************/
/*! exports provided: MessagePipe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MessagePipe", function() { return MessagePipe; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _abstract_intl_pipe__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./abstract-intl.pipe */ "8XSK");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _intl_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./intl.service */ "Lvit");





/**
 * A pipe to display messages in the current locale. Inputs are processed by
 * [IntlService.formatMessage]{@link IntlService#formatMessage}
 */
class MessagePipe extends _abstract_intl_pipe__WEBPACK_IMPORTED_MODULE_1__["AbstractIntlPipe"] {
    constructor(intlService, changeDetectorRef) {
        super(intlService, changeDetectorRef);
    }
    updateValue(value, params) {
        if (!_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].isEmpty(value)) {
            // coerce to string (eg sys date strings get converted to dates so if this happens to a title we will break otherwise)
            value = value + "";
        }
        super.updateValue(value, params);
        if (!value) {
            this.value = value;
            return;
        }
        let values;
        if (params) {
            values = params.values ? params.values : params;
        }
        this.value = this.intlService.formatMessage(value, values);
    }
}
MessagePipe.ɵfac = function MessagePipe_Factory(t) { return new (t || MessagePipe)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_intl_service__WEBPACK_IMPORTED_MODULE_3__["IntlService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinjectPipeChangeDetectorRef"]()); };
MessagePipe.ɵpipe = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefinePipe"]({ name: "sqMessage", type: MessagePipe, pure: false });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](MessagePipe, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Pipe"],
        args: [{ name: "sqMessage", pure: false }]
    }], function () { return [{ type: _intl_service__WEBPACK_IMPORTED_MODULE_3__["IntlService"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] }]; }, null); })();


/***/ }),

/***/ "X8K3":
/*!*******************************************!*\
  !*** ../core/app-utils/format.service.ts ***!
  \*******************************************/
/*! exports provided: FormatService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FormatService", function() { return FormatService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _app_service_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./app-service-helpers */ "ltth");
/* harmony import */ var d3_format__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! d3-format */ "3QYS");
/* harmony import */ var _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/core/intl */ "EfqX");






/**
 * This service provides methods for locale-sensitive formatting and parsing of values that can be found in
 * Sinequa search results.
 */
class FormatService {
    constructor(intlService) {
        this.intlService = intlService;
        /** D3 formatter for large number: 42096 => 42K */
        this.bigNumberFormatter = Object(d3_format__WEBPACK_IMPORTED_MODULE_3__["format"])("~s");
        /** Similar to bigNumberFormatter, but replaces "G" by "B" (as in "$42B") */
        this.moneyFormatter = s => this.bigNumberFormatter(s).replace(/G/, "B");
    }
    /**
     * Returns `true` if the passed parameter is a `ValueItem` object
     */
    isValueItem(valueItem) {
        if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].isObject(valueItem) && !_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].isDate(valueItem) && !_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].isArray(valueItem)) {
            return true;
        }
        return false;
    }
    /**
     * Extracts the value and display components from a parameter that can be either a `ValueItem`
     * object or a simple `FieldValue`, in which case the display will be `undefined`.
     */
    getValueAndDisplay(valueItem) {
        let value;
        let display;
        if (this.isValueItem(valueItem)) {
            value = valueItem.value;
            display = valueItem.display || "";
        }
        else {
            value = valueItem;
            display = "";
        }
        return [value, display];
    }
    /**
     * Return the display equivalent of a Sinequa language specifier (`en`, `fr`, ...).
     * The display values are defined in the {@link IntlModule} message files
     *
     * @param value A value containing a Sinequa language specifier
     */
    formatLanguage(value) {
        return this.intlService.formatMessage(`msg#language.${_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].toLowerCase(value + "")}`);
    }
    /**
     * Return the display equivalent of a size value. The units (`kb`, `mb`, ...) are defined
     * in the {@link IntlModule} message files
     *
     * @param size A memory size in bytes
     */
    formatMemorySize(size) {
        const kiloBytes = size / 1024;
        const megaBytes = kiloBytes / 1024;
        const gigaBytes = megaBytes / 1024;
        const teraBytes = gigaBytes / 1024;
        const petaBytes = teraBytes / 1024;
        let messageKey = "msg#system.memorySize.bytes";
        const params = { value: size };
        if (Math.abs(petaBytes) >= 1) {
            messageKey = "msg#system.memorySize.pb";
            params.value = petaBytes;
        }
        else if (Math.abs(teraBytes) >= 1) {
            messageKey = "msg#system.memorySize.tb";
            params.value = teraBytes;
        }
        else if (Math.abs(gigaBytes) >= 1) {
            messageKey = "msg#system.memorySize.gb";
            params.value = gigaBytes;
        }
        else if (Math.abs(megaBytes) >= 1) {
            messageKey = "msg#system.memorySize.mb";
            params.value = megaBytes;
        }
        else if (Math.abs(kiloBytes) >= 1) {
            messageKey = "msg#system.memorySize.kb";
            params.value = kiloBytes;
        }
        return this.intlService.formatMessage(messageKey, params);
    }
    /**
     * Format an amount of money (typically extracted by a Sinequa Text-mining agent)
     * USD 42069 => USD 42K
     * @param value
     * @returns
     */
    formatMoney(value) {
        let [currency, val] = value.split(" ");
        return `${currency} ${this.moneyFormatter(+val)}`;
    }
    /**
     * Format a value for display according to the passed `column`. Formatters
     * can be defined in the column's configuration to provide domain-specific
     * formatting. The standard formatters are `language` and `memorysize`.
     *
     * @param valueItem The value to format
     * @param column The column associated with the value
     */
    formatValue(valueItem, column) {
        let [value, display] = this.getValueAndDisplay(valueItem);
        if (column && column.formatter) {
            switch (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].toLowerCase(column.formatter)) {
                case "language": return this.formatLanguage(value);
                case "memorysize":
                    if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].isNumber(value)) {
                        return this.formatMemorySize(value);
                    }
                    break;
                case "money":
                    if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].isString(value)) {
                        return this.formatMoney(value);
                    }
                    else if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].isArray(value)) {
                        return value.map(v => this.formatMoney(_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].isString(v) ? v : v.value)).join(', ');
                    }
                    break;
            }
        }
        if (display) {
            if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].isDate(display)) { // ES-7785
                display = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].toSysDateStr(display);
            }
            return this.intlService.formatMessage(display, { value });
        }
        if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].isNumber(value)) {
            const message = this.intlService.getMessage("msg#system.number");
            if (message) {
                return this.intlService.formatText(message, { value });
            }
            else {
                return this.intlService.formatNumber(value);
            }
        }
        if (column && _app_service_helpers__WEBPACK_IMPORTED_MODULE_2__["AppServiceHelpers"].isDate(column) && _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].isString(value)) {
            value = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].fromSysDateStr(value) || value;
        }
        if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].isDate(value)) {
            if (column && !_app_service_helpers__WEBPACK_IMPORTED_MODULE_2__["AppServiceHelpers"].isDate(column)) { // ES-7785
                value = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].toSysDateStr(value);
            }
            else {
                const message = this.intlService.getMessage("msg#system.date");
                if (message) {
                    return this.intlService.formatText(message, { date: value, time: _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].getTime(value) });
                }
                else {
                    let s = this.intlService.formatDate(value);
                    if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].getTime(value) !== 0) {
                        s += ", " + this.intlService.formatTime(value);
                    }
                    return s;
                }
            }
        }
        if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].isBoolean(value)) {
            const message = this.intlService.getMessage("msg#system.boolean");
            if (message) {
                return this.intlService.formatText(message, { value });
            }
            else {
                return value.toString();
            }
        }
        if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].isArray(value)) {
            const joinValue = [];
            value.forEach(v => {
                if (joinValue.length > 0) {
                    joinValue.push(";");
                }
                let _v;
                if (!v) {
                    _v = "<null>";
                }
                else if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].isDate(v)) {
                    _v = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].toSysDateStr(v);
                }
                else if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].isString(v)) {
                    _v = v;
                }
                else {
                    _v = v.display || v.value || "<null>";
                }
                joinValue.push(_v);
            });
            value = joinValue.join("");
        }
        if (!value) {
            return value;
        }
        return this.intlService.formatMessage(value);
    }
    /**
     * Transform a display value. Multiple transformers can be defined on a column and their calls are chained.
     * The standard formatters are `uppercase`, `upperfirst`, `lowercase`, `lowerfirst`, `startcase`, `kebabcase`,
     * `snakecase` and `camelcase`.
     *
     * @param value The value to transform
     * @param column The column associated with the value
     */
    transformValue(value, column) {
        const transforms = column ? _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].split(column.transforms || "", ",") : undefined;
        if (!transforms || transforms.length === 0) {
            return value;
        }
        // transforms are composable
        for (const transform of transforms) {
            switch (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].toLowerCase(transform)) {
                case "uppercase":
                    value = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].toUpperCase(value);
                    break;
                case "upperfirst":
                    value = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].toUpperFirst(value);
                    break;
                case "lowercase":
                    value = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].toLowerCase(value);
                    break;
                case "lowerfirst":
                    value = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].toLowerFirst(value);
                    break;
                case "startcase":
                    value = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].toStartCase(value);
                    break;
                case "kebabcase":
                    value = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].toKebabCase(value);
                    break;
                case "snakecase":
                    value = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].toSnakeCase(value);
                    break;
                case "camelcase":
                    value = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].toCamelCase(value);
                    break;
            }
        }
        return value;
    }
    /**
     * Format a value item for display. This is the standard entry point for formatting a value.
     * By default, this method calls [formatValue]{@link #formatValue} and [transformValue]{@link #transformValue}.
     *
     * @param valueItem The value item to format
     * @param column The column associated with the value item
     */
    formatFieldValue(valueItem, column) {
        let formattedValue = this.formatValue(valueItem, column);
        formattedValue = this.transformValue(formattedValue, column);
        return formattedValue;
    }
    /**
     * Parse an input value according to the passed `parser`. The standard parser is `memorysize`. Parsers
     * are configured in the {@link CCColumn} configuration. The parsed value is returned as a string for
     * processing by the {@link ValidationModule}
     *
     * @param value The value to parse
     * @param parser The parser to use
     */
    parseValue(value, parser) {
        if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].isString(value)) {
            if (parser) {
                switch (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].toLowerCase(parser)) {
                    case "memorysize": {
                        return this.parseMemorySize(value) + "";
                    }
                }
            }
        }
        return value;
    }
    /**
     * Parse a size string using [Utils.toSize]{@link Utils#toSize}
     *
     * @param str The string to parse
     * @param _default The default value to return if the string cannot be parsed
     * @return The parsed size in bytes
     */
    parseMemorySize(str, _default = 0) {
        return _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].toSize(str, _default);
    }
    /**
     * Display a raw value without applying any formatting
     * (besides the native toString() method for non-string values)
     * @param value
     * @returns
     */
    formatRaw(value) {
        let [val] = this.getValueAndDisplay(value);
        if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].isArray(val)) {
            return val.map(v => _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].isString(v) ? v : v.value).join(';');
        }
        return val === null || val === void 0 ? void 0 : val.toString();
    }
}
FormatService.ɵfac = function FormatService_Factory(t) { return new (t || FormatService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_intl__WEBPACK_IMPORTED_MODULE_4__["IntlService"])); };
FormatService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: FormatService, factory: FormatService.ɵfac, providedIn: "root" });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](FormatService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: "root"
            }]
    }], function () { return [{ type: _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_4__["IntlService"] }]; }, null); })();


/***/ }),

/***/ "XHQf":
/*!*********************************!*\
  !*** ../core/base/polyfills.ts ***!
  \*********************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var fast_text_encoding__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fast-text-encoding */ "a2g0");
/* harmony import */ var fast_text_encoding__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fast_text_encoding__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var intl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! intl */ "vmlO");
/* harmony import */ var intl__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(intl__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var intl_locale_data_jsonp_en_US__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! intl/locale-data/jsonp/en-US */ "Lk7s");
/* harmony import */ var intl_locale_data_jsonp_en_US__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(intl_locale_data_jsonp_en_US__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var js_polyfills_url__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! js-polyfills/url */ "bHPg");
/* harmony import */ var js_polyfills_url__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(js_polyfills_url__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var matchmedia_polyfill__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! matchmedia-polyfill */ "AzGU");
/* harmony import */ var matchmedia_polyfill__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(matchmedia_polyfill__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var focus_within__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! focus-within */ "b+/J");
 // IE 11 / Edge
// NB the name of the intl polyfill (below) conflicts with @sinequa/core/intl in the module resolution.
// Output of traceResolution: true gives the following:
//
// Resolving module name 'intl' relative to base url 'D:/ice/sba/ng-ws/projects/core' - 'D:/ice/sba/ng-ws/projects/core/intl'.
// Loading module as file / folder, candidate module location 'D:/ice/sba/ng-ws/projects/core/intl', target file type 'TypeScript'.
// ...
// This can be worked around in a number of ways:
// 1. Rename the @sinequa/core/intl folder and all references to it (not overly desirable)
// 2. Install the intl polyfill using an alias: npm install my-intl-alias@npm:intl. But then references in the locale files would have
//    to use import "my-intl-alias/..."
// 3. Don't use index.ts as the entry point filename. This is a bit hacky but it works and has the least impact so that's what we've gone with
//    _index.ts is used and referenced in package.json: { "ngPackage": { "lib": { "entryFile": "index.ts" } } }
//    We also put an explicit Path to @sinequa/core/intl => ./intl/_index in the local tsconfig.json so that references to @sinequa/core/intl
//    are resolved correctly in VSCode
 // Safari
 // Locale needed for formatjs initialization (new Intl.NumberFormat())


 // IE 11 / Edge - https://github.com/jonathantneal/focus-within
Object(focus_within__WEBPACK_IMPORTED_MODULE_5__["default"])(document);
// String.trimStart, String.trimEnd
if (!String.prototype.trimStart) {
    String.prototype.trimStart = function () {
        return this.replace(/^[\s\uFEFF\xA0]+/g, '');
    };
}
if (!String.prototype.trimEnd) {
    String.prototype.trimEnd = function () {
        return this.replace(/[\s\uFEFF\xA0]+$/g, '');
    };
}
// See https://gist.github.com/jocki84/6ffafd003387179a988e
if (!Element.prototype.scrollIntoViewIfNeeded) {
    Element.prototype.scrollIntoViewIfNeeded = function (centerIfNeeded) {
        function withinBounds(value, min, max, extent) {
            if (false === centerIfNeeded || max <= value + extent && value <= min + extent) {
                return Math.min(max, Math.max(min, value));
            }
            else {
                return (min + max) / 2;
            }
        }
        function makeArea(left, top, width, height) {
            return { "left": left, "top": top, "width": width, "height": height,
                "right": left + width, "bottom": top + height,
                "translate": function (x, y) {
                    return makeArea(x + left, y + top, width, height);
                },
                "relativeFromTo": function (lhs, rhs) {
                    let newLeft = left, newTop = top;
                    lhs = lhs.offsetParent;
                    rhs = rhs.offsetParent;
                    if (lhs === rhs) {
                        return area;
                    }
                    for (; lhs; lhs = lhs.offsetParent) {
                        newLeft += lhs.offsetLeft + lhs.clientLeft;
                        newTop += lhs.offsetTop + lhs.clientTop;
                    }
                    for (; rhs; rhs = rhs.offsetParent) {
                        newLeft -= rhs.offsetLeft + rhs.clientLeft;
                        newTop -= rhs.offsetTop + rhs.clientTop;
                    }
                    return makeArea(newLeft, newTop, width, height);
                }
            };
        }
        let parent, elem = this, area = makeArea(this.offsetLeft, this.offsetTop, this.offsetWidth, this.offsetHeight);
        while ((parent = elem.parentNode) instanceof HTMLElement) {
            const clientLeft = parent.offsetLeft + parent.clientLeft;
            const clientTop = parent.offsetTop + parent.clientTop;
            // Make area relative to parent's client area.
            area = area.
                relativeFromTo(elem, parent).
                translate(-clientLeft, -clientTop);
            parent.scrollLeft = withinBounds(parent.scrollLeft, area.right - parent.clientWidth, area.left, parent.clientWidth);
            parent.scrollTop = withinBounds(parent.scrollTop, area.bottom - parent.clientHeight, area.top, parent.clientHeight);
            // Determine actual scroll amount by reading back scroll properties.
            area = area.translate(clientLeft - parent.scrollLeft, clientTop - parent.scrollTop);
            elem = parent;
        }
    };
}
// https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/CustomEvent
(function () {
    if (typeof window.CustomEvent === "function")
        return;
    function CustomEvent(event, params) {
        params = params || { bubbles: false, cancelable: false, detail: undefined };
        const evt = document.createEvent('CustomEvent');
        evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);
        return evt;
    }
    CustomEvent.prototype = window.Event.prototype;
    window.CustomEvent = CustomEvent;
})();
// IE
if (!window.location.origin) { // Some browsers (mainly IE) do not have this property, so we need to build it manually...
    try {
        window.location[ /*foo readonly*/"origin"] = window.location.protocol + '//' + window.location.hostname + (window.location.port ? (':' + window.location.port) : '');
    }
    catch (e) {
    }
}
// fake storage (eg for Safari private browsing)
function fakeStorage(storageName) {
    let fakeStorage = {};
    let storage;
    let needed = false;
    if (typeof window[storageName] === "object") {
        // Storage is there, does it work (eg Safari private browsing)
        try {
            window[storageName].setItem("fakeStorageTest", "1");
            window[storageName].removeItem("fakeStorageTest");
        }
        catch (e) {
            needed = true;
        }
    }
    else {
        needed = true;
    }
    if (!needed) {
        return;
    }
    if (typeof window[storageName] === "object") {
        // Override with fake implementation
        storage = window[storageName];
    }
    else {
        // Implement with fake
        try {
            storage = window[ /*fool readonly*/storageName] = {};
        }
        catch (e) {
            console.warn("Unable to set fake", storageName);
            return;
        }
    }
    console.warn("Using fake", storageName);
    const dispatchStorageEvent = function (key, newValue) {
        const oldValue = (!key) ? null : storage.getItem(key);
        const url = location.href.substr(location.origin.length);
        const storageEvent = document.createEvent("StorageEvent"); // For IE, http://stackoverflow.com/a/25514935/1214183
        storageEvent["initStorageEvent"]("storage", false, false, key, oldValue, newValue, url, storage);
        window.dispatchEvent(storageEvent);
    };
    storage.key = function (i) {
        const key = Object.keys(fakeStorage)[i];
        return typeof key === "string" ? key : null;
    };
    storage.getItem = function (key) {
        return typeof fakeStorage[key] === 'string' ? fakeStorage[key] : null;
    };
    storage.setItem = function (key, value) {
        dispatchStorageEvent(key, value);
        fakeStorage[key] = String(value);
    };
    storage.removeItem = function (key) {
        dispatchStorageEvent(key, null);
        delete fakeStorage[key];
    };
    storage.clear = function () {
        dispatchStorageEvent(null, null);
        fakeStorage = {};
    };
}
fakeStorage("localStorage");
fakeStorage("sessionStorage");
// DOMRect polyfill
// Credit: https://github.com/Financial-Times/polyfill-service/pull/1732
(function (global) {
    if (global.DOMRect) {
        return;
    }
    function number(v) {
        return v === undefined ? 0 : Number(v);
    }
    function different(u, v) {
        return u !== v && !(isNaN(u) && isNaN(v));
    }
    function DOMRect(xArg, yArg, wArg, hArg) {
        let x;
        let y;
        let width;
        let height;
        let left;
        let right;
        let top;
        let bottom;
        x = number(xArg);
        y = number(yArg);
        width = number(wArg);
        height = number(hArg);
        Object.defineProperties(this, {
            x: {
                get: function () { return x; },
                set: function (newX) {
                    if (different(x, newX)) {
                        x = newX;
                        left = right = undefined;
                    }
                },
                enumerable: true
            },
            y: {
                get: function () { return y; },
                set: function (newY) {
                    if (different(y, newY)) {
                        y = newY;
                        top = bottom = undefined;
                    }
                },
                enumerable: true
            },
            width: {
                get: function () { return width; },
                set: function (newWidth) {
                    if (different(width, newWidth)) {
                        width = newWidth;
                        left = right = undefined;
                    }
                },
                enumerable: true
            },
            height: {
                get: function () { return height; },
                set: function (newHeight) {
                    if (different(height, newHeight)) {
                        height = newHeight;
                        top = bottom = undefined;
                    }
                },
                enumerable: true
            },
            left: {
                get: function () {
                    if (left === undefined) {
                        left = x + Math.min(0, width);
                    }
                    return left;
                },
                enumerable: true
            },
            right: {
                get: function () {
                    if (right === undefined) {
                        right = x + Math.max(0, width);
                    }
                    return right;
                },
                enumerable: true
            },
            top: {
                get: function () {
                    if (top === undefined) {
                        top = y + Math.min(0, height);
                    }
                    return top;
                },
                enumerable: true
            },
            bottom: {
                get: function () {
                    if (bottom === undefined) {
                        bottom = y + Math.max(0, height);
                    }
                    return bottom;
                },
                enumerable: true
            }
        });
    }
    global.DOMRect = DOMRect;
}(window));
// Element.closest and Element.matches polyfills (see https://developer.mozilla.org/en-US/docs/Web/API/Element/closest)
if (!Element.prototype.matches) {
    Element.prototype.matches =
        Element.prototype.msMatchesSelector ||
            Element.prototype.webkitMatchesSelector;
}
if (!Element.prototype.closest) {
    Element.prototype.closest = function (s) {
        let el = this;
        do {
            if (el.matches(s)) {
                return el;
            }
            el = el.parentElement || el.parentNode;
        } while (el !== null && el.nodeType === 1);
        return null;
    };
}


/***/ }),

/***/ "XNLR":
/*!**************************************!*\
  !*** ../components/preview/index.ts ***!
  \**************************************/
/*! exports provided: PreviewModule, PREVIEW_MODAL, PreviewService, HighlightCategoryFilterChoice, PreviewDocument, PreviewDocumentIframe, PreviewTooltip, BsFacetPreview, BsFacetPreviewComponent2, BsPreviewHighlights, BsPreviewLinks, BsPreviewModule, BsPreviewPanel, BsPreviewPopup, BsResultLinkPreview, BsSimilarDocuments, BsPreviewEntityFacetComponent, BsPreviewEntityPanelComponent, Extract, BsPreviewExtractsPanelComponent, BsPreviewSearchFormComponent, BsPreviewPageFormComponent, BsPreviewPagesPanelComponent, enPreview, frPreview, dePreview */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _public_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./public-api */ "Zzgj");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "PreviewModule", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["PreviewModule"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "PREVIEW_MODAL", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["PREVIEW_MODAL"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "PreviewService", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["PreviewService"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "HighlightCategoryFilterChoice", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["HighlightCategoryFilterChoice"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "PreviewDocument", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["PreviewDocument"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "PreviewDocumentIframe", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["PreviewDocumentIframe"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "PreviewTooltip", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["PreviewTooltip"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFacetPreview", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsFacetPreview"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFacetPreviewComponent2", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsFacetPreviewComponent2"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsPreviewHighlights", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsPreviewHighlights"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsPreviewLinks", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsPreviewLinks"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsPreviewModule", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsPreviewModule"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsPreviewPanel", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsPreviewPanel"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsPreviewPopup", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsPreviewPopup"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsResultLinkPreview", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsResultLinkPreview"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsSimilarDocuments", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsSimilarDocuments"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsPreviewEntityFacetComponent", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsPreviewEntityFacetComponent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsPreviewEntityPanelComponent", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsPreviewEntityPanelComponent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Extract", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["Extract"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsPreviewExtractsPanelComponent", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsPreviewExtractsPanelComponent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsPreviewSearchFormComponent", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsPreviewSearchFormComponent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsPreviewPageFormComponent", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsPreviewPageFormComponent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsPreviewPagesPanelComponent", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsPreviewPagesPanelComponent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "enPreview", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["enPreview"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "frPreview", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["frPreview"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "dePreview", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["dePreview"]; });




/***/ }),

/***/ "XP+g":
/*!*****************************************************!*\
  !*** ../components/baskets/bootstrap/public-api.ts ***!
  \*****************************************************/
/*! exports provided: BsBasketsModule, BsBasketsMenuComponent, BsEditBasket, BsFacetBasketsComponent, BsManageBaskets, BsResultBaskets, BsSelectBasket */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _baskets_module__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./baskets.module */ "RgS7");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsBasketsModule", function() { return _baskets_module__WEBPACK_IMPORTED_MODULE_0__["BsBasketsModule"]; });

/* harmony import */ var _baskets_menu_baskets_menu_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./baskets-menu/baskets-menu.component */ "G38c");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsBasketsMenuComponent", function() { return _baskets_menu_baskets_menu_component__WEBPACK_IMPORTED_MODULE_1__["BsBasketsMenuComponent"]; });

/* harmony import */ var _edit_basket_edit_basket__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./edit-basket/edit-basket */ "IzYZ");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsEditBasket", function() { return _edit_basket_edit_basket__WEBPACK_IMPORTED_MODULE_2__["BsEditBasket"]; });

/* harmony import */ var _facet_baskets_facet_baskets_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./facet-baskets/facet-baskets.component */ "Xg0A");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFacetBasketsComponent", function() { return _facet_baskets_facet_baskets_component__WEBPACK_IMPORTED_MODULE_3__["BsFacetBasketsComponent"]; });

/* harmony import */ var _manage_baskets_manage_baskets__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./manage-baskets/manage-baskets */ "vNc4");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsManageBaskets", function() { return _manage_baskets_manage_baskets__WEBPACK_IMPORTED_MODULE_4__["BsManageBaskets"]; });

/* harmony import */ var _result_baskets_result_baskets__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./result-baskets/result-baskets */ "fBWz");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsResultBaskets", function() { return _result_baskets_result_baskets__WEBPACK_IMPORTED_MODULE_5__["BsResultBaskets"]; });

/* harmony import */ var _select_basket_select_basket__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./select-basket/select-basket */ "lfQx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsSelectBasket", function() { return _select_basket_select_basket__WEBPACK_IMPORTED_MODULE_6__["BsSelectBasket"]; });










/***/ }),

/***/ "XSeM":
/*!*********************************************************!*\
  !*** ../core/web-services/user-settings.web.service.ts ***!
  \*********************************************************/
/*! exports provided: UserSettingsWebService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserSettingsWebService", function() { return UserSettingsWebService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "+kfY");
/* harmony import */ var _http_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./http.service */ "3Hvy");
/* harmony import */ var _start_config_web_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./start-config.web.service */ "R3Oh");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var jstz__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! jstz */ "dtz6");
/* harmony import */ var jstz__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(jstz__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _http_client__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./http-client */ "j7UU");








/**
 * A service for calling the usersettings web service
 */
class UserSettingsWebService extends _http_service__WEBPACK_IMPORTED_MODULE_2__["HttpService"] {
    constructor(startConfig, httpClient) {
        super(startConfig);
        this.httpClient = httpClient;
        this._events = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
        this.timezone = jstz__WEBPACK_IMPORTED_MODULE_5___default.a.determine().name(); // until momentjs gets this
    }
    ngOnDestroy() {
        this._events.complete();
    }
    /**
     * The observable events emitted by this service
     */
    get events() {
        return this._events;
    }
    /**
     * Gets the current {@link UserSettings}
     */
    get userSettings() {
        return this._userSettings;
    }
    /**
     * Sets the current {@link UserSettings} and issues the "changed" event
     */
    set userSettings(value) {
        this._userSettings = value;
        this._events.next({ type: "changed" });
    }
    //TODO remove
    /**
     * @deprecated use "userSettings" get property to retrieve the user settings
     * @returns User settings object or undefined
     */
    getUserSettings() {
        return this.userSettings;
    }
    /**
     * Load the user settings for the currently logged in user.
     * Sets the userSettings member and issues the "changed" event
     */
    load() {
        const observable = this.httpClient.get(this.makeUrl("usersettings"), {
            params: this.makeParams({
                app: this.appName,
                action: "load"
            })
        });
        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__["Utils"].subscribe(observable, (response) => {
            this.userSettings = response;
            if (this.userSettings) {
                if (this.reviver) {
                    this.reviver(this.userSettings);
                }
            }
        }, (error) => {
            console.log("userSettingsService.load failure - error: ", error);
        });
        return observable;
    }
    /**
     * Saves the current user settings on the server
     *
     * @param auditEvents
     */
    save(auditEvents) {
        const observable = this.httpClient.post(this.makeUrl("usersettings"), {
            app: this.appName,
            action: "save",
            userSettings: this.userSettings,
            $auditRecord: auditEvents
        });
        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__["Utils"].subscribe(observable, (response) => response, (error) => {
            console.log("userSettingsService.save failure - error: ", error);
        });
        return observable;
    }
    /**
     * Patches the user settings on the server using a partial user settings object. The partial
     * object is used to update the user settings on the server according to [RFC7396]{@link https://tools.ietf.org/html/rfc7396}
     *
     * @param userSettings The partial user settings
     * @param auditEvents Any associated audit events to store on the server
     */
    patch(userSettings, auditEvents) {
        const observable = this.httpClient.post(this.makeUrl("usersettings"), {
            app: this.appName,
            action: "patch",
            userSettings: userSettings,
            $auditRecord: auditEvents
        });
        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__["Utils"].subscribe(observable, (response) => response, (error) => {
            console.log("userSettingsService.patch failure - error: ", error);
        });
        return observable;
    }
    /**
     * Resets User Settings (emits a change event and audit events).
     */
    reset() {
        // Save current state
        const currentState = this.userSettings;
        // Reset User settings (and emit an event!)
        this.userSettings = {};
        const observable = this.save({
            type: 'UserSettings_Reset'
        });
        observable.subscribe({
            next: () => { },
            error: () => this.userSettings = currentState // Restore previous state
        });
        return observable;
    }
    /**
     * Reads a user setting.
     *
     * @param paths The path to the setting in the JSON.
     */
    readUserSetting(paths) {
        let json = this.userSettings;
        if (json) {
            for (const path of paths) {
                json = json[path];
                if (!json) {
                    // Value does not exist yet
                    return undefined;
                }
            }
        }
        return json;
    }
}
UserSettingsWebService.ɵfac = function UserSettingsWebService_Factory(t) { return new (t || UserSettingsWebService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_start_config_web_service__WEBPACK_IMPORTED_MODULE_3__["START_CONFIG"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_http_client__WEBPACK_IMPORTED_MODULE_6__["SqHttpClient"])); };
UserSettingsWebService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: UserSettingsWebService, factory: UserSettingsWebService.ɵfac, providedIn: "root" });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](UserSettingsWebService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: "root"
            }]
    }], function () { return [{ type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [_start_config_web_service__WEBPACK_IMPORTED_MODULE_3__["START_CONFIG"]]
            }] }, { type: _http_client__WEBPACK_IMPORTED_MODULE_6__["SqHttpClient"] }]; }, null); })();


/***/ }),

/***/ "Xg0A":
/*!********************************************************************************!*\
  !*** ../components/baskets/bootstrap/facet-baskets/facet-baskets.component.ts ***!
  \********************************************************************************/
/*! exports provided: BsFacetBasketsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsFacetBasketsComponent", function() { return BsFacetBasketsComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_components_facet__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/components/facet */ "vbgc");
/* harmony import */ var _sinequa_components_action__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/components/action */ "WsHA");
/* harmony import */ var _baskets_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../baskets.service */ "3Nz9");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/router */ "sEIs");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/intl/message.pipe */ "X1Kh");








function BsFacetBasketsComponent_a_1_span_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const basket_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](basket_r2.ids.length);
} }
function BsFacetBasketsComponent_a_1_i_4_Template(rf, ctx) { if (rf & 1) {
    const _r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "i", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsFacetBasketsComponent_a_1_i_4_Template_i_click_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r8); const basket_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit; const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r6.deleteBasket(basket_r2, $event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("title", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](1, 1, "msg#baskets.delete"));
} }
const _c0 = function (a0) { return [a0]; };
function BsFacetBasketsComponent_a_1_Template(rf, ctx) { if (rf & 1) {
    const _r10 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "a", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsFacetBasketsComponent_a_1_Template_a_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r10); const basket_r2 = ctx.$implicit; const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r9.openBasket(basket_r2); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "span", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, BsFacetBasketsComponent_a_1_span_3_Template, 2, 1, "span", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, BsFacetBasketsComponent_a_1_i_4_Template, 2, 3, "i", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const basket_r2 = ctx.$implicit;
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("routerLink", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](6, _c0, ctx_r0.searchRoute))("queryParams", ctx_r0.getQueryParams(basket_r2))("state", ctx_r0.getRouterState(basket_r2));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](basket_r2.name);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", basket_r2.ids);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r0.enableDelete);
} }
function BsFacetBasketsComponent_div_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 1, "msg#baskets.noBasket"), " ");
} }
class BsFacetBasketsComponent extends _sinequa_components_facet__WEBPACK_IMPORTED_MODULE_1__["AbstractFacet"] {
    constructor(basketsService) {
        super();
        this.basketsService = basketsService;
        this.searchRoute = "/search";
        this.maxBaskets = 5;
        this.enableDelete = true;
        this.page = 0;
        this.createBasket = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_2__["Action"]({
            icon: "fas fa-plus",
            title: "msg#baskets.createBasket",
            action: () => {
                this.basketsService.createBasketModal();
            }
        });
        this.manageBasket = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_2__["Action"]({
            icon: "fas fa-cog",
            title: "msg#baskets.manageBaskets",
            action: () => {
                this.basketsService.manageBasketsModal();
            }
        });
        this.previousPage = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_2__["Action"]({
            icon: "fas fa-chevron-left",
            title: "msg#facet.previous",
            action: () => {
                this.page--;
            },
            updater: (action) => {
                action.disabled = this.page <= 0;
                action.hidden = this.maxPage === 0;
            }
        });
        this.nextPage = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_2__["Action"]({
            icon: "fas fa-chevron-right",
            title: "msg#facet.next",
            action: () => {
                this.page++;
            },
            updater: (action) => {
                action.disabled = this.page >= this.maxPage;
                action.hidden = this.maxPage === 0;
            }
        });
    }
    get maxPage() {
        return Math.max(0, Math.ceil(this.basketsService.baskets.length / this.maxBaskets) - 1);
    }
    get startIndex() {
        return this.page * this.maxBaskets;
    }
    get endIndex() {
        return (this.page + 1) * this.maxBaskets;
    }
    openBasket(basket) {
        this.basketsService.notifyOpenBasket(basket);
        return true;
    }
    get actions() {
        this.previousPage.update();
        this.nextPage.update();
        return [this.createBasket, this.previousPage, this.nextPage, this.manageBasket];
    }
    deleteBasket(basket, event) {
        event.stopPropagation();
        this.basketsService.deleteBasket(basket);
        this.page = Math.min(this.page, this.maxPage);
        return false;
    }
    getQueryParams(basket) {
        const query = this.basketsService.makeQuery(basket);
        const queryParams = query.toJsonForQueryString();
        return { query: queryParams };
    }
    getRouterState(basket) {
        return {
            audit: {
                type: "Basket_Open" /* Open */,
                detail: {
                    basket: basket.name
                }
            }
        };
    }
}
BsFacetBasketsComponent.ɵfac = function BsFacetBasketsComponent_Factory(t) { return new (t || BsFacetBasketsComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_baskets_service__WEBPACK_IMPORTED_MODULE_3__["BasketsService"])); };
BsFacetBasketsComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsFacetBasketsComponent, selectors: [["sq-facet-baskets"]], inputs: { searchRoute: "searchRoute", maxBaskets: "maxBaskets", enableDelete: "enableDelete" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"]], decls: 4, vars: 6, consts: [[1, "list-group", "list-group-flush"], ["class", "basket-item list-group-item list-group-item-action d-flex align-items-center", 3, "routerLink", "queryParams", "state", "click", 4, "ngFor", "ngForOf"], ["class", "list-group-item text-center text-muted font-italic small py-5", 4, "ngIf"], [1, "basket-item", "list-group-item", "list-group-item-action", "d-flex", "align-items-center", 3, "routerLink", "queryParams", "state", "click"], [1, "basket-name", "text-truncate", "mr-auto"], ["class", "basket-count ml-2 text-muted small", 4, "ngIf"], ["class", "basket-delete ml-2 fas fa-times", 3, "title", "click", 4, "ngIf"], [1, "basket-count", "ml-2", "text-muted", "small"], [1, "basket-delete", "ml-2", "fas", "fa-times", 3, "title", "click"], [1, "list-group-item", "text-center", "text-muted", "font-italic", "small", "py-5"]], template: function BsFacetBasketsComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsFacetBasketsComponent_a_1_Template, 5, 8, "a", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "slice");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, BsFacetBasketsComponent_div_3_Template, 3, 3, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind3"](2, 2, ctx.basketsService.baskets, ctx.startIndex, ctx.endIndex));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.basketsService.baskets.length == 0);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_4__["NgForOf"], _angular_common__WEBPACK_IMPORTED_MODULE_4__["NgIf"], _angular_router__WEBPACK_IMPORTED_MODULE_5__["RouterLinkWithHref"]], pipes: [_angular_common__WEBPACK_IMPORTED_MODULE_4__["SlicePipe"], _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_6__["MessagePipe"]], styles: [".basket-item[_ngcontent-%COMP%]   .basket-delete[_ngcontent-%COMP%]{\n    opacity: 0;\n}\n\n.basket-item[_ngcontent-%COMP%]:hover   .basket-delete[_ngcontent-%COMP%]{\n    opacity: 1;\n    transition: opacity 0.2s ease-in-out;\n}"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsFacetBasketsComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'sq-facet-baskets',
                templateUrl: './facet-baskets.component.html',
                styles: [`
.basket-item .basket-delete{
    opacity: 0;
}

.basket-item:hover .basket-delete{
    opacity: 1;
    transition: opacity 0.2s ease-in-out;
}
  `]
            }]
    }], function () { return [{ type: _baskets_service__WEBPACK_IMPORTED_MODULE_3__["BasketsService"] }]; }, { searchRoute: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], maxBaskets: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], enableDelete: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "Xn9Q":
/*!*********************************************!*\
  !*** ../components/advanced/messages/en.ts ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    "advanced": {
        "rangeSeparator": " / ",
        "dateRangePicker": {
            "separator": " / "
        },
        "rangeInput": {
            "separator": "/"
        },
        "select": {
            "nItems": "{count} items selected",
            "allItems": "All items selected",
            "noItems": "No items selected"
        }
    }
});


/***/ }),

/***/ "Xpku":
/*!*********************************************************!*\
  !*** ../components/collapse/collapse-link.component.ts ***!
  \*********************************************************/
/*! exports provided: CollapseLink */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CollapseLink", function() { return CollapseLink; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _collapse_button_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./collapse-button.component */ "odaa");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../core/intl/message.pipe */ "X1Kh");




class CollapseLink {
    constructor() {
        this.title = "";
        this.icon = "";
        this.text = "";
        this.stateChange = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.collapsed = true;
    }
    click() {
        this.collapsed = !this.collapsed;
        this.stateChange.emit({ group: this.group, collapsed: this.collapsed });
        return false; // Prevent following href
    }
}
CollapseLink.ɵfac = function CollapseLink_Factory(t) { return new (t || CollapseLink)(); };
CollapseLink.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: CollapseLink, selectors: [["sq-collapse-link"]], inputs: { title: "title", icon: "icon", text: "text", group: "group" }, outputs: { stateChange: "stateChange" }, decls: 3, vars: 6, consts: [["href", "#", 3, "title", "click"], [3, "collapsed", "icon", "text"]], template: function CollapseLink_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "a", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function CollapseLink_Template_a_click_0_listener() { return ctx.click(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "sq-collapse-button", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("title", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](1, 4, ctx.title));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("collapsed", ctx.collapsed)("icon", ctx.icon)("text", ctx.text);
    } }, directives: [_collapse_button_component__WEBPACK_IMPORTED_MODULE_1__["CollapseButton"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_2__["MessagePipe"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](CollapseLink, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-collapse-link",
                templateUrl: "./collapse-link.component.html"
            }]
    }], function () { return []; }, { title: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], icon: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], text: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], group: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], stateChange: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }] }); })();


/***/ }),

/***/ "YEfD":
/*!********************************************************!*\
  !*** ../core/web-services/user-ratings.web.service.ts ***!
  \********************************************************/
/*! exports provided: UserRatingsWebService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserRatingsWebService", function() { return UserRatingsWebService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs/operators */ "0Wlh");
/* harmony import */ var _http_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./http.service */ "3Hvy");
/* harmony import */ var _start_config_web_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./start-config.web.service */ "R3Oh");
/* harmony import */ var _http_client__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./http-client */ "j7UU");






/**
 * A service for calling the ratings web service
 */
class UserRatingsWebService extends _http_service__WEBPACK_IMPORTED_MODULE_2__["HttpService"] {
    constructor(startConfig, httpClient) {
        super(startConfig);
        this.httpClient = httpClient;
    }
    /**
     * Gets the current user rating for a document
     *
     * @param docid The id of a document for which to get the rating
     * @param config The ratings configuration
     */
    getRating(docid, config) {
        return this.httpClient.post(this.makeUrl("ratings"), {
            action: "get",
            docid,
            ratingscolumn: config.ratingsColumn,
            averagecolumn: config.averageColumn,
            ratingsdistribution: config.ratingsDistribution
        }).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["tap"])(r => { }, error => console.log("ratingsService.getRating failure - error: ", error)));
    }
    /**
     * Sets the current user rating for a document
     *
     * @param record The document for which to set the rating
     * @param rating A rating value
     * @param config The ratings configuration
     */
    setRating(record, rating, config) {
        const ratingResponse = this.getRecordRating(record, config);
        const observable = this.httpClient.post(this.makeUrl("ratings"), {
            action: "set",
            docid: record.id,
            ratingscolumn: config.ratingsColumn,
            averagecolumn: config.averageColumn,
            ratingsdistribution: config.ratingsDistribution,
            updatedocweight: config.updateDocWeight,
            rating,
            $auditRecord: {
                auditEvents: [
                    {
                        type: "Rating_Set" /* Rating_Set */,
                        detail: {
                            "doc-id": record.id,
                            ratingnum: rating,
                            value: ratingResponse.rating,
                            average: ratingResponse.averagerating
                        }
                    }
                ],
                mlAuditEvents: [
                    {
                        actionType: "addRating",
                        documentIds: record.id
                    }
                ]
            }
        });
        observable.subscribe(response => response, error => console.log("ratingsService.setRating failure - error: ", error));
        return observable;
    }
    /**
     * Delete a rating for a document
     *
     * @param record The document for which to delete the rating
     * @param config The ratings configuration
     */
    deleteRating(record, config) {
        const ratingResponse = this.getRecordRating(record, config);
        const observable = this.httpClient.post(this.makeUrl("ratings"), {
            action: "delete",
            docid: record.id,
            ratingscolumn: config.ratingsColumn,
            averagecolumn: config.averageColumn,
            ratingsdistribution: config.ratingsDistribution,
            updatedocweight: config.updateDocWeight,
            $auditRecord: {
                auditEvents: [
                    {
                        type: "Rating_Delete" /* Rating_Delete */,
                        detail: {
                            "doc-id": record.id,
                            value: ratingResponse.rating,
                            average: ratingResponse.averagerating
                        }
                    }
                ],
                mlAuditEvents: [
                    {
                        actionType: "removeRating",
                        documentIds: record.id
                    }
                ]
            }
        });
        observable.subscribe(response => response, error => console.log("ratingsService.deleteRating failure - error: ", error));
        return observable;
    }
    /**
     * Gets user rating information from the given record
     *
     * @param record The record for which to get the rating
     * @param config The ratings configuration
     */
    getRecordRating(record, config) {
        return {
            rating: this.parseUserRating(record[config.ratingsColumn], config),
            averagerating: this.parseAverageRating(record[config.averageColumn], config)
        };
    }
    parseAverageRating(columnEntries, config) {
        if (config.ratingsDistribution && columnEntries) {
            return config.ratingsDistribution.indexOf(columnEntries[0]);
        }
        else {
            return -1;
        }
    }
    parseUserRating(ratingValues, config) {
        if (ratingValues) {
            if (config.ratingsDistribution) {
                return config.ratingsDistribution.indexOf(ratingValues[0]);
            }
        }
        return -1;
    }
}
UserRatingsWebService.ɵfac = function UserRatingsWebService_Factory(t) { return new (t || UserRatingsWebService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_start_config_web_service__WEBPACK_IMPORTED_MODULE_3__["START_CONFIG"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_http_client__WEBPACK_IMPORTED_MODULE_4__["SqHttpClient"])); };
UserRatingsWebService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: UserRatingsWebService, factory: UserRatingsWebService.ɵfac, providedIn: "root" });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](UserRatingsWebService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: "root"
            }]
    }], function () { return [{ type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [_start_config_web_service__WEBPACK_IMPORTED_MODULE_3__["START_CONFIG"]]
            }] }, { type: _http_client__WEBPACK_IMPORTED_MODULE_4__["SqHttpClient"] }]; }, null); })();


/***/ }),

/***/ "YIA9":
/*!***********************************************************!*\
  !*** ../components/advanced/bootstrap/advanced.module.ts ***!
  \***********************************************************/
/*! exports provided: BsAdvancedModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsAdvancedModule", function() { return BsAdvancedModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "nIj0");
/* harmony import */ var _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/intl */ "EfqX");
/* harmony import */ var ngx_bootstrap_datepicker__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ngx-bootstrap/datepicker */ "QN9p");
/* harmony import */ var _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sinequa/components/utils */ "DD1E");
/* harmony import */ var _sinequa_components_autocomplete__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @sinequa/components/autocomplete */ "jAS1");
/* harmony import */ var _advanced_form_checkbox_advanced_form_checkbox__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./advanced-form-checkbox/advanced-form-checkbox */ "gh78");
/* harmony import */ var _advanced_form_range_advanced_form_range__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./advanced-form-range/advanced-form-range */ "xE+r");
/* harmony import */ var _advanced_form_select_advanced_form_select__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./advanced-form-select/advanced-form-select */ "p6KM");
/* harmony import */ var _advanced_form_multi_input_advanced_form_multi_input__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./advanced-form-multi-input/advanced-form-multi-input */ "VEf0");
/* harmony import */ var _advanced_form_input_advanced_form_input__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./advanced-form-input/advanced-form-input */ "1wgL");
/* harmony import */ var _advanced_form_range_date_picker_date_picker__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./advanced-form-range/date-picker/date-picker */ "OMhs");
/* harmony import */ var _advanced_form_range_date_range_picker_date_range_picker__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./advanced-form-range/date-range-picker/date-range-picker */ "Rys7");
/* harmony import */ var _advanced_form_select_select_select__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./advanced-form-select/select/select */ "TBux");
/* harmony import */ var _advanced_form_autocomplete_directive__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./advanced-form-autocomplete.directive */ "EF9c");
/* harmony import */ var _advanced_form_validation_directive__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./advanced-form-validation.directive */ "TyST");
/* harmony import */ var _advanced_form_multi_input_advanced_form_autocomplete_multi_input_directive__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./advanced-form-multi-input/advanced-form-autocomplete-multi-input.directive */ "xwCo");















// Directives





class BsAdvancedModule {
}
BsAdvancedModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: BsAdvancedModule });
BsAdvancedModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function BsAdvancedModule_Factory(t) { return new (t || BsAdvancedModule)(); }, imports: [[
            _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_2__["ReactiveFormsModule"],
            _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_3__["IntlModule"],
            // ngx-bootstrap
            ngx_bootstrap_datepicker__WEBPACK_IMPORTED_MODULE_4__["BsDatepickerModule"].forRoot(),
            _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_5__["UtilsModule"],
            _sinequa_components_autocomplete__WEBPACK_IMPORTED_MODULE_6__["BsAutocompleteModule"]
        ]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](BsAdvancedModule, { declarations: [_advanced_form_checkbox_advanced_form_checkbox__WEBPACK_IMPORTED_MODULE_7__["BsAdvancedFormCheckbox"],
        _advanced_form_input_advanced_form_input__WEBPACK_IMPORTED_MODULE_11__["BsAdvancedFormInput"],
        _advanced_form_range_advanced_form_range__WEBPACK_IMPORTED_MODULE_8__["BsAdvancedFormRange"],
        _advanced_form_select_advanced_form_select__WEBPACK_IMPORTED_MODULE_9__["BsAdvancedFormSelect"],
        _advanced_form_multi_input_advanced_form_multi_input__WEBPACK_IMPORTED_MODULE_10__["BsAdvancedFormMultiInput"],
        _advanced_form_range_date_picker_date_picker__WEBPACK_IMPORTED_MODULE_12__["BsDatePicker"],
        _advanced_form_range_date_range_picker_date_range_picker__WEBPACK_IMPORTED_MODULE_13__["BsDateRangePicker"],
        _advanced_form_select_select_select__WEBPACK_IMPORTED_MODULE_14__["BsSelectComponent"],
        _advanced_form_multi_input_advanced_form_autocomplete_multi_input_directive__WEBPACK_IMPORTED_MODULE_17__["BsAdvancedFormAutocompleteMultiInput"],
        _advanced_form_autocomplete_directive__WEBPACK_IMPORTED_MODULE_15__["BsAdvancedFormAutocomplete"],
        _advanced_form_validation_directive__WEBPACK_IMPORTED_MODULE_16__["BsAdvancedFormValidation"]], imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
        _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"],
        _angular_forms__WEBPACK_IMPORTED_MODULE_2__["ReactiveFormsModule"],
        _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_3__["IntlModule"], ngx_bootstrap_datepicker__WEBPACK_IMPORTED_MODULE_4__["BsDatepickerModule"], _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_5__["UtilsModule"],
        _sinequa_components_autocomplete__WEBPACK_IMPORTED_MODULE_6__["BsAutocompleteModule"]], exports: [_advanced_form_checkbox_advanced_form_checkbox__WEBPACK_IMPORTED_MODULE_7__["BsAdvancedFormCheckbox"],
        _advanced_form_input_advanced_form_input__WEBPACK_IMPORTED_MODULE_11__["BsAdvancedFormInput"],
        _advanced_form_range_advanced_form_range__WEBPACK_IMPORTED_MODULE_8__["BsAdvancedFormRange"],
        _advanced_form_select_advanced_form_select__WEBPACK_IMPORTED_MODULE_9__["BsAdvancedFormSelect"],
        _advanced_form_multi_input_advanced_form_multi_input__WEBPACK_IMPORTED_MODULE_10__["BsAdvancedFormMultiInput"],
        _advanced_form_range_date_picker_date_picker__WEBPACK_IMPORTED_MODULE_12__["BsDatePicker"],
        _advanced_form_range_date_range_picker_date_range_picker__WEBPACK_IMPORTED_MODULE_13__["BsDateRangePicker"],
        _advanced_form_select_select_select__WEBPACK_IMPORTED_MODULE_14__["BsSelectComponent"],
        _advanced_form_multi_input_advanced_form_autocomplete_multi_input_directive__WEBPACK_IMPORTED_MODULE_17__["BsAdvancedFormAutocompleteMultiInput"],
        _advanced_form_autocomplete_directive__WEBPACK_IMPORTED_MODULE_15__["BsAdvancedFormAutocomplete"],
        _advanced_form_validation_directive__WEBPACK_IMPORTED_MODULE_16__["BsAdvancedFormValidation"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsAdvancedModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                    _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"],
                    _angular_forms__WEBPACK_IMPORTED_MODULE_2__["ReactiveFormsModule"],
                    _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_3__["IntlModule"],
                    // ngx-bootstrap
                    ngx_bootstrap_datepicker__WEBPACK_IMPORTED_MODULE_4__["BsDatepickerModule"].forRoot(),
                    _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_5__["UtilsModule"],
                    _sinequa_components_autocomplete__WEBPACK_IMPORTED_MODULE_6__["BsAutocompleteModule"]
                ],
                declarations: [
                    _advanced_form_checkbox_advanced_form_checkbox__WEBPACK_IMPORTED_MODULE_7__["BsAdvancedFormCheckbox"],
                    _advanced_form_input_advanced_form_input__WEBPACK_IMPORTED_MODULE_11__["BsAdvancedFormInput"],
                    _advanced_form_range_advanced_form_range__WEBPACK_IMPORTED_MODULE_8__["BsAdvancedFormRange"],
                    _advanced_form_select_advanced_form_select__WEBPACK_IMPORTED_MODULE_9__["BsAdvancedFormSelect"],
                    _advanced_form_multi_input_advanced_form_multi_input__WEBPACK_IMPORTED_MODULE_10__["BsAdvancedFormMultiInput"],
                    _advanced_form_range_date_picker_date_picker__WEBPACK_IMPORTED_MODULE_12__["BsDatePicker"],
                    _advanced_form_range_date_range_picker_date_range_picker__WEBPACK_IMPORTED_MODULE_13__["BsDateRangePicker"],
                    _advanced_form_select_select_select__WEBPACK_IMPORTED_MODULE_14__["BsSelectComponent"],
                    _advanced_form_multi_input_advanced_form_autocomplete_multi_input_directive__WEBPACK_IMPORTED_MODULE_17__["BsAdvancedFormAutocompleteMultiInput"],
                    _advanced_form_autocomplete_directive__WEBPACK_IMPORTED_MODULE_15__["BsAdvancedFormAutocomplete"],
                    _advanced_form_validation_directive__WEBPACK_IMPORTED_MODULE_16__["BsAdvancedFormValidation"],
                ],
                exports: [
                    _advanced_form_checkbox_advanced_form_checkbox__WEBPACK_IMPORTED_MODULE_7__["BsAdvancedFormCheckbox"],
                    _advanced_form_input_advanced_form_input__WEBPACK_IMPORTED_MODULE_11__["BsAdvancedFormInput"],
                    _advanced_form_range_advanced_form_range__WEBPACK_IMPORTED_MODULE_8__["BsAdvancedFormRange"],
                    _advanced_form_select_advanced_form_select__WEBPACK_IMPORTED_MODULE_9__["BsAdvancedFormSelect"],
                    _advanced_form_multi_input_advanced_form_multi_input__WEBPACK_IMPORTED_MODULE_10__["BsAdvancedFormMultiInput"],
                    _advanced_form_range_date_picker_date_picker__WEBPACK_IMPORTED_MODULE_12__["BsDatePicker"],
                    _advanced_form_range_date_range_picker_date_range_picker__WEBPACK_IMPORTED_MODULE_13__["BsDateRangePicker"],
                    _advanced_form_select_select_select__WEBPACK_IMPORTED_MODULE_14__["BsSelectComponent"],
                    _advanced_form_multi_input_advanced_form_autocomplete_multi_input_directive__WEBPACK_IMPORTED_MODULE_17__["BsAdvancedFormAutocompleteMultiInput"],
                    _advanced_form_autocomplete_directive__WEBPACK_IMPORTED_MODULE_15__["BsAdvancedFormAutocomplete"],
                    _advanced_form_validation_directive__WEBPACK_IMPORTED_MODULE_16__["BsAdvancedFormValidation"],
                ]
            }]
    }], null, null); })();


/***/ }),

/***/ "YgbU":
/*!******************************************************************!*\
  !*** ../components/facet/bootstrap/facet-refine/facet-refine.ts ***!
  \******************************************************************/
/*! exports provided: BsRefine */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsRefine", function() { return BsRefine; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _abstract_facet__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../abstract-facet */ "+Pqq");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "nIj0");
/* harmony import */ var _sinequa_components_search__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/components/search */ "7+c1");
/* harmony import */ var _autocomplete_autocomplete_directive__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../autocomplete/autocomplete.directive */ "xqzj");
/* harmony import */ var _autocomplete_bootstrap_autocomplete_list_autocomplete_list__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../autocomplete/bootstrap/autocomplete-list/autocomplete-list */ "0Tqz");
/* harmony import */ var _search_bootstrap_did_you_mean_did_you_mean__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../search/bootstrap/did-you-mean/did-you-mean */ "zj6v");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/intl/message.pipe */ "X1Kh");











function BsRefine_ng_template_15_small_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "small", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const item_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 1, item_r3.label || item_r3.category));
} }
function BsRefine_ng_template_15_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, BsRefine_ng_template_15_small_2_Template, 3, 3, "small", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const item_r3 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"]("", item_r3.display, " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", item_r3.category);
} }
class BsRefine extends _abstract_facet__WEBPACK_IMPORTED_MODULE_2__["AbstractFacet"] {
    constructor(formBuilder, searchService, changeDetectorRef) {
        super();
        this.formBuilder = formBuilder;
        this.searchService = searchService;
        this.changeDetectorRef = changeDetectorRef;
        /**
         * Minimum delay (in ms) between suggest queries
         */
        this.suggestDelay = 200;
        this.doRefine = () => {
            if (this.searchControl) {
                const text = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].trim(this.searchControl.value);
                if (text) {
                    this.searchService.searchRefine(text);
                }
            }
        };
    }
    ngOnChanges(changes) {
        if (!this.form) {
            this.form = this.formBuilder.group({
                "search": ""
            });
            this.searchControl = this.form.get("search");
        }
        if (!!changes["results"] && this.searchControl) {
            this.searchControl.setValue(this.searchService.lastRefineText);
        }
    }
    setError(parseResult = {}) {
        if (parseResult.error !== this.inputErrorMessage) {
            this.inputErrorMessage = parseResult.error || "";
            this.changeDetectorRef.markForCheck();
        }
    }
}
BsRefine.ɵfac = function BsRefine_Factory(t) { return new (t || BsRefine)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormBuilder"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_search__WEBPACK_IMPORTED_MODULE_4__["SearchService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"])); };
BsRefine.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsRefine, selectors: [["sq-refine"]], inputs: { results: "results", autocompleteEnabled: "autocompleteEnabled", suggestQuery: "suggestQuery", suggestDelay: "suggestDelay" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"], _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 18, vars: 20, consts: [[1, "card-body"], ["role", "search", "novalidate", "", 3, "formGroup"], [1, "d-flex", "flex-column", "flex-grow-1", "position-relative"], [1, "input-group"], [1, "sr-only"], ["type", "text", "formControlName", "search", "spellcheck", "false", "autocomplete", "off", "sqAutocomplete", "", 3, "title", "placeholder", "dropdown", "suggestQuery", "off", "suggestDelay", "submit", "parse"], [1, "input-group-append"], ["type", "button", 1, "btn", "btn-light", 3, "title", "click"], [1, "fas", "fa-search"], ["dropdown", ""], ["itemTpl", ""], [3, "results", "context"], [1, "py-2", 2, "padding-left", "0.75rem"], ["class", "ml-2 text-muted", 4, "ngIf"], [1, "ml-2", "text-muted"]], template: function BsRefine_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "form", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "label", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](6, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "input", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("submit", function BsRefine_Template_input_submit_7_listener() { return ctx.doRefine(); })("parse", function BsRefine_Template_input_parse_7_listener($event) { return ctx.setError($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](8, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](9, "div", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](10, "button", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsRefine_Template_button_click_10_listener() { return ctx.doRefine(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](11, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](12, "i", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](13, "sq-autocomplete-list", null, 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](15, BsRefine_ng_template_15_Template, 3, 2, "ng-template", null, 10, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplateRefExtractor"]);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](17, "sq-did-you-mean", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        const _r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](14);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](6, 14, "msg#facet.refine.input.label"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMapInterpolate1"]("form-control ", ctx.inputErrorMessage ? "is-invalid" : "", "");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("title", ctx.inputErrorMessage)("placeholder", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](8, 16, "msg#facet.refine.input.placeholder"))("dropdown", _r0)("suggestQuery", ctx.suggestQuery)("off", !ctx.autocompleteEnabled)("suggestDelay", ctx.suggestDelay);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("title", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](11, 18, "msg#facet.refine.input.buttonTitle"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](7);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("results", ctx.results)("context", "refine");
    } }, directives: [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["ɵangular_packages_forms_forms_y"], _angular_forms__WEBPACK_IMPORTED_MODULE_3__["NgControlStatusGroup"], _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormGroupDirective"], _angular_forms__WEBPACK_IMPORTED_MODULE_3__["DefaultValueAccessor"], _angular_forms__WEBPACK_IMPORTED_MODULE_3__["NgControlStatus"], _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormControlName"], _autocomplete_autocomplete_directive__WEBPACK_IMPORTED_MODULE_5__["Autocomplete"], _autocomplete_bootstrap_autocomplete_list_autocomplete_list__WEBPACK_IMPORTED_MODULE_6__["BsAutocompleteList"], _search_bootstrap_did_you_mean_did_you_mean__WEBPACK_IMPORTED_MODULE_7__["BsDidYouMean"], _angular_common__WEBPACK_IMPORTED_MODULE_8__["NgIf"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_9__["MessagePipe"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsRefine, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-refine",
                templateUrl: "./facet-refine.html"
            }]
    }], function () { return [{ type: _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormBuilder"] }, { type: _sinequa_components_search__WEBPACK_IMPORTED_MODULE_4__["SearchService"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] }]; }, { results: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], autocompleteEnabled: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], suggestQuery: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], suggestDelay: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "YslT":
/*!****************************************************************!*\
  !*** ./src/app/search-form/autocomplete-extended.directive.ts ***!
  \****************************************************************/
/*! exports provided: AutocompleteExtended */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AutocompleteExtended", function() { return AutocompleteExtended; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_components_autocomplete__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/components/autocomplete */ "jAS1");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "+kfY");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ "0Wlh");
/* harmony import */ var _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/core/app-utils */ "SBPP");
/* harmony import */ var _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sinequa/components/utils */ "DD1E");
/* harmony import */ var _sinequa_components_saved_queries__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @sinequa/components/saved-queries */ "vQnv");
/* harmony import */ var _sinequa_components_baskets__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @sinequa/components/baskets */ "jOUn");
/* harmony import */ var _sinequa_components_preview__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @sinequa/components/preview */ "XNLR");
/* harmony import */ var _sinequa_components_search__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @sinequa/components/search */ "7+c1");
/* harmony import */ var _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @sinequa/core/web-services */ "cIYa");













/**
 * This directive extends the autocomplete directive to provide autocomplete on
 * additional objects, such as recent queries, documents and baskets
 */
class AutocompleteExtended extends _sinequa_components_autocomplete__WEBPACK_IMPORTED_MODULE_1__["AutocompleteFieldSearch"] {
    constructor(elementRef, suggestService, appService, uiService, exprBuilder, recentQueriesService, recentDocumentsService, savedQueriesService, basketsService, previewService, searchService, audit) {
        super(elementRef, suggestService, appService, uiService, exprBuilder);
        this.recentQueriesService = recentQueriesService;
        this.recentDocumentsService = recentDocumentsService;
        this.savedQueriesService = savedQueriesService;
        this.basketsService = basketsService;
        this.previewService = previewService;
        this.searchService = searchService;
        this.audit = audit;
        /**
         * List of features within which to search in
         * (list of 'recent-documents', 'recent-queries', 'saved-queries', 'baskets')
         */
        this.sqAutocompleteExtended = [];
    }
    /**
     * This method overrides the Autocomplete.getSuggestsObs() method from the sqAutocomplete directive.
     * Rather than only getting suggests from the server via the SuggestService, this directive also
     * searches for matches in the User Settings objects (recent documents, recent queries, saved
     * queries, baskets)
     */
    getSuggestsObs(value, fields) {
        // Methods returning (observable of) suggestions from different sources
        let dataSources;
        // Fielded search mode
        if ((fields && fields.length > 0) || this.fieldSearchItems.length > 0 || value !== this.getInputValue()) {
            dataSources = [super.getSuggestsObs(value, fields)];
        }
        // Normal mode
        else {
            dataSources = this.sqAutocompleteExtended.map(source => {
                switch (source) {
                    case 'suggests': return this.suggestService.get(this.suggestQuery, value, fields);
                    case 'baskets': return Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["from"])(this.searchBaskets(value));
                    case 'recent-documents': return Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["from"])(this.searchRecentDocuments(value));
                    case 'recent-queries': return Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["from"])(this.searchRecentQueries(value));
                    case 'saved-queries': return Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["from"])(this.searchSavedQueries(value));
                }
                return Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["of"])([]);
            });
        }
        // The forkJoin method allows to merge the suggestions into a single array, so the parent
        // directive only sees a single source.
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["forkJoin"])(...dataSources).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])((suggests) => {
            return [].concat(...suggests)
                .sort((a, b) => (b['score'] || 0) - (a['score'] || 0)); // autocomplete items returned by searchData still have their "score" attribute, which is consistent across categories
        }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])((err, caught) => {
            console.error(err);
            return [];
        }));
    }
    /**
     * This method overrides the Autocomplete.select() method from the sqAutocomplete directive.
     * It performs custom actions when a specific category of autocomplete item is selected, such
     * as selecting a basket, a saved query or a recent document.
     * @param item
     * @param submit
     */
    select(item, submit) {
        this.audit.notify({ type: "Search_Autocomplete" /* Search_AutoComplete */, detail: { display: item.display, category: item.category } });
        if (item.category === "recent-document") {
            this.previewService.openRoute(item['data'], this.searchService.makeQuery());
        }
        else if (item.category === "saved-query") {
            this.savedQueriesService.searchSavedQuery(item['data'], "/search");
            this.setState(_sinequa_components_autocomplete__WEBPACK_IMPORTED_MODULE_1__["AutocompleteState"].SELECTED);
            this.dropdown.update(false); // Close dropdown
        }
        else if (item.category === "basket") {
            this.basketsService.searchBasket(item['data'], "/search");
            this.setState(_sinequa_components_autocomplete__WEBPACK_IMPORTED_MODULE_1__["AutocompleteState"].SELECTED);
            this.dropdown.update(false); // Close dropdown
        }
        else {
            super.select(item, submit);
        }
    }
    /**
     * Search for the input text in the recent queries and return autocomplete items asynchronously
     * @param text
     */
    searchRecentQueries(text) {
        return this.suggestService.searchData('recent-query', text, this.recentQueriesService.recentqueries, (query) => query.query.text || "", undefined, "msg#searchForm.recentQuery");
    }
    /**
     * Search for the input text in the recent documents and return autocomplete items asynchronously
     * @param text
     */
    searchRecentDocuments(text) {
        return this.suggestService.searchData('recent-document', text, this.recentDocumentsService.recentdocuments, (doc) => doc.title, (doc) => [].concat(doc.url1, doc.treepath, doc.authors), "msg#searchForm.recentDocument");
    }
    /**
     * Search for the input text in the saved queries and return autocomplete items asynchronously
     * @param text
     */
    searchSavedQueries(text) {
        return this.suggestService.searchData('saved-query', text, this.savedQueriesService.savedqueries, (query) => query.name, (query) => [query.description || "", query.query.text || ""], "msg#editSavedQuery.title");
    }
    /**
     * Search for the input text in the baskets and return autocomplete items asynchronously
     * @param text
     */
    searchBaskets(text) {
        return this.suggestService.searchData('basket', text, this.basketsService.baskets, (bsk) => bsk.name, (bsk) => [bsk.description || ""], "msg#editBasket.title");
    }
}
AutocompleteExtended.ɵfac = function AutocompleteExtended_Factory(t) { return new (t || AutocompleteExtended)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_autocomplete__WEBPACK_IMPORTED_MODULE_1__["SuggestService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_4__["AppService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_utils__WEBPACK_IMPORTED_MODULE_5__["UIService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_4__["ExprBuilder"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_saved_queries__WEBPACK_IMPORTED_MODULE_6__["RecentQueriesService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_saved_queries__WEBPACK_IMPORTED_MODULE_6__["RecentDocumentsService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_saved_queries__WEBPACK_IMPORTED_MODULE_6__["SavedQueriesService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_baskets__WEBPACK_IMPORTED_MODULE_7__["BasketsService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_preview__WEBPACK_IMPORTED_MODULE_8__["PreviewService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_search__WEBPACK_IMPORTED_MODULE_9__["SearchService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_10__["AuditWebService"])); };
AutocompleteExtended.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({ type: AutocompleteExtended, selectors: [["", "sqAutocompleteExtended", ""]], inputs: { sqAutocompleteExtended: "sqAutocompleteExtended" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"]] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AutocompleteExtended, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Directive"],
        args: [{
                selector: "[sqAutocompleteExtended]"
            }]
    }], function () { return [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"] }, { type: _sinequa_components_autocomplete__WEBPACK_IMPORTED_MODULE_1__["SuggestService"] }, { type: _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_4__["AppService"] }, { type: _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_5__["UIService"] }, { type: _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_4__["ExprBuilder"] }, { type: _sinequa_components_saved_queries__WEBPACK_IMPORTED_MODULE_6__["RecentQueriesService"] }, { type: _sinequa_components_saved_queries__WEBPACK_IMPORTED_MODULE_6__["RecentDocumentsService"] }, { type: _sinequa_components_saved_queries__WEBPACK_IMPORTED_MODULE_6__["SavedQueriesService"] }, { type: _sinequa_components_baskets__WEBPACK_IMPORTED_MODULE_7__["BasketsService"] }, { type: _sinequa_components_preview__WEBPACK_IMPORTED_MODULE_8__["PreviewService"] }, { type: _sinequa_components_search__WEBPACK_IMPORTED_MODULE_9__["SearchService"] }, { type: _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_10__["AuditWebService"] }]; }, { sqAutocompleteExtended: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "ZAI4":
/*!*******************************!*\
  !*** ./src/app/app.module.ts ***!
  \*******************************/
/*! exports provided: startConfig, StartConfigInitializer, routes, searchOptions, AppLocalesConfig, breakpoints, AppModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "startConfig", function() { return startConfig; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StartConfigInitializer", function() { return StartConfigInitializer; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "routes", function() { return routes; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "searchOptions", function() { return searchOptions; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppLocalesConfig", function() { return AppLocalesConfig; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "breakpoints", function() { return breakpoints; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppModule", function() { return AppModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser */ "e4iD");
/* harmony import */ var _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/platform-browser/animations */ "5lCh");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "sEIs");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common/http */ "vobO");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/forms */ "nIj0");
/* harmony import */ var _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @sinequa/core/web-services */ "cIYa");
/* harmony import */ var _sinequa_core_login__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @sinequa/core/login */ "7O5u");
/* harmony import */ var _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @sinequa/core/intl */ "EfqX");
/* harmony import */ var _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @sinequa/core/modal */ "vMGo");
/* harmony import */ var _sinequa_core_notification__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @sinequa/core/notification */ "mkLw");
/* harmony import */ var _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @sinequa/core/app-utils */ "SBPP");
/* harmony import */ var _sinequa_components_search__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @sinequa/components/search */ "7+c1");
/* harmony import */ var _sinequa_components_autocomplete__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @sinequa/components/autocomplete */ "jAS1");
/* harmony import */ var _sinequa_components_notification__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @sinequa/components/notification */ "5e9m");
/* harmony import */ var _sinequa_components_facet__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @sinequa/components/facet */ "vbgc");
/* harmony import */ var _sinequa_components_action__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @sinequa/components/action */ "WsHA");
/* harmony import */ var _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @sinequa/components/modal */ "mOpA");
/* harmony import */ var _sinequa_components_baskets__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @sinequa/components/baskets */ "jOUn");
/* harmony import */ var _sinequa_components_alerts__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @sinequa/components/alerts */ "wg+P");
/* harmony import */ var _sinequa_components_saved_queries__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @sinequa/components/saved-queries */ "vQnv");
/* harmony import */ var _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @sinequa/components/utils */ "DD1E");
/* harmony import */ var _sinequa_components_labels__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @sinequa/components/labels */ "URQe");
/* harmony import */ var _sinequa_components_user_settings__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @sinequa/components/user-settings */ "ooqV");
/* harmony import */ var _sinequa_components_result__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! @sinequa/components/result */ "fMrC");
/* harmony import */ var _sinequa_components_feedback__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! @sinequa/components/feedback */ "+3Y0");
/* harmony import */ var _sinequa_components_preview__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! @sinequa/components/preview */ "XNLR");
/* harmony import */ var _sinequa_components_metadata__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! @sinequa/components/metadata */ "l9Gu");
/* harmony import */ var _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! @sinequa/components/selection */ "8GPZ");
/* harmony import */ var _sinequa_components_advanced__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! @sinequa/components/advanced */ "c96x");
/* harmony import */ var _app_component__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./app.component */ "Sy1n");
/* harmony import */ var _home_home_component__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./home/home.component */ "9vUh");
/* harmony import */ var _search_search_component__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./search/search.component */ "tq2C");
/* harmony import */ var _preview_preview_component__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./preview/preview.component */ "oFMy");
/* harmony import */ var _search_form_search_form_component__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./search-form/search-form.component */ "kruh");
/* harmony import */ var _search_form_autocomplete_extended_directive__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./search-form/autocomplete-extended.directive */ "YslT");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ../environments/environment */ "AytR");
/* harmony import */ var _locales_en__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ../locales/en */ "qE6L");
/* harmony import */ var _locales_fr__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ../locales/fr */ "O2tJ");
/* harmony import */ var _locales_de__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ../locales/de */ "6BzM");
/* harmony import */ var _core_web_services_web_services_module__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ../../../core/web-services/web-services.module */ "Qrf+");
/* harmony import */ var _core_intl_intl_module__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ../../../core/intl/intl.module */ "PWyw");
/* harmony import */ var _components_search_bootstrap_search_module__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ../../../components/search/bootstrap/search.module */ "SKA6");







// @sinequa/core library






// @sinequa/components library


















// Components






// Environment









// Initialization of @sinequa/core
const startConfig = {
    // app: "training",
    production: _environments_environment__WEBPACK_IMPORTED_MODULE_37__["environment"].production,
    // autoSAMLProvider: environment.autoSAMLProvider,
    auditEnabled: true
};
// @sinequa/core config initializer
function StartConfigInitializer(startConfigWebService) {
    const init = () => startConfigWebService.fetchPreLoginAppConfig().toPromise();
    return init;
}
// Application routes (see https://angular.io/guide/router)
const routes = [
    { path: "home", component: _home_home_component__WEBPACK_IMPORTED_MODULE_32__["HomeComponent"] },
    { path: "search", component: _search_search_component__WEBPACK_IMPORTED_MODULE_33__["SearchComponent"] },
    { path: "preview", component: _preview_preview_component__WEBPACK_IMPORTED_MODULE_34__["PreviewComponent"] },
    { path: "**", redirectTo: "home" }
];
// Search options (search service)
const searchOptions = {
    routes: ["search"],
    homeRoute: "home"
};
class AppLocalesConfig {
    constructor() {
        this.locales = [
            { name: "en", display: "msg#locale.en", data: _locales_en__WEBPACK_IMPORTED_MODULE_38__["default"] },
            { name: "fr", display: "msg#locale.fr", data: _locales_fr__WEBPACK_IMPORTED_MODULE_39__["default"] },
            { name: "de", display: "msg#locale.de", data: _locales_de__WEBPACK_IMPORTED_MODULE_40__["default"] },
        ];
        this.defaultLocale = this.locales[0];
    }
}
// Screen size breakpoints (consistent with Bootstrap custom breakpoints in app.scss)
const breakpoints = {
    xl: "(min-width: 1650px)",
    lg: "(min-width: 1400px) and (max-width: 1649.98px)",
    md: "(min-width: 992px) and (max-width: 1399.98px)",
    sm: "(min-width: 576px) and (max-width: 991.98px)",
    xs: "(max-width: 575.98px)",
};
class AppModule {
}
AppModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: AppModule, bootstrap: [_app_component__WEBPACK_IMPORTED_MODULE_31__["AppComponent"]] });
AppModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function AppModule_Factory(t) { return new (t || AppModule)(); }, providers: [
        // Provides an APP_INITIALIZER which will fetch application configuration information from the Sinequa
        // server automatically at startup using the application name specified in the URL (app[-debug]/<app-name>).
        // This allows an application to avoid hard-coding parameters in the StartConfig but requires that the application
        // be served from the an app[-debug]/<app name> URL.
        { provide: _angular_core__WEBPACK_IMPORTED_MODULE_0__["APP_INITIALIZER"], useFactory: StartConfigInitializer, deps: [_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_7__["StartConfigWebService"]], multi: true },
        // Provides the Angular LocationStrategy to be used for reading route state from the browser's URL. Currently
        // only the HashLocationStrategy is supported by Sinequa.
        { provide: _angular_common__WEBPACK_IMPORTED_MODULE_4__["LocationStrategy"], useClass: _angular_common__WEBPACK_IMPORTED_MODULE_4__["HashLocationStrategy"] },
        // Provides an HttpInterceptor to handle user login. The LoginInterceptor handles HTTP 401 responses
        // to Sinequa web service requests and initiates the login process.
        { provide: _angular_common_http__WEBPACK_IMPORTED_MODULE_5__["HTTP_INTERCEPTORS"], useClass: _sinequa_core_login__WEBPACK_IMPORTED_MODULE_8__["LoginInterceptor"], multi: true },
        // Provides an HttpInterceptor that offers a centralized location through which all client-side
        // audit records pass. An application can replace AuditInterceptor with a subclass that overrides
        // the updateAuditRecord method to add custom audit information to the records.
        { provide: _angular_common_http__WEBPACK_IMPORTED_MODULE_5__["HTTP_INTERCEPTORS"], useClass: _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_12__["AuditInterceptor"], multi: true },
        // Provides an HttpInterceptor that automatically processes any notifications specified in the $notifications
        // member of the response body to any Sinequa web service requests.
        { provide: _angular_common_http__WEBPACK_IMPORTED_MODULE_5__["HTTP_INTERCEPTORS"], useClass: _sinequa_core_notification__WEBPACK_IMPORTED_MODULE_11__["NotificationsInterceptor"], multi: true },
        { provide: _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_22__["SCREEN_SIZE_RULES"], useValue: breakpoints }
    ], imports: [[
            _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__["BrowserModule"],
            _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_2__["BrowserAnimationsModule"],
            _angular_router__WEBPACK_IMPORTED_MODULE_3__["RouterModule"].forRoot(routes),
            _angular_forms__WEBPACK_IMPORTED_MODULE_6__["FormsModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_6__["ReactiveFormsModule"],
            _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_7__["WebServicesModule"].forRoot(startConfig),
            _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_9__["IntlModule"].forRoot(AppLocalesConfig),
            _sinequa_core_login__WEBPACK_IMPORTED_MODULE_8__["LoginModule"],
            _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_10__["ModalModule"],
            _sinequa_components_search__WEBPACK_IMPORTED_MODULE_13__["BsSearchModule"].forRoot(searchOptions),
            _sinequa_components_autocomplete__WEBPACK_IMPORTED_MODULE_14__["BsAutocompleteModule"],
            _sinequa_components_notification__WEBPACK_IMPORTED_MODULE_15__["BsNotificationModule"],
            _sinequa_components_facet__WEBPACK_IMPORTED_MODULE_16__["BsFacetModule"],
            _sinequa_components_action__WEBPACK_IMPORTED_MODULE_17__["BsActionModule"],
            _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_18__["BsModalModule"],
            _sinequa_components_baskets__WEBPACK_IMPORTED_MODULE_19__["BsBasketsModule"],
            _sinequa_components_alerts__WEBPACK_IMPORTED_MODULE_20__["BsAlertsModule"],
            _sinequa_components_saved_queries__WEBPACK_IMPORTED_MODULE_21__["BsSavedQueriesModule"],
            _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_22__["UtilsModule"],
            _sinequa_components_labels__WEBPACK_IMPORTED_MODULE_23__["BsLabelsModule"],
            _sinequa_components_user_settings__WEBPACK_IMPORTED_MODULE_24__["BsUserSettingsModule"],
            _sinequa_components_result__WEBPACK_IMPORTED_MODULE_25__["ResultModule"],
            _sinequa_components_feedback__WEBPACK_IMPORTED_MODULE_26__["BsFeedbackModule"],
            _sinequa_components_preview__WEBPACK_IMPORTED_MODULE_27__["BsPreviewModule"],
            _sinequa_components_metadata__WEBPACK_IMPORTED_MODULE_28__["MetadataModule"],
            _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_29__["BsSelectionModule"],
            _sinequa_components_advanced__WEBPACK_IMPORTED_MODULE_30__["BsAdvancedModule"]
        ]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](AppModule, { declarations: [_app_component__WEBPACK_IMPORTED_MODULE_31__["AppComponent"],
        _home_home_component__WEBPACK_IMPORTED_MODULE_32__["HomeComponent"],
        _search_search_component__WEBPACK_IMPORTED_MODULE_33__["SearchComponent"],
        _preview_preview_component__WEBPACK_IMPORTED_MODULE_34__["PreviewComponent"],
        _search_form_search_form_component__WEBPACK_IMPORTED_MODULE_35__["SearchFormComponent"],
        _search_form_autocomplete_extended_directive__WEBPACK_IMPORTED_MODULE_36__["AutocompleteExtended"]], imports: [_angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__["BrowserModule"],
        _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_2__["BrowserAnimationsModule"], _angular_router__WEBPACK_IMPORTED_MODULE_3__["RouterModule"], _angular_forms__WEBPACK_IMPORTED_MODULE_6__["FormsModule"],
        _angular_forms__WEBPACK_IMPORTED_MODULE_6__["ReactiveFormsModule"], _core_web_services_web_services_module__WEBPACK_IMPORTED_MODULE_41__["WebServicesModule"], _core_intl_intl_module__WEBPACK_IMPORTED_MODULE_42__["IntlModule"], _sinequa_core_login__WEBPACK_IMPORTED_MODULE_8__["LoginModule"],
        _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_10__["ModalModule"], _components_search_bootstrap_search_module__WEBPACK_IMPORTED_MODULE_43__["BsSearchModule"], _sinequa_components_autocomplete__WEBPACK_IMPORTED_MODULE_14__["BsAutocompleteModule"],
        _sinequa_components_notification__WEBPACK_IMPORTED_MODULE_15__["BsNotificationModule"],
        _sinequa_components_facet__WEBPACK_IMPORTED_MODULE_16__["BsFacetModule"],
        _sinequa_components_action__WEBPACK_IMPORTED_MODULE_17__["BsActionModule"],
        _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_18__["BsModalModule"],
        _sinequa_components_baskets__WEBPACK_IMPORTED_MODULE_19__["BsBasketsModule"],
        _sinequa_components_alerts__WEBPACK_IMPORTED_MODULE_20__["BsAlertsModule"],
        _sinequa_components_saved_queries__WEBPACK_IMPORTED_MODULE_21__["BsSavedQueriesModule"],
        _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_22__["UtilsModule"],
        _sinequa_components_labels__WEBPACK_IMPORTED_MODULE_23__["BsLabelsModule"],
        _sinequa_components_user_settings__WEBPACK_IMPORTED_MODULE_24__["BsUserSettingsModule"],
        _sinequa_components_result__WEBPACK_IMPORTED_MODULE_25__["ResultModule"],
        _sinequa_components_feedback__WEBPACK_IMPORTED_MODULE_26__["BsFeedbackModule"],
        _sinequa_components_preview__WEBPACK_IMPORTED_MODULE_27__["BsPreviewModule"],
        _sinequa_components_metadata__WEBPACK_IMPORTED_MODULE_28__["MetadataModule"],
        _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_29__["BsSelectionModule"],
        _sinequa_components_advanced__WEBPACK_IMPORTED_MODULE_30__["BsAdvancedModule"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AppModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__["BrowserModule"],
                    _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_2__["BrowserAnimationsModule"],
                    _angular_router__WEBPACK_IMPORTED_MODULE_3__["RouterModule"].forRoot(routes),
                    _angular_forms__WEBPACK_IMPORTED_MODULE_6__["FormsModule"],
                    _angular_forms__WEBPACK_IMPORTED_MODULE_6__["ReactiveFormsModule"],
                    _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_7__["WebServicesModule"].forRoot(startConfig),
                    _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_9__["IntlModule"].forRoot(AppLocalesConfig),
                    _sinequa_core_login__WEBPACK_IMPORTED_MODULE_8__["LoginModule"],
                    _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_10__["ModalModule"],
                    _sinequa_components_search__WEBPACK_IMPORTED_MODULE_13__["BsSearchModule"].forRoot(searchOptions),
                    _sinequa_components_autocomplete__WEBPACK_IMPORTED_MODULE_14__["BsAutocompleteModule"],
                    _sinequa_components_notification__WEBPACK_IMPORTED_MODULE_15__["BsNotificationModule"],
                    _sinequa_components_facet__WEBPACK_IMPORTED_MODULE_16__["BsFacetModule"],
                    _sinequa_components_action__WEBPACK_IMPORTED_MODULE_17__["BsActionModule"],
                    _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_18__["BsModalModule"],
                    _sinequa_components_baskets__WEBPACK_IMPORTED_MODULE_19__["BsBasketsModule"],
                    _sinequa_components_alerts__WEBPACK_IMPORTED_MODULE_20__["BsAlertsModule"],
                    _sinequa_components_saved_queries__WEBPACK_IMPORTED_MODULE_21__["BsSavedQueriesModule"],
                    _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_22__["UtilsModule"],
                    _sinequa_components_labels__WEBPACK_IMPORTED_MODULE_23__["BsLabelsModule"],
                    _sinequa_components_user_settings__WEBPACK_IMPORTED_MODULE_24__["BsUserSettingsModule"],
                    _sinequa_components_result__WEBPACK_IMPORTED_MODULE_25__["ResultModule"],
                    _sinequa_components_feedback__WEBPACK_IMPORTED_MODULE_26__["BsFeedbackModule"],
                    _sinequa_components_preview__WEBPACK_IMPORTED_MODULE_27__["BsPreviewModule"],
                    _sinequa_components_metadata__WEBPACK_IMPORTED_MODULE_28__["MetadataModule"],
                    _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_29__["BsSelectionModule"],
                    _sinequa_components_advanced__WEBPACK_IMPORTED_MODULE_30__["BsAdvancedModule"]
                ],
                declarations: [
                    _app_component__WEBPACK_IMPORTED_MODULE_31__["AppComponent"],
                    _home_home_component__WEBPACK_IMPORTED_MODULE_32__["HomeComponent"],
                    _search_search_component__WEBPACK_IMPORTED_MODULE_33__["SearchComponent"],
                    _preview_preview_component__WEBPACK_IMPORTED_MODULE_34__["PreviewComponent"],
                    _search_form_search_form_component__WEBPACK_IMPORTED_MODULE_35__["SearchFormComponent"],
                    _search_form_autocomplete_extended_directive__WEBPACK_IMPORTED_MODULE_36__["AutocompleteExtended"]
                ],
                providers: [
                    // Provides an APP_INITIALIZER which will fetch application configuration information from the Sinequa
                    // server automatically at startup using the application name specified in the URL (app[-debug]/<app-name>).
                    // This allows an application to avoid hard-coding parameters in the StartConfig but requires that the application
                    // be served from the an app[-debug]/<app name> URL.
                    { provide: _angular_core__WEBPACK_IMPORTED_MODULE_0__["APP_INITIALIZER"], useFactory: StartConfigInitializer, deps: [_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_7__["StartConfigWebService"]], multi: true },
                    // Provides the Angular LocationStrategy to be used for reading route state from the browser's URL. Currently
                    // only the HashLocationStrategy is supported by Sinequa.
                    { provide: _angular_common__WEBPACK_IMPORTED_MODULE_4__["LocationStrategy"], useClass: _angular_common__WEBPACK_IMPORTED_MODULE_4__["HashLocationStrategy"] },
                    // Provides an HttpInterceptor to handle user login. The LoginInterceptor handles HTTP 401 responses
                    // to Sinequa web service requests and initiates the login process.
                    { provide: _angular_common_http__WEBPACK_IMPORTED_MODULE_5__["HTTP_INTERCEPTORS"], useClass: _sinequa_core_login__WEBPACK_IMPORTED_MODULE_8__["LoginInterceptor"], multi: true },
                    // Provides an HttpInterceptor that offers a centralized location through which all client-side
                    // audit records pass. An application can replace AuditInterceptor with a subclass that overrides
                    // the updateAuditRecord method to add custom audit information to the records.
                    { provide: _angular_common_http__WEBPACK_IMPORTED_MODULE_5__["HTTP_INTERCEPTORS"], useClass: _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_12__["AuditInterceptor"], multi: true },
                    // Provides an HttpInterceptor that automatically processes any notifications specified in the $notifications
                    // member of the response body to any Sinequa web service requests.
                    { provide: _angular_common_http__WEBPACK_IMPORTED_MODULE_5__["HTTP_INTERCEPTORS"], useClass: _sinequa_core_notification__WEBPACK_IMPORTED_MODULE_11__["NotificationsInterceptor"], multi: true },
                    { provide: _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_22__["SCREEN_SIZE_RULES"], useValue: breakpoints }
                ],
                bootstrap: [
                    _app_component__WEBPACK_IMPORTED_MODULE_31__["AppComponent"]
                ]
            }]
    }], null, null); })();


/***/ }),

/***/ "ZFuU":
/*!*****************************************************!*\
  !*** ../core/login/authentication-popup.service.ts ***!
  \*****************************************************/
/*! exports provided: AuthenticationPopupService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthenticationPopupService", function() { return AuthenticationPopupService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs/operators */ "0Wlh");
/* harmony import */ var ng2_ui_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ng2-ui-auth */ "ygqg");
/* harmony import */ var _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/web-services */ "cIYa");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common/http */ "vobO");







/**
 * Override ng2-ui-auth's popup handling as it doesn't work with SAML + IE11 because
 * of a double redirection.
 * The initial request is to Sinequa which redirects to the authentication provider.
 * On successful authentication, the authentication provider redirects back
 * to Sinequa to perform the login.
 * In IE the initial redirection causes the popup window to be reported as "closed"
 * which breaks the process.
 * So, override ng2-ui-auth's PopupService and do the inital request to get the
 * redirect url outside of the popup
 */
class AuthenticationPopupService extends ng2_ui_auth__WEBPACK_IMPORTED_MODULE_2__["PopupService"] {
    constructor(startConfig, httpClient) {
        super();
        this.startConfig = startConfig;
        this.httpClient = httpClient;
    }
    open(url, options /*IOauth2Options | IOauth1Options*/, cordova) {
        if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__["Utils"].startsWith(url, this.startConfig.apiPath)) {
            return this.httpClient.get(url, {
                params: _sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__["Utils"].makeHttpParams({
                    noUserOverride: true,
                    noAutoAuthentication: true,
                    tokenInCookie: true,
                    loginInPopup: true
                })
            }).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["flatMap"])((ret) => {
                return super.open(ret.redirectUrl, options, cordova);
            }));
        }
        return super.open(url, options, cordova);
    }
}
AuthenticationPopupService.ɵfac = function AuthenticationPopupService_Factory(t) { return new (t || AuthenticationPopupService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_3__["START_CONFIG"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_angular_common_http__WEBPACK_IMPORTED_MODULE_5__["HttpClient"])); };
AuthenticationPopupService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: AuthenticationPopupService, factory: AuthenticationPopupService.ɵfac, providedIn: "root" });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AuthenticationPopupService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: "root"
            }]
    }], function () { return [{ type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_3__["START_CONFIG"]]
            }] }, { type: _angular_common_http__WEBPACK_IMPORTED_MODULE_5__["HttpClient"] }]; }, null); })();


/***/ }),

/***/ "ZWTm":
/*!**********************************************!*\
  !*** ../components/utils/pipes/date-pipe.ts ***!
  \**********************************************/
/*! exports provided: DatePipe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DatePipe", function() { return DatePipe; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/intl */ "EfqX");




class DatePipe extends _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_1__["AbstractIntlPipe"] {
    constructor(intlService, changeDetectorRef) {
        super(intlService, changeDetectorRef);
    }
    updateValue(key, params) {
        super.updateValue(key, params);
        this.value = this.intlService.formatDate(key, params);
    }
}
DatePipe.ɵfac = function DatePipe_Factory(t) { return new (t || DatePipe)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_intl__WEBPACK_IMPORTED_MODULE_1__["IntlService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinjectPipeChangeDetectorRef"]()); };
DatePipe.ɵpipe = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefinePipe"]({ name: "sqDate", type: DatePipe, pure: false });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](DatePipe, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Pipe"],
        args: [{ name: "sqDate", pure: false }]
    }], function () { return [{ type: _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_1__["IntlService"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] }]; }, null); })();


/***/ }),

/***/ "ZXot":
/*!******************************************!*\
  !*** ../components/utils/messages/fr.ts ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    "clipboard": {
        "success": "{data} copié dans le presse-papiers",
        "error": "Erreur du presse-papiers"
    }
});


/***/ }),

/***/ "ZdwQ":
/*!********************************************************************************************!*\
  !*** ../components/selection/bootstrap/selection-arranger/selection-arranger.component.ts ***!
  \********************************************************************************************/
/*! exports provided: BsSelectionArranger */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsSelectionArranger", function() { return BsSelectionArranger; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_cdk_drag_drop__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/cdk/drag-drop */ "oqI+");
/* harmony import */ var _sinequa_components_search__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/components/search */ "7+c1");
/* harmony import */ var _selection_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../selection.service */ "Sg0G");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ "2kYt");







function BsSelectionArranger_div_1_div_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "div", 6);
} }
function BsSelectionArranger_div_1_ng_container_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainer"](0);
} }
const _c0 = function (a0, a1) { return { $implicit: a0, index: a1 }; };
function BsSelectionArranger_div_1_Template(rf, ctx) { if (rf & 1) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsSelectionArranger_div_1_div_1_Template, 1, 0, "div", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, BsSelectionArranger_div_1_ng_container_2_Template, 1, 0, "ng-container", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "i", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsSelectionArranger_div_1_Template_i_click_3_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r6); const record_r1 = ctx.$implicit; const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r5.removeRecord(record_r1); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const record_r1 = ctx.$implicit;
    const i_r2 = ctx.index;
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngTemplateOutlet", ctx_r0.recordTpl)("ngTemplateOutletContext", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction2"](2, _c0, record_r1, i_r2));
} }
class BsSelectionArranger {
    constructor(searchService, selectionService) {
        this.searchService = searchService;
        this.selectionService = selectionService;
        /**
         * Triggers event when the user moves or removes a record in the list.
         */
        this.change = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
    }
    getRecords() {
        return this.records || this.selectionService.getSelectedItems();
    }
    dropRecord(event) {
        if (event.isPointerOverContainer) { //https://material.angular.io/cdk/drag-drop/api#CdkDragExit
            if (this.records) {
                Object(_angular_cdk_drag_drop__WEBPACK_IMPORTED_MODULE_1__["moveItemInArray"])(this.records, event.previousIndex, event.currentIndex); // Reorder the items when item dragged inside the drop zone
            }
            else {
                const record = this.selectionService.getSelectedItems()[event.previousIndex];
                this.selectionService.moveSelectedRecord(record, event.currentIndex);
            }
        }
        else {
            if (this.records) {
                this.records.splice(event.previousIndex, 1);
            }
            else {
                const record = this.selectionService.getSelectedItems()[event.previousIndex];
                this.selectionService.toggleSelectedRecords(record, "selection-arranger");
            }
        }
        this.change.next(this.getRecords());
    }
    removeRecord(record) {
        if (this.records) {
            this.records.splice(this.records.indexOf(record), 1);
        }
        else {
            this.selectionService.toggleSelectedRecords(record, "selection-arranger");
        }
        this.change.next(this.getRecords());
    }
}
BsSelectionArranger.ɵfac = function BsSelectionArranger_Factory(t) { return new (t || BsSelectionArranger)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_search__WEBPACK_IMPORTED_MODULE_2__["SearchService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_selection_service__WEBPACK_IMPORTED_MODULE_3__["SelectionService"])); };
BsSelectionArranger.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsSelectionArranger, selectors: [["sq-selection-arranger"]], contentQueries: function BsSelectionArranger_ContentQueries(rf, ctx, dirIndex) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵcontentQuery"](dirIndex, _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"], true);
    } if (rf & 2) {
        let _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.recordTpl = _t.first);
    } }, inputs: { records: "records" }, outputs: { change: "change" }, decls: 2, vars: 1, consts: [["cdkDropList", "", 3, "cdkDropListDropped"], ["class", "card", "cdkDrag", "", 4, "ngFor", "ngForOf"], ["cdkDrag", "", 1, "card"], ["class", "record-placeholder", 4, "cdkDragPlaceholder"], [4, "ngTemplateOutlet", "ngTemplateOutletContext"], [1, "position-absolute", "fas", "fa-times", "record-close", 3, "click"], [1, "record-placeholder"]], template: function BsSelectionArranger_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("cdkDropListDropped", function BsSelectionArranger_Template_div_cdkDropListDropped_0_listener($event) { return ctx.dropRecord($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsSelectionArranger_div_1_Template, 4, 5, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.getRecords());
    } }, directives: [_angular_cdk_drag_drop__WEBPACK_IMPORTED_MODULE_1__["CdkDropList"], _angular_common__WEBPACK_IMPORTED_MODULE_4__["NgForOf"], _angular_cdk_drag_drop__WEBPACK_IMPORTED_MODULE_1__["CdkDrag"], _angular_cdk_drag_drop__WEBPACK_IMPORTED_MODULE_1__["CdkDragPlaceholder"], _angular_common__WEBPACK_IMPORTED_MODULE_4__["NgTemplateOutlet"]], styles: [".record-close[_ngcontent-%COMP%] {\n  top: 0.25em;\n  right: 1rem;\n  cursor: pointer;\n}\n\n.cdk-drag-preview[_ngcontent-%COMP%] {\n  box-sizing: border-box;\n  border-radius: 4px;\n  box-shadow: 0 5px 5px -3px rgba(0, 0, 0, 0.2), 0 8px 10px 1px rgba(0, 0, 0, 0.14), 0 3px 14px 2px rgba(0, 0, 0, 0.12);\n}\n\n.cdk-drag-animating[_ngcontent-%COMP%] {\n  transition: transform 250ms cubic-bezier(0, 0, 0.2, 1);\n}\n\n.record-placeholder[_ngcontent-%COMP%] {\n  background: #ccc;\n  cursor: move;\n  border: dotted 3px #999;\n  transition: transform 250ms cubic-bezier(0, 0, 0.2, 1);\n  height: 8rem;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2plY3RzL2NvbXBvbmVudHMvc2VsZWN0aW9uL2Jvb3RzdHJhcC9zZWxlY3Rpb24tYXJyYW5nZXIvc2VsZWN0aW9uLWFycmFuZ2VyLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsV0FBQTtFQUNBLFdBQUE7RUFDQSxlQUFBO0FBQ0Y7O0FBRUE7RUFDRSxzQkFBQTtFQUNBLGtCQUFBO0VBQ0EscUhBQUE7QUFDRjs7QUFFQTtFQUNFLHNEQUFBO0FBQ0Y7O0FBRUE7RUFDRSxnQkFBQTtFQUNBLFlBQUE7RUFDQSx1QkFBQTtFQUNBLHNEQUFBO0VBQ0EsWUFBQTtBQUNGIiwiZmlsZSI6InByb2plY3RzL2NvbXBvbmVudHMvc2VsZWN0aW9uL2Jvb3RzdHJhcC9zZWxlY3Rpb24tYXJyYW5nZXIvc2VsZWN0aW9uLWFycmFuZ2VyLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnJlY29yZC1jbG9zZSB7XG4gIHRvcDogMC4yNWVtO1xuICByaWdodDogMXJlbTtcbiAgY3Vyc29yOiBwb2ludGVyO1xufVxuXG4uY2RrLWRyYWctcHJldmlldyB7XG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgYm94LXNoYWRvdzogMCA1cHggNXB4IC0zcHggcmdiYSgwLCAwLCAwLCAwLjIpLCAwIDhweCAxMHB4IDFweCByZ2JhKDAsIDAsIDAsIDAuMTQpLCAwIDNweCAxNHB4IDJweCByZ2JhKDAsIDAsIDAsIDAuMTIpO1xufVxuXG4uY2RrLWRyYWctYW5pbWF0aW5nIHtcbiAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDI1MG1zIGN1YmljLWJlemllcigwLCAwLCAwLjIsIDEpO1xufVxuXG4ucmVjb3JkLXBsYWNlaG9sZGVyIHtcbiAgYmFja2dyb3VuZDogI2NjYztcbiAgY3Vyc29yOiBtb3ZlO1xuICBib3JkZXI6IGRvdHRlZCAzcHggIzk5OTtcbiAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDI1MG1zIGN1YmljLWJlemllcigwLCAwLCAwLjIsIDEpO1xuICBoZWlnaHQ6IDhyZW07XG59Il19 */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsSelectionArranger, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-selection-arranger",
                templateUrl: "./selection-arranger.component.html",
                styleUrls: ["./selection-arranger.component.scss"]
            }]
    }], function () { return [{ type: _sinequa_components_search__WEBPACK_IMPORTED_MODULE_2__["SearchService"] }, { type: _selection_service__WEBPACK_IMPORTED_MODULE_3__["SelectionService"] }]; }, { records: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], recordTpl: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"],
            args: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"], { static: false }]
        }], change: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }] }); })();


/***/ }),

/***/ "ZnyU":
/*!************************************************!*\
  !*** ../components/autocomplete/public-api.ts ***!
  \************************************************/
/*! exports provided: BsAutocompleteList, BsFieldSearchItemsComponent, BsAutocompleteModule, AutocompleteState, Autocomplete, AutocompleteFieldSearch, SuggestService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _bootstrap_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bootstrap/index */ "uN0Q");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsAutocompleteList", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_0__["BsAutocompleteList"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFieldSearchItemsComponent", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_0__["BsFieldSearchItemsComponent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsAutocompleteModule", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_0__["BsAutocompleteModule"]; });

/* harmony import */ var _autocomplete_directive__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./autocomplete.directive */ "xqzj");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AutocompleteState", function() { return _autocomplete_directive__WEBPACK_IMPORTED_MODULE_1__["AutocompleteState"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Autocomplete", function() { return _autocomplete_directive__WEBPACK_IMPORTED_MODULE_1__["Autocomplete"]; });

/* harmony import */ var _autocomplete_field_search_directive__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./autocomplete-field-search.directive */ "6i6m");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AutocompleteFieldSearch", function() { return _autocomplete_field_search_directive__WEBPACK_IMPORTED_MODULE_2__["AutocompleteFieldSearch"]; });

/* harmony import */ var _suggest_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./suggest.service */ "9VEG");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SuggestService", function() { return _suggest_service__WEBPACK_IMPORTED_MODULE_3__["SuggestService"]; });







/***/ }),

/***/ "Zzgj":
/*!*******************************************!*\
  !*** ../components/preview/public-api.ts ***!
  \*******************************************/
/*! exports provided: PreviewModule, PREVIEW_MODAL, PreviewService, HighlightCategoryFilterChoice, PreviewDocument, PreviewDocumentIframe, PreviewTooltip, BsFacetPreview, BsFacetPreviewComponent2, BsPreviewHighlights, BsPreviewLinks, BsPreviewModule, BsPreviewPanel, BsPreviewPopup, BsResultLinkPreview, BsSimilarDocuments, BsPreviewEntityFacetComponent, BsPreviewEntityPanelComponent, Extract, BsPreviewExtractsPanelComponent, BsPreviewSearchFormComponent, BsPreviewPageFormComponent, BsPreviewPagesPanelComponent, enPreview, frPreview, dePreview */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _preview_module__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./preview.module */ "TUPJ");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "PreviewModule", function() { return _preview_module__WEBPACK_IMPORTED_MODULE_0__["PreviewModule"]; });

/* harmony import */ var _preview_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./preview.service */ "lGAU");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "PREVIEW_MODAL", function() { return _preview_service__WEBPACK_IMPORTED_MODULE_1__["PREVIEW_MODAL"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "PreviewService", function() { return _preview_service__WEBPACK_IMPORTED_MODULE_1__["PreviewService"]; });

/* harmony import */ var _preview_document__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./preview-document */ "4uMq");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "HighlightCategoryFilterChoice", function() { return _preview_document__WEBPACK_IMPORTED_MODULE_2__["HighlightCategoryFilterChoice"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "PreviewDocument", function() { return _preview_document__WEBPACK_IMPORTED_MODULE_2__["PreviewDocument"]; });

/* harmony import */ var _preview_document_iframe_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./preview-document-iframe.component */ "sUkJ");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "PreviewDocumentIframe", function() { return _preview_document_iframe_component__WEBPACK_IMPORTED_MODULE_3__["PreviewDocumentIframe"]; });

/* harmony import */ var _preview_tooltip_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./preview-tooltip.component */ "n+UL");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "PreviewTooltip", function() { return _preview_tooltip_component__WEBPACK_IMPORTED_MODULE_4__["PreviewTooltip"]; });

/* harmony import */ var _bootstrap_index__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./bootstrap/index */ "6haZ");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFacetPreview", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_5__["BsFacetPreview"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFacetPreviewComponent2", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_5__["BsFacetPreviewComponent2"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsPreviewHighlights", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_5__["BsPreviewHighlights"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsPreviewLinks", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_5__["BsPreviewLinks"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsPreviewModule", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_5__["BsPreviewModule"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsPreviewPanel", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_5__["BsPreviewPanel"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsPreviewPopup", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_5__["BsPreviewPopup"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsResultLinkPreview", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_5__["BsResultLinkPreview"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsSimilarDocuments", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_5__["BsSimilarDocuments"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsPreviewEntityFacetComponent", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_5__["BsPreviewEntityFacetComponent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsPreviewEntityPanelComponent", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_5__["BsPreviewEntityPanelComponent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Extract", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_5__["Extract"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsPreviewExtractsPanelComponent", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_5__["BsPreviewExtractsPanelComponent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsPreviewSearchFormComponent", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_5__["BsPreviewSearchFormComponent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsPreviewPageFormComponent", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_5__["BsPreviewPageFormComponent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsPreviewPagesPanelComponent", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_5__["BsPreviewPagesPanelComponent"]; });

/* harmony import */ var _messages_index__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./messages/index */ "rijt");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "enPreview", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_6__["enPreview"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "frPreview", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_6__["frPreview"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "dePreview", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_6__["dePreview"]; });










/***/ }),

/***/ "aCMx":
/*!********************************************!*\
  !*** ../components/preview/messages/en.ts ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    "preview": {
        "noDocumentDataErrorPopupTitle": "Error loading document's data",
        "highlightsTitle": "Highlights",
        "noEntityToHighlight": "No highlighted entity in document",
        "termXLabel": "Search term {index, number}",
        "otherTerms": "Other terms",
        "previousDocument": "Previous",
        "nextDocument": "Next",
        "originalDocument": "Original document",
        "selectedHighlight": "Selected highlight",
        "noSelectedHighlight": "No highlight selected",
        "firstHighlightButtonAltText": "First",
        "previousHighlightButtonAltText": "Previous",
        "nextHighlightButtonAltText": "Next",
        "relevanceSortHighlightButtonText": "Relevance",
        "textOrderSortHighlightButtonText": "Text order",
        "lastHighlightButtonAltText": "Last",
        "highlightFilters": {
            "title": "Filters",
            "keepAll": "All",
            "keepNone": "None",
            "keepAllInCategory": "All",
            "keepNoneInCategory": "None"
        },
        "documentPropertiesTitle": "Details",
        "similarDocumentsTitle": "Similar documents",
        "showAll": "Show all values",
        "sortAlphabetically": "Sort alphabetically",
        "sortFrequency": "Sort by frequency",
        "loading": "Loading...",
        "noextract": "No extract",
        "search": "Search",
        "gotopage": "Go to page",
        "page": "Page {page}",
        "current": "current"
    },
    "facet": {
        "preview": {
            "closeTitle": "Close",
            "expandTitle": "Maximize",
            "minimize": "Zoom out",
            "maximize": "Zoom in",
            "toggleExtracts": "Toggle relevant extracts highlighting",
            "toggleEntities": "Toggle entities highlighting"
        }
    }
});


/***/ }),

/***/ "aN6H":
/*!****************************************!*\
  !*** ../core/login/login.component.ts ***!
  \****************************************/
/*! exports provided: Login */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Login", function() { return Login; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ "nIj0");
/* harmony import */ var _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/modal */ "vMGo");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _angular_cdk_a11y__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/cdk/a11y */ "sg/T");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _intl_message_pipe__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../intl/message.pipe */ "X1Kh");
/* harmony import */ var _validation_validation_error_pipe__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../validation/validation-error.pipe */ "Ss1q");











function Login_ng_container_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "br");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "span", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](4, "sqValidationError");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    let tmp_0_0 = null;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](4, 1, (tmp_0_0 = ctx_r0.form.get("userName")) == null ? null : tmp_0_0.errors));
} }
function Login_ng_container_10_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "br");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "span", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](4, "sqValidationError");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    let tmp_0_0 = null;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](4, 1, (tmp_0_0 = ctx_r1.form.get("password")) == null ? null : tmp_0_0.errors));
} }
/**
 * A basic login component that request a user name and password. It is designed to work with
 * [LoginService.getCredentials]{@link LoginService#getCredentials} and can be set using the
 * {@link MODAL_LOGIN} injection token
 */
class Login {
    constructor(model, modalRef, formBuilder) {
        this.model = model;
        this.modalRef = modalRef;
        this.formBuilder = formBuilder;
    }
    ngOnInit() {
        this.userNameControl = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"](this.model.userName, _angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required);
        this.passwordControl = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"](this.model.password, _angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required);
        this.form = this.formBuilder.group({
            userName: this.userNameControl,
            password: this.passwordControl
        });
        this.formChanges = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].subscribe(this.form.valueChanges, (value) => {
            this.model.userName = this.userNameControl.value;
            this.model.password = this.passwordControl.value;
        });
    }
    ngOnDestroy() {
        this.formChanges.unsubscribe();
    }
    showError(control) {
        return control.invalid && (control.dirty || this.modalRef.submitted);
    }
    ok() {
        if (!this.form.valid) {
            return;
        }
        this.modalRef.close(-1 /* OK */);
    }
    cancel() {
        this.modalRef.close(-2 /* Cancel */);
    }
}
Login.ɵfac = function Login_Factory(t) { return new (t || Login)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_modal__WEBPACK_IMPORTED_MODULE_2__["MODAL_MODEL"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_modal__WEBPACK_IMPORTED_MODULE_2__["ModalRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormBuilder"])); };
Login.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: Login, selectors: [["sq-core-login"]], decls: 18, vars: 19, consts: [["novalidate", "", "cdkTrapFocus", "", 2, "border", "solid", "padding", "16px", "background-color", "white", 3, "formGroup", "cdkTrapFocusAutoCapture"], [2, "margin-top", "0"], ["formControlName", "userName", 3, "placeholder"], [4, "ngIf"], [2, "margin-bottom", "8px"], ["type", "password", "formControlName", "password", 3, "placeholder"], ["type", "submit", 3, "click"], ["type", "button", 3, "click"], [2, "color", "red"]], template: function Login_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "form", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "h3", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](3, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](4, "input", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](5, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](6, Login_ng_container_6_Template, 5, 3, "ng-container", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](7, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](8, "input", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](9, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](10, Login_ng_container_10_Template, 5, 3, "ng-container", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](11, "hr");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](12, "button", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function Login_Template_button_click_12_listener() { return ctx.ok(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](13);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](14, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](15, "button", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function Login_Template_button_click_15_listener() { return ctx.cancel(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](16);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](17, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("formGroup", ctx.form)("cdkTrapFocusAutoCapture", true);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](3, 9, "msg#modal.login.title"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("placeholder", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](5, 11, "msg#modal.login.userName"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.showError(ctx.userNameControl));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("placeholder", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](9, 13, "msg#modal.login.password"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.showError(ctx.passwordControl));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](14, 15, "msg#modal.buttons.ok"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](17, 17, "msg#modal.buttons.cancel"));
    } }, directives: [_angular_forms__WEBPACK_IMPORTED_MODULE_1__["ɵangular_packages_forms_forms_y"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["NgControlStatusGroup"], _angular_cdk_a11y__WEBPACK_IMPORTED_MODULE_4__["CdkTrapFocus"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormGroupDirective"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["DefaultValueAccessor"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["NgControlStatus"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControlName"], _angular_common__WEBPACK_IMPORTED_MODULE_5__["NgIf"]], pipes: [_intl_message_pipe__WEBPACK_IMPORTED_MODULE_6__["MessagePipe"], _validation_validation_error_pipe__WEBPACK_IMPORTED_MODULE_7__["ValidationErrorPipe"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](Login, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-core-login",
                template: `
        <form novalidate [formGroup]="form" style="border: solid;padding: 16px;background-color: white;"
            cdkTrapFocus [cdkTrapFocusAutoCapture]="true">
            <h3 style="margin-top: 0;">{{'msg#modal.login.title' | sqMessage}}</h3>
            <input placeholder="{{'msg#modal.login.userName' | sqMessage}}" formControlName="userName">
            <ng-container *ngIf="showError(userNameControl)">
                <br>
                <span style="color: red;">{{form.get("userName")?.errors | sqValidationError}}</span>
            </ng-container>
            <div style="margin-bottom: 8px;"></div>
            <input type="password" placeholder="{{'msg#modal.login.password' | sqMessage}}" formControlName="password">
            <ng-container *ngIf="showError(passwordControl)">
                <br>
                <span style="color: red;">{{form.get("password")?.errors | sqValidationError}}</span>
            </ng-container>
            <hr>
            <button type="submit" (click)="ok()">{{'msg#modal.buttons.ok' | sqMessage}}</button>
            <button type="button" (click)="cancel()">{{'msg#modal.buttons.cancel' | sqMessage}}</button>
        </form>
    `
            }]
    }], function () { return [{ type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [_sinequa_core_modal__WEBPACK_IMPORTED_MODULE_2__["MODAL_MODEL"]]
            }] }, { type: _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_2__["ModalRef"] }, { type: _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormBuilder"] }]; }, null); })();


/***/ }),

/***/ "adI0":
/*!*********************************************!*\
  !*** ../components/feedback/messages/fr.ts ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    "feedback": {
        "text": "",
        "title": "Envoyer un feedback à l'admin Sinequa",
        "content": {
            "text": "Contenu",
            "title": "Proposer d'ajouter du contenu ou d'améliorer le contenu actuel"
        },
        "ui": {
            "text": "Interface Utilisateur",
            "title": "Proposer des améliorations d'interfaces utilisateur"
        },
        "lang": {
            "text": "Langage",
            "title": "Proposer des améliorations linguistiques, comme des nouveaux mots et synonymes à ajouter aux dictionaires (cela affecte directement la pertinence du moteur de recherche)"
        },
        "other": {
            "text": "Autre",
            "title": "Proposer des fonctionnalités supplémentaires et autres idées d'améliorations"
        },
        "thankyou": "Merci pour votre commentaire !",
        "quality": {
            "label": "Qualité du document:"
        },
        "relevance": {
            "label": "Pertinence du document:"
        },
        "labels": {
            "public": {
                "label": "Tags:"
            },
            "private": {
                "label": "Tags privés:"
            }
        }
    },
});


/***/ }),

/***/ "ag41":
/*!*******************************************************************************************!*\
  !*** ../components/notification/bootstrap/notifications-manager/notifications-manager.ts ***!
  \*******************************************************************************************/
/*! exports provided: BsNotificationsManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsNotificationsManager", function() { return BsNotificationsManager; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/components/action */ "WsHA");
/* harmony import */ var _sinequa_core_notification__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/notification */ "mkLw");
/* harmony import */ var _action_bootstrap_action_buttons_action_buttons__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../action/bootstrap/action-buttons/action-buttons */ "9+ai");





const _c0 = function (a0) { return [a0]; };
const _c1 = function (a0) { return { items: a0 }; };
class BsNotificationsManager {
    constructor(notificationsService, changeDetectorRef) {
        this.notificationsService = notificationsService;
        this.changeDetectorRef = changeDetectorRef;
    }
    ngOnInit() {
        this.buildAction();
        this.unbind();
        this.bind();
    }
    bind() {
        this.subscription = this.notificationsService.notificationsStream.subscribe(notification => {
            this.action.update();
        });
    }
    unbind() {
        if (this.subscription) {
            this.subscription.unsubscribe();
            this.subscription = undefined;
        }
    }
    ngOnDestroy() {
        this.unbind();
    }
    buildAction() {
        this.action = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__["Action"]({
            icon: "fas fa-shield-alt",
            title: "msg#notification.title",
            hidden: true,
            children: [
                new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__["Action"]({
                    text: "msg#notification.showNotifications",
                    action: (item, $event) => {
                        this.notificationsService.showNotifications();
                    },
                    updater: (item) => {
                        item.hidden = this.notificationsService.allNotificationsShowing;
                        this.changeDetectorRef.markForCheck();
                    }
                }),
                new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__["Action"]({
                    text: "msg#notification.hideNotifications",
                    action: (item, $event) => {
                        this.notificationsService.hideNotifications();
                    },
                    updater: (item) => {
                        item.hidden = this.notificationsService.allNotificationsHidden;
                        this.changeDetectorRef.markForCheck();
                    }
                }),
                new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__["Action"]({
                    separator: true
                }),
                new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__["Action"]({
                    text: "msg#notification.clearNotifications",
                    action: (item, $event) => {
                        this.notificationsService.deleteAllNotifications();
                    }
                })
            ]
        });
    }
}
BsNotificationsManager.ɵfac = function BsNotificationsManager_Factory(t) { return new (t || BsNotificationsManager)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_notification__WEBPACK_IMPORTED_MODULE_2__["NotificationsService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"])); };
BsNotificationsManager.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsNotificationsManager, selectors: [["sq-notifications-manager"]], decls: 2, vars: 5, consts: [[1, "btn-toolbar", "dropup"], [1, "btn-group", 3, "sq-action-buttons"]], template: function BsNotificationsManager_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("sq-action-buttons", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](3, _c1, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](1, _c0, ctx.action)));
    } }, directives: [_action_bootstrap_action_buttons_action_buttons__WEBPACK_IMPORTED_MODULE_3__["BsActionButtons"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsNotificationsManager, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-notifications-manager",
                templateUrl: "./notifications-manager.html"
            }]
    }], function () { return [{ type: _sinequa_core_notification__WEBPACK_IMPORTED_MODULE_2__["NotificationsService"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] }]; }, null); })();


/***/ }),

/***/ "ambZ":
/*!****************************************************************!*\
  !*** ../components/utils/directives/resize-event.directive.ts ***!
  \****************************************************************/
/*! exports provided: ResizeEventDirective */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ResizeEventDirective", function() { return ResizeEventDirective; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _ui_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ui.service */ "ijWO");



class ResizeEventDirective {
    constructor(elementRef, zone, uiService) {
        this.elementRef = elementRef;
        this.zone = zone;
        this.uiService = uiService;
        this.resizeEvent = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.raiseEvent = () => {
            const contentRect = this.elementRef.nativeElement.getBoundingClientRect();
            this.resizeEvent.emit(contentRect);
        };
    }
    ngAfterViewInit() {
        if (window.ResizeObserver) {
            this.resizeObserver = new window.ResizeObserver((entries) => {
                this.zone.run(() => {
                    const contentRect = ((entries === null || entries === void 0 ? void 0 : entries.length) === 1 && entries[0].contentRect);
                    this.resizeEvent.emit(contentRect);
                });
            });
            this.resizeObserver.observe(this.elementRef.nativeElement);
        }
        else {
            this.uiService.addElementResizeListener(this.elementRef.nativeElement, this.raiseEvent);
        }
    }
    ngOnDestroy() {
        if (window.ResizeObserver) {
            this.resizeObserver.unobserve(this.elementRef.nativeElement);
        }
        else {
            this.uiService.removeElementResizeListener(this.elementRef.nativeElement, this.raiseEvent);
        }
    }
}
ResizeEventDirective.ɵfac = function ResizeEventDirective_Factory(t) { return new (t || ResizeEventDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_ui_service__WEBPACK_IMPORTED_MODULE_1__["UIService"])); };
ResizeEventDirective.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({ type: ResizeEventDirective, selectors: [["", "sqResize", ""]], outputs: { resizeEvent: "sqResize" } });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ResizeEventDirective, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Directive"],
        args: [{
                selector: "[sqResize]"
            }]
    }], function () { return [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"] }, { type: _ui_service__WEBPACK_IMPORTED_MODULE_1__["UIService"] }]; }, { resizeEvent: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"],
            args: ["sqResize"]
        }] }); })();


/***/ }),

/***/ "asQJ":
/*!***************************************************************!*\
  !*** ../components/alerts/bootstrap/edit-alert/edit-alert.ts ***!
  \***************************************************************/
/*! exports provided: BsEditAlert */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsEditAlert", function() { return BsEditAlert; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ "nIj0");
/* harmony import */ var _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/modal */ "vMGo");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _alerts_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../alerts.service */ "hbzH");
/* harmony import */ var _sinequa_components_search__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sinequa/components/search */ "7+c1");
/* harmony import */ var _modal_bootstrap_modal_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../modal/bootstrap/modal.component */ "oSLy");
/* harmony import */ var _utils_directives_autofocus__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../utils/directives/autofocus */ "1ak2");
/* harmony import */ var _core_validation_validation_directive__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/validation/validation.directive */ "FRsM");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _alert_message_alert_message_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../alert-message/alert-message.component */ "kT2W");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../core/intl/message.pipe */ "X1Kh");
















function BsEditAlert_option_12_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "option", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const frequencyValue_r4 = ctx.$implicit;
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", frequencyValue_r4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 2, ctx_r0.frequency[frequencyValue_r4]));
} }
function BsEditAlert_label_18_Template(rf, ctx) { if (rf & 1) {
    const _r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "label", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "input", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("change", function BsEditAlert_label_18_Template_input_change_1_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r7); const day_r5 = ctx.$implicit; const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r6.dayChange($event, day_r5.value); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "span", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](4, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const day_r5 = ctx.$implicit;
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("checked", ctx_r1.dayChecked(day_r5.value));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](4, 2, "msg#editAlert." + day_r5.key));
} }
function BsEditAlert_label_31_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "label", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "input", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "span", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](4, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](4, 1, "msg#editAlert.updateQuery"));
} }
function BsEditAlert_sq_alert_message_32_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "sq-alert-message", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "sqMessage");
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("message", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](1, 1, "msg#editAlert.lossDataMessage"));
} }
class BsEditAlert {
    constructor(model, formBuilder, searchService, alertsService, modalRef) {
        this.model = model;
        this.formBuilder = formBuilder;
        this.searchService = searchService;
        this.alertsService = alertsService;
        this.modalRef = modalRef;
        this.weekdays = {
            'monday': _alerts_service__WEBPACK_IMPORTED_MODULE_4__["Alert"].Days.Monday,
            'tuesday': _alerts_service__WEBPACK_IMPORTED_MODULE_4__["Alert"].Days.Tuesday,
            'wednesday': _alerts_service__WEBPACK_IMPORTED_MODULE_4__["Alert"].Days.Wednesday,
            'thursday': _alerts_service__WEBPACK_IMPORTED_MODULE_4__["Alert"].Days.Thursday,
            'friday': _alerts_service__WEBPACK_IMPORTED_MODULE_4__["Alert"].Days.Friday,
            'saturday': _alerts_service__WEBPACK_IMPORTED_MODULE_4__["Alert"].Days.Saturday,
            'sunday': _alerts_service__WEBPACK_IMPORTED_MODULE_4__["Alert"].Days.Sunday
        };
        this.showDirtyMessage = false;
        // Preserve original property order
        this.originalOrder = (a, b) => 0;
        this.frequencies = [
            _alerts_service__WEBPACK_IMPORTED_MODULE_4__["Alert"].Frequency.Daily,
            _alerts_service__WEBPACK_IMPORTED_MODULE_4__["Alert"].Frequency.Hourly,
            _alerts_service__WEBPACK_IMPORTED_MODULE_4__["Alert"].Frequency.Immediate,
        ];
        this.frequency = _alerts_service__WEBPACK_IMPORTED_MODULE_4__["Alert"].Frequency;
    }
    get alert() {
        return this.model.alert;
    }
    ngOnInit() {
        if (!this.alert.days) {
            this.alert.days = _alerts_service__WEBPACK_IMPORTED_MODULE_4__["Alert"].Days.None;
        }
        this.canUpdateQuery = (!!this.alertsService.alert(this.alert.name)) &&
            !!this.searchService.results && !!this.searchService.results.records;
        this.alertDaysControl = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"](this.alert.days);
        this.alertNameControl = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"](this.alert.name, _angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required);
        this.alertFrequencyControl = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"](this.alert.frequency);
        this.alertTimesControl = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"](this.alert.times); // TODO validator
        this.alertActiveControl = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"](this.alert.active);
        this.updateQueryControl = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"](this.updateQuery);
        this.form = this.formBuilder.group({
            alertName: this.alertNameControl,
            alertFrequency: this.alertFrequencyControl,
            alertTimes: this.alertTimesControl,
            alertActive: this.alertActiveControl,
            updateQuery: this.updateQueryControl
        });
        this.formChanges = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].subscribe(this.form.valueChanges, (value) => {
            this.alert.name = this.alertNameControl.value;
            this.alert.frequency = this.alertFrequencyControl.value;
            this.alert.times = this.alertTimesControl.value;
            this.alert.active = this.alertActiveControl.value;
            this.alert.days = this.alertDaysControl.value;
            this.updateQuery = this.updateQueryControl.value;
        });
        this.createButtons();
    }
    createButtons() {
        this.buttons = [
            new _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_2__["ModalButton"]({
                text: "msg#editAlert.runQuery",
                result: 0 /* Custom */,
                action: (button) => {
                    this.runQuery();
                    this.modalRef.close(-2 /* Cancel */); // dismiss the dialog too (?)
                },
                visible: !!this.alertsService.alert(this.alert.name)
            }),
            new _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_2__["ModalButton"]({
                result: -1 /* OK */,
                primary: true,
                validation: this.form,
                action: (button) => {
                    if (this.updateQuery) {
                        this.alertsService.setAlertToCurrentQuery(this.alert);
                    }
                }
            }),
            new _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_2__["ModalButton"]({
                result: -2 /* Cancel */,
                action: (button) => {
                    if (this.form.dirty) {
                        button.result = 0 /* Custom */;
                        this.showDirtyMessage = true;
                        this.createYesNoButtons();
                    }
                }
            })
        ];
    }
    createYesNoButtons() {
        this.buttons = [
            new _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_2__["ModalButton"]({
                result: -3 /* Yes */,
                primary: true,
            }),
            new _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_2__["ModalButton"]({
                result: -4 /* No */,
                action: (button) => {
                    button.result = 0 /* Custom */;
                    this.showDirtyMessage = false;
                    this.createButtons();
                }
            })
        ];
    }
    ngOnDestroy() {
        this.formChanges.unsubscribe();
    }
    dayChecked(day) {
        return (this.alert.days & day) !== 0;
    }
    dayChange(event, day) {
        const input = event.target;
        if (input.checked) {
            this.alertDaysControl.setValue(this.alert.days |= day);
            // this.alert.days |= day;
        }
        else {
            this.alertDaysControl.setValue(this.alert.days &= ~day);
            // this.alert.days &= ~day;
        }
        this.form.markAsDirty();
    }
    runQuery() {
        this.alertsService.searchAlert(this.alert, this.model.searchRoute);
    }
}
BsEditAlert.ɵfac = function BsEditAlert_Factory(t) { return new (t || BsEditAlert)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_modal__WEBPACK_IMPORTED_MODULE_2__["MODAL_MODEL"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormBuilder"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_search__WEBPACK_IMPORTED_MODULE_5__["SearchService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_alerts_service__WEBPACK_IMPORTED_MODULE_4__["AlertsService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_modal__WEBPACK_IMPORTED_MODULE_2__["ModalRef"])); };
BsEditAlert.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsEditAlert, selectors: [["sq-edit-alert"]], decls: 33, vars: 26, consts: [["name", "editAlert", "novalidate", "", 3, "formGroup"], [3, "title", "buttons"], [1, "form-group", "sq-form-group"], ["for", "alertName"], ["type", "text", "id", "alertName", "formControlName", "alertName", "autocomplete", "off", "spellcheck", "off", "sqAutofocus", "", 1, "form-control", 3, "sqValidation"], [1, "form-group"], ["for", "alertFrequency"], ["id", "alertFrequency", "formControlName", "alertFrequency", 1, "form-control", "custom-select"], [3, "value", 4, "ngFor", "ngForOf"], [1, "weekdays-grid"], ["class", "custom-control custom-control-inline custom-checkbox", 4, "ngFor", "ngForOf"], ["for", "alertTimes"], ["type", "text", "id", "alertTimes", "formControlName", "alertTimes", "autocomplete", "off", "spellcheck", "off", 1, "form-control"], [1, "custom-control", "custom-control-inline", "custom-checkbox"], ["type", "checkbox", "id", "alertActive", "formControlName", "alertActive", 1, "custom-control-input"], [1, "custom-control-label", "user-select-none", "cursor-pointer"], ["class", "custom-control custom-control-inline custom-checkbox", 4, "ngIf"], ["footer", "", 3, "message", 4, "ngIf"], [3, "value"], ["type", "checkbox", 1, "custom-control-input", 3, "checked", "change"], ["type", "checkbox", "id", "updateQuery", "formControlName", "updateQuery", 1, "custom-control-input"], ["footer", "", 3, "message"]], template: function BsEditAlert_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "form", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "sq-modal", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "label", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](5, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](6, "input", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "div", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "label", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](9);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](10, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](11, "select", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](12, BsEditAlert_option_12_Template, 3, 4, "option", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](13, "div", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](14, "label");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](15);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](16, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](17, "div", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](18, BsEditAlert_label_18_Template, 5, 4, "label", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](19, "keyvalue");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](20, "div", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](21, "label", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](22);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](23, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](24, "input", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](25, "div", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](26, "label", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](27, "input", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](28, "span", 15);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](29);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](30, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](31, BsEditAlert_label_31_Template, 5, 3, "label", 16);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](32, BsEditAlert_sq_alert_message_32_Template, 2, 3, "sq-alert-message", 17);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("title", "msg#editAlert.title")("buttons", ctx.buttons);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](5, 13, "msg#editAlert.name"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("sqValidation", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](10, 15, "msg#editAlert.frequency"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.frequencies);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](16, 17, "msg#editAlert.days"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](19, 19, ctx.weekdays, ctx.originalOrder));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](23, 22, "msg#editAlert.times"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](7);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](30, 24, "msg#editAlert.active"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.canUpdateQuery);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.showDirtyMessage);
    } }, directives: [_angular_forms__WEBPACK_IMPORTED_MODULE_1__["ɵangular_packages_forms_forms_y"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["NgControlStatusGroup"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormGroupDirective"], _modal_bootstrap_modal_component__WEBPACK_IMPORTED_MODULE_6__["BsModal"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["DefaultValueAccessor"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["NgControlStatus"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControlName"], _utils_directives_autofocus__WEBPACK_IMPORTED_MODULE_7__["Autofocus"], _core_validation_validation_directive__WEBPACK_IMPORTED_MODULE_8__["ValidationDirective"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["SelectControlValueAccessor"], _angular_common__WEBPACK_IMPORTED_MODULE_9__["NgForOf"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["CheckboxControlValueAccessor"], _angular_common__WEBPACK_IMPORTED_MODULE_9__["NgIf"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["NgSelectOption"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["ɵangular_packages_forms_forms_x"], _alert_message_alert_message_component__WEBPACK_IMPORTED_MODULE_10__["BsAlertMessageComponent"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_11__["MessagePipe"], _angular_common__WEBPACK_IMPORTED_MODULE_9__["KeyValuePipe"]], styles: [".custom-control-label.user-select-none[_ngcontent-%COMP%] {\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n}\n\n.custom-control-label.cursor-pointer[_ngcontent-%COMP%] {\n  cursor: pointer;\n}\n\n.weekdays-grid[_ngcontent-%COMP%] {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2plY3RzL2NvbXBvbmVudHMvYWxlcnRzL2Jvb3RzdHJhcC9lZGl0LWFsZXJ0L2VkaXQtYWxlcnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLHlCQUFBO0tBQUEsc0JBQUE7TUFBQSxxQkFBQTtVQUFBLGlCQUFBO0FBQ0Y7O0FBQ0E7RUFDRSxlQUFBO0FBRUY7O0FBQ0E7RUFDRSxhQUFBO0VBQ0EsNERBQUE7QUFFRiIsImZpbGUiOiJwcm9qZWN0cy9jb21wb25lbnRzL2FsZXJ0cy9ib290c3RyYXAvZWRpdC1hbGVydC9lZGl0LWFsZXJ0LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY3VzdG9tLWNvbnRyb2wtbGFiZWwudXNlci1zZWxlY3Qtbm9uZSB7XG4gIHVzZXItc2VsZWN0OiBub25lO1xufVxuLmN1c3RvbS1jb250cm9sLWxhYmVsLmN1cnNvci1wb2ludGVyIHtcbiAgY3Vyc29yOiBwb2ludGVyO1xufVxuXG4ud2Vla2RheXMtZ3JpZCB7XG4gIGRpc3BsYXk6IGdyaWQ7XG4gIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KGF1dG8tZmlsbCwgbWlubWF4KDEwMHB4LCAxZnIpKTtcbn0iXX0= */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsEditAlert, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-edit-alert",
                templateUrl: "./edit-alert.html",
                styleUrls: ["./edit-alert.scss"]
            }]
    }], function () { return [{ type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [_sinequa_core_modal__WEBPACK_IMPORTED_MODULE_2__["MODAL_MODEL"]]
            }] }, { type: _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormBuilder"] }, { type: _sinequa_components_search__WEBPACK_IMPORTED_MODULE_5__["SearchService"] }, { type: _alerts_service__WEBPACK_IMPORTED_MODULE_4__["AlertsService"] }, { type: _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_2__["ModalRef"] }]; }, null); })();


/***/ }),

/***/ "bfbs":
/*!**************************************************!*\
  !*** ../core/web-services/labels.web.service.ts ***!
  \**************************************************/
/*! exports provided: LabelsWebService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LabelsWebService", function() { return LabelsWebService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs/operators */ "0Wlh");
/* harmony import */ var _http_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./http.service */ "3Hvy");
/* harmony import */ var _start_config_web_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./start-config.web.service */ "R3Oh");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _http_client__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./http-client */ "j7UU");
/* harmony import */ var _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @sinequa/core/intl */ "EfqX");








/**
 * A service for calling the labels web service
 */
class LabelsWebService extends _http_service__WEBPACK_IMPORTED_MODULE_2__["HttpService"] {
    constructor(startConfig, httpClient, intlService) {
        super(startConfig);
        this.httpClient = httpClient;
        this.intlService = intlService;
    }
    /**
     * Calls the list action of the labels web service
     *
     * @param prefix The string that the returned labels should begin with
     * @param _public Determines whether public or private labels should be returned
     */
    list(prefix, _public) {
        const observable = this.httpClient.get(this.makeUrl("labels"), {
            params: this.makeParams({
                app: this.appName,
                action: "list",
                q: prefix,
                public: _public,
                locale: this.intlService.currentLocale.name,
                localize: false
            })
        });
        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__["Utils"].subscribe(observable, (response) => {
            return response;
        }, (error) => {
            console.log("labelsService.list failure - error: ", error);
        });
        return observable;
    }
    /**
     * A wrapper around the list method. The matching labels are returned as an array of strings
     *
     * @param prefix The string that the returned labels should begin with
     * @param _public Determines whether public or private labels should be returned
     */
    array(prefix, _public) {
        return this.list(prefix, _public)
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])((value) => {
            return value.labels;
        }));
    }
    /**
     * Calls the getUserRights action of the labels web service
     */
    getUserRights() {
        const observable = this.httpClient.get(this.makeUrl('labels'), {
            params: this.makeParams({
                app: this.appName,
                action: 'getUserRights'
            })
        });
        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__["Utils"].subscribe(observable, response => response, error => console.log("labelsService.getUserRights failure - error: ", error));
        return observable;
    }
    /**
     * Add labels to a set of documents
     *
     * @param labels The labels to add
     * @param ids The ids of the documents to which the labels should be added
     * @param _public Determines whether the labels are public or private
     */
    add(labels, ids, _public) {
        const observable = this.httpClient.post(this.makeUrl("labels"), {
            app: this.appName,
            action: "add",
            labels: labels,
            ids: ids,
            public: _public,
            $auditRecord: {
                auditEvents: [
                    {
                        type: "Label_AddDoc" /* Label_AddDoc */,
                        detail: {
                            public: _public,
                            label: !!labels ? labels.toString() : null,
                            doccount: !!ids ? ids.length : 0
                        }
                    }
                ],
                mlAuditEvents: [
                    {
                        actionType: "addToLabel",
                        documentIds: ids
                    }
                ]
            }
        });
        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__["Utils"].subscribe(observable, (response) => {
            return response;
        }, (error) => {
            console.log("labelsService.add failure - error: ", error);
        });
        return observable;
    }
    /**
     * Removes labels from a set of documents
     *
     * @param labels The labels to remove
     * @param ids The ids of the documents from which the labels should be removed
     * @param _public Determines whether the labels are public or private
     */
    remove(labels, ids, _public) {
        const observable = this.httpClient.post(this.makeUrl("labels"), {
            app: this.appName,
            action: "remove",
            labels: labels,
            ids: ids,
            public: _public,
            $auditRecord: {
                auditEvents: [
                    {
                        type: "Label_RemoveDoc" /* Label_RemoveDoc */,
                        detail: {
                            public: _public,
                            label: !!labels ? labels.toString() : null,
                            doccount: !!ids ? ids.length : 0
                        }
                    }
                ],
                mlAuditEvents: [
                    {
                        actionType: "removeFromLabel",
                        documentIds: ids
                    }
                ]
            }
        });
        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__["Utils"].subscribe(observable, (response) => {
            return response;
        }, (error) => {
            console.log("labelsService.remove failure - error: ", error);
        });
        return observable;
    }
    /**
     * Renames a set of labels
     *
     * @param labels The labels to rename
     * @param newLabel The new name for the labels
     * @param _public Determines whether the labels are public or private
     */
    rename(labels, newLabel, _public) {
        const observable = this.httpClient.post(this.makeUrl("labels"), {
            app: this.appName,
            action: "rename",
            labels: labels,
            newLabel: newLabel,
            public: _public,
            auditEvents: {
                type: "Label_Rename" /* Label_Rename */,
                detail: {
                    public: _public,
                    oldlabel: !!labels ? labels.toString() : null,
                    label: newLabel
                }
            }
        });
        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__["Utils"].subscribe(observable, (response) => {
            return response;
        }, (error) => {
            console.log("labelsService.rename failure - error: ", error);
        });
        return observable;
    }
    /**
     * Deletes a set of labels
     *
     * @param labels The labels to be deleted
     * @param _public Determines whether the labels are public or private
     */
    delete(labels, _public) {
        const observable = this.httpClient.post(this.makeUrl("labels"), {
            app: this.appName,
            action: "delete",
            labels: labels,
            public: _public,
            auditEvents: {
                type: "Label_Delete" /* Label_Delete */,
                detail: {
                    public: _public,
                    label: !!labels ? labels.toString() : null
                }
            }
        });
        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__["Utils"].subscribe(observable, (response) => {
            return response;
        }, (error) => {
            console.log("labelsService.delete failure - error: ", error);
        });
        return observable;
    }
    /**
     * Adds labels to the documents identified by the passed query
     *
     * @param labels The labels to add
     * @param query The query to produce the documents to which the labels should be added
     * @param _public Determines whether the labels are public or private
     */
    bulkAdd(labels, query, _public) {
        const observable = this.httpClient.post(this.makeUrl("labels"), {
            app: this.appName,
            action: "bulkAdd",
            labels: labels,
            query: query,
            public: _public,
            auditEvents: {
                type: "Label_Add" /* Label_Add */,
                detail: {
                    public: _public,
                    label: !!labels ? labels.toString() : null,
                    query: query != null ? query.name : null
                }
            }
        });
        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__["Utils"].subscribe(observable, (response) => {
            return response;
        }, (error) => {
            console.log("labelsService.bulkAdd failure - error: ", error);
        });
        return observable;
    }
    /**
     * Removes labels from the documents identified by the passed query
     *
     * @param labels The labels to remove
     * @param query The query to produce the documents from which the labels should be removed
     * @param _public Determines whether the labels are public or private
     */
    bulkRemove(labels, query, _public) {
        const observable = this.httpClient.post(this.makeUrl("labels"), {
            app: this.appName,
            action: "bulkRemove",
            labels: labels,
            query: query,
            public: _public,
            auditEvents: {
                type: "Label_Delete" /* Label_Delete */,
                detail: {
                    public: _public,
                    label: !!labels ? labels.toString() : null,
                    query: query != null ? query.name : null
                }
            }
        });
        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__["Utils"].subscribe(observable, (response) => {
            return response;
        }, (error) => {
            console.log("labelsService.bulkRemove failure - error: ", error);
        });
        return observable;
    }
}
LabelsWebService.ɵfac = function LabelsWebService_Factory(t) { return new (t || LabelsWebService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_start_config_web_service__WEBPACK_IMPORTED_MODULE_3__["START_CONFIG"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_http_client__WEBPACK_IMPORTED_MODULE_5__["SqHttpClient"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_intl__WEBPACK_IMPORTED_MODULE_6__["IntlService"])); };
LabelsWebService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: LabelsWebService, factory: LabelsWebService.ɵfac, providedIn: "root" });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](LabelsWebService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: "root"
            }]
    }], function () { return [{ type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [_start_config_web_service__WEBPACK_IMPORTED_MODULE_3__["START_CONFIG"]]
            }] }, { type: _http_client__WEBPACK_IMPORTED_MODULE_5__["SqHttpClient"] }, { type: _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_6__["IntlService"] }]; }, null); })();


/***/ }),

/***/ "blba":
/*!**************************************!*\
  !*** ./src/locales/messages/en.json ***!
  \**************************************/
/*! exports provided: app, locale, searchForm, baskets, editBasket, manageBaskets, selectBasket, facet, results, home, search, preview, default */
/***/ (function(module) {

module.exports = JSON.parse("{\"app\":{\"name\":\"Vanilla Search\"},\"locale\":{\"en\":\"English (United States)\",\"en-gb\":\"English (United Kingdom)\",\"fr\":\"Français\",\"de\":\"Deutsch\"},\"searchForm\":{\"search\":\"Search\",\"searchFor\":\"Search for...\",\"advanced\":\"Advanced\",\"advancedSearch\":\"Advanced search\",\"scopeTitle\":\"Scope: {name}\",\"recentQuery\":\"Recent query\",\"recentDocument\":\"Recent document\",\"fieldedSearch\":\"Fielded Search\",\"off\":\"Off\",\"simple\":\"Simple\",\"simpleTitle\":\"Graphical mode allowing to display selected filters as badges\",\"advancedTitle\":\"Text mode allowing to write search expressions such as \\\"geo: Paris OR company: Sinequa\\\"\",\"keepFilters\":\"Filters are kept within new queries\",\"notKeepFilters\":\"Filters are reset within new queries\",\"clearAll\":\"Clear all\",\"clear\":\"Clear\",\"voiceRecognition\":\"Vocal search\",\"scrollLeft\":\"Scroll left\",\"scrollRight\":\"Scroll right\"},\"baskets\":{\"baskets\":\"Collections\",\"addToBasket\":\"Add to collection\",\"removeFromBasket\":\"Remove from collection\",\"removeFromAllBaskets\":\"Remove from all collections\",\"removeFromAllBasketsConfirmation\":\"Are you sure you want to remove this result from these collections: {baskets}?\",\"basketAlreadyExists\":\"A collection with that name already exists. Would you like to replace it?\",\"noBasket\":\"You have not yet added a document to a collection...\",\"createBasket\":\"Create Collection\",\"manageBaskets\":\"Manage Collections\",\"delete\":\"Delete this collection\"},\"editBasket\":{\"title\":\"Collection\"},\"manageBaskets\":{\"title\":\"Manage Collections\"},\"selectBasket\":{\"title\":\"Select Collection\",\"newBasket\":\"New collection...\"},\"facet\":{\"filters\":{\"title\":\"Filters\"},\"preview\":{\"title\":\"Preview\"},\"labels\":{\"title\":\"Labels\"}},\"results\":{\"tabPeople\":\"People\",\"tabBusiness\":\"Companies\",\"tabLocation\":\"Places\"},\"home\":{\"recentDocumentsTooltip\":\"Recently opened documents\",\"recentQueriesTooltip\":\"Recent search queries\",\"savedQueriesTooltip\":\"Saved search queries (including filters)\",\"basketsTooltip\":\"Collections of bookmarked documents\",\"darkMode\":\"Dark mode\",\"lightMode\":\"Light mode\"},\"search\":{\"pageTitle\":\"Search - {search}\"},\"preview\":{\"extracts\":\"Extracts\",\"entities\":\"Entities\",\"searchText\":\"Search \\\"{text}\\\" in the document\",\"pageTitle\":\"Document Navigator - {title}\"}}");

/***/ }),

/***/ "bna5":
/*!**************************************************************************!*\
  !*** ../components/facet/bootstrap/facet-multi/facet-multi.component.ts ***!
  \**************************************************************************/
/*! exports provided: BsFacetMultiComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsFacetMultiComponent", function() { return BsFacetMultiComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _abstract_facet__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../abstract-facet */ "+Pqq");
/* harmony import */ var _sinequa_components_action__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/components/action */ "WsHA");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _facet_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../facet.service */ "mQJ4");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _utils_directives_tooltip_tooltip_directive__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../utils/directives/tooltip/tooltip.directive */ "v6qE");
/* harmony import */ var _facet_list_facet_list__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../facet-list/facet-list */ "MbPB");
/* harmony import */ var _facet_tree_facet_tree__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../facet-tree/facet-tree */ "JgJf");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/intl/message.pipe */ "X1Kh");
/* harmony import */ var _utils_pipes_number_pipe__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../utils/pipes/number-pipe */ "FbeZ");












const _c0 = ["facet"];
function BsFacetMultiComponent_div_0_div_1_span_4_Template(rf, ctx) { if (rf & 1) {
    const _r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsFacetMultiComponent_div_0_div_1_span_4_Template_span_click_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r8); const facet_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit; const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r6.clearFacetFilters(facet_r3, $event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "i", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](3, "i", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("sqTooltip", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](1, 1, "msg#facet.filters.clear"));
} }
const _c1 = function (a0) { return { count: a0 }; };
const _c2 = function (a0) { return { values: a0 }; };
function BsFacetMultiComponent_div_0_div_1_span_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](3, "sqNumber");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const facet_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("title", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](1, 2, "msg#facet.filterItemCountTooltip", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](9, _c2, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](7, _c1, facet_r3.$count))));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](3, 5, facet_r3.$count), " ");
} }
const _c3 = function (a0, a1) { return { "list-group-item-success": a0, "disabled": a1 }; };
function BsFacetMultiComponent_div_0_div_1_Template(rf, ctx) { if (rf & 1) {
    const _r11 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsFacetMultiComponent_div_0_div_1_Template_div_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r11); const facet_r3 = ctx.$implicit; const ctx_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r10.openFacet(facet_r3); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "span", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](3, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, BsFacetMultiComponent_div_0_div_1_span_4_Template, 4, 3, "span", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](5, BsFacetMultiComponent_div_0_div_1_span_5_Template, 4, 11, "span", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](6, "i", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const facet_r3 = ctx.$implicit;
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction2"](6, _c3, facet_r3.$hasFiltered, !facet_r3.$hasData));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](3, 4, facet_r3.title));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", facet_r3.$hasFiltered);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r2.showCount);
} }
function BsFacetMultiComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsFacetMultiComponent_div_0_div_1_Template, 7, 9, "div", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx_r0.facets);
} }
function BsFacetMultiComponent_ng_container_1_sq_facet_list_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "sq-facet-list", 15, 16);
} if (rf & 2) {
    const ctx_r12 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("name", ctx_r12.openedFacet.name)("results", ctx_r12.results)("aggregation", ctx_r12.openedFacet.aggregation)("showCount", ctx_r12.openedFacet.showCount)("searchable", ctx_r12.openedFacet.searchable)("allowExclude", ctx_r12.openedFacet.allowExclude)("allowOr", ctx_r12.openedFacet.allowOr)("allowAnd", ctx_r12.openedFacet.allowAnd)("displayEmptyDistributionIntervals", ctx_r12.openedFacet.displayEmptyDistributionIntervals)("showProgressBar", ctx_r12.showProgressBar);
} }
function BsFacetMultiComponent_ng_container_1_sq_facet_tree_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "sq-facet-tree", 17, 16);
} if (rf & 2) {
    const ctx_r13 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("name", ctx_r13.openedFacet.name)("results", ctx_r13.results)("aggregation", ctx_r13.openedFacet.aggregation)("showCount", ctx_r13.openedFacet.showCount)("allowExclude", ctx_r13.openedFacet.allowExclude)("allowOr", ctx_r13.openedFacet.allowOr);
} }
function BsFacetMultiComponent_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsFacetMultiComponent_ng_container_1_sq_facet_list_1_Template, 2, 10, "sq-facet-list", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, BsFacetMultiComponent_ng_container_1_sq_facet_tree_2_Template, 2, 6, "sq-facet-tree", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r1.openedFacet.type === "list");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r1.openedFacet.type === "tree");
} }
class BsFacetMultiComponent extends _abstract_facet__WEBPACK_IMPORTED_MODULE_1__["AbstractFacet"] {
    constructor(facetService, changeDetectorRef) {
        super();
        this.facetService = facetService;
        this.changeDetectorRef = changeDetectorRef;
        this.showCount = true;
        this.showProgressBar = false; // will display or not item count as progress bar
        this.events = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.backAction = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_2__["Action"]({
            name: "back",
            icon: "fas fa-arrow-left",
            title: "msg#facet.filters.back",
            action: () => {
                this.openedFacet = undefined;
                this.events.next(undefined);
                this.changeDetectorRef.detectChanges();
            }
        });
        this.clearAllFiltersAction = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_2__["Action"]({
            icon: "far fa-minus-square",
            title: "msg#facet.filters.clear",
            action: () => {
                const facetsWithFiltered = this.facets.filter((facet) => facet.$hasFiltered).map(facet => facet.name);
                this.facetService.clearFiltersSearch(facetsWithFiltered, true);
            }
        });
    }
    /**
     * If a sub-facet is opened, add a Back button and forward
     * the actions of the facet.
     */
    get actions() {
        const actions = [];
        if (this.openedFacet) {
            actions.push(this.backAction);
        }
        else {
            const hasFiltered = this.facets.some(facet => facet.$hasFiltered);
            if (hasFiltered)
                actions.push(this.clearAllFiltersAction);
        }
        if (this.facetComponent) {
            actions.push(...this.facetActions);
        }
        return actions;
    }
    /**
     * Return the actions of the child facet
     */
    get facetActions() {
        if (this.facetComponent) {
            return this.facetComponent.actions;
        }
        return [];
    }
    /**
     * Open this sub facet
     * @param facet
     */
    openFacet(facet) {
        this.openedFacet = facet;
        this.events.next(facet);
        this.changeDetectorRef.detectChanges();
    }
    clearFacetFilters(facet, e) {
        e.stopPropagation();
        this.facetService.clearFiltersSearch(facet.name, true);
        return false;
    }
    /**
     * Return the number of items to display for a given facet
     * @param facet
     */
    getFacetCount(facet) {
        const agg = this.results.aggregations.find(agg => _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].eqNC(agg.name, facet.aggregation)); // avoid calling getAggregation() which is costly for trees
        if (!(agg === null || agg === void 0 ? void 0 : agg.items))
            return "";
        const count = this.facetService.getAggregationCount(facet.aggregation); // configured count (default: 10)
        const aggItemCounter = (!agg.isDistribution || facet.displayEmptyDistributionIntervals)
            ? agg.items.length
            : agg.items.filter(item => item.count > 0).length;
        return aggItemCounter >= count ? `${count}+` : `${aggItemCounter}`;
    }
    /**
     * Return whether a given facet has been used in the current context
     * @param facet
     */
    hasFiltered(facet) {
        return this.facetService.hasFiltered(facet.name);
    }
    /**
     * When the results change, actualize count, hasData and hasFiltered
     * which are displayed in the template.
     */
    ngOnChanges() {
        this.facets.forEach(facet => {
            facet.$count = this.getFacetCount(facet);
            facet.$hasData = this.facetService.hasData(facet.aggregation, this.results);
            facet.$hasFiltered = this.hasFiltered(facet);
        });
        this.changeDetectorRef.detectChanges();
    }
}
BsFacetMultiComponent.ɵfac = function BsFacetMultiComponent_Factory(t) { return new (t || BsFacetMultiComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_facet_service__WEBPACK_IMPORTED_MODULE_4__["FacetService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"])); };
BsFacetMultiComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsFacetMultiComponent, selectors: [["sq-facet-multi"]], viewQuery: function BsFacetMultiComponent_Query(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c0, true);
    } if (rf & 2) {
        let _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.facetComponent = _t.first);
    } }, inputs: { results: "results", facets: "facets", showCount: "showCount", showProgressBar: "showProgressBar" }, outputs: { events: "events" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"], _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 2, vars: 2, consts: [["class", "list-group list-group-flush", 4, "ngIf"], [4, "ngIf"], [1, "list-group", "list-group-flush"], ["class", "open-facet d-flex flex-row list-group-item border-0 list-group-item-action px-3 py-1 align-items-center", 3, "ngClass", "click", 4, "ngFor", "ngForOf"], [1, "open-facet", "d-flex", "flex-row", "list-group-item", "border-0", "list-group-item-action", "px-3", "py-1", "align-items-center", 3, "ngClass", "click"], [1, "flex-grow-1"], ["class", "fa-stack icons-group", 3, "sqTooltip", "click", 4, "ngIf"], ["class", "mx-2 text-muted small", 3, "title", 4, "ngIf"], [1, "fas", "fa-caret-right"], [1, "fa-stack", "icons-group", 3, "sqTooltip", "click"], [1, "ml-2", "far", "fa-minus-square", "fa-stack-1x", "icons", "icon-hover"], [1, "ml-2", "far", "fa-check-square", "fa-stack-1x", "icons", "icon-default"], [1, "mx-2", "text-muted", "small", 3, "title"], [3, "name", "results", "aggregation", "showCount", "searchable", "allowExclude", "allowOr", "allowAnd", "displayEmptyDistributionIntervals", "showProgressBar", 4, "ngIf"], [3, "name", "results", "aggregation", "showCount", "allowExclude", "allowOr", 4, "ngIf"], [3, "name", "results", "aggregation", "showCount", "searchable", "allowExclude", "allowOr", "allowAnd", "displayEmptyDistributionIntervals", "showProgressBar"], ["facet", ""], [3, "name", "results", "aggregation", "showCount", "allowExclude", "allowOr"]], template: function BsFacetMultiComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, BsFacetMultiComponent_div_0_Template, 2, 1, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsFacetMultiComponent_ng_container_1_Template, 3, 2, "ng-container", 1);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.openedFacet);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.openedFacet);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_5__["NgIf"], _angular_common__WEBPACK_IMPORTED_MODULE_5__["NgForOf"], _angular_common__WEBPACK_IMPORTED_MODULE_5__["NgClass"], _utils_directives_tooltip_tooltip_directive__WEBPACK_IMPORTED_MODULE_6__["TooltipDirective"], _facet_list_facet_list__WEBPACK_IMPORTED_MODULE_7__["BsFacetList"], _facet_tree_facet_tree__WEBPACK_IMPORTED_MODULE_8__["BsFacetTree"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_9__["MessagePipe"], _utils_pipes_number_pipe__WEBPACK_IMPORTED_MODULE_10__["NumberPipe"]], styles: [".open-facet[_ngcontent-%COMP%] {\n  cursor: pointer;\n}\n\n.list-group-item.disabled[_ngcontent-%COMP%] {\n  color: lightgrey;\n}\n\n.icons-group[_ngcontent-%COMP%] {\n  cursor: pointer;\n}\n\n.icons-group[_ngcontent-%COMP%]   .icons[_ngcontent-%COMP%] {\n  transition: opacity 0.3s, transform 0.3s;\n}\n\n.icons-group[_ngcontent-%COMP%]   .icons.icon-hover[_ngcontent-%COMP%] {\n  transform: rotate(-180deg);\n  opacity: 0;\n}\n\n.icons-group[_ngcontent-%COMP%]:hover   .icon-default[_ngcontent-%COMP%] {\n  transform: rotate(180deg);\n  opacity: 0;\n}\n\n.icons-group[_ngcontent-%COMP%]:hover   .icon-hover[_ngcontent-%COMP%] {\n  transform: rotate(0deg);\n  opacity: 1;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2plY3RzL2NvbXBvbmVudHMvZmFjZXQvYm9vdHN0cmFwL2ZhY2V0LW11bHRpL2ZhY2V0LW11bHRpLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsZUFBQTtBQUNGOztBQUVBO0VBQ0UsZ0JBQUE7QUFDRjs7QUFFQTtFQUNFLGVBQUE7QUFDRjs7QUFDQTtFQUNFLHdDQUFBO0FBRUY7O0FBQUE7RUFDRSwwQkFBQTtFQUNBLFVBQUE7QUFHRjs7QUFEQTtFQUNFLHlCQUFBO0VBQ0EsVUFBQTtBQUlGOztBQUZBO0VBQ0UsdUJBQUE7RUFDQSxVQUFBO0FBS0YiLCJmaWxlIjoicHJvamVjdHMvY29tcG9uZW50cy9mYWNldC9ib290c3RyYXAvZmFjZXQtbXVsdGkvZmFjZXQtbXVsdGkuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIub3Blbi1mYWNldCB7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cblxuLmxpc3QtZ3JvdXAtaXRlbS5kaXNhYmxlZCB7XG4gIGNvbG9yOiBsaWdodGdyZXk7XG59XG5cbi5pY29ucy1ncm91cCB7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cbi5pY29ucy1ncm91cCAuaWNvbnMge1xuICB0cmFuc2l0aW9uOiBvcGFjaXR5IDAuM3MsIHRyYW5zZm9ybSAwLjNzO1xufVxuLmljb25zLWdyb3VwIC5pY29ucy5pY29uLWhvdmVyIHtcbiAgdHJhbnNmb3JtOiByb3RhdGUoLTE4MGRlZyk7XG4gIG9wYWNpdHk6IDA7XG59XG4uaWNvbnMtZ3JvdXA6aG92ZXIgLmljb24tZGVmYXVsdCB7XG4gIHRyYW5zZm9ybTogcm90YXRlKDE4MGRlZyk7XG4gIG9wYWNpdHk6IDA7XG59XG4uaWNvbnMtZ3JvdXA6aG92ZXIgLmljb24taG92ZXIge1xuICB0cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTtcbiAgb3BhY2l0eTogMTtcbn0iXX0= */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsFacetMultiComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'sq-facet-multi',
                templateUrl: './facet-multi.component.html',
                styleUrls: ['./facet-multi.component.scss']
            }]
    }], function () { return [{ type: _facet_service__WEBPACK_IMPORTED_MODULE_4__["FacetService"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] }]; }, { results: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], facets: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], showCount: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], showProgressBar: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], events: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }], facetComponent: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ["facet", { static: false }]
        }] }); })();


/***/ }),

/***/ "bpjR":
/*!********************************************************!*\
  !*** ../core/load-component/load-component.service.ts ***!
  \********************************************************/
/*! exports provided: LoadComponentService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LoadComponentService", function() { return LoadComponentService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");



/**
 * This service provides methods to dynamically load and unload an angular component from its type.
 * The component's initial inputs and outputs are respected and the first call to the component's
 * `ngOnChanges` method is made.
 * Changes to the inputs and outputs can be made by calling {@link #bindComponent} which will call
 * the component's `ngOnChanges` method again
 */
class LoadComponentService {
    constructor(componentFactoryResolver, applicationRef) {
        this.componentFactoryResolver = componentFactoryResolver;
        this.applicationRef = applicationRef;
        // A cache of resolved component factories
        this.factories = new Map();
    }
    _bindComponent(options, loadedComponent, initialLoad) {
        if (!initialLoad) {
            this.unbindComponent(loadedComponent);
        }
        const ngOnChanges = loadedComponent.componentRef.instance.ngOnChanges;
        let simpleChanges;
        const makeSimpleChanges = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].isFunction(ngOnChanges) && !!options.inputs;
        if (!!options.inputs) {
            // Assign inputs and generate SimpleChanges if required
            Object.keys(options.inputs).forEach(name => {
                if (makeSimpleChanges) {
                    const previousValue = initialLoad ? undefined : loadedComponent.componentRef.instance[name];
                    const currentValue = options.inputs[name];
                    if (initialLoad || currentValue !== previousValue) {
                        if (!simpleChanges) {
                            simpleChanges = {};
                        }
                        simpleChanges[name] = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["SimpleChange"](previousValue, currentValue, initialLoad);
                    }
                }
                loadedComponent.componentRef.instance[name] = options.inputs[name];
            });
        }
        if (!!options.outputs) {
            Object.keys(options.outputs).forEach(name => {
                const eventEmitter = loadedComponent.componentRef.instance[name];
                if (eventEmitter) {
                    const subscription = eventEmitter.subscribe(options.outputs[name]);
                    if (!loadedComponent.subscriptions) {
                        loadedComponent.subscriptions = subscription;
                    }
                    else {
                        loadedComponent.subscriptions.add(subscription);
                    }
                }
            });
        }
        if (simpleChanges) {
            ngOnChanges.call(loadedComponent.componentRef.instance, simpleChanges);
        }
    }
    /**
     * Bind a component's input and output properties according to the passed options. Generate a
     * call to the component's `ngOnChanges` method if the inputs have changed since the last call.
     * If the component has been previously bound it is first unbound by calling {@link #unbindComponent}
     * which will unsubscribe the component's outputs
     *
     * @param options Specify the inputs and outputs for the component
     * @param loadedComponent A component loaded by {@link #loadComponent}
     */
    bindComponent(options, loadedComponent) {
        return this._bindComponent(options, loadedComponent, false);
    }
    /**
     * Unbind a previously bound dynamically loaded component. Subscriptions to the component's
     * outputs are unsubscribed
     *
     * @param loadedComponent A component loaded by {@link #loadComponent}
     */
    unbindComponent(loadedComponent) {
        if (!!loadedComponent.subscriptions) {
            loadedComponent.subscriptions.unsubscribe();
            loadedComponent.subscriptions = undefined;
        }
    }
    /**
     * Dynamically load a component from its type. The component's inputs and outputs will be initialized
     * by calling {@link #bindComponent}.
     *
     * @param options The options containing the component to load and its inputs and outputs
     * @param viewContainerRef Specifies where the loaded component should be attached. If not specified then the
     * loaded component is inserted before the application component
     * @param injector Overrides the injector to use as the parent for the component. By default this will be
     * the injector held on the `viewContainerRef`
     */
    loadComponent(options, viewContainerRef, injector) {
        let componentRef;
        let factory = this.factories.get(options.component);
        if (!factory) {
            factory = this.componentFactoryResolver.resolveComponentFactory(options.component);
        }
        if (!viewContainerRef) {
            const appElement = this.applicationRef.components[0].location.nativeElement;
            const injector1 = this.applicationRef.components[0].injector;
            componentRef = factory.create(injector1, [[appElement]]);
            this.applicationRef.attachView(componentRef.hostView);
            if (appElement.parentElement) {
                appElement.parentElement.insertBefore(componentRef.location.nativeElement, appElement.nextSibling);
            }
        }
        else {
            if (!injector) {
                injector = viewContainerRef.injector;
            }
            const index = !_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].isEmpty(options.index) ? options.index : undefined;
            componentRef = viewContainerRef.createComponent(factory, index, injector, []);
        }
        const loadedComponent = {
            componentRef
        };
        this._bindComponent(options, loadedComponent, true);
        loadedComponent.componentRef.changeDetectorRef.detectChanges();
        return loadedComponent;
    }
    /**
     * Unload a dynamically loaded component. It is unbound prior to being destroyed
     *
     * @param component A loaded component
     */
    unloadComponent(component) {
        if (!!component) {
            this.unbindComponent(component);
            component.componentRef.destroy();
        }
    }
}
LoadComponentService.ɵfac = function LoadComponentService_Factory(t) { return new (t || LoadComponentService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ComponentFactoryResolver"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ApplicationRef"])); };
LoadComponentService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: LoadComponentService, factory: LoadComponentService.ɵfac, providedIn: "root" });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](LoadComponentService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: "root"
            }]
    }], function () { return [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ComponentFactoryResolver"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ApplicationRef"] }]; }, null); })();


/***/ }),

/***/ "bq2v":
/*!*******************************************!*\
  !*** ../components/result/messages/de.ts ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    "results": {
        "missingTerms": "fehlende Begriffe:",
        "resultsCount": "{count, plural, =0 {keine Ergebnisse} one {# Ergebnis} other {# Ergebnisse}}"
    },
    "userRatings": {
        "average": "Durchschnittlich: {average}"
    },
});


/***/ }),

/***/ "buIk":
/*!********************************************!*\
  !*** ../components/feedback/public-api.ts ***!
  \********************************************/
/*! exports provided: AuditFeedbackType, FeedbackService, BsFeedbackMenu, BsFeedbackModule, enFeedback, frFeedback, deFeedback */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _feedback_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./feedback.service */ "8xsx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AuditFeedbackType", function() { return _feedback_service__WEBPACK_IMPORTED_MODULE_0__["AuditFeedbackType"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "FeedbackService", function() { return _feedback_service__WEBPACK_IMPORTED_MODULE_0__["FeedbackService"]; });

/* harmony import */ var _bootstrap_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./bootstrap/index */ "lgrC");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFeedbackMenu", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_1__["BsFeedbackMenu"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFeedbackModule", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_1__["BsFeedbackModule"]; });

/* harmony import */ var _messages_index__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./messages/index */ "PcwS");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "enFeedback", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_2__["enFeedback"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "frFeedback", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_2__["frFeedback"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "deFeedback", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_2__["deFeedback"]; });






/***/ }),

/***/ "c3wI":
/*!************************************!*\
  !*** ../core/login/messages/en.ts ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    "modal": {
        "login": {
            "title": "Login",
            "userName": "User name",
            "password": "Password",
            "singleSignOn": "Single sign-on",
            "signInWith": "Sign in with..."
        }
    }
});


/***/ }),

/***/ "c96x":
/*!***************************************!*\
  !*** ../components/advanced/index.ts ***!
  \***************************************/
/*! exports provided: AdvancedService, BsAdvancedFormCheckbox, BsAdvancedFormInput, BsAdvancedFormMultiInput, BsAdvancedFormRange, BsAdvancedFormSelect, BsAdvancedModule, BsSelectComponent, DATE_PICKER_VALUE_ACCESSOR, BsDatePicker, DATE_RANGE_PICKER_VALUE_ACCESSOR, BsDateRangePicker, BsAdvancedFormAutocomplete, BsAdvancedFormValidation, BsAdvancedFormAutocompleteMultiInput, enAdvanced, frAdvanced, deAdvanced */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _public_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./public-api */ "yte1");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AdvancedService", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["AdvancedService"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsAdvancedFormCheckbox", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsAdvancedFormCheckbox"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsAdvancedFormInput", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsAdvancedFormInput"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsAdvancedFormMultiInput", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsAdvancedFormMultiInput"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsAdvancedFormRange", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsAdvancedFormRange"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsAdvancedFormSelect", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsAdvancedFormSelect"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsAdvancedModule", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsAdvancedModule"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsSelectComponent", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsSelectComponent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "DATE_PICKER_VALUE_ACCESSOR", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["DATE_PICKER_VALUE_ACCESSOR"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsDatePicker", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsDatePicker"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "DATE_RANGE_PICKER_VALUE_ACCESSOR", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["DATE_RANGE_PICKER_VALUE_ACCESSOR"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsDateRangePicker", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsDateRangePicker"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsAdvancedFormAutocomplete", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsAdvancedFormAutocomplete"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsAdvancedFormValidation", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsAdvancedFormValidation"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsAdvancedFormAutocompleteMultiInput", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsAdvancedFormAutocompleteMultiInput"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "enAdvanced", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["enAdvanced"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "frAdvanced", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["frAdvanced"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "deAdvanced", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["deAdvanced"]; });




/***/ }),

/***/ "c9A2":
/*!***************************************************************!*\
  !*** ../components/labels/bootstrap/edit-label/edit-label.ts ***!
  \***************************************************************/
/*! exports provided: BsEditLabel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsEditLabel", function() { return BsEditLabel; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/modal */ "vMGo");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/app-utils */ "SBPP");
/* harmony import */ var _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/components/selection */ "8GPZ");
/* harmony import */ var _labels_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../labels.service */ "OpW8");
/* harmony import */ var _sinequa_components_search__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @sinequa/components/search */ "7+c1");
/* harmony import */ var _sinequa_core_notification__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @sinequa/core/notification */ "mkLw");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/forms */ "nIj0");
/* harmony import */ var _modal_bootstrap_modal_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../modal/bootstrap/modal.component */ "oSLy");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _labels_autocomplete_labels_autocomplete_component__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../labels-autocomplete/labels-autocomplete.component */ "o8/e");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../core/intl/message.pipe */ "X1Kh");















function BsEditLabel_div_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 1, "msg#editLabel.infoText"), " ");
} }
const _c0 = function (a0, a1) { return { "disabled": a0, "clickable": a1 }; };
function BsEditLabel_div_8_Template(rf, ctx) { if (rf & 1) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "input", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsEditLabel_div_8_Template_input_click_1_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r6); const item_r4 = ctx.$implicit; const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r5.updateLabelsNature(item_r4.value); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "label", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](4, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const item_r4 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("id", item_r4.id);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("value", item_r4.value);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("checked", item_r4.checked)("disabled", item_r4.disabled)("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction2"](9, _c0, item_r4.disabled, !item_r4.disabled));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("for", item_r4.id);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](4, 7, item_r4.name));
} }
function BsEditLabel_section_9_Template(rf, ctx) { if (rf & 1) {
    const _r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "section");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "b");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "label", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](4, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "sq-labels-autocomplete", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("labelsUpdate", function BsEditLabel_section_9_Template_sq_labels_autocomplete_labelsUpdate_5_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r8); const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r7.onLabelsChanged($event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](4, 6, "msg#labels.labels"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("public", ctx_r2.model.properties.public)("disableAutocomplete", ctx_r2.model.properties.disableAutocomplete)("allowNewLabels", ctx_r2.model.properties.allowNewLabels)("allowManagePublicLabels", ctx_r2.model.properties.allowManagePublicLabels)("initLabels", ctx_r2.initialLabels);
} }
function BsEditLabel_section_10_Template(rf, ctx) { if (rf & 1) {
    const _r10 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "section");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "b");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "label", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](4, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "sq-labels-autocomplete", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("labelsUpdate", function BsEditLabel_section_10_Template_sq_labels_autocomplete_labelsUpdate_5_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r10); const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r9.onLabelsToBeAddedChanged($event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "b");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "label", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](9, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](10, "sq-labels-autocomplete", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("labelsUpdate", function BsEditLabel_section_10_Template_sq_labels_autocomplete_labelsUpdate_10_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r10); const ctx_r11 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r11.onLabelsToBeRemovedChanged($event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](4, 10, "msg#editLabel.labelsToBeAdded"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("public", ctx_r3.model.properties.public)("disableAutocomplete", ctx_r3.model.properties.disableAutocomplete)("allowNewLabels", ctx_r3.model.properties.allowNewLabels)("allowManagePublicLabels", ctx_r3.model.properties.allowManagePublicLabels);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](9, 12, "msg#editLabel.labelsToBeRemoved"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("public", ctx_r3.model.properties.public)("disableAutocomplete", ctx_r3.model.properties.disableAutocomplete)("allowNewLabels", ctx_r3.model.properties.allowNewLabels)("allowManagePublicLabels", ctx_r3.model.properties.allowManagePublicLabels);
} }
class BsEditLabel {
    constructor(model, appService, selectionService, labelsService, searchService, notificationService, changeDetectorRef, modalRef) {
        this.model = model;
        this.appService = appService;
        this.selectionService = selectionService;
        this.labelsService = labelsService;
        this.searchService = searchService;
        this.notificationService = notificationService;
        this.changeDetectorRef = changeDetectorRef;
        this.modalRef = modalRef;
        /** Initial labels list assigned to a record */
        this.initialLabels = [];
        this.isProcessing = false;
    }
    ngOnInit() {
        this.selectedRecordsIds = !!this.selectionService.getSelectedIds()
            ? this.selectionService.getSelectedIds()
            : [];
        if (this.selectedRecordsIds.length === 1) {
            this.record = this.searchService.getRecordFromId(this.selectedRecordsIds[0]);
            this.initialLabels = this._getInitialRecordLabels();
        }
        this.buttons = [
            new _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_1__["ModalButton"]({
                text: "msg#editLabel.btnEdit",
                primary: true,
                result: 0 /* Custom */,
                anchor: true,
                action: () => {
                    const observable = this.labelsService.addLabels(this.model.valuesToBeAdded, this.selectionService.getSelectedIds(), this.model.properties.public);
                    if (observable) {
                        this.isProcessing = true;
                        this.changeDetectorRef.markForCheck();
                        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].subscribe(observable, () => { }, (error) => {
                            this.notificationService.error("msg#editLabel.errorFeedback");
                            this.modalRef.close(error);
                        }, () => {
                            this.labelsService
                                .removeLabels(this.model.valuesToBeRemoved, this.selectionService.getSelectedIds(), this.model.properties.public)
                                .subscribe(() => { }, (error) => {
                                this.notificationService.error("msg#editLabel.errorFeedback");
                                this.modalRef.close(error);
                            }, () => {
                                this.isProcessing = false;
                                this.modalRef.close(-1 /* OK */);
                                this.notificationService.success("msg#editLabel.successFeedback");
                                this.searchService.search(); /** Update the display immediately in the components and facets*/
                            });
                        });
                    }
                },
            }),
            new _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_1__["ModalButton"]({
                result: -2 /* Cancel */,
            }),
        ];
    }
    updateLabelsNature(nature) {
        this.model.properties.public = nature;
        this.model.valuesToBeRemoved = [];
        this.model.valuesToBeAdded = [];
        if (this.selectedRecordsIds.length === 1) {
            this.initialLabels = this._getInitialRecordLabels(); /** update initial labels */
        }
    }
    onLabelsChanged(values) {
        if (!!this.initialLabels) {
            this.model.valuesToBeAdded = values.filter((value) => !this.initialLabels.find((label) => label === value));
            this.model.valuesToBeRemoved = this.initialLabels.filter((label) => !values.find((value) => value === label));
        }
        else {
            this.model.valuesToBeAdded = values;
            this.model.valuesToBeRemoved = [];
        }
    }
    onLabelsToBeAddedChanged(values) {
        this.model.valuesToBeAdded = values;
    }
    onLabelsToBeRemovedChanged(values) {
        this.model.valuesToBeRemoved = values;
    }
    /**
     * Return the list of labels already assigned to the selected record
     */
    _getInitialRecordLabels() {
        if (!!this.record) {
            const field = this.model.properties.public
                ? this.labelsService.publicLabelsField
                : this.labelsService.privateLabelsField;
            const labelsField = this.appService.resolveColumnAlias(field);
            if (!this.model.properties.public) {
                return !!this.record[labelsField]
                    ? this.labelsService.removePrivatePrefix(this.record[labelsField])
                    : [];
            }
            return this.record[labelsField] || [];
        }
        else {
            return [];
        }
    }
}
BsEditLabel.ɵfac = function BsEditLabel_Factory(t) { return new (t || BsEditLabel)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_modal__WEBPACK_IMPORTED_MODULE_1__["MODAL_MODEL"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__["AppService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_selection__WEBPACK_IMPORTED_MODULE_4__["SelectionService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_labels_service__WEBPACK_IMPORTED_MODULE_5__["LabelsService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_search__WEBPACK_IMPORTED_MODULE_6__["SearchService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_notification__WEBPACK_IMPORTED_MODULE_7__["NotificationsService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_modal__WEBPACK_IMPORTED_MODULE_1__["ModalRef"])); };
BsEditLabel.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsEditLabel, selectors: [["sq-edit-label"]], decls: 11, vars: 10, consts: [["name", "editLabel", "novalidate", ""], [3, "title", "buttons", "isProcessingState"], [1, "form-group", "sq-form-group"], ["role", "alert", 1, "alert", "alert-warning"], ["class", "alert alert-info", "role", "alert", 4, "ngIf"], ["class", "custom-control custom-radio custom-control-inline", 4, "ngFor", "ngForOf"], [4, "ngIf"], ["role", "alert", 1, "alert", "alert-info"], [1, "custom-control", "custom-radio", "custom-control-inline"], ["type", "radio", "name", "nature", 1, "custom-control-input", 3, "id", "value", "checked", "disabled", "ngClass", "click"], [1, "custom-control-label", 3, "for"], ["for", "label"], [3, "public", "disableAutocomplete", "allowNewLabels", "allowManagePublicLabels", "initLabels", "labelsUpdate"], [3, "public", "disableAutocomplete", "allowNewLabels", "allowManagePublicLabels", "labelsUpdate"]], template: function BsEditLabel_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "form", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "sq-modal", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](5, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](6, BsEditLabel_div_6_Template, 3, 3, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "section");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](8, BsEditLabel_div_8_Template, 5, 12, "div", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](9, BsEditLabel_section_9_Template, 6, 8, "section", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](10, BsEditLabel_section_10_Template, 11, 14, "section", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("title", "msg#editLabel.title")("buttons", ctx.buttons)("isProcessingState", ctx.isProcessing);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](5, 8, "msg#editLabel.alertText"), " ");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.model.properties.allowManagePublicLabels || !ctx.model.properties.public);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.model.properties.radioButtons);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.record);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.record);
    } }, directives: [_angular_forms__WEBPACK_IMPORTED_MODULE_8__["ɵangular_packages_forms_forms_y"], _angular_forms__WEBPACK_IMPORTED_MODULE_8__["NgControlStatusGroup"], _angular_forms__WEBPACK_IMPORTED_MODULE_8__["NgForm"], _modal_bootstrap_modal_component__WEBPACK_IMPORTED_MODULE_9__["BsModal"], _angular_common__WEBPACK_IMPORTED_MODULE_10__["NgIf"], _angular_common__WEBPACK_IMPORTED_MODULE_10__["NgForOf"], _angular_common__WEBPACK_IMPORTED_MODULE_10__["NgClass"], _labels_autocomplete_labels_autocomplete_component__WEBPACK_IMPORTED_MODULE_11__["BsLabelsAutocompleteComponent"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_12__["MessagePipe"]], styles: [".clickable[_ngcontent-%COMP%] {\n                cursor: pointer;\n            }\n            .clickable[_ngcontent-%COMP%]:hover {\n                opacity: 85%;\n            }"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsEditLabel, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-edit-label",
                templateUrl: "./edit-label.html",
                styles: [
                    `
            .clickable {
                cursor: pointer;
            }
            .clickable:hover {
                opacity: 85%;
            }
        `,
                ],
            }]
    }], function () { return [{ type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [_sinequa_core_modal__WEBPACK_IMPORTED_MODULE_1__["MODAL_MODEL"]]
            }] }, { type: _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__["AppService"] }, { type: _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_4__["SelectionService"] }, { type: _labels_service__WEBPACK_IMPORTED_MODULE_5__["LabelsService"] }, { type: _sinequa_components_search__WEBPACK_IMPORTED_MODULE_6__["SearchService"] }, { type: _sinequa_core_notification__WEBPACK_IMPORTED_MODULE_7__["NotificationsService"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] }, { type: _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_1__["ModalRef"] }]; }, null); })();


/***/ }),

/***/ "c9Fy":
/*!************************************************!*\
  !*** ../components/results-view/public-api.ts ***!
  \************************************************/
/*! exports provided: RESULTS_VIEWS, DEFAULT_VIEW, ResultsViewService, BsResultsGridView, BsResultsViewModule, BsResultsViewSelector, enResultsView, frResultsView, deResultsView */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _results_view_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./results-view.service */ "Bvaj");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RESULTS_VIEWS", function() { return _results_view_service__WEBPACK_IMPORTED_MODULE_0__["RESULTS_VIEWS"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "DEFAULT_VIEW", function() { return _results_view_service__WEBPACK_IMPORTED_MODULE_0__["DEFAULT_VIEW"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ResultsViewService", function() { return _results_view_service__WEBPACK_IMPORTED_MODULE_0__["ResultsViewService"]; });

/* harmony import */ var _bootstrap_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./bootstrap/index */ "RQGe");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsResultsGridView", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_1__["BsResultsGridView"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsResultsViewModule", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_1__["BsResultsViewModule"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsResultsViewSelector", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_1__["BsResultsViewSelector"]; });

/* harmony import */ var _messages_index__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./messages/index */ "fx5i");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "enResultsView", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_2__["enResultsView"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "frResultsView", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_2__["frResultsView"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "deResultsView", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_2__["deResultsView"]; });






/***/ }),

/***/ "cIYa":
/*!*************************************!*\
  !*** ../core/web-services/index.ts ***!
  \*************************************/
/*! exports provided: ExportSourceType, ExportOutputFormat, MINIMUM_COMPATIBLE_SERVER_API_VERSION, AppWebService, AuditWebService, DatasetWebService, DownloadWebService, SqHttpClient, HttpService, JsonMethodPluginService, LabelsWebService, PreviewWebService, PrincipalWebService, QueryExportWebService, DidYouMeanKind, RFMDisplay, QueryWebService, RecentQueriesList, RecentQueries, RecentQueriesWebService, RfmWebService, SimilarDocumentsWebService, SponsoredLinksWebService, START_CONFIG, StartConfigWebService, SuggestFieldWebService, SuggestQueryWebService, UserRatingsWebService, UserSettingsWebService, QueryIntentWebService, StartConfigInitializer, WebServicesModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _public_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./public-api */ "047y");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ExportSourceType", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["ExportSourceType"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ExportOutputFormat", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["ExportOutputFormat"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MINIMUM_COMPATIBLE_SERVER_API_VERSION", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["MINIMUM_COMPATIBLE_SERVER_API_VERSION"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AppWebService", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["AppWebService"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AuditWebService", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["AuditWebService"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "DatasetWebService", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["DatasetWebService"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "DownloadWebService", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["DownloadWebService"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SqHttpClient", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["SqHttpClient"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "HttpService", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["HttpService"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "JsonMethodPluginService", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["JsonMethodPluginService"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "LabelsWebService", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["LabelsWebService"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "PreviewWebService", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["PreviewWebService"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "PrincipalWebService", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["PrincipalWebService"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "QueryExportWebService", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["QueryExportWebService"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "DidYouMeanKind", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["DidYouMeanKind"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RFMDisplay", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["RFMDisplay"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "QueryWebService", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["QueryWebService"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RecentQueriesList", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["RecentQueriesList"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RecentQueries", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["RecentQueries"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RecentQueriesWebService", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["RecentQueriesWebService"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RfmWebService", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["RfmWebService"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SimilarDocumentsWebService", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["SimilarDocumentsWebService"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SponsoredLinksWebService", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["SponsoredLinksWebService"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "START_CONFIG", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["START_CONFIG"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "StartConfigWebService", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["StartConfigWebService"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SuggestFieldWebService", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["SuggestFieldWebService"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SuggestQueryWebService", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["SuggestQueryWebService"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "UserRatingsWebService", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["UserRatingsWebService"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "UserSettingsWebService", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["UserSettingsWebService"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "QueryIntentWebService", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["QueryIntentWebService"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "StartConfigInitializer", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["StartConfigInitializer"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "WebServicesModule", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["WebServicesModule"]; });




/***/ }),

/***/ "cZFO":
/*!********************************************!*\
  !*** ../components/baskets/messages/fr.ts ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    "baskets": {
        "baskets": "Paniers",
        "addToBasket": "Ajouter au panier",
        "removeFromBasket": "Supprimer du panier",
        "removeFromAllBaskets": "Supprimer de tous les paniers",
        "removeFromAllBasketsConfirmation": "Êtes-vous sûr de vouloir supprimer ce résultat de ces paniers : {baskets} ?",
        "basketAlreadyExists": "Un panier avec ce nom existe déjà. Voulez-vous le remplacer ?",
        "noBasket": "Vous n'avez pas encore ajouté de document à un panier...",
        "createBasket": "Créer un panier",
        "manageBaskets": "Gérer les paniers",
        "delete": "Supprimer ce panier"
    },
    "editBasket": {
        "title": "Panier",
        "name": "Nom"
    },
    "manageBaskets": {
        "title": "Gérer les paniers",
        "edit": "Editer",
        "reorder": "Réorganiser",
        "remove": "Effacer",
        "removeAll": "Effacer tout",
        "name": "Nom"
    },
    "selectBasket": {
        "title": "Sélectionner un panier",
        "newBasket": "Nouveau panier..."
    },
});


/***/ }),

/***/ "ci8K":
/*!***************************************!*\
  !*** ../core/modal/messages/index.ts ***!
  \***************************************/
/*! exports provided: enModal, frModal, deModal */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "enModal", function() { return enModal; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "frModal", function() { return frModal; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "deModal", function() { return deModal; });
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/intl */ "EfqX");
/* harmony import */ var _en__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./en */ "nkgJ");
/* harmony import */ var _fr__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./fr */ "cu1R");
/* harmony import */ var _de__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./de */ "9eIx");





const enModal = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].merge({}, _en__WEBPACK_IMPORTED_MODULE_2__["default"], _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_1__["enIntl"]);
const frModal = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].merge({}, _fr__WEBPACK_IMPORTED_MODULE_3__["default"], _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_1__["frIntl"]);
const deModal = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].merge({}, _de__WEBPACK_IMPORTED_MODULE_4__["default"], _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_1__["deIntl"]);



/***/ }),

/***/ "ckUH":
/*!**************************************!*\
  !*** ../core/intl/messages/index.ts ***!
  \**************************************/
/*! exports provided: enIntl, frIntl, deIntl */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _en__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./en */ "fNbZ");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "enIntl", function() { return _en__WEBPACK_IMPORTED_MODULE_0__["default"]; });

/* harmony import */ var _fr__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./fr */ "gurz");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "frIntl", function() { return _fr__WEBPACK_IMPORTED_MODULE_1__["default"]; });

/* harmony import */ var _de__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./de */ "7jOd");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "deIntl", function() { return _de__WEBPACK_IMPORTED_MODULE_2__["default"]; });







/***/ }),

/***/ "cu1R":
/*!************************************!*\
  !*** ../core/modal/messages/fr.ts ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    "modal": {
        "buttons": {
            "ok": "OK",
            "cancel": "Annuler",
            "yes": "Oui",
            "no": "Non",
            "abort": "Abandonner",
            "retry": "Réessayer",
            "ignore": "Ignorer"
        },
        "confirm": {
            "title": "Confirmer"
        },
        "prompt": {
            "title": "Saississez une valeur"
        }
    }
});


/***/ }),

/***/ "d4ai":
/*!*******************************************************************!*\
  !*** ../components/result/sponsored-results/sponsored-results.ts ***!
  \*******************************************************************/
/*! exports provided: SponsoredResults */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SponsoredResults", function() { return SponsoredResults; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/app-utils */ "SBPP");
/* harmony import */ var _sinequa_components_search__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/components/search */ "7+c1");
/* harmony import */ var _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/core/web-services */ "cIYa");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../core/intl/message.pipe */ "X1Kh");









function SponsoredResults_ul_0_li_1_div_2_Template(rf, ctx) { if (rf & 1) {
    const _r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "a", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function SponsoredResults_ul_0_li_1_div_2_Template_a_click_1_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r7); const link_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit; const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r5.click(link_r2); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "img", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const link_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("href", link_r2.url, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeUrl"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("src", link_r2.thumbnail, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeUrl"]);
} }
function SponsoredResults_ul_0_li_1_div_8_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const link_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 1, link_r2.summary));
} }
function SponsoredResults_ul_0_li_1_Template(rf, ctx) { if (rf & 1) {
    const _r11 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "li", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, SponsoredResults_ul_0_li_1_div_2_Template, 3, 2, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "a", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function SponsoredResults_ul_0_li_1_Template_a_click_4_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r11); const link_r2 = ctx.$implicit; const ctx_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r10.click(link_r2); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](5, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](7, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](8, SponsoredResults_ul_0_li_1_div_8_Template, 3, 3, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const link_r2 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", link_r2.thumbnail);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("href", link_r2.url, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeUrl"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("title", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](5, 5, link_r2.title));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](7, 7, link_r2.title));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", link_r2.summary);
} }
function SponsoredResults_ul_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "ul", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, SponsoredResults_ul_0_li_1_Template, 9, 9, "li", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx_r0.sponsoredlinks);
} }
/**
 * Represent the component that display the sponsored results on result page.
 * NOTE: this class and (its containing file) could have been named SponsoredLinks but this naming causes
 * the file to be flagged as ads by Adblock.
 */
class SponsoredResults {
    constructor(appService, searchService, sponsoredResultsService, auditService, changeDetectorRef) {
        this.appService = appService;
        this.searchService = searchService;
        this.sponsoredResultsService = sponsoredResultsService;
        this.auditService = auditService;
        this.changeDetectorRef = changeDetectorRef;
    }
    /**
     * Considers the text of the new query and sees if the list of the sponsored lists needs to be updated.
     *
     * @param text The text of the new query.
     * @memberof SponsoredLinks
     */
    updateSponsoredLinksIfNecessary(text) {
        if (!this.appService.app) {
            return; // logout
        }
        let redoQuery = false;
        const currentWS = this.getWebService();
        if (!_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].eqNC(this.webService, currentWS)) {
            this.webService = currentWS;
            redoQuery = true;
        }
        if (!redoQuery && !_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].eqNC(this.lastText, text)) {
            this.lastText = text;
            redoQuery = true;
        }
        if (!redoQuery && this.currentPage !== this.searchService.query.page) {
            this.currentPage = this.searchService.query.page;
            redoQuery = true;
        }
        if (redoQuery) {
            if (!_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].isEmpty(this.webService) && !_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].isEmpty(text)) {
                this.linksQuery.text = text;
                this.linksQuery.page = this.currentPage;
                _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].subscribe(this.sponsoredResultsService.getLinks(this.linksQuery, this.webService), (results) => {
                    this.sponsoredlinks = results.links;
                    this.auditLinksDisplay();
                    this.changeDetectorRef.markForCheck();
                }, (error) => console.log(`Could not retrieve sponsored links: ${error}.`));
            }
            else {
                this.sponsoredlinks = [];
            }
        }
    }
    /**
     * Retrieves the web service for sponsored links.
     * If it is defined both in the component configuration and the app configuration,
     * this method returns the one in the component configuration.
     *
     * @returns the web service for sponsored links.
     */
    getWebService() {
        return (this.appService.app && this.appService.app.sponsoredLinks) || "";
    }
    ngOnChanges(changes) {
        if (!this.initDone) {
            this.initialize();
        }
        if (changes['query'] || changes['results']) {
            this.updateSponsoredLinksIfNecessary(_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].trim(this.query.text || ""));
        }
    }
    initialize() {
        if (this.initDone) {
            return;
        }
        if (this.appService.ccquery) {
            this.linksQuery = new _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_2__["Query"](this.appService.ccquery.name);
        }
        else {
            return;
        }
        this.initDone = true;
    }
    ngOnInit() {
        this.initialize();
    }
    auditLinksDisplay() {
        if (!!this.sponsoredlinks && this.sponsoredlinks.length > 0) {
            const auditEvents = [];
            this.sponsoredlinks.forEach(link => {
                auditEvents.push({
                    type: "Link_Display" /* Link_Display */,
                    detail: {
                        resultid: this.searchService.results && this.searchService.results.id,
                        linkid: link.id,
                        rank: link.rank,
                        title: link.title,
                        url: link.url
                    }
                });
            });
            this.auditService.notify(auditEvents);
        }
    }
    click(link) {
        this.auditService.notifySponsoredLink("Link_Click" /* Link_Click */, link, this.searchService.results && this.searchService.results.id || "");
    }
}
SponsoredResults.ɵfac = function SponsoredResults_Factory(t) { return new (t || SponsoredResults)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_2__["AppService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_search__WEBPACK_IMPORTED_MODULE_3__["SearchService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_4__["SponsoredLinksWebService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_4__["AuditWebService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"])); };
SponsoredResults.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: SponsoredResults, selectors: [["sq-sponsored-results"]], inputs: { query: "query" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 1, vars: 1, consts: [["class", "sq-sponsored-links-list", 4, "ngIf"], [1, "sq-sponsored-links-list"], ["class", "sponsored-item", 4, "ngFor", "ngForOf"], [1, "sponsored-item"], [1, "sq-sponsored-link-view"], ["class", "sq-sponsored-link-view-thumbnail", 4, "ngIf"], [1, "sq-sponsored-link-view-info"], ["target", "_blank", 3, "href", "title", "click"], ["class", "sq-sponsored-link-view-summary", 4, "ngIf"], [1, "sq-sponsored-link-view-thumbnail"], ["target", "_blank", 3, "href", "click"], [3, "src"], [1, "sq-sponsored-link-view-summary"]], template: function SponsoredResults_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, SponsoredResults_ul_0_Template, 2, 1, "ul", 0);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !!ctx.sponsoredlinks);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_5__["NgIf"], _angular_common__WEBPACK_IMPORTED_MODULE_5__["NgForOf"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_6__["MessagePipe"]], styles: [".sq-sponsored-links-list[_ngcontent-%COMP%] {\n  padding: 0;\n  list-style: none;\n}\n\n.sq-sponsored-links-list[_ngcontent-%COMP%]    > .sponsored-item[_ngcontent-%COMP%] {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  overflow-wrap: break-word;\n  word-wrap: break-word;\n  word-break: break-word;\n}\n\n.sq-sponsored-link-view[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n}\n\n.sq-sponsored-link-view[_ngcontent-%COMP%]   .sq-sponsored-link-view-info[_ngcontent-%COMP%] {\n  flex: 1 1;\n  min-width: 0;\n}\n\n.sq-sponsored-link-view[_ngcontent-%COMP%]   .sq-sponsored-link-view-info[_ngcontent-%COMP%]   .sq-sponsored-link-view-summary[_ngcontent-%COMP%], .sq-sponsored-link-view[_ngcontent-%COMP%]   .sq-sponsored-link-view-info[_ngcontent-%COMP%]   .sq-sponsored-link-view-title[_ngcontent-%COMP%] {\n  min-width: 0;\n}\n\n.sq-sponsored-link-view[_ngcontent-%COMP%]   .sq-sponsored-link-view-thumbnail[_ngcontent-%COMP%] {\n  margin-right: 1em;\n}\n\n.sq-sponsored-link-view[_ngcontent-%COMP%]   .sq-sponsored-link-view-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\n  max-width: 5rem;\n  max-height: 7rem;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2plY3RzL2NvbXBvbmVudHMvcmVzdWx0L3Nwb25zb3JlZC1yZXN1bHRzL3Nwb25zb3JlZC1yZXN1bHRzLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxVQUFBO0VBQ0EsZ0JBQUE7QUFDRjs7QUFDQTtFQUNFLGdCQUFBO0VBQ0EsdUJBQUE7RUFDQSx5QkFBQTtFQUNBLHFCQUFBO0VBQ0Esc0JBQUE7QUFFRjs7QUFDQTtFQUNFLGFBQUE7RUFDQSxtQkFBQTtBQUVGOztBQUFBO0VBQ0UsU0FBQTtFQUNBLFlBQUE7QUFHRjs7QUFEQTs7RUFFRSxZQUFBO0FBSUY7O0FBRkE7RUFDRSxpQkFBQTtBQUtGOztBQUhBO0VBQ0UsZUFBQTtFQUNBLGdCQUFBO0FBTUYiLCJmaWxlIjoicHJvamVjdHMvY29tcG9uZW50cy9yZXN1bHQvc3BvbnNvcmVkLXJlc3VsdHMvc3BvbnNvcmVkLXJlc3VsdHMuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5zcS1zcG9uc29yZWQtbGlua3MtbGlzdCB7XG4gIHBhZGRpbmc6IDA7XG4gIGxpc3Qtc3R5bGU6IG5vbmU7XG59XG4uc3Etc3BvbnNvcmVkLWxpbmtzLWxpc3QgPiAuc3BvbnNvcmVkLWl0ZW0ge1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbiAgb3ZlcmZsb3ctd3JhcDogYnJlYWstd29yZDtcbiAgd29yZC13cmFwOiBicmVhay13b3JkO1xuICB3b3JkLWJyZWFrOiBicmVhay13b3JkO1xufVxuXG4uc3Etc3BvbnNvcmVkLWxpbmstdmlldyB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59XG4uc3Etc3BvbnNvcmVkLWxpbmstdmlldyAuc3Etc3BvbnNvcmVkLWxpbmstdmlldy1pbmZvIHtcbiAgZmxleDogMSAxO1xuICBtaW4td2lkdGg6IDA7XG59XG4uc3Etc3BvbnNvcmVkLWxpbmstdmlldyAuc3Etc3BvbnNvcmVkLWxpbmstdmlldy1pbmZvIC5zcS1zcG9uc29yZWQtbGluay12aWV3LXN1bW1hcnksXG4uc3Etc3BvbnNvcmVkLWxpbmstdmlldyAuc3Etc3BvbnNvcmVkLWxpbmstdmlldy1pbmZvIC5zcS1zcG9uc29yZWQtbGluay12aWV3LXRpdGxlIHtcbiAgbWluLXdpZHRoOiAwO1xufVxuLnNxLXNwb25zb3JlZC1saW5rLXZpZXcgLnNxLXNwb25zb3JlZC1saW5rLXZpZXctdGh1bWJuYWlsIHtcbiAgbWFyZ2luLXJpZ2h0OiAxZW07XG59XG4uc3Etc3BvbnNvcmVkLWxpbmstdmlldyAuc3Etc3BvbnNvcmVkLWxpbmstdmlldy10aHVtYm5haWwgaW1nIHtcbiAgbWF4LXdpZHRoOiA1cmVtO1xuICBtYXgtaGVpZ2h0OiA3cmVtO1xufSJdfQ== */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](SponsoredResults, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'sq-sponsored-results',
                templateUrl: './sponsored-results.html',
                styleUrls: ["./sponsored-results.scss"]
            }]
    }], function () { return [{ type: _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_2__["AppService"] }, { type: _sinequa_components_search__WEBPACK_IMPORTED_MODULE_3__["SearchService"] }, { type: _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_4__["SponsoredLinksWebService"] }, { type: _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_4__["AuditWebService"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] }]; }, { query: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "d8oQ":
/*!**********************************************!*\
  !*** ../components/utils/pipes/time-pipe.ts ***!
  \**********************************************/
/*! exports provided: TimePipe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TimePipe", function() { return TimePipe; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/intl */ "EfqX");




class TimePipe extends _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_1__["AbstractIntlPipe"] {
    constructor(intlService, changeDetectorRef) {
        super(intlService, changeDetectorRef);
    }
    updateValue(key, params) {
        super.updateValue(key, params);
        this.value = this.intlService.formatTime(key, params);
    }
}
TimePipe.ɵfac = function TimePipe_Factory(t) { return new (t || TimePipe)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_intl__WEBPACK_IMPORTED_MODULE_1__["IntlService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinjectPipeChangeDetectorRef"]()); };
TimePipe.ɵpipe = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefinePipe"]({ name: "sqTime", type: TimePipe, pure: false });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](TimePipe, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Pipe"],
        args: [{ name: "sqTime", pure: false }]
    }], function () { return [{ type: _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_1__["IntlService"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] }]; }, null); })();


/***/ }),

/***/ "dLol":
/*!***************************************************!*\
  !*** ../core/web-services/dataset.web.service.ts ***!
  \***************************************************/
/*! exports provided: DatasetWebService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DatasetWebService", function() { return DatasetWebService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs/operators */ "0Wlh");
/* harmony import */ var _http_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./http.service */ "3Hvy");
/* harmony import */ var _start_config_web_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./start-config.web.service */ "R3Oh");
/* harmony import */ var _http_client__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./http-client */ "j7UU");






/**
 * A service to notify the audit manager on the Sinequa server of client-side events
 */
class DatasetWebService extends _http_service__WEBPACK_IMPORTED_MODULE_2__["HttpService"] {
    constructor(startConfig, httpClient) {
        super(startConfig);
        this.httpClient = httpClient;
    }
    /**
     * Return the list of queries configured in the given
     * dataset web service.
     * @param webServiceName name of the web service
     */
    list(webServiceName) {
        return this.httpClient.get(`${this.makeUrl(DatasetWebService.endpoint)}/${webServiceName}`);
    }
    /**
     * Queries the given web service.
     * @param webServiceName name of the web service
     * @param query name of the query
     * @param params parameters of the queries
     */
    get(webServiceName, query, parameters = {}) {
        let url = `${this.makeUrl(DatasetWebService.endpoint)}/${webServiceName}/${query}`;
        return this.httpClient.post(url, { parameters })
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(d => d.datasets[query]));
    }
    /**
     * Queries the given web service.
     * @param webServiceName name of the web service
     * @param params parameters of the queries
     */
    getAll(webServiceName, parameters = {}) {
        let url = `${this.makeUrl(DatasetWebService.endpoint)}/${webServiceName}`;
        return this.httpClient.post(url, { parameters })
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(d => d.datasets));
    }
}
DatasetWebService.endpoint = "search.dataset";
DatasetWebService.ɵfac = function DatasetWebService_Factory(t) { return new (t || DatasetWebService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_start_config_web_service__WEBPACK_IMPORTED_MODULE_3__["START_CONFIG"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_http_client__WEBPACK_IMPORTED_MODULE_4__["SqHttpClient"])); };
DatasetWebService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: DatasetWebService, factory: DatasetWebService.ɵfac, providedIn: "root" });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](DatasetWebService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: "root"
            }]
    }], function () { return [{ type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [_start_config_web_service__WEBPACK_IMPORTED_MODULE_3__["START_CONFIG"]]
            }] }, { type: _http_client__WEBPACK_IMPORTED_MODULE_4__["SqHttpClient"] }]; }, null); })();


/***/ }),

/***/ "dOBX":
/*!**************************************************!*\
  !*** ../components/search/first-page.service.ts ***!
  \**************************************************/
/*! exports provided: FIRST_PAGE_OPTIONS, FirstPageService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FIRST_PAGE_OPTIONS", function() { return FIRST_PAGE_OPTIONS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FirstPageService", function() { return FirstPageService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "+kfY");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _search_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./search.service */ "TJtf");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/router */ "sEIs");






const FIRST_PAGE_OPTIONS = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["InjectionToken"]("FIRST_PAGE_OPTIONS");
class FirstPageService {
    constructor(options, searchService, router) {
        this.options = options;
        this.searchService = searchService;
        this.router = router;
        if (!this.options) {
            this.options = {};
        }
        this.searchSubscription = this.searchService.events.subscribe((event) => {
            if (event.type === "clear") {
                if (this.displayOnHomePage(event.path)) {
                    _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].subscribe(this.getFirstPage(), (results) => {
                        this.searchService.setResults(results);
                    });
                }
            }
        });
    }
    ngOnDestroy() {
        this.searchSubscription.unsubscribe();
    }
    /**
     * @ignore
     * legacy
     */
    get isFirstPage() {
        return this.isCurrentSearchResults;
    }
    get isCurrentSearchResults() {
        return !!this.searchService.results && this.searchService.results === this.firstPage;
    }
    displayOnHomePage(path) {
        if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].isArray(this.options.displayOnHomePage)) {
            if (!path) {
                const url = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].makeURL(this.router.url);
                path = url.pathname;
            }
            for (const path1 of this.options.displayOnHomePage) {
                if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].endsWith(path, _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].addUrl("/", path1))) {
                    return true;
                }
            }
            return false;
        }
        else {
            return !!this.options.displayOnHomePage;
        }
    }
    getFirstPage() {
        if (this.firstPage) {
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["of"])(this.firstPage);
        }
        const query = this.searchService.makeQuery();
        query.isFirstPage = true;
        const observable = this.searchService.getResults(query, {
            type: "Search_FirstPage" /* Search_FirstPage */
        }, {
            searchInactive: true
        });
        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].subscribe(observable, (results) => {
            this.firstPage = results;
            return results;
        });
        return observable;
    }
}
FirstPageService.ɵfac = function FirstPageService_Factory(t) { return new (t || FirstPageService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](FIRST_PAGE_OPTIONS, 8), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_search_service__WEBPACK_IMPORTED_MODULE_3__["SearchService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_angular_router__WEBPACK_IMPORTED_MODULE_4__["Router"])); };
FirstPageService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: FirstPageService, factory: FirstPageService.ɵfac, providedIn: "root" });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](FirstPageService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: "root"
            }]
    }], function () { return [{ type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Optional"]
            }, {
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [FIRST_PAGE_OPTIONS]
            }] }, { type: _search_service__WEBPACK_IMPORTED_MODULE_3__["SearchService"] }, { type: _angular_router__WEBPACK_IMPORTED_MODULE_4__["Router"] }]; }, null); })();


/***/ }),

/***/ "dR9X":
/*!*********************************************!*\
  !*** ../components/facet/messages/index.ts ***!
  \*********************************************/
/*! exports provided: enFacet, frFacet, deFacet */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "enFacet", function() { return enFacet; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "frFacet", function() { return frFacet; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "deFacet", function() { return deFacet; });
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_components_search__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/components/search */ "7+c1");
/* harmony import */ var _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/components/selection */ "8GPZ");
/* harmony import */ var _sinequa_components_collapse__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/components/collapse */ "niHV");
/* harmony import */ var _en__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./en */ "4gZ9");
/* harmony import */ var _fr__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./fr */ "p21l");
/* harmony import */ var _de__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./de */ "334M");







const enFacet = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].merge({}, _en__WEBPACK_IMPORTED_MODULE_4__["default"], _sinequa_components_search__WEBPACK_IMPORTED_MODULE_1__["enSearch"], _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_2__["enSelection"], _sinequa_components_collapse__WEBPACK_IMPORTED_MODULE_3__["enCollapse"]);
const frFacet = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].merge({}, _fr__WEBPACK_IMPORTED_MODULE_5__["default"], _sinequa_components_search__WEBPACK_IMPORTED_MODULE_1__["frSearch"], _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_2__["frSelection"], _sinequa_components_collapse__WEBPACK_IMPORTED_MODULE_3__["frCollapse"]);
const deFacet = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].merge({}, _de__WEBPACK_IMPORTED_MODULE_6__["default"], _sinequa_components_search__WEBPACK_IMPORTED_MODULE_1__["deSearch"], _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_2__["deSelection"], _sinequa_components_collapse__WEBPACK_IMPORTED_MODULE_3__["deCollapse"]);



/***/ }),

/***/ "dXQV":
/*!*********************************************!*\
  !*** ../components/metadata/messages/en.ts ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    metadata: {
        extractslocationsLabel: "Relevant extract",
        extractslocationsPluralLabel: "Relevant extracts",
        geoLabel: "Place",
        geoPluralLabel: "Places",
        personLabel: "Person",
        personPluralLabel: "People",
        companyLabel: "Company",
        companyPluralLabel: "Companies",
        treepathLabel: "Source",
        treepathPluralLabel: "Sources",
        matchlocationsLabel: "Search term",
        matchlocationsPluralLabel: "Search terms",
        titleLabel: "Title",
        titlePluralLabel: "Titles",
        authorsLabel: "Author",
        authorsPluralLabel: "Authors",
        filenameLabel: "Filename",
        filenamePluralLabel: "Filenames",
        modifiedLabel: "Date",
        modifiedPluralLabel: "Dates",
        sizeLabel: "Size",
        sizePluralLabel: "Sizes",
        docformatLabel: "Format",
        docformatPluralLabel: "Formats",
        documentlanguagesLabel: "Language",
        documentlanguagesPluralLabel: "Languages",
        geo_label: "Place",
        geo_plural_label: "Places",
        person_label: "Person",
        person_plural_label: "People",
        company_label: "Company",
        company_plural_label: "Companies",
        treepath_label: "Source",
        treepath_plural_label: "Sources",
        title_label: "Title",
        title_plural_label: "Titles",
        authors_label: "Author",
        authors_plural_label: "Authors",
        filename_label: "Filename",
        filename_plural_label: "Filenames",
        modified_label: "Date",
        modified_plural_label: "Dates",
        size_label: "Size",
        size_plural_label: "Sizes",
        docformat_label: "Format",
        docformat_plural_label: "Formats",
        documentlanguages_label: "Language",
        documentlanguages_plural_label: "Languages",
        accessLists: {
            authorizedListTitleText: "Authorized access list",
            authorizedListHeader: "Authorized access list {value, number}",
            deniedListTitleText: "Denied access list",
            deniedListHeader: "Denied access list {value, number}"
        },
        item: {
            label: "{label}:",
            separator: "|",
            treeSeparator: " ; ",
            treeNodeSeparator: "/",
            listSeparator: ", ",
            empty_boolean: 'false',
            empty_number: '0'
        }
    },
});


/***/ }),

/***/ "dYsR":
/*!*********************************************!*\
  !*** ../components/labels/labels.module.ts ***!
  \*********************************************/
/*! exports provided: LabelsModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LabelsModule", function() { return LabelsModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "nIj0");
/* harmony import */ var _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/intl */ "EfqX");
/* harmony import */ var _sinequa_core_validation__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/core/validation */ "BovW");
/* harmony import */ var _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sinequa/components/utils */ "DD1E");
/* harmony import */ var _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @sinequa/components/modal */ "mOpA");
/* harmony import */ var _sinequa_components_autocomplete__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @sinequa/components/autocomplete */ "jAS1");
/* harmony import */ var _label_pipe__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./label.pipe */ "8LQl");
/* harmony import */ var _labels_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./labels.component */ "4yRq");
/* harmony import */ var _result_labels_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./result-labels.component */ "7Uvu");
/* harmony import */ var _labels_autocomplete_directive__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./labels-autocomplete.directive */ "QfBj");













class LabelsModule {
}
LabelsModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: LabelsModule });
LabelsModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function LabelsModule_Factory(t) { return new (t || LabelsModule)(); }, imports: [[
            _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"], _angular_forms__WEBPACK_IMPORTED_MODULE_2__["ReactiveFormsModule"],
            _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
            _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_3__["IntlModule"],
            _sinequa_core_validation__WEBPACK_IMPORTED_MODULE_4__["ValidationModule"],
            _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_5__["UtilsModule"],
            _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_6__["BsModalModule"],
            _sinequa_components_autocomplete__WEBPACK_IMPORTED_MODULE_7__["BsAutocompleteModule"],
        ]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](LabelsModule, { declarations: [_label_pipe__WEBPACK_IMPORTED_MODULE_8__["LabelPipe"], _labels_component__WEBPACK_IMPORTED_MODULE_9__["Labels"], _result_labels_component__WEBPACK_IMPORTED_MODULE_10__["ResultLabels"], _labels_autocomplete_directive__WEBPACK_IMPORTED_MODULE_11__["LabelsAutocomplete"]], imports: [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"], _angular_forms__WEBPACK_IMPORTED_MODULE_2__["ReactiveFormsModule"],
        _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
        _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_3__["IntlModule"],
        _sinequa_core_validation__WEBPACK_IMPORTED_MODULE_4__["ValidationModule"],
        _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_5__["UtilsModule"],
        _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_6__["BsModalModule"],
        _sinequa_components_autocomplete__WEBPACK_IMPORTED_MODULE_7__["BsAutocompleteModule"]], exports: [_label_pipe__WEBPACK_IMPORTED_MODULE_8__["LabelPipe"], _labels_component__WEBPACK_IMPORTED_MODULE_9__["Labels"], _result_labels_component__WEBPACK_IMPORTED_MODULE_10__["ResultLabels"], _labels_autocomplete_directive__WEBPACK_IMPORTED_MODULE_11__["LabelsAutocomplete"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](LabelsModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"], _angular_forms__WEBPACK_IMPORTED_MODULE_2__["ReactiveFormsModule"],
                    _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                    _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_3__["IntlModule"],
                    _sinequa_core_validation__WEBPACK_IMPORTED_MODULE_4__["ValidationModule"],
                    _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_5__["UtilsModule"],
                    _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_6__["BsModalModule"],
                    _sinequa_components_autocomplete__WEBPACK_IMPORTED_MODULE_7__["BsAutocompleteModule"],
                ],
                declarations: [
                    _label_pipe__WEBPACK_IMPORTED_MODULE_8__["LabelPipe"], _labels_component__WEBPACK_IMPORTED_MODULE_9__["Labels"], _result_labels_component__WEBPACK_IMPORTED_MODULE_10__["ResultLabels"], _labels_autocomplete_directive__WEBPACK_IMPORTED_MODULE_11__["LabelsAutocomplete"]
                ],
                exports: [
                    _label_pipe__WEBPACK_IMPORTED_MODULE_8__["LabelPipe"], _labels_component__WEBPACK_IMPORTED_MODULE_9__["Labels"], _result_labels_component__WEBPACK_IMPORTED_MODULE_10__["ResultLabels"], _labels_autocomplete_directive__WEBPACK_IMPORTED_MODULE_11__["LabelsAutocomplete"]
                ],
            }]
    }], null, null); })();


/***/ }),

/***/ "dgxw":
/*!***************************************************************************!*\
  !*** ../components/labels/bootstrap/labels-menu/labels-menu.component.ts ***!
  \***************************************************************************/
/*! exports provided: BsLabelsMenuComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsLabelsMenuComponent", function() { return BsLabelsMenuComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/components/action */ "WsHA");
/* harmony import */ var _sinequa_core_login__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/login */ "7O5u");
/* harmony import */ var _labels_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../labels.service */ "OpW8");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _action_bootstrap_action_item_action_item__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../action/bootstrap/action-item/action-item */ "TE8J");







const _c0 = function (a0, a1, a2, a3) { return { item: a0, size: a1, autoAdjust: a2, autoAdjustBreakpoint: a3, inMenu: true }; };
function BsLabelsMenuComponent_li_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "li", 1);
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("sq-action-item", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction4"](2, _c0, ctx_r0.menu, ctx_r0.size, ctx_r0.autoAdjust, ctx_r0.autoAdjustBreakpoint))("collapseBreakpoint", ctx_r0.collapseBreakpoint);
} }
class BsLabelsMenuComponent {
    constructor(loginService, labelsService) {
        this.loginService = loginService;
        this.labelsService = labelsService;
        this.icon = "fas fa-tags";
        this.autoAdjust = true;
        this.autoAdjustBreakpoint = "xl";
        this.collapseBreakpoint = "sm";
        this.renameAction = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__["Action"]({
            text: "msg#renameLabel.title",
            title: "msg#renameLabel.title",
            action: () => {
                this.labelsService.renameLabelModal();
            },
        });
        this.deleteAction = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__["Action"]({
            text: "msg#deleteLabel.title",
            title: "msg#deleteLabel.title",
            action: () => {
                this.labelsService.deleteLabelModal();
            },
        });
        this.bulkAddAction = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__["Action"]({
            text: "msg#bulkAddLabel.title",
            title: "msg#bulkAddLabel.title",
            action: () => {
                this.labelsService.bulkAddLabelModal();
            },
        });
        this.bulkDeleteAction = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__["Action"]({
            text: "msg#bulkRemoveLabel.title",
            title: "msg#bulkRemoveLabel.title",
            action: () => {
                this.labelsService.bulkRemoveLabelModal();
            },
        });
    }
    ngOnInit() {
        this._loginServiceSubscription = this.loginService.events.subscribe((event) => {
            if (event.type === "session-changed") {
                this.updateMenu();
            }
        });
    }
    ngOnDestroy() {
        if (this._loginServiceSubscription) {
            this._loginServiceSubscription.unsubscribe();
        }
    }
    ngOnChanges(changes) {
        if (changes.results) {
            this.updateMenu();
        }
    }
    updateMenu() {
        if (!this.loginService.complete) {
            this.menu = undefined;
            return;
        }
        if (!this.labelsService.publicLabelsField &&
            !this.labelsService.privateLabelsField) {
            this.menu = undefined;
            return;
        }
        const labelsActions = [this.renameAction, this.deleteAction];
        /** Allow Bulk actions only if there are some results */
        if (!!this.results && !!this.results.records) {
            labelsActions.push(this.bulkAddAction);
            labelsActions.push(this.bulkDeleteAction);
        }
        this.menu = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__["Action"]({
            icon: this.icon,
            text: "msg#labels.labels",
            children: labelsActions,
        });
    }
}
BsLabelsMenuComponent.ɵfac = function BsLabelsMenuComponent_Factory(t) { return new (t || BsLabelsMenuComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_login__WEBPACK_IMPORTED_MODULE_2__["LoginService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_labels_service__WEBPACK_IMPORTED_MODULE_3__["LabelsService"])); };
BsLabelsMenuComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsLabelsMenuComponent, selectors: [["sq-labels-menu"]], inputs: { results: "results", icon: "icon", autoAdjust: "autoAdjust", autoAdjustBreakpoint: "autoAdjustBreakpoint", collapseBreakpoint: "collapseBreakpoint", size: "size" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 1, vars: 1, consts: [["class", "nav-item dropdown", 3, "sq-action-item", "collapseBreakpoint", 4, "ngIf"], [1, "nav-item", "dropdown", 3, "sq-action-item", "collapseBreakpoint"]], template: function BsLabelsMenuComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, BsLabelsMenuComponent_li_0_Template, 1, 7, "li", 0);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !!ctx.menu && !ctx.menu.hidden);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_4__["NgIf"], _action_bootstrap_action_item_action_item__WEBPACK_IMPORTED_MODULE_5__["BsActionItem"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsLabelsMenuComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-labels-menu",
                templateUrl: "./labels-menu.component.html",
            }]
    }], function () { return [{ type: _sinequa_core_login__WEBPACK_IMPORTED_MODULE_2__["LoginService"] }, { type: _labels_service__WEBPACK_IMPORTED_MODULE_3__["LabelsService"] }]; }, { results: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], icon: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], autoAdjust: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], autoAdjustBreakpoint: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], collapseBreakpoint: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], size: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "dxkz":
/*!***************************************************!*\
  !*** ../components/metadata/metadata/metadata.ts ***!
  \***************************************************/
/*! exports provided: Metadata */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Metadata", function() { return Metadata; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/app-utils */ "SBPP");
/* harmony import */ var _sinequa_components_search__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/components/search */ "7+c1");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _metadata_item_metadata_item__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../metadata-item/metadata-item */ "4nM0");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../core/intl/message.pipe */ "X1Kh");







function Metadata_sq_metadata_item_0_span_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 1, "msg#metadata.item.separator"));
} }
function Metadata_sq_metadata_item_0_Template(rf, ctx) { if (rf & 1) {
    const _r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "sq-metadata-item", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("select", function Metadata_sq_metadata_item_0_Template_sq_metadata_item_select_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r5); const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r4.select($event.item, $event.valueItem); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, Metadata_sq_metadata_item_0_span_1_Template, 3, 3, "span", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const item_r1 = ctx.$implicit;
    const $index_r2 = ctx.index;
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("record", ctx_r0.record)("item", item_r1)("showTitle", ctx_r0.showTitles)("showIcon", ctx_r0.showIcons)("showCounts", ctx_r0.showCounts)("clickable", ctx_r0.clickable)("tabular", ctx_r0.tabular)("collapseRows", ctx_r0.collapseRows);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx_r0.tabular && $index_r2 < ctx_r0.items.length - 1);
} }
class Metadata {
    constructor(appService, searchService) {
        this.appService = appService;
        this.searchService = searchService;
        this.showTitles = true;
        this.showIcons = false;
        this.showCounts = true;
        this.clickable = true;
        this.tabular = true;
        this.collapseRows = true;
        this.searchOnClick = true;
        this._select = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
    }
    select(item, valueItem) {
        if (this.searchOnClick) {
            this.searchService.addFieldSelect(item, valueItem);
            this.searchService.search();
        }
        this._select.emit({ item: item, valueItem: valueItem });
    }
}
Metadata.ɵfac = function Metadata_Factory(t) { return new (t || Metadata)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_1__["AppService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_search__WEBPACK_IMPORTED_MODULE_2__["SearchService"])); };
Metadata.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: Metadata, selectors: [["sq-metadata"]], hostVars: 2, hostBindings: function Metadata_HostBindings(rf, ctx) { if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassProp"]("sq-tabular", ctx.tabular);
    } }, inputs: { record: "record", items: "items", showTitles: "showTitles", showIcons: "showIcons", showCounts: "showCounts", clickable: "clickable", tabular: "tabular", collapseRows: "collapseRows", searchOnClick: "searchOnClick" }, outputs: { _select: "select" }, decls: 1, vars: 1, consts: [[3, "record", "item", "showTitle", "showIcon", "showCounts", "clickable", "tabular", "collapseRows", "select", 4, "ngFor", "ngForOf"], [3, "record", "item", "showTitle", "showIcon", "showCounts", "clickable", "tabular", "collapseRows", "select"], ["class", "ml-1 mr-2", 4, "ngIf"], [1, "ml-1", "mr-2"]], template: function Metadata_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, Metadata_sq_metadata_item_0_Template, 2, 9, "sq-metadata-item", 0);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.items);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_3__["NgForOf"], _metadata_item_metadata_item__WEBPACK_IMPORTED_MODULE_4__["MetadataItem"], _angular_common__WEBPACK_IMPORTED_MODULE_3__["NgIf"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_5__["MessagePipe"]], styles: [".sq-tabular[_nghost-%COMP%] {\n  display: table;\n}\n\n.sq-tabular[_nghost-%COMP%]   sq-metadata-item[_ngcontent-%COMP%] {\n  display: table-row-group;\n}\n\n[_nghost-%COMP%]:not(.sq-tabular) {\n  display: block;\n}\n\n[_nghost-%COMP%]:not(.sq-tabular)   sq-metadata-item[_ngcontent-%COMP%] {\n  display: inline;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2plY3RzL2NvbXBvbmVudHMvbWV0YWRhdGEvbWV0YWRhdGEvbWV0YWRhdGEuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGNBQUE7QUFDRjs7QUFDQTtFQUNFLHdCQUFBO0FBRUY7O0FBQ0E7RUFDRSxjQUFBO0FBRUY7O0FBQUE7RUFDRSxlQUFBO0FBR0YiLCJmaWxlIjoicHJvamVjdHMvY29tcG9uZW50cy9tZXRhZGF0YS9tZXRhZGF0YS9tZXRhZGF0YS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Quc3EtdGFidWxhciB7XG4gIGRpc3BsYXk6IHRhYmxlO1xufVxuOmhvc3Quc3EtdGFidWxhciBzcS1tZXRhZGF0YS1pdGVtIHtcbiAgZGlzcGxheTogdGFibGUtcm93LWdyb3VwO1xufVxuXG46aG9zdDpub3QoLnNxLXRhYnVsYXIpIHtcbiAgZGlzcGxheTogYmxvY2s7XG59XG46aG9zdDpub3QoLnNxLXRhYnVsYXIpIHNxLW1ldGFkYXRhLWl0ZW0ge1xuICBkaXNwbGF5OiBpbmxpbmU7XG59Il19 */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](Metadata, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-metadata",
                templateUrl: "./metadata.html",
                styleUrls: ["./metadata.scss"]
            }]
    }], function () { return [{ type: _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_1__["AppService"] }, { type: _sinequa_components_search__WEBPACK_IMPORTED_MODULE_2__["SearchService"] }]; }, { record: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], items: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], showTitles: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], showIcons: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], showCounts: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], clickable: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], tabular: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostBinding"],
            args: ["class.sq-tabular"]
        }, {
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], collapseRows: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], searchOnClick: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], _select: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"],
            args: ["select"]
        }] }); })();


/***/ }),

/***/ "eT/q":
/*!****************************************!*\
  !*** ../core/validation/public-api.ts ***!
  \****************************************/
/*! exports provided: VALIDATION_MESSAGE_COMPONENT, ValidationDirective, ValidationErrorPipe, ValidationMessageComponent, ValidationModule, ValidatorType, ValidationService, enValidation, frValidation, deValidation */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _validation_directive__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./validation.directive */ "FRsM");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "VALIDATION_MESSAGE_COMPONENT", function() { return _validation_directive__WEBPACK_IMPORTED_MODULE_0__["VALIDATION_MESSAGE_COMPONENT"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ValidationDirective", function() { return _validation_directive__WEBPACK_IMPORTED_MODULE_0__["ValidationDirective"]; });

/* harmony import */ var _validation_error_pipe__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./validation-error.pipe */ "Ss1q");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ValidationErrorPipe", function() { return _validation_error_pipe__WEBPACK_IMPORTED_MODULE_1__["ValidationErrorPipe"]; });

/* harmony import */ var _validation_message_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./validation-message.component */ "BxK0");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ValidationMessageComponent", function() { return _validation_message_component__WEBPACK_IMPORTED_MODULE_2__["ValidationMessageComponent"]; });

/* harmony import */ var _validation_module__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./validation.module */ "ephN");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ValidationModule", function() { return _validation_module__WEBPACK_IMPORTED_MODULE_3__["ValidationModule"]; });

/* harmony import */ var _validation_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./validation.service */ "HM27");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ValidatorType", function() { return _validation_service__WEBPACK_IMPORTED_MODULE_4__["ValidatorType"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ValidationService", function() { return _validation_service__WEBPACK_IMPORTED_MODULE_4__["ValidationService"]; });

/* harmony import */ var _messages_index__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./messages/index */ "G03M");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "enValidation", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_5__["enValidation"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "frValidation", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_5__["frValidation"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "deValidation", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_5__["deValidation"]; });









/***/ }),

/***/ "eWr+":
/*!**********************************!*\
  !*** ../core/intl/public-api.ts ***!
  \**********************************/
/*! exports provided: AbstractIntlPipe, IntlInitializer, IntlModule, LOCALES_CONFIG, INTL_CONFIG, IntlService, MessagePipe, enIntl, frIntl, deIntl */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _abstract_intl_pipe__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./abstract-intl.pipe */ "8XSK");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AbstractIntlPipe", function() { return _abstract_intl_pipe__WEBPACK_IMPORTED_MODULE_0__["AbstractIntlPipe"]; });

/* harmony import */ var _import_moment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./import-moment */ "1A11");
/* empty/unused harmony star reexport *//* harmony import */ var _intl_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./intl.module */ "PWyw");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "IntlInitializer", function() { return _intl_module__WEBPACK_IMPORTED_MODULE_2__["IntlInitializer"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "IntlModule", function() { return _intl_module__WEBPACK_IMPORTED_MODULE_2__["IntlModule"]; });

/* harmony import */ var _intl_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./intl.service */ "Lvit");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "LOCALES_CONFIG", function() { return _intl_service__WEBPACK_IMPORTED_MODULE_3__["LOCALES_CONFIG"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "INTL_CONFIG", function() { return _intl_service__WEBPACK_IMPORTED_MODULE_3__["INTL_CONFIG"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "IntlService", function() { return _intl_service__WEBPACK_IMPORTED_MODULE_3__["IntlService"]; });

/* harmony import */ var _message_pipe__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./message.pipe */ "X1Kh");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MessagePipe", function() { return _message_pipe__WEBPACK_IMPORTED_MODULE_4__["MessagePipe"]; });

/* harmony import */ var _messages_index__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./messages/index */ "ckUH");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "enIntl", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_5__["enIntl"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "frIntl", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_5__["frIntl"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "deIntl", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_5__["deIntl"]; });









/***/ }),

/***/ "eksJ":
/*!***********************************************************!*\
  !*** ../components/saved-queries/bootstrap/public-api.ts ***!
  \***********************************************************/
/*! exports provided: BsEditSavedQuery, BsExportQuery, BsManageSavedQueries, BsQueryExporter, BsSavedQueriesModule, BsSavedQueriesMenuComponent, BsFacetSavedQueries, BsFacetRecentQueries, BsFacetRecentDocuments */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _edit_saved_query_edit_saved_query__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./edit-saved-query/edit-saved-query */ "gh3n");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsEditSavedQuery", function() { return _edit_saved_query_edit_saved_query__WEBPACK_IMPORTED_MODULE_0__["BsEditSavedQuery"]; });

/* harmony import */ var _export_query_export_query__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./export-query/export-query */ "jsLO");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsExportQuery", function() { return _export_query_export_query__WEBPACK_IMPORTED_MODULE_1__["BsExportQuery"]; });

/* harmony import */ var _manage_saved_queries_manage_saved_queries__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./manage-saved-queries/manage-saved-queries */ "6GXl");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsManageSavedQueries", function() { return _manage_saved_queries_manage_saved_queries__WEBPACK_IMPORTED_MODULE_2__["BsManageSavedQueries"]; });

/* harmony import */ var _query_exporter_query_exporter__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./query-exporter/query-exporter */ "kpDA");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsQueryExporter", function() { return _query_exporter_query_exporter__WEBPACK_IMPORTED_MODULE_3__["BsQueryExporter"]; });

/* harmony import */ var _saved_queries_module__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./saved-queries.module */ "jWhG");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsSavedQueriesModule", function() { return _saved_queries_module__WEBPACK_IMPORTED_MODULE_4__["BsSavedQueriesModule"]; });

/* harmony import */ var _saved_queries_menu_saved_queries_menu_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./saved-queries-menu/saved-queries-menu.component */ "te0w");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsSavedQueriesMenuComponent", function() { return _saved_queries_menu_saved_queries_menu_component__WEBPACK_IMPORTED_MODULE_5__["BsSavedQueriesMenuComponent"]; });

/* harmony import */ var _facet_saved_queries_facet_saved_queries__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./facet-saved-queries/facet-saved-queries */ "6XGU");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFacetSavedQueries", function() { return _facet_saved_queries_facet_saved_queries__WEBPACK_IMPORTED_MODULE_6__["BsFacetSavedQueries"]; });

/* harmony import */ var _facet_recent_queries_facet_recent_queries__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./facet-recent-queries/facet-recent-queries */ "wgEc");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFacetRecentQueries", function() { return _facet_recent_queries_facet_recent_queries__WEBPACK_IMPORTED_MODULE_7__["BsFacetRecentQueries"]; });

/* harmony import */ var _facet_recent_documents_facet_recent_documents__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./facet-recent-documents/facet-recent-documents */ "KVpc");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFacetRecentDocuments", function() { return _facet_recent_documents_facet_recent_documents__WEBPACK_IMPORTED_MODULE_8__["BsFacetRecentDocuments"]; });












/***/ }),

/***/ "ephN":
/*!***********************************************!*\
  !*** ../core/validation/validation.module.ts ***!
  \***********************************************/
/*! exports provided: ValidationModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ValidationModule", function() { return ValidationModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/app-utils */ "SBPP");
/* harmony import */ var _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/core/intl */ "EfqX");
/* harmony import */ var _sinequa_core_load_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sinequa/core/load-component */ "vxak");
/* harmony import */ var _validation_directive__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./validation.directive */ "FRsM");
/* harmony import */ var _validation_error_pipe__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./validation-error.pipe */ "Ss1q");
/* harmony import */ var _validation_message_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./validation-message.component */ "BxK0");
/* harmony import */ var _module_providers__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./module.providers */ "fygT");











/**
 * This module contains facilities for working with Angular's form validation. It provides a
 * {@link ValidationService} that works with {@link IntlService} and {@link FormatService} to
 * support locale-sensitive validators.
 */
class ValidationModule {
}
ValidationModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: ValidationModule });
ValidationModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function ValidationModule_Factory(t) { return new (t || ValidationModule)(); }, providers: [
        { provide: _validation_directive__WEBPACK_IMPORTED_MODULE_6__["VALIDATION_MESSAGE_COMPONENT"], useValue: _validation_message_component__WEBPACK_IMPORTED_MODULE_8__["ValidationMessageComponent"] },
        ..._module_providers__WEBPACK_IMPORTED_MODULE_9__["VALIDATION_MODULE_PROVIDERS"]
    ], imports: [[
            _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
            _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["BaseModule"],
            _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__["AppUtilsModule"],
            _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_4__["IntlModule"],
            _sinequa_core_load_component__WEBPACK_IMPORTED_MODULE_5__["LoadComponentModule"]
        ]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](ValidationModule, { declarations: [_validation_directive__WEBPACK_IMPORTED_MODULE_6__["ValidationDirective"], _validation_message_component__WEBPACK_IMPORTED_MODULE_8__["ValidationMessageComponent"], _validation_error_pipe__WEBPACK_IMPORTED_MODULE_7__["ValidationErrorPipe"]], imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["BaseModule"],
        _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__["AppUtilsModule"],
        _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_4__["IntlModule"],
        _sinequa_core_load_component__WEBPACK_IMPORTED_MODULE_5__["LoadComponentModule"]], exports: [_validation_directive__WEBPACK_IMPORTED_MODULE_6__["ValidationDirective"], _validation_message_component__WEBPACK_IMPORTED_MODULE_8__["ValidationMessageComponent"], _validation_error_pipe__WEBPACK_IMPORTED_MODULE_7__["ValidationErrorPipe"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ValidationModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                    _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["BaseModule"],
                    _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__["AppUtilsModule"],
                    _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_4__["IntlModule"],
                    _sinequa_core_load_component__WEBPACK_IMPORTED_MODULE_5__["LoadComponentModule"]
                ],
                declarations: [
                    _validation_directive__WEBPACK_IMPORTED_MODULE_6__["ValidationDirective"], _validation_message_component__WEBPACK_IMPORTED_MODULE_8__["ValidationMessageComponent"], _validation_error_pipe__WEBPACK_IMPORTED_MODULE_7__["ValidationErrorPipe"],
                ],
                exports: [
                    _validation_directive__WEBPACK_IMPORTED_MODULE_6__["ValidationDirective"], _validation_message_component__WEBPACK_IMPORTED_MODULE_8__["ValidationMessageComponent"], _validation_error_pipe__WEBPACK_IMPORTED_MODULE_7__["ValidationErrorPipe"],
                ],
                providers: [
                    { provide: _validation_directive__WEBPACK_IMPORTED_MODULE_6__["VALIDATION_MESSAGE_COMPONENT"], useValue: _validation_message_component__WEBPACK_IMPORTED_MODULE_8__["ValidationMessageComponent"] },
                    ..._module_providers__WEBPACK_IMPORTED_MODULE_9__["VALIDATION_MODULE_PROVIDERS"]
                ]
            }]
    }], null, null); })();


/***/ }),

/***/ "fB8O":
/*!*********************************************!*\
  !*** ../components/advanced/messages/de.ts ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    "advanced": {
        "rangeSeparator": " / ",
        "dateRangePicker": {
            "separator": " / "
        },
        "rangeInput": {
            "separator": "/"
        },
        "select": {
            "nItems": "{count} Elemente ausgewählt",
            "allItems": "Alle Elemenente ausgewählt",
            "noItems": "Keine Elemente ausgewählt"
        }
    }
});


/***/ }),

/***/ "fBWz":
/*!************************************************************************!*\
  !*** ../components/baskets/bootstrap/result-baskets/result-baskets.ts ***!
  \************************************************************************/
/*! exports provided: BsResultBaskets */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsResultBaskets", function() { return BsResultBaskets; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/components/action */ "WsHA");
/* harmony import */ var _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/modal */ "vMGo");
/* harmony import */ var _baskets_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../baskets.service */ "3Nz9");
/* harmony import */ var _action_bootstrap_action_buttons_action_buttons__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../action/bootstrap/action-buttons/action-buttons */ "9+ai");






const _c0 = function (a0) { return [a0]; };
const _c1 = function (a0, a2) { return { items: a0, autoAdjust: true, rightAligned: a2 }; };
/**
 * Component representing the add-to-baskets button in one item of the result list view.
 *
 */
class BsResultBaskets {
    constructor(modalService, basketsService, changeDetectorRef) {
        this.modalService = modalService;
        this.basketsService = basketsService;
        this.changeDetectorRef = changeDetectorRef;
        this.baskets = [];
    }
    ngOnChanges(changes) {
        if (!this.initialized) {
            this.initialized = true;
            this.addToBasketAction = this.buildAddToBasketAction();
            this.removeFromBasketAction = this.buildRemoveFromBasketAction();
            this.removeFromAllBasketsAction = this.buildRemovalFromAllBasketsAction();
            this.basketsSubscription = this.basketsService.changes.subscribe(event => {
                this.updateRecordBaskets();
                this.refreshVisualization();
            });
        }
        this.updateRecordBaskets();
        this.refreshVisualization();
    }
    ngOnDestroy() {
        if (this.basketsSubscription) {
            this.basketsSubscription.unsubscribe();
        }
    }
    get isInBaskets() {
        return this.baskets.length > 0;
    }
    refreshVisualization() {
        this.basketsAction = this.buildBasketsAction();
        this.changeDetectorRef.markForCheck();
    }
    updateRecordBaskets() {
        const currentBaskets = this.basketsService.baskets;
        this.baskets = [];
        for (const basket of currentBaskets) {
            if (!!basket.ids && basket.ids.includes(this.record.id)) {
                this.baskets.push(basket.name);
            }
        }
    }
    buildAddToBasketAction() {
        return new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__["Action"]({
            text: 'msg#baskets.addToBasket',
            action: (item, $event) => {
                this.basketsService.addToBasketModal(this.record.id, this.baskets);
            }
        });
    }
    buildRemoveFromBasketAction() {
        return new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__["Action"]({
            text: 'msg#baskets.removeFromBasket',
            action: (item, $event) => {
                this.basketsService.removeFromBasketModal(this.record.id, this.baskets);
            }
        });
    }
    buildRemovalFromAllBasketsAction() {
        return new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__["Action"]({
            text: 'msg#baskets.removeFromAllBaskets',
            action: () => {
                this.modalService
                    .yesNo('msg#baskets.removeFromAllBasketsConfirmation', { values: { baskets: this.baskets.join(', ') } })
                    .then(result => {
                    if (result === -3 /* Yes */) {
                        this.basketsService.removeFromAllBaskets(this.record.id);
                    }
                });
            }
        });
    }
    buildBasketsAction() {
        return new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__["Action"]({
            icon: 'fas fa-shopping-basket',
            title: 'msg#baskets.baskets',
            children: this.isInBaskets
                ? this.baskets.length === 1
                    ? [this.addToBasketAction, this.removeFromBasketAction]
                    : [this.addToBasketAction, this.removeFromBasketAction, this.removeFromAllBasketsAction]
                : [this.addToBasketAction]
        });
    }
}
BsResultBaskets.ɵfac = function BsResultBaskets_Factory(t) { return new (t || BsResultBaskets)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_modal__WEBPACK_IMPORTED_MODULE_2__["ModalService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_baskets_service__WEBPACK_IMPORTED_MODULE_3__["BasketsService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"])); };
BsResultBaskets.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsResultBaskets, selectors: [["sq-result-baskets"]], inputs: { record: "record", rightAligned: "rightAligned" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 1, vars: 9, consts: [[3, "sq-action-buttons"]], template: function BsResultBaskets_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "div", 0);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMapInterpolate1"]("btn-group ", ctx.isInBaskets ? "sq-document-in-baskets" : "sq-document-not-in-baskets", "");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("sq-action-buttons", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction2"](6, _c1, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](4, _c0, ctx.basketsAction), ctx.rightAligned));
    } }, directives: [_action_bootstrap_action_buttons_action_buttons__WEBPACK_IMPORTED_MODULE_4__["BsActionButtons"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsResultBaskets, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'sq-result-baskets',
                templateUrl: './result-baskets.html'
            }]
    }], function () { return [{ type: _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_2__["ModalService"] }, { type: _baskets_service__WEBPACK_IMPORTED_MODULE_3__["BasketsService"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] }]; }, { record: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], rightAligned: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "fHMS":
/*!**********************************************!*\
  !*** ../components/status-bar/public-api.ts ***!
  \**********************************************/
/*! exports provided: BsFullscreenActivator, BsNetworkActivity, BsStatusBarModule, enStatusBar, frStatusBar, deStatusBar */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _bootstrap_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bootstrap/index */ "3S87");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFullscreenActivator", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_0__["BsFullscreenActivator"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsNetworkActivity", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_0__["BsNetworkActivity"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsStatusBarModule", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_0__["BsStatusBarModule"]; });

/* harmony import */ var _messages_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./messages/index */ "jBs1");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "enStatusBar", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_1__["enStatusBar"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "frStatusBar", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_1__["frStatusBar"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "deStatusBar", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_1__["deStatusBar"]; });





/***/ }),

/***/ "fMrC":
/*!*************************************!*\
  !*** ../components/result/index.ts ***!
  \*************************************/
/*! exports provided: ResultExtracts, ResultIcon, ResultMissingTerms, ResultModule, ResultSource, ResultThumbnail, ResultTitle, ResultsCounter, SponsoredResults, UserRating, enResult, frResult, deResult */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _public_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./public-api */ "gIsQ");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ResultExtracts", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["ResultExtracts"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ResultIcon", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["ResultIcon"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ResultMissingTerms", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["ResultMissingTerms"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ResultModule", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["ResultModule"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ResultSource", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["ResultSource"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ResultThumbnail", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["ResultThumbnail"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ResultTitle", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["ResultTitle"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ResultsCounter", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["ResultsCounter"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SponsoredResults", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["SponsoredResults"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "UserRating", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["UserRating"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "enResult", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["enResult"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "frResult", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["frResult"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "deResult", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["deResult"]; });




/***/ }),

/***/ "fNbZ":
/*!***********************************!*\
  !*** ../core/intl/messages/en.ts ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    "system": {
        "date": "{time, selectordinal, =0 {{date, date}} other {{date, date}, {date, time, medium}}}",
        "number": "{value, number}",
        "boolean": "{value, select, true {true} other {false}}",
        "percent": "{value, number, percent}",
        "fieldSeparator": ": ",
        "memorySize": {
            "bytes": "{value, number, sqZeroDecimalPlaces} B",
            "kb": "{value, number, sqZeroDecimalPlaces} KB",
            "mb": "{value, number, sqOneDecimalPlace} MB",
            "gb": "{value, number, sqTwoDecimalPlaces} GB",
            "tb": "{value, number, sqThreeDecimalPlaces} TB",
            "pb": "{value, number, sqFourDecimalPlaces} PB"
        }
    },
    "error": {
        "serverError": "Server error",
        "loginCancelled": "login cancelled",
        "processedCredentialsError": "unable to get processed credentials",
        "autoLoginError": "login failed",
        "principalSwitched": "the logged in user has changed",
        "userOverrideFailure": "unable to override user",
        "responseLoadFailure": "failed to load response",
        "unknownError": "unknown error"
    },
    "language": {
        "ar": "Arabic",
        "da": "Danish",
        "de": "German",
        "el": "Greek",
        "en": "English",
        "es": "Spanish",
        "fi": "Finnish",
        "fr": "French",
        "it": "Italian",
        "ja": "Japanese",
        "ko": "Korean",
        "nl": "Dutch",
        "no": "Norwegian",
        "pl": "Polish",
        "pt": "Portuguese",
        "ro": "Romanian",
        "ru": "Russian",
        "sv": "Swedish",
        "th": "Thai",
        "zh": "Traditional Chinese",
        "zs": "Simplified Chinese",
        "zz": "Unknown"
    }
});


/***/ }),

/***/ "fPNs":
/*!***************************************************************!*\
  !*** ../components/result/results-counter/results-counter.ts ***!
  \***************************************************************/
/*! exports provided: ResultsCounter */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ResultsCounter", function() { return ResultsCounter; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../core/intl/message.pipe */ "X1Kh");



const _c0 = function (a0) { return { count: a0 }; };
const _c1 = function (a0) { return { values: a0 }; };
class ResultsCounter {
}
ResultsCounter.ɵfac = function ResultsCounter_Factory(t) { return new (t || ResultsCounter)(); };
ResultsCounter.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: ResultsCounter, selectors: [["sq-results-counter"]], inputs: { rowCount: "rowCount" }, decls: 3, vars: 8, consts: [[1, "sq-results-count"]], template: function ResultsCounter_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](2, 1, "msg#results.resultsCount", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](6, _c1, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](4, _c0, ctx.rowCount))));
    } }, pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_1__["MessagePipe"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ResultsCounter, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-results-counter",
                templateUrl: "./results-counter.html"
            }]
    }], null, { rowCount: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "fUSy":
/*!***********************************************!*\
  !*** ../components/status-bar/messages/fr.ts ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    "statusBar": {
        "fullscreenTitleEnter": "Plein écran",
        "fullscreenTitleExit": "Quitter le mode plein écran",
        "networkActivity": "Activité reseau"
    }
});


/***/ }),

/***/ "ff1L":
/*!*************************************************************!*\
  !*** ../components/labels/bootstrap/add-label/add-label.ts ***!
  \*************************************************************/
/*! exports provided: BsAddLabel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsAddLabel", function() { return BsAddLabel; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/modal */ "vMGo");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _labels_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../labels.service */ "OpW8");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/forms */ "nIj0");
/* harmony import */ var _modal_bootstrap_modal_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../modal/bootstrap/modal.component */ "oSLy");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _labels_autocomplete_labels_autocomplete_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../labels-autocomplete/labels-autocomplete.component */ "o8/e");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/intl/message.pipe */ "X1Kh");











function BsAddLabel_div_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 1, "msg#bulkAddLabel.infoText"), " ");
} }
const _c0 = function (a0, a1) { return { "disabled": a0, "clickable": a1 }; };
function BsAddLabel_div_8_Template(rf, ctx) { if (rf & 1) {
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "input", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsAddLabel_div_8_Template_input_click_1_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r4); const item_r2 = ctx.$implicit; const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r3.updateLabelsNature(item_r2.value); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "label", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](4, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const item_r2 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("id", item_r2.id);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("value", item_r2.value);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("checked", item_r2.checked)("disabled", item_r2.disabled)("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction2"](9, _c0, item_r2.disabled, !item_r2.disabled));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("for", item_r2.id);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](4, 7, item_r2.name));
} }
class BsAddLabel {
    constructor(model, labelsService, changeDetectorRef, modalRef) {
        this.model = model;
        this.labelsService = labelsService;
        this.changeDetectorRef = changeDetectorRef;
        this.modalRef = modalRef;
        this.isProcessing = false;
    }
    ngOnInit() {
        this.buttons = [
            new _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_1__["ModalButton"]({
                text: "msg#bulkAddLabel.btnBulkAdd",
                primary: true,
                result: 0 /* Custom */,
                anchor: true,
                action: () => {
                    const observable = this.labelsService.bulkAddLabels(this.model.values, this.model.properties.public);
                    if (observable) {
                        this.isProcessing = true;
                        this.changeDetectorRef.markForCheck();
                        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].subscribe(observable, () => { }, (error) => {
                            this.modalRef.close(error);
                        }, () => {
                            this.isProcessing = false;
                            this.modalRef.close(-1 /* OK */);
                        });
                    }
                },
            }),
            new _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_1__["ModalButton"]({
                result: -2 /* Cancel */,
            }),
        ];
    }
    updateLabelsNature(nature) {
        this.model.properties.public = nature;
    }
    onLabelsChanged(values) {
        this.model.values = values;
    }
}
BsAddLabel.ɵfac = function BsAddLabel_Factory(t) { return new (t || BsAddLabel)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_modal__WEBPACK_IMPORTED_MODULE_1__["MODAL_MODEL"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_labels_service__WEBPACK_IMPORTED_MODULE_3__["LabelsService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_modal__WEBPACK_IMPORTED_MODULE_1__["ModalRef"])); };
BsAddLabel.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsAddLabel, selectors: [["sq-add-label"]], decls: 14, vars: 15, consts: [["name", "addLabel", "novalidate", ""], [3, "title", "buttons", "isProcessingState"], [1, "form-group", "sq-form-group"], ["role", "alert", 1, "alert", "alert-warning"], ["class", "alert alert-info", "role", "alert", 4, "ngIf"], ["class", "custom-control custom-radio custom-control-inline", 4, "ngFor", "ngForOf"], ["for", "label"], [3, "public", "disableAutocomplete", "allowNewLabels", "allowManagePublicLabels", "labelsUpdate"], ["role", "alert", 1, "alert", "alert-info"], [1, "custom-control", "custom-radio", "custom-control-inline"], ["type", "radio", "name", "nature", 1, "custom-control-input", 3, "id", "value", "checked", "disabled", "ngClass", "click"], [1, "custom-control-label", 3, "for"]], template: function BsAddLabel_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "form", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "sq-modal", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](5, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](6, BsAddLabel_div_6_Template, 3, 3, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "section");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](8, BsAddLabel_div_8_Template, 5, 12, "div", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](9, "b");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](10, "label", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](11);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](12, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](13, "sq-labels-autocomplete", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("labelsUpdate", function BsAddLabel_Template_sq_labels_autocomplete_labelsUpdate_13_listener($event) { return ctx.onLabelsChanged($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("title", "msg#bulkAddLabel.title")("buttons", ctx.buttons)("isProcessingState", ctx.isProcessing);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](5, 11, "msg#bulkAddLabel.alertText"), " ");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.model.properties.allowManagePublicLabels || !ctx.model.properties.public);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.model.properties.radioButtons);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](12, 13, "msg#labels.labels"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("public", ctx.model.properties.public)("disableAutocomplete", ctx.model.properties.disableAutocomplete)("allowNewLabels", ctx.model.properties.allowNewLabels)("allowManagePublicLabels", ctx.model.properties.allowManagePublicLabels);
    } }, directives: [_angular_forms__WEBPACK_IMPORTED_MODULE_4__["ɵangular_packages_forms_forms_y"], _angular_forms__WEBPACK_IMPORTED_MODULE_4__["NgControlStatusGroup"], _angular_forms__WEBPACK_IMPORTED_MODULE_4__["NgForm"], _modal_bootstrap_modal_component__WEBPACK_IMPORTED_MODULE_5__["BsModal"], _angular_common__WEBPACK_IMPORTED_MODULE_6__["NgIf"], _angular_common__WEBPACK_IMPORTED_MODULE_6__["NgForOf"], _labels_autocomplete_labels_autocomplete_component__WEBPACK_IMPORTED_MODULE_7__["BsLabelsAutocompleteComponent"], _angular_common__WEBPACK_IMPORTED_MODULE_6__["NgClass"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_8__["MessagePipe"]], styles: [".clickable[_ngcontent-%COMP%] {\n                cursor: pointer;\n            }\n            .clickable[_ngcontent-%COMP%]:hover {\n                opacity: 85%;\n            }"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsAddLabel, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-add-label",
                templateUrl: "./add-label.html",
                styles: [
                    `
            .clickable {
                cursor: pointer;
            }
            .clickable:hover {
                opacity: 85%;
            }
        `,
                ],
            }]
    }], function () { return [{ type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [_sinequa_core_modal__WEBPACK_IMPORTED_MODULE_1__["MODAL_MODEL"]]
            }] }, { type: _labels_service__WEBPACK_IMPORTED_MODULE_3__["LabelsService"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] }, { type: _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_1__["ModalRef"] }]; }, null); })();


/***/ }),

/***/ "fs8Z":
/*!*****************************************************************!*\
  !*** ../analytics/heatmap/bootstrap/facet-heatmap.component.ts ***!
  \*****************************************************************/
/*! exports provided: BsFacetHeatmapComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsFacetHeatmapComponent", function() { return BsFacetHeatmapComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ "nIj0");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_components_facet__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/components/facet */ "vbgc");
/* harmony import */ var _sinequa_components_action__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/components/action */ "WsHA");
/* harmony import */ var _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sinequa/core/app-utils */ "SBPP");
/* harmony import */ var _sinequa_components_search__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @sinequa/components/search */ "7+c1");
/* harmony import */ var _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @sinequa/components/selection */ "8GPZ");
/* harmony import */ var _sinequa_components_user_settings__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @sinequa/components/user-settings */ "ooqV");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _heatmap_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./heatmap.component */ "I6Bp");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../core/intl/message.pipe */ "X1Kh");















function BsFacetHeatmapComponent_sq_heatmap_0_Template(rf, ctx) { if (rf & 1) {
    const _r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "sq-heatmap", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("itemClicked", function BsFacetHeatmapComponent_sq_heatmap_0_Template_sq_heatmap_itemClicked_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r5); const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r4.onItemClicked($event); })("axisClicked", function BsFacetHeatmapComponent_sq_heatmap_0_Template_sq_heatmap_axisClicked_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r5); const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r6.onAxisClicked($event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("data", ctx_r0.data)("height", ctx_r0.heightPref)("width", ctx_r0.widthPref)("margin", ctx_r0.margin)("transition", ctx_r0.transition)("itemsClickable", ctx_r0.itemsClickable)("axisClickable", ctx_r0.axisClickable)("buckets", ctx_r0.buckets)("colorScheme", ctx_r0.colorSchemePref)("maxX", ctx_r0.maxXPref)("maxY", ctx_r0.maxYPref)("theme", ctx_r0.theme);
} }
function BsFacetHeatmapComponent_div_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "i");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](3, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](3, 1, "msg#heatmap.nodata"));
} }
function BsFacetHeatmapComponent_ng_template_2_div_11_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "input", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "label", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](4, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](4, 1, "msg#heatmap.rescale"));
} }
function BsFacetHeatmapComponent_ng_template_2_Template(rf, ctx) { if (rf & 1) {
    const _r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "form", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "label", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](5, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](6, "input", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "label", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](9, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](10, "input", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](11, BsFacetHeatmapComponent_ng_template_2_div_11_Template, 5, 3, "div", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](12, "hr");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](13, "label", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](15, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](16, "select", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](17, "option", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](18);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](19, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](20, "option", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](21);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](22, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](23, "option", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](24);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](25, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](26, "option", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](27);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](28, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](29, "option", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](30);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](31, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](32, "option", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](33);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](34, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](35, "hr");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](36, "button", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsFacetHeatmapComponent_ng_template_2_Template_button_click_36_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r9); const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r8.setDefaults(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](37);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](38, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("formGroup", ctx_r3.form);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate2"]("", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](5, 20, "msg#heatmap.maxX"), " (", ctx_r3.maxXPref, ")");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate2"]("", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](9, 22, "msg#heatmap.maxY"), " (", ctx_r3.maxYPref, ")");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r3.allowResizeOption);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](15, 24, "msg#heatmap.colors"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngValue", "schemeBlues");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](19, 26, "msg#heatmap.blue"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngValue", "schemeReds");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](22, 28, "msg#heatmap.red"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngValue", "schemeGreens");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](25, 30, "msg#heatmap.green"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngValue", "schemeRdBu");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](28, 32, "msg#heatmap.diverging"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngValue", "schemeSpectral");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](31, 34, "msg#heatmap.diverging"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngValue", "schemeYlGnBu");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](34, 36, "msg#heatmap.cool"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](38, 38, "msg#heatmap.defaults"));
} }
class BsFacetHeatmapComponent extends _sinequa_components_facet__WEBPACK_IMPORTED_MODULE_3__["AbstractFacet"] {
    constructor(appService, searchService, facetService, selectionService, formBuilder, cdRef, prefs, cardComponent) {
        super();
        this.appService = appService;
        this.searchService = searchService;
        this.facetService = facetService;
        this.selectionService = selectionService;
        this.formBuilder = formBuilder;
        this.cdRef = cdRef;
        this.prefs = prefs;
        this.cardComponent = cardComponent;
        this.aggregation = "Heatmap";
        // Graphical settings
        this.height = 600; // Height of the SVG viewbox (will adjust to container while preserving aspect ratio)
        this.width = 600; // Width of the SVG viewbox (will adjust to container while preserving aspect ratio)
        this.allowResizeOption = true; // The resize option allows to adjust the actual width/height in function of the number of items on each axis. If set to false, the tiles are resized so that the heatmap always matches the input width/height.
        this.margin = { top: 100, bottom: 20, left: 100, right: 40 };
        this.transition = 1000; // Transition time in ms (0 to avoid transitions)
        this.buckets = 9; // Color buckets
        this.colorScheme = "schemeBlues"; // Color scheme from D3
        this.maxX = 20; // Max items on X
        this.maxY = 20; // Max items on Y
        this.theme = "light";
        // Interaction settings
        this.itemsClickable = true;
        this.axisClickable = true;
        this.highlightSelected = true;
        // Selected items
        this.selectedItems = new Set();
        // A flag to wait for the parent component to actually display this child, since creating
        // the heatmap component without displaying causes strange bugs...
        this.ready = false;
        // Debounce syncing to avoid many calls to the user settings web service
        this.debounceSync = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].debounce(() => {
            this.prefs.sync();
        }, 1000);
        /**
         * Default parsing method for cross-distribution aggregation data
         */
        this.parseCrossDistributionItem = value => {
            if (!value.display) {
                throw new Error(`Aggregation Item '${value.value}' has no display value`);
            }
            const parts = value.display.split("/");
            if (parts.length < 2) {
                throw new Error(`'${value.display}' does not contain the '/' cross-distribution separator`);
            }
            return {
                x: parts[0],
                y: parts[1],
                count: value.count,
                display: value.display,
                value: value.value,
                selected: this.selectedItems.has(value.display)
            };
        };
        /**
         * Default parsing method for cooccurrence aggregation data
         */
        this.parseCooccurrenceItem = value => {
            const val = value.display || value.value.toString();
            const parts = val.substr(1, val.length - 2).split(")#(");
            if (parts.length < 2) {
                throw new Error(`'${val}' is not formatted as a co-occurrence: (value 1)#(value 2)`);
            }
            return {
                x: parts[0],
                y: parts[1],
                count: value.count,
                display: `${parts[0]} - ${parts[1]}`,
                value: value.value.toString(),
                selected: this.selectedItems.has(value.value.toString())
            };
        };
        // Clear the current filters
        this.clearFilters = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_4__["Action"]({
            icon: "far fa-minus-square",
            title: "msg#facet.clearSelects",
            action: () => {
                this.searchService.query.removeSelect(this._name);
                this.searchService.search();
            }
        });
        // Listen to selection changes & update the heatmap items accordingly
        this.selectionService.events.subscribe(() => {
            if (this.highlightSelected) {
                // Update the selectedItems set
                this.updateSelectedItems();
                // Update the data
                if (this.data) {
                    this.data.forEach(item => item.selected = this.selectedItems.has(this.fieldCooc ? item.value : item.display));
                    this.cdRef.markForCheck();
                }
            }
        });
    }
    // The name of the heatmap is used to identify it in the list of breadcrumbs and the user preferences
    get _name() {
        return this.name || 'heatmap-' + this.aggregation.toLowerCase();
    }
    /**
     * On changes triggers when the results change (following a new query)
     */
    ngOnChanges(changes) {
        this.updateActions();
        // Create the heatmap data
        if (changes['results'] || changes['aggregation']) {
            this.updateData();
        }
    }
    ngDoCheck() {
        var _a;
        // We check that the parent component (if any) as been expanded at least once so that the fusioncharts
        // gets created when it is visible (otherwise, there can be visual bugs...)
        this.ready = !((_a = this.cardComponent) === null || _a === void 0 ? void 0 : _a._collapsed);
    }
    /**
     * Update the actions for selecting the X or Y fields
     */
    updateActions() {
        // Create or update the actions to change the X and Y axis
        if (this.fieldsX) {
            if (!this.selectFieldX) {
                this.selectFieldX = this.selectField('x');
            }
            this.selectFieldX.update();
        }
        if (this.fieldsY) {
            if (!this.selectFieldY) {
                this.selectFieldY = this.selectField('y');
            }
            this.selectFieldY.update();
        }
    }
    /**
     * Updates the heatmap data
     */
    updateData() {
        if (this.results) {
            this.aggregationData = this.facetService.getAggregation(this.aggregation, this.results);
            if (!this.aggregationData) {
                this.getHeatmapData();
            }
            else {
                this.data = this.processAggregation();
            }
        }
        else {
            this.data = undefined;
        }
    }
    /**
     * This method is called by the parent sq-facet-card when the settings
     * button is clicked. This has the effect of displaying the settingsTpl template
     * instead of the heatmap.
     * @param opened if true settings are opened, if false they are closed
     */
    onOpenSettings(opened) {
        if (opened) {
            const maxXControl = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"](this.maxXPref);
            const maxYControl = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"](this.maxYPref);
            const rescaleControl = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"](!!this.prefs.get(this._name + '-rescale'));
            const colorControl = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"](this.colorSchemePref);
            this.form = this.formBuilder.group({
                maxX: maxXControl,
                maxY: maxYControl,
                scaleAxes: rescaleControl,
                colors: colorControl
            });
            this.form.valueChanges.subscribe(_ => {
                this.prefs.set(this._name + '-max-x', maxXControl.value, true);
                this.prefs.set(this._name + '-max-y', maxYControl.value, true);
                this.prefs.set(this._name + '-rescale', rescaleControl.value, true);
                this.prefs.set(this._name + '-color-scheme', colorControl.value, true);
                this.debounceSync();
            });
        }
        else {
            this.updateData();
        }
    }
    /**
     * This method resets all the user preferences and rebuilds the settings form,
     * so that the values displayed are up-to-date
     */
    setDefaults() {
        this.prefs.delete(this._name + '-field-x', true);
        this.prefs.delete(this._name + '-field-y', true);
        this.prefs.delete(this._name + '-max-x', true);
        this.prefs.delete(this._name + '-max-y', true);
        this.prefs.delete(this._name + '-rescale', true);
        this.prefs.delete(this._name + '-color-scheme', true);
        this.prefs.sync();
        this.onOpenSettings(true);
    }
    /**
     * Returns the list of actions to display for this facet component
     */
    get actions() {
        const actions = [];
        if (this.facetService.hasFiltered(this._name)) {
            actions.push(this.clearFilters);
        }
        actions.push(this.selectFieldY, this.selectFieldX);
        return actions;
    }
    /**
     * Queries the server for the heatmap data via the Search Service
     */
    getHeatmapData() {
        if (!this.appService.getCCAggregation(this.aggregation)) {
            throw new Error(`Aggregation ${this.aggregation} does not exist in the Query web service configuration`);
        }
        const query = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].copy(this.searchService.query);
        query.action = "aggregate";
        query.aggregations = [this.aggregation];
        if (!this.fieldCooc) {
            query["heatmapField1"] = this.fieldXPref;
            query["heatmapField2"] = this.fieldYPref;
        }
        this.searchService.getResults(query).subscribe(results => {
            this.aggregationData = results.aggregations[0];
            this.data = this.processAggregation();
        });
    }
    /**
     * Transform an aggregation into a list of HeatmapItem objects
     */
    processAggregation() {
        if (!this.aggregationData || !this.aggregationData.items) {
            return undefined;
        }
        if (this.fieldCooc) {
            return this.aggregationData.items.map(this.parseCooccurrenceItem);
        }
        else {
            return this.aggregationData.items.map(this.parseCrossDistributionItem);
        }
    }
    /**
     * Callback when a heatmap time is clicked
     * @param item
     */
    onItemClicked(item) {
        if (this.aggregationData) {
            this.facetService.addFilterSearch(this._name, this.aggregationData, item);
        }
    }
    /**
     * Callback when a value of an axis is clicked
     * @param item
     */
    onAxisClicked(item) {
        this.searchService.addFieldSelect(item.axis === 'x' ? this.fieldXPref : this.fieldYPref, item);
        this.searchService.search();
    }
    /**
     * Helper method to build the actions for selecting each dimension
     * @param axis
     */
    selectField(axis) {
        return new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_4__["Action"]({
            title: "Select field",
            scrollable: true,
            updater: (action) => {
                action.name = axis === 'x' ? this.fieldXPref : this.fieldYPref;
                action.text = this.appService.getPluralLabel(axis === 'x' ? this.fieldXPref : this.fieldYPref);
                action.icon = "sq-icon-" + (axis === 'x' ? this.fieldXPref : this.fieldYPref);
                action.children = ((axis === 'x' ? this.fieldsX : this.fieldsY) || [])
                    .filter(f => f !== (axis === 'x' ? this.fieldXPref : this.fieldYPref))
                    .map(f => {
                    return new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_4__["Action"]({
                        name: f,
                        text: this.appService.getPluralLabel(f),
                        icon: "sq-icon-" + f,
                        action: () => {
                            this.prefs.set(this._name + '-field-' + axis, f);
                            this.updateActions();
                            this.updateData();
                        }
                    });
                });
            }
        });
    }
    /**
     * When the list of selected record changes we need to refresh the
     * selectedItems Set (which can then be used to set the 'selected'
     * property of HeatmapItem)
     */
    updateSelectedItems() {
        this.selectedItems.clear();
        if (this.results) {
            this.results.records
                .filter(r => r.$selected)
                .forEach(r => {
                if (this.fieldCooc) {
                    if (r[this.fieldCooc]) {
                        r[this.fieldCooc].forEach(v => this.selectedItems.add(v.value));
                    }
                }
                else {
                    if (r[this.fieldXPref] && r[this.fieldYPref]) {
                        r[this.fieldXPref].forEach(x => {
                            r[this.fieldYPref].forEach(y => {
                                this.selectedItems.add(x.display + "/" + y.display);
                            });
                        });
                    }
                }
            });
        }
    }
    // Accessor methods to get the preferred or default values of the heatmap parameters
    get fieldXPref() {
        return this.prefs.get(this._name + '-field-x') || this.fieldX;
    }
    get fieldYPref() {
        return this.prefs.get(this._name + '-field-y') || this.fieldY;
    }
    get maxXPref() {
        return this.prefs.get(this._name + '-max-x') || this.maxX;
    }
    get maxYPref() {
        return this.prefs.get(this._name + '-max-y') || this.maxY;
    }
    get colorSchemePref() {
        return this.prefs.get(this._name + '-color-scheme') || this.colorScheme;
    }
    get widthPref() {
        if (this.prefs.get(this._name + '-rescale')) {
            return ((this.width - this.margin.left - this.margin.right) * this.maxXPref / this.maxX) + this.margin.left + this.margin.right;
        }
        return this.width;
    }
    get heightPref() {
        if (this.prefs.get(this._name + '-rescale')) {
            return ((this.height - this.margin.top - this.margin.bottom) * this.maxYPref / this.maxY) + this.margin.top + this.margin.bottom;
        }
        return this.height;
    }
}
BsFacetHeatmapComponent.ɵfac = function BsFacetHeatmapComponent_Factory(t) { return new (t || BsFacetHeatmapComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_5__["AppService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_search__WEBPACK_IMPORTED_MODULE_6__["SearchService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_facet__WEBPACK_IMPORTED_MODULE_3__["FacetService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_selection__WEBPACK_IMPORTED_MODULE_7__["SelectionService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormBuilder"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_user_settings__WEBPACK_IMPORTED_MODULE_8__["UserPreferences"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_facet__WEBPACK_IMPORTED_MODULE_3__["BsFacetCard"], 8)); };
BsFacetHeatmapComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsFacetHeatmapComponent, selectors: [["sq-facet-heatmap"]], inputs: { results: "results", aggregation: "aggregation", name: "name", fieldX: "fieldX", fieldY: "fieldY", fieldsX: "fieldsX", fieldsY: "fieldsY", fieldCooc: "fieldCooc", height: "height", width: "width", allowResizeOption: "allowResizeOption", margin: "margin", transition: "transition", buckets: "buckets", colorScheme: "colorScheme", maxX: "maxX", maxY: "maxY", theme: "theme", itemsClickable: "itemsClickable", axisClickable: "axisClickable", highlightSelected: "highlightSelected", parseCrossDistributionItem: "parseCrossDistributionItem", parseCooccurrenceItem: "parseCooccurrenceItem" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"], _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 4, vars: 2, consts: [[3, "data", "height", "width", "margin", "transition", "itemsClickable", "axisClickable", "buckets", "colorScheme", "maxX", "maxY", "theme", "itemClicked", "axisClicked", 4, "ngIf"], ["class", "text-center py-5 px-3", 4, "ngIf"], ["settingsTpl", ""], [3, "data", "height", "width", "margin", "transition", "itemsClickable", "axisClickable", "buckets", "colorScheme", "maxX", "maxY", "theme", "itemClicked", "axisClicked"], [1, "text-center", "py-5", "px-3"], [1, "card-body"], [3, "formGroup"], [1, "form-group"], ["for", "maxX"], ["type", "range", "id", "maxX", "min", "10", "max", "40", "formControlName", "maxX", 1, "form-control-range"], ["for", "maxY"], ["type", "range", "id", "maxY", "min", "10", "max", "100", "formControlName", "maxY", 1, "form-control-range"], ["class", "custom-control custom-checkbox my-1", 4, "ngIf"], ["for", "colors"], ["id", "colors", "formControlName", "colors", 1, "form-control"], [3, "ngValue"], [1, "btn", "btn-light", 3, "click"], [1, "custom-control", "custom-checkbox", "my-1"], ["type", "checkbox", "id", "scaleAxes", "formControlName", "scaleAxes", 1, "custom-control-input"], ["for", "scaleAxes", 1, "custom-control-label"]], template: function BsFacetHeatmapComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, BsFacetHeatmapComponent_sq_heatmap_0_Template, 1, 12, "sq-heatmap", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsFacetHeatmapComponent_div_1_Template, 4, 3, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, BsFacetHeatmapComponent_ng_template_2_Template, 39, 40, "ng-template", null, 2, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplateRefExtractor"]);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.data && ctx.ready);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.data);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_9__["NgIf"], _heatmap_component__WEBPACK_IMPORTED_MODULE_10__["BsHeatmapComponent"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["ɵangular_packages_forms_forms_y"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["NgControlStatusGroup"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormGroupDirective"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["RangeValueAccessor"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["DefaultValueAccessor"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["NgControlStatus"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControlName"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["SelectControlValueAccessor"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["NgSelectOption"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["ɵangular_packages_forms_forms_x"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["CheckboxControlValueAccessor"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_11__["MessagePipe"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsFacetHeatmapComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-facet-heatmap",
                templateUrl: './facet-heatmap.component.html'
            }]
    }], function () { return [{ type: _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_5__["AppService"] }, { type: _sinequa_components_search__WEBPACK_IMPORTED_MODULE_6__["SearchService"] }, { type: _sinequa_components_facet__WEBPACK_IMPORTED_MODULE_3__["FacetService"] }, { type: _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_7__["SelectionService"] }, { type: _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormBuilder"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] }, { type: _sinequa_components_user_settings__WEBPACK_IMPORTED_MODULE_8__["UserPreferences"] }, { type: _sinequa_components_facet__WEBPACK_IMPORTED_MODULE_3__["BsFacetCard"], decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Optional"]
            }] }]; }, { results: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], aggregation: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], name: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], fieldX: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], fieldY: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], fieldsX: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], fieldsY: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], fieldCooc: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], height: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], width: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], allowResizeOption: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], margin: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], transition: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], buckets: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], colorScheme: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], maxX: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], maxY: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], theme: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], itemsClickable: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], axisClickable: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], highlightSelected: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], parseCrossDistributionItem: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], parseCooccurrenceItem: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "fx5i":
/*!****************************************************!*\
  !*** ../components/results-view/messages/index.ts ***!
  \****************************************************/
/*! exports provided: enResultsView, frResultsView, deResultsView */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "enResultsView", function() { return enResultsView; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "frResultsView", function() { return frResultsView; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "deResultsView", function() { return deResultsView; });
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_components_search__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/components/search */ "7+c1");
/* harmony import */ var _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/components/selection */ "8GPZ");
/* harmony import */ var _en__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./en */ "CmaQ");
/* harmony import */ var _fr__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./fr */ "WX/0");
/* harmony import */ var _de__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./de */ "FbCN");






const enResultsView = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].merge({}, _en__WEBPACK_IMPORTED_MODULE_3__["default"], _sinequa_components_search__WEBPACK_IMPORTED_MODULE_1__["enSearch"], _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_2__["enSelection"]);
const frResultsView = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].merge({}, _fr__WEBPACK_IMPORTED_MODULE_4__["default"], _sinequa_components_search__WEBPACK_IMPORTED_MODULE_1__["frSearch"], _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_2__["frSelection"]);
const deResultsView = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].merge({}, _de__WEBPACK_IMPORTED_MODULE_5__["default"], _sinequa_components_search__WEBPACK_IMPORTED_MODULE_1__["deSearch"], _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_2__["deSelection"]);



/***/ }),

/***/ "fygT":
/*!**********************************************!*\
  !*** ../core/validation/module.providers.ts ***!
  \**********************************************/
/*! exports provided: VALIDATION_MODULE_PROVIDERS */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "VALIDATION_MODULE_PROVIDERS", function() { return VALIDATION_MODULE_PROVIDERS; });
const VALIDATION_MODULE_PROVIDERS = [];



/***/ }),

/***/ "g+0j":
/*!*********************************************************************!*\
  !*** ../components/action/bootstrap/dropdown-menu/dropdown-menu.ts ***!
  \*********************************************************************/
/*! exports provided: BsDropdownMenu */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsDropdownMenu", function() { return BsDropdownMenu; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _action_item_content_action_item_content__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../action-item-content/action-item-content */ "U5E6");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/intl/message.pipe */ "X1Kh");





const _c0 = ["sq-dropdown-menu", ""];
function BsDropdownMenu_h6_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "h6", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](2, 1, ctx_r0.options.item.title, ctx_r0.options.item.messageParams));
} }
function BsDropdownMenu_ng_container_1_li_1_ng_container_3_a_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "a", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "sq-action-item-content", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const child_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3).$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMapInterpolate1"]("dropdown-item ", child_r2.disabled ? "disabled" : "", "");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("href", child_r2.href, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeUrl"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("item", child_r2)("text", child_r2.text)("in-dropdown-menu", true);
} }
function BsDropdownMenu_ng_container_1_li_1_ng_container_3_a_2_Template(rf, ctx) { if (rf & 1) {
    const _r12 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "a", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsDropdownMenu_ng_container_1_li_1_ng_container_3_a_2_Template_a_click_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r12); const child_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3).$implicit; const ctx_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r10.click(child_r2, $event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "sq-action-item-content", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const child_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3).$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMapInterpolate2"]("dropdown-item ", child_r2.hasChildren ? "dropdown-toggle" : "", " ", child_r2.disabled ? "disabled" : "", "");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵattribute"]("data-toggle", child_r2.hasChildren ? "dropdown" : "");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("item", child_r2)("text", child_r2.text)("in-dropdown-menu", true);
} }
function BsDropdownMenu_ng_container_1_li_1_ng_container_3_sq_action_item_content_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "sq-action-item-content", 11);
} if (rf & 2) {
    const child_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3).$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("item", child_r2)("text", child_r2.text)("in-dropdown-menu", true);
} }
const _c1 = function (a0, a1) { return { item: a0, showMenuClass: a1 }; };
function BsDropdownMenu_ng_container_1_li_1_ng_container_3_ul_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "ul", 13);
} if (rf & 2) {
    const child_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3).$implicit;
    const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("sq-dropdown-menu", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction2"](1, _c1, child_r2, ctx_r8.options.showMenuClass));
} }
function BsDropdownMenu_ng_container_1_li_1_ng_container_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsDropdownMenu_ng_container_1_li_1_ng_container_3_a_1_Template, 2, 7, "a", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, BsDropdownMenu_ng_container_1_li_1_ng_container_3_a_2_Template, 2, 8, "a", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, BsDropdownMenu_ng_container_1_li_1_ng_container_3_sq_action_item_content_3_Template, 1, 3, "sq-action-item-content", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, BsDropdownMenu_ng_container_1_li_1_ng_container_3_ul_4_Template, 1, 4, "ul", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const child_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2).$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !child_r2.scrollGroup && child_r2.href);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !child_r2.scrollGroup && !child_r2.href && !child_r2.component);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", child_r2.component);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", child_r2.hasChildren);
} }
function BsDropdownMenu_ng_container_1_li_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "li", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, BsDropdownMenu_ng_container_1_li_1_ng_container_3_Template, 5, 4, "ng-container", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const child_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMap"](child_r2.separator ? "dropdown-divider" : child_r2.scrollGroup ? "sq-scroll-menu-item open" : child_r2.hasChildren ? "dropdown-submenu" : "");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("title", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](1, 6, child_r2.title, child_r2.messageParams));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵattribute"]("aria-label", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](2, 9, child_r2.title, child_r2.messageParams));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !child_r2.separator);
} }
function BsDropdownMenu_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsDropdownMenu_ng_container_1_li_1_Template, 4, 12, "li", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const child_r2 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !child_r2.hidden);
} }
class BsDropdownMenu {
    constructor(elementRef) {
        this.elementRef = elementRef;
    }
    set options(opts) {
        var _a;
        this._options = Object.assign({}, opts);
        this.children = ((_a = opts.item.children) === null || _a === void 0 ? void 0 : _a.filter(child => !child.hidden)) || [];
    }
    get options() {
        return this._options;
    }
    ngOnInit() {
        const element = this.elementRef.nativeElement;
        if (this.options.item.scrollable) {
            element.classList.add("sq-scrollable-menu");
        }
        else if (this.options.item.scrollGroup) {
            element.classList.add("sq-scroll-menu");
        }
        this.rightAligned = this.options.rightAligned;
    }
    getLi(element) {
        let element1 = element;
        while (element1 && element1.nodeName !== "LI") {
            element1 = element1.parentElement;
        }
        return element1;
    }
    click(item, event) {
        if (!this.options.item.disabled) {
            // Handle sub-menu opening
            let isOpen = false;
            const li = this.getLi(event.target);
            if (!!li && li.classList.contains("dropdown-submenu")) {
                event.preventDefault();
                event.stopPropagation();
                isOpen = li.classList.contains(this.options.showMenuClass);
                const ul = li.parentElement;
                if (ul) {
                    for (let i = 0, ic = ul.children.length; i < ic; i++) {
                        const _li = ul.children[i];
                        _li.classList.remove(this.options.showMenuClass);
                    }
                }
                // NB toggle's second param does not work on IE
                // li.classList.toggle(this.options.showMenuClass, !isOpen);
                if (!isOpen) {
                    li.classList.add(this.options.showMenuClass);
                }
            }
            if (item.action) {
                item.action(item, event);
            }
            if (item.toggle) {
                item.toggle(item, !isOpen);
            }
        }
    }
}
BsDropdownMenu.ɵfac = function BsDropdownMenu_Factory(t) { return new (t || BsDropdownMenu)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"])); };
BsDropdownMenu.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsDropdownMenu, selectors: [["", "sq-dropdown-menu", ""]], hostAttrs: ["role", "menu", 1, "dropdown-menu"], hostVars: 2, hostBindings: function BsDropdownMenu_HostBindings(rf, ctx) { if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassProp"]("dropdown-menu-right", ctx.rightAligned);
    } }, inputs: { options: ["sq-dropdown-menu", "options"] }, attrs: _c0, decls: 2, vars: 2, consts: [["class", "dropdown-header", 4, "ngIf"], [4, "ngFor", "ngForOf"], [1, "dropdown-header"], [3, "class", "title", 4, "ngIf"], [3, "title"], [4, "ngIf"], ["tabindex", "-1", 3, "class", "href", 4, "ngIf"], ["href", "javascript:void(0)", "tabindex", "-1", 3, "class", "click", 4, "ngIf"], [3, "item", "text", "in-dropdown-menu", 4, "ngIf"], [3, "sq-dropdown-menu", 4, "ngIf"], ["tabindex", "-1", 3, "href"], [3, "item", "text", "in-dropdown-menu"], ["href", "javascript:void(0)", "tabindex", "-1", 3, "click"], [3, "sq-dropdown-menu"]], template: function BsDropdownMenu_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, BsDropdownMenu_h6_0_Template, 3, 4, "h6", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsDropdownMenu_ng_container_1_Template, 2, 1, "ng-container", 1);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.options.item.title && ctx.options.item.headerGroup);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.options.item.children);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["NgIf"], _angular_common__WEBPACK_IMPORTED_MODULE_1__["NgForOf"], _action_item_content_action_item_content__WEBPACK_IMPORTED_MODULE_2__["BsActionItemContent"], BsDropdownMenu], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_3__["MessagePipe"]], encapsulation: 2, changeDetection: 0 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsDropdownMenu, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "[sq-dropdown-menu]",
                host: {
                    "class": "dropdown-menu",
                    "role": "menu"
                },
                templateUrl: "./dropdown-menu.html",
                changeDetection: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectionStrategy"].OnPush
            }]
    }], function () { return [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"] }]; }, { options: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"],
            args: ["sq-dropdown-menu"]
        }], rightAligned: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostBinding"],
            args: ["class.dropdown-menu-right"]
        }] }); })();


/***/ }),

/***/ "gIsQ":
/*!******************************************!*\
  !*** ../components/result/public-api.ts ***!
  \******************************************/
/*! exports provided: ResultExtracts, ResultIcon, ResultMissingTerms, ResultModule, ResultSource, ResultThumbnail, ResultTitle, ResultsCounter, SponsoredResults, UserRating, enResult, frResult, deResult */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _result_extracts_result_extracts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./result-extracts/result-extracts */ "PM2X");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ResultExtracts", function() { return _result_extracts_result_extracts__WEBPACK_IMPORTED_MODULE_0__["ResultExtracts"]; });

/* harmony import */ var _result_icon_result_icon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./result-icon/result-icon */ "6sWL");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ResultIcon", function() { return _result_icon_result_icon__WEBPACK_IMPORTED_MODULE_1__["ResultIcon"]; });

/* harmony import */ var _result_missing_terms_result_missing_terms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./result-missing-terms/result-missing-terms */ "8LMT");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ResultMissingTerms", function() { return _result_missing_terms_result_missing_terms__WEBPACK_IMPORTED_MODULE_2__["ResultMissingTerms"]; });

/* harmony import */ var _result_module__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./result-module */ "VqmR");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ResultModule", function() { return _result_module__WEBPACK_IMPORTED_MODULE_3__["ResultModule"]; });

/* harmony import */ var _result_source_result_source__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./result-source/result-source */ "0UXu");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ResultSource", function() { return _result_source_result_source__WEBPACK_IMPORTED_MODULE_4__["ResultSource"]; });

/* harmony import */ var _result_thumbnail_result_thumbnail__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./result-thumbnail/result-thumbnail */ "L67x");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ResultThumbnail", function() { return _result_thumbnail_result_thumbnail__WEBPACK_IMPORTED_MODULE_5__["ResultThumbnail"]; });

/* harmony import */ var _result_title_result_title__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./result-title/result-title */ "HBFV");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ResultTitle", function() { return _result_title_result_title__WEBPACK_IMPORTED_MODULE_6__["ResultTitle"]; });

/* harmony import */ var _results_counter_results_counter__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./results-counter/results-counter */ "fPNs");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ResultsCounter", function() { return _results_counter_results_counter__WEBPACK_IMPORTED_MODULE_7__["ResultsCounter"]; });

/* harmony import */ var _sponsored_results_sponsored_results__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./sponsored-results/sponsored-results */ "d4ai");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SponsoredResults", function() { return _sponsored_results_sponsored_results__WEBPACK_IMPORTED_MODULE_8__["SponsoredResults"]; });

/* harmony import */ var _user_rating_user_rating__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./user-rating/user-rating */ "qvST");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "UserRating", function() { return _user_rating_user_rating__WEBPACK_IMPORTED_MODULE_9__["UserRating"]; });

/* harmony import */ var _messages_index__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./messages/index */ "0K5/");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "enResult", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_10__["enResult"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "frResult", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_10__["frResult"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "deResult", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_10__["deResult"]; });














/***/ }),

/***/ "gM+W":
/*!*******************************************!*\
  !*** ../analytics/heatmap/messages/de.ts ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    "heatmap": {
        "name": "Heatmap-Diagramm",
        "nodata": "Keine Daten zum Anzeigen",
        "maxX": "Maximale Anzahl von Elementen auf der X-Achse",
        "maxY": "Maximale Anzahl von Elementen auf der Y-Achse",
        "rescale": "Achsen neu skalieren",
        "colors": "Farbschema",
        "blue": "Blau",
        "red": "Rot",
        "green": "Grün",
        "diverging": "Abweichend",
        "spectral": "Spektral",
        "cool": "Kalt",
        "defaults": "Standard",
        "showing": "Zeige {shown, number} von {total, number} Elementen",
        "tooltip": "{count, plural, one {# Element} other {# Elemente}}"
    }
});


/***/ }),

/***/ "gh3n":
/*!**********************************************************************************!*\
  !*** ../components/saved-queries/bootstrap/edit-saved-query/edit-saved-query.ts ***!
  \**********************************************************************************/
/*! exports provided: BsEditSavedQuery */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsEditSavedQuery", function() { return BsEditSavedQuery; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ "nIj0");
/* harmony import */ var _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/modal */ "vMGo");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _modal_bootstrap_modal_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../modal/bootstrap/modal.component */ "oSLy");
/* harmony import */ var _utils_directives_autofocus__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../utils/directives/autofocus */ "1ak2");
/* harmony import */ var _core_validation_validation_directive__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/validation/validation.directive */ "FRsM");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/intl/message.pipe */ "X1Kh");










class BsEditSavedQuery {
    constructor(model, formBuilder) {
        this.model = model;
        this.formBuilder = formBuilder;
    }
    ngOnInit() {
        this.nameControl = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"](this.model.name, _angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required);
        this.form = this.formBuilder.group({
            savedQueryName: this.nameControl
        });
        this.formChanges = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].subscribe(this.form.valueChanges, (value) => {
            this.model.name = this.nameControl.value;
        });
        this.buttons = [
            new _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_2__["ModalButton"]({
                result: -1 /* OK */,
                primary: true,
                validation: this.form
            }),
            new _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_2__["ModalButton"]({
                result: -2 /* Cancel */
            })
        ];
    }
    ngOnDestroy() {
        this.formChanges.unsubscribe();
    }
}
BsEditSavedQuery.ɵfac = function BsEditSavedQuery_Factory(t) { return new (t || BsEditSavedQuery)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_modal__WEBPACK_IMPORTED_MODULE_2__["MODAL_MODEL"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormBuilder"])); };
BsEditSavedQuery.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsEditSavedQuery, selectors: [["sq-edit-saved-query"]], decls: 7, vars: 7, consts: [["name", "editSavedQuery", "novalidate", "", 3, "formGroup"], [3, "title", "buttons"], [1, "form-group", "sq-form-group"], ["for", "savedQueryName"], ["type", "text", "id", "savedQueryName", "formControlName", "savedQueryName", "spellcheck", "off", "sqAutofocus", "", 1, "form-control", 3, "sqValidation"]], template: function BsEditSavedQuery_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "form", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "sq-modal", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "label", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](5, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](6, "input", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("title", "msg#editSavedQuery.title")("buttons", ctx.buttons);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](5, 5, "msg#editSavedQuery.name"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("sqValidation", ctx.form);
    } }, directives: [_angular_forms__WEBPACK_IMPORTED_MODULE_1__["ɵangular_packages_forms_forms_y"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["NgControlStatusGroup"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormGroupDirective"], _modal_bootstrap_modal_component__WEBPACK_IMPORTED_MODULE_4__["BsModal"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["DefaultValueAccessor"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["NgControlStatus"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControlName"], _utils_directives_autofocus__WEBPACK_IMPORTED_MODULE_5__["Autofocus"], _core_validation_validation_directive__WEBPACK_IMPORTED_MODULE_6__["ValidationDirective"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_7__["MessagePipe"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsEditSavedQuery, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-edit-saved-query",
                templateUrl: "./edit-saved-query.html"
            }]
    }], function () { return [{ type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [_sinequa_core_modal__WEBPACK_IMPORTED_MODULE_2__["MODAL_MODEL"]]
            }] }, { type: _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormBuilder"] }]; }, null); })();


/***/ }),

/***/ "gh78":
/*!*****************************************************************************************!*\
  !*** ../components/advanced/bootstrap/advanced-form-checkbox/advanced-form-checkbox.ts ***!
  \*****************************************************************************************/
/*! exports provided: BsAdvancedFormCheckbox */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsAdvancedFormCheckbox", function() { return BsAdvancedFormCheckbox; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/app-utils */ "SBPP");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "nIj0");
/* harmony import */ var _advanced_form_validation_directive__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../advanced-form-validation.directive */ "TyST");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/intl/message.pipe */ "X1Kh");






class BsAdvancedFormCheckbox {
    constructor(appService) {
        this.appService = appService;
    }
    ngOnChanges() {
        if (this.label === undefined) {
            this.label = this.appService.getLabel(this.field);
        }
    }
}
BsAdvancedFormCheckbox.ɵfac = function BsAdvancedFormCheckbox_Factory(t) { return new (t || BsAdvancedFormCheckbox)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_1__["AppService"])); };
BsAdvancedFormCheckbox.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsAdvancedFormCheckbox, selectors: [["sq-advanced-form-checkbox"]], inputs: { form: "form", field: "field", label: "label" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 7, vars: 7, consts: [[1, "form-group", 3, "formGroup"], [1, "form-check"], [1, "custom-control", "custom-checkbox"], ["type", "checkbox", "sqAdvancedFormValidation", "", 1, "custom-control-input", 3, "field", "validationForm", "formControlName"], [1, "custom-control-label"]], template: function BsAdvancedFormCheckbox_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "label", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](3, "input", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "span", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](6, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("field", ctx.field)("validationForm", ctx.form)("formControlName", ctx.field);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](6, 5, ctx.label));
    } }, directives: [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["NgControlStatusGroup"], _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormGroupDirective"], _angular_forms__WEBPACK_IMPORTED_MODULE_2__["CheckboxControlValueAccessor"], _advanced_form_validation_directive__WEBPACK_IMPORTED_MODULE_3__["BsAdvancedFormValidation"], _angular_forms__WEBPACK_IMPORTED_MODULE_2__["NgControlStatus"], _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormControlName"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_4__["MessagePipe"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsAdvancedFormCheckbox, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-advanced-form-checkbox",
                templateUrl: "./advanced-form-checkbox.html",
            }]
    }], function () { return [{ type: _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_1__["AppService"] }]; }, { form: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], field: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], label: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "gurz":
/*!***********************************!*\
  !*** ../core/intl/messages/fr.ts ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    "system": {
        "date": "{time, selectordinal, =0 {{date, date}} other {{date, date} à {date, time, medium}}}",
        "number": "{value, number}",
        "boolean": "{value, select, true {vrai} other {faux}}",
        "percent": "{value, number, percent}",
        "fieldSeparator": " : ",
        "memorySize": {
            "bytes": "{value, number, sqZeroDecimalPlaces} o",
            "kb": "{value, number, sqZeroDecimalPlaces} Ko",
            "mb": "{value, number, sqOneDecimalPlace} Mo",
            "gb": "{value, number, sqTwoDecimalPlaces} Go",
            "tb": "{value, number, sqThreeDecimalPlaces} To",
            "pb": "{value, number, sqFourDecimalPlaces} Po"
        }
    },
    "error": {
        "serverError": "Erreur de serveur",
        "loginCancelled": "Connexion annulée",
        "processedCredentialsError": "Impossible d'obtenir les informations d'identification",
        "autoLoginError": "Echec de la connexion",
        "principalSwitched": "L'utilisateur connecté a été modifié",
        "userOverrideFailure": "Echec de surchargement de l'utilisateur",
        "responseLoadFailure": "Echec de chargement de la réponse",
        "unknownError": "Erreur inconnue"
    },
    "language": {
        "ar": "Arabe",
        "da": "Danois",
        "de": "Allemand",
        "el": "Grec",
        "en": "Anglais",
        "es": "Espagnol",
        "fi": "Finlandais",
        "fr": "Français",
        "it": "Italien",
        "ja": "Japonais",
        "ko": "Coréen",
        "nl": "Néerlandais",
        "no": "Norvégien",
        "pl": "Polonais",
        "pt": "Portugais",
        "ro": "Roumain",
        "ru": "Russe",
        "sv": "Suédois",
        "th": "Thaïlandais",
        "zh": "Chinois traditionnel",
        "zs": "Chinois simplifié",
        "zz": "Inconnu"
    },
});


/***/ }),

/***/ "hFWr":
/*!********************************************************************!*\
  !*** ../components/modal/bootstrap/override-user/override-user.ts ***!
  \********************************************************************/
/*! exports provided: BsOverrideUser */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsOverrideUser", function() { return BsOverrideUser; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ "nIj0");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs/operators */ "0Wlh");
/* harmony import */ var _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/modal */ "vMGo");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _modal_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../modal.component */ "oSLy");
/* harmony import */ var _utils_directives_autofocus__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../utils/directives/autofocus */ "1ak2");
/* harmony import */ var _core_validation_validation_directive__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/validation/validation.directive */ "FRsM");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/intl/message.pipe */ "X1Kh");











class BsOverrideUser {
    constructor(model, formBuilder) {
        this.model = model;
        this.formBuilder = formBuilder;
    }
    ngOnInit() {
        this.form = this.formBuilder.group({
            "userName": [this.model.userName, _angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required],
            "domain": [this.model.domain, _angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required]
        });
        this.formChanges = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__["Utils"].subscribe(this.form.valueChanges.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["debounceTime"])(100)), (value) => {
            _sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__["Utils"].merge(this.model, value);
            //this.model.userName = this.form.get("userName").value;
            //this.model.domain = this.form.get("domain").value;
        });
        this.buttons = [
            new _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_3__["ModalButton"]({
                result: -1 /* OK */,
                primary: true,
                validation: this.form
            }),
            new _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_3__["ModalButton"]({
                result: -2 /* Cancel */
            })
        ];
    }
    ngOnDestroy() {
        this.formChanges.unsubscribe();
    }
}
BsOverrideUser.ɵfac = function BsOverrideUser_Factory(t) { return new (t || BsOverrideUser)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_modal__WEBPACK_IMPORTED_MODULE_3__["MODAL_MODEL"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormBuilder"])); };
BsOverrideUser.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsOverrideUser, selectors: [["sq-override-user"]], decls: 12, vars: 11, consts: [["name", "overrideUser", "novalidate", "", 3, "formGroup"], [3, "title", "buttons"], [1, "form-group", "sq-form-group"], ["for", "userName"], ["type", "text", "id", "userName", "formControlName", "userName", "spellcheck", "off", "sqAutofocus", "", 1, "form-control", 3, "sqValidation"], ["for", "domain"], ["type", "text", "id", "domain", "formControlName", "domain", "spellcheck", "off", 1, "form-control", 3, "sqValidation"]], template: function BsOverrideUser_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "form", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "sq-modal", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "label", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](5, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](6, "input", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "label", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](9);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](10, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](11, "input", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("title", "msg#overrideUser.title")("buttons", ctx.buttons);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](5, 7, "msg#overrideUser.userName"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("sqValidation", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](10, 9, "msg#overrideUser.domain"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("sqValidation", ctx.form);
    } }, directives: [_angular_forms__WEBPACK_IMPORTED_MODULE_1__["ɵangular_packages_forms_forms_y"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["NgControlStatusGroup"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormGroupDirective"], _modal_component__WEBPACK_IMPORTED_MODULE_5__["BsModal"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["DefaultValueAccessor"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["NgControlStatus"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControlName"], _utils_directives_autofocus__WEBPACK_IMPORTED_MODULE_6__["Autofocus"], _core_validation_validation_directive__WEBPACK_IMPORTED_MODULE_7__["ValidationDirective"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_8__["MessagePipe"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsOverrideUser, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-override-user",
                templateUrl: "./override-user.html"
            }]
    }], function () { return [{ type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [_sinequa_core_modal__WEBPACK_IMPORTED_MODULE_3__["MODAL_MODEL"]]
            }] }, { type: _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormBuilder"] }]; }, null); })();


/***/ }),

/***/ "hU9A":
/*!************************************************!*\
  !*** ../components/collapse/messages/index.ts ***!
  \************************************************/
/*! exports provided: enCollapse, frCollapse, deCollapse */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _en__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./en */ "mOvl");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "enCollapse", function() { return _en__WEBPACK_IMPORTED_MODULE_0__["default"]; });

/* harmony import */ var _fr__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./fr */ "AF4K");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "frCollapse", function() { return _fr__WEBPACK_IMPORTED_MODULE_1__["default"]; });

/* harmony import */ var _de__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./de */ "Q/3P");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "deCollapse", function() { return _de__WEBPACK_IMPORTED_MODULE_2__["default"]; });







/***/ }),

/***/ "hbzH":
/*!**********************************************!*\
  !*** ../components/alerts/alerts.service.ts ***!
  \**********************************************/
/*! exports provided: Alert, ALERT_CHANGE_EVENTS, ALERT_COMPONENTS, WINDOW, AlertsService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Alert", function() { return Alert; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ALERT_CHANGE_EVENTS", function() { return ALERT_CHANGE_EVENTS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ALERT_COMPONENTS", function() { return ALERT_COMPONENTS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WINDOW", function() { return WINDOW; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AlertsService", function() { return AlertsService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "+kfY");
/* harmony import */ var _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/app-utils */ "SBPP");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/core/web-services */ "cIYa");
/* harmony import */ var _sinequa_components_search__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sinequa/components/search */ "7+c1");
/* harmony import */ var _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @sinequa/core/modal */ "vMGo");








// From core/models/usersettings
var Alert;
(function (Alert) {
    let Frequency;
    (function (Frequency) {
        Frequency[Frequency["Daily"] = 0] = "Daily";
        Frequency[Frequency["Hourly"] = 1] = "Hourly";
        Frequency[Frequency["Immediate"] = 2] = "Immediate";
        Frequency[Frequency["Weekly"] = 3] = "Weekly";
        Frequency[Frequency["Monthly"] = 4] = "Monthly";
    })(Frequency = Alert.Frequency || (Alert.Frequency = {}));
    let Days;
    (function (Days) {
        Days[Days["None"] = 0] = "None";
        Days[Days["Monday"] = 1] = "Monday";
        Days[Days["Tuesday"] = 2] = "Tuesday";
        Days[Days["Wednesday"] = 4] = "Wednesday";
        Days[Days["Thursday"] = 8] = "Thursday";
        Days[Days["Friday"] = 16] = "Friday";
        Days[Days["Saturday"] = 32] = "Saturday";
        Days[Days["Sunday"] = 64] = "Sunday";
        Days[Days["AllDays"] = 127] = "AllDays";
        Days[Days["WeekDays"] = 31] = "WeekDays";
    })(Days = Alert.Days || (Alert.Days = {}));
})(Alert || (Alert = {}));
// Types of events triggering a change event
const ALERT_CHANGE_EVENTS = [
    "Alert_Loaded" /* Loaded */,
    "Alert_Add" /* Add */,
    "Alert_Delete" /* Delete */,
    "Alert_Update" /* Update */
];
const ALERT_COMPONENTS = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["InjectionToken"]('ALERT_COMPONENTS');
const WINDOW = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["InjectionToken"]('WindowToken');
class AlertsService {
    constructor(userSettingsService, searchService, modalService, alertComponents, window) {
        this.userSettingsService = userSettingsService;
        this.searchService = searchService;
        this.modalService = modalService;
        this.alertComponents = alertComponents;
        this.window = window;
        this._events = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
        this._changes = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
        // Listen to the user settings
        this.userSettingsService.events.subscribe(event => {
            // E.g. new login occurs
            // ==> Menus need to be rebuilt
            this.events.next({ type: "Alert_Loaded" /* Loaded */ });
        });
        // Listen to own events, to trigger change events
        this._events.subscribe(event => {
            if (ALERT_CHANGE_EVENTS.indexOf(event.type) !== -1) {
                this.changes.next(event);
            }
        });
    }
    // GETTERS
    /**
     * Returns the list of this user's alerts.
     * The list is stored in the user settings (this is a redirection).
     * Using this service creates the list of alerts if it does not already exist.
     */
    get alerts() {
        if (!this.userSettingsService.userSettings)
            this.userSettingsService.userSettings = {};
        if (!this.userSettingsService.userSettings["alerts"])
            this.userSettingsService.userSettings["alerts"] = [];
        return this.userSettingsService.userSettings["alerts"];
    } // TODO: remove cast when UserSettings is updated
    /**
     * Triggers any event among AlertChangeEvent
     * (use for fine-grained control of alerts workflow)
     */
    get events() {
        return this._events;
    }
    /**
     * Triggers when events affect the list of alerts
     * (use to refresh alert menus)
     * Cf. CHANGE_EVENTS list
     */
    get changes() {
        return this._changes;
    }
    /**
     * @returns true if there is at least one alert
     */
    get hasAlert() {
        return this.alerts.length > 0;
    }
    /**
     * @returns an alert with the given name or undefined if it does not exist
     * @param name
     */
    alert(name) {
        const i = this.alertIndex(name);
        return i >= 0 ? this.alerts[i] : undefined;
    }
    alertIndex(name) {
        for (let i = 0, ic = this.alerts.length; i < ic; i++) {
            const alert = this.alerts[i];
            if (alert && alert.name === name) {
                return i;
            }
        }
        return -1;
    }
    // CRUD
    /**
     * Creates a new alert unless it already exists.
     * Emits an Alert event.
     * Update the data on the server.
     * @param alert the alert to create
     * @returns true if alert was created
     */
    createAlert(alert) {
        if (this.alertIndex(alert.name) >= 0)
            return false; // This alert already exists
        this.alerts.unshift(alert);
        this.events.next({ type: "Alert_Add" /* Add */, alert: alert });
        this.patchAlerts([{
                type: "Alert_Add" /* Add */,
                detail: {
                    alert: alert.name
                }
            }]);
        return true;
    }
    /**
     * Update the alert at the given index, unless an alert with the same name
     * already exists in the list of alerts.
     * Emits an Alert event.
     * Update the data on the server.
     * @param alert the alert to update
     * @param index the index at which to update the alert
     * @returns true if alert was updated
     */
    updateAlert(alert, index) {
        const prevIndex = this.alertIndex(alert.name);
        if (prevIndex !== -1 && index !== prevIndex)
            return false; // An alert with the same name exists at a different index
        if (index >= 0 && index < this.alerts.length) {
            this.alerts.splice(index, 1, alert);
            this.events.next({ type: "Alert_Update" /* Update */, alert: alert });
            this.patchAlerts([
                {
                    type: "Alert_Update" /* Update */,
                    detail: {
                        alert: alert.name
                    }
                }
            ]);
            return true;
        }
        return false; // This alert does not exist
    }
    /**
     * Updates the full list of alerts.
     * Emits an Alert event.
     * Update the data on the server.
     * @param alerts the new list of alerts
     * @param auditEvents the list of audit events to log
     */
    updateAlerts(alerts, auditEvents) {
        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].arraySet(this.alerts, alerts);
        this.events.next({ type: "Alert_Update" /* Update */ });
        this.patchAlerts(auditEvents);
        return true;
    }
    /**
     * Deletes the given alert (based on its name)
     * Emits an Alert event.
     * Update the data on the server.
     * @param alert
     * @returns true if alert was deleted
     */
    deleteAlert(alert) {
        const index = this.alertIndex(alert.name);
        if (index === -1)
            return false; // Nothing to delete
        this.alerts.splice(index, 1);
        this.events.next({ type: "Alert_Delete" /* Delete */, alert: alert });
        this.patchAlerts([
            {
                type: "Alert_Delete" /* Delete */,
                detail: {
                    alert: alert.name
                }
            }
        ]);
        return true;
    }
    /**
     * Sets this alert to the current search context, using the search service
     */
    setAlertToCurrentQuery(alert) {
        alert.query = _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_2__["Query"].copy(this.searchService.query);
    }
    /**
     * Updates Alerts in User settings.
     * @param auditEvents : Audit Events to be triggered
     * @returns an Observable which can be used to trigger further events
     */
    patchAlerts(auditEvents) {
        return this.userSettingsService.patch({ alerts: this.alerts }, auditEvents)
            .subscribe(next => {
            this.events.next({ type: "Alert_Patched" /* Patched */ });
        }, error => {
            console.error("Could not patch Alerts!", error);
        });
    }
    // EVENT HANDLERS (Menus)
    /**
     * Uses the SearchService to perform a search returning all
     * the documents matching this alert.
     * @param alert
     * @returns the search service promise
     */
    searchAlert(alert, path) {
        this.searchService.setQuery(_sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].extend(this.searchService.makeQuery(), _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].copy(alert.query)));
        this.events.next({ type: "Search_AlertQuery" /* Search_AlertQuery */, alert: alert });
        return this.searchService.search({ path: path }, {
            type: "Search_AlertQuery" /* Search_AlertQuery */,
            detail: {
                alert: alert.name
            }
        });
    }
    /**
     * Opens a dialog allowing a user to create a new alert.
     * @returns a boolean promise resolved when the user closes the dialog
     * the result is true if the alert was created.
     */
    createAlertModal() {
        const alert = {
            name: "",
            description: "",
            timezone: this.userSettingsService.timezone,
            query: _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_2__["Query"].copy(this.searchService.query),
            frequency: Alert.Frequency.Daily,
            days: Alert.Days.WeekDays,
            interval: 1,
            index: 1,
            times: "9:00",
            active: true,
            combine: true,
            respectTabSelection: false
        };
        const queryUrl = this.window.location.href;
        return this.modalService.open(this.alertComponents.editAlertModal, { model: { alert: alert } })
            .then((result) => {
            if (result === -1 /* OK */) {
                const index = this.alertIndex(alert.name);
                if (index !== -1) {
                    return this.modalService.yesNo("msg#alerts.alertAlreadyExists")
                        .then((result) => {
                        if (result === -3 /* Yes */) {
                            alert.appQueryUrl = queryUrl;
                            return this.updateAlert(alert, index);
                        }
                        return false;
                    });
                }
                else {
                    alert.appQueryUrl = queryUrl;
                    return this.createAlert(alert);
                }
            }
            return false;
        });
    }
    /**
     * Opens a dialog allowing a user to edit an existing alert.
     * @param alert: The alert to edit
     * @param noUpdate: if true, will not update the server after the edit
     * @param searchRoute: the route to use when replaying the alert's query
     * @returns a boolean promise resolved when the user closes the dialog
     * the result is true if the alert was updated.
     */
    editAlertModal(alert, noUpdate, searchRoute) {
        const prevName = alert.name;
        const queryUrl = this.window.location.href;
        return this.modalService.open(this.alertComponents.editAlertModal, { model: { alert: alert, searchRoute: searchRoute } })
            .then((result) => {
            if (result === -1 /* OK */) {
                if (noUpdate)
                    return true;
                const prevIndex = this.alertIndex(prevName);
                if (prevIndex === -1)
                    return false; // this alert did not exist
                const index = this.alertIndex(alert.name);
                if (index !== -1 && index !== prevIndex) { // An alert with the same (new) name exists
                    return this.modalService.yesNo("msg#alerts.alertAlreadyExists")
                        .then((result) => {
                        if (result === -3 /* Yes */) {
                            const prevAlert = this.alert(prevName);
                            if (prevAlert) {
                                this.deleteAlert(prevAlert); // Remove the alert with old name
                            }
                            alert.appQueryUrl = queryUrl;
                            return this.updateAlert(alert, this.alertIndex(alert.name)); // Update the alert with new name (index might have changed due to delete of old name)
                        }
                        return false;
                    });
                }
                else {
                    alert.appQueryUrl = queryUrl;
                    return this.updateAlert(alert, prevIndex); // Update this alert
                }
            }
            return false;
        });
    }
    /**
     * Opens a dialog allowing a user to reorganize and edit the
     * list of alerts.
     * @returns a boolean promise resolved when the user closes the dialog
     * the result is true is the list was updated.
     */
    manageAlertsModal(searchRoute) {
        const model = { alerts: _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].copy(this.alerts), searchRoute: searchRoute };
        return this.modalService.open(this.alertComponents.manageAlertsModal, { model })
            .then((result) => {
            if (result === -1 /* OK */) {
                return this.updateAlerts(model.alerts, model.auditEvents);
            }
            return false;
        });
    }
    ngOnDestroy() {
        this.events.complete();
        this.changes.complete();
    }
}
AlertsService.ɵfac = function AlertsService_Factory(t) { return new (t || AlertsService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_4__["UserSettingsWebService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_components_search__WEBPACK_IMPORTED_MODULE_5__["SearchService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_modal__WEBPACK_IMPORTED_MODULE_6__["ModalService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](ALERT_COMPONENTS), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](WINDOW)); };
AlertsService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: AlertsService, factory: AlertsService.ɵfac, providedIn: 'root' });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AlertsService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: 'root',
            }]
    }], function () { return [{ type: _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_4__["UserSettingsWebService"] }, { type: _sinequa_components_search__WEBPACK_IMPORTED_MODULE_5__["SearchService"] }, { type: _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_6__["ModalService"] }, { type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [ALERT_COMPONENTS]
            }] }, { type: Window, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [WINDOW]
            }] }]; }, null); })();


/***/ }),

/***/ "hrQz":
/*!******************************************!*\
  !*** ../components/alerts/public-api.ts ***!
  \******************************************/
/*! exports provided: Alert, ALERT_CHANGE_EVENTS, ALERT_COMPONENTS, WINDOW, AlertsService, BsAlertsModule, BsAlertsMenuComponent, BsEditAlert, BsManageAlerts, enAlerts, frAlerts, deAlerts */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _alerts_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./alerts.service */ "hbzH");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Alert", function() { return _alerts_service__WEBPACK_IMPORTED_MODULE_0__["Alert"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ALERT_CHANGE_EVENTS", function() { return _alerts_service__WEBPACK_IMPORTED_MODULE_0__["ALERT_CHANGE_EVENTS"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ALERT_COMPONENTS", function() { return _alerts_service__WEBPACK_IMPORTED_MODULE_0__["ALERT_COMPONENTS"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "WINDOW", function() { return _alerts_service__WEBPACK_IMPORTED_MODULE_0__["WINDOW"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AlertsService", function() { return _alerts_service__WEBPACK_IMPORTED_MODULE_0__["AlertsService"]; });

/* harmony import */ var _bootstrap_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./bootstrap/index */ "VZTv");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsAlertsModule", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_1__["BsAlertsModule"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsAlertsMenuComponent", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_1__["BsAlertsMenuComponent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsEditAlert", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_1__["BsEditAlert"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsManageAlerts", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_1__["BsManageAlerts"]; });

/* harmony import */ var _messages_index__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./messages/index */ "Sjzu");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "enAlerts", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_2__["enAlerts"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "frAlerts", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_2__["frAlerts"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "deAlerts", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_2__["deAlerts"]; });






/***/ }),

/***/ "i3IL":
/*!***********************************************!*\
  !*** ../components/action/bootstrap/index.ts ***!
  \***********************************************/
/*! exports provided: BsActionButtons, BsActionItem, BsActionItemContent, BsActionMenu, BsDropdownMenu, BsDropdownDirective, gClassName, gSelector, gAttachmentMap, BsDropdownService, BsActionModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _public_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./public-api */ "HdVz");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsActionButtons", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsActionButtons"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsActionItem", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsActionItem"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsActionItemContent", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsActionItemContent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsActionMenu", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsActionMenu"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsDropdownMenu", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsDropdownMenu"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsDropdownDirective", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsDropdownDirective"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "gClassName", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["gClassName"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "gSelector", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["gSelector"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "gAttachmentMap", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["gAttachmentMap"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsDropdownService", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsDropdownService"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsActionModule", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsActionModule"]; });




/***/ }),

/***/ "i40w":
/*!**************************************************************************************!*\
  !*** ../components/user-settings/bootstrap/edit-user-settings/edit-user-settings.ts ***!
  \**************************************************************************************/
/*! exports provided: JsonInfo, BsEditUserSettings */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "JsonInfo", function() { return JsonInfo; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsEditUserSettings", function() { return BsEditUserSettings; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/modal */ "vMGo");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/web-services */ "cIYa");
/* harmony import */ var _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/core/intl */ "EfqX");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/forms */ "nIj0");







var JsonInfo;
(function (JsonInfo) {
    let InputType;
    (function (InputType) {
        InputType["Entry"] = "JsonEntryInput";
        InputType["Range"] = "JsonRangeInput";
        InputType["MultiEntry"] = "JsonMultiEntryInput";
    })(InputType = JsonInfo.InputType || (JsonInfo.InputType = {}));
    let ValueType;
    (function (ValueType) {
        ValueType["String"] = "String";
        ValueType["Int"] = "Int";
        ValueType["Number"] = "Number";
        ValueType["Date"] = "Date";
        ValueType["Bool"] = "Bool";
    })(ValueType = JsonInfo.ValueType || (JsonInfo.ValueType = {}));
})(JsonInfo || (JsonInfo = {}));
/**
 * Opens a dialog to modify the user settings.
 *
 */
class BsEditUserSettings {
    constructor(userSettingsService, intlService, formBuilder) {
        this.userSettingsService = userSettingsService;
        this.intlService = intlService;
        this.formBuilder = formBuilder;
        this.visibleThreshold = 0;
    }
    ngOnInit() {
        this.layout = {};
        this.model = {
            'language': this.intlService.currentLocale.name
        };
        this.form = this.formBuilder.group({
            'selectedLocale': [this.intlService.currentLocale.name]
        });
        const onOkClicked = (_) => {
            if (this.form.dirty) {
                // Locale is treated separately because it is not really stored in the user settings.
                const newLocale = this.form.value['selectedLocale'];
                this.form.removeControl('selectedLocale');
                if (!_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].eqNC(this.model['language'], newLocale)) {
                    _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].subscribe(this.intlService.use(newLocale), response => console.log('editUserSettings UI language changed.'));
                }
                const patch = this.calculatePatch();
                if (!_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].isUndefined(patch) && !_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].isEmpty(patch)) {
                    const observable = this.userSettingsService.patch(patch);
                    _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].subscribe(observable, response => {
                        if (this.userSettingsService.userSettings) {
                            this.setNewValue(this.userSettingsService.userSettings, patch);
                        }
                        console.log('editUserSettings saved.');
                    }, error => console.log('editUserSettings save failed: ', error));
                }
            }
        };
        this.buttons = [
            new _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_1__["ModalButton"]({
                result: -1 /* OK */,
                primary: true,
                validation: this.form,
                action: onOkClicked
            }),
            new _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_1__["ModalButton"]({
                result: -2 /* Cancel */
            })
        ];
    }
    setNewValue(obj, newObj) {
        for (const key of Object.keys(newObj)) {
            const value = newObj[key];
            if (value === null) {
                /* NOTE: Don't use delete obj[key] because some component may put an observer on the user settings property */
                obj[key] = undefined;
            }
            else if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].isObject(value)) {
                if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].isDate(value)) {
                    obj[key] = new Date(value.valueOf());
                }
                else if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].isRegExp(value)) {
                    obj[key] = new RegExp(value);
                }
                else if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].isArray(value)) {
                    obj[key] = value.slice(0); // clone the array
                }
                else {
                    if (!_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].isObject(obj[key])) {
                        obj[key] = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].isArray(value) ? [] : {};
                    }
                    this.setNewValue(obj[key], value);
                }
            }
            else {
                obj[key] = value;
            }
        }
    }
    /**
     * Calculates the update patch for user settings.
     *
     * @returns the update patch.
     */
    calculatePatch() {
        const patch = {};
        Object.keys(this.form.value).forEach(key => {
            const formValue = this.ensureType(this.layout[key], this.readFormValue(key));
            const paths = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].split(this.layout[key].path, '.');
            const currentValue = this.userSettingsService.readUserSetting(paths);
            let includedInPatch = false;
            if (!_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].isUndefined(currentValue)) {
                if (formValue !== currentValue) {
                    includedInPatch = true;
                }
            }
            else {
                if (!_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].isUndefined(formValue)) {
                    includedInPatch = true;
                }
            }
            if (includedInPatch) {
                this.setValue(patch, paths, formValue);
            }
        });
        return patch;
    }
    /**
     * Ensures that the form value is of the same type as the user setting before saving it.
     *
     * @param entryInfo The entry information.
     * @param value The form value.
     * @returns The conformed value for the user setting.
     */
    ensureType(entryInfo, value) {
        const inputType = entryInfo.type;
        const valueType = entryInfo.valueType;
        switch (valueType) {
            case JsonInfo.ValueType.Bool:
                // For the case of boolean, we ignore the input type because we only support having a JSON boolean
                return !!value;
            case JsonInfo.ValueType.Date:
                return this.cast(inputType, value, _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].asDate);
            case JsonInfo.ValueType.Int:
            case JsonInfo.ValueType.Number:
                return this.cast(inputType, value, _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].asNumber);
            case JsonInfo.ValueType.String:
            default:
                return this.cast(inputType, value, _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].asString);
        }
    }
    /**
     * Casts the value of a given type to another type.
     * <p>
     * If the given value is of array type, it is casted into another array containing element of the
     * desired type.
     *
     * @template T The desired type after casting.
     * @param inputType The type of form input where the value comes.
     * @param value The value to cast.
     * @param castFn The casting function.
     * @returns the cast result.
     */
    cast(inputType, value, castFn) {
        if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].isArray(value)) {
            const array = value;
            const empty = array.length === 0;
            switch (inputType) {
                case JsonInfo.InputType.Entry:
                    return !empty ? castFn(array[0]) : undefined;
                case JsonInfo.InputType.MultiEntry:
                case JsonInfo.InputType.Range:
                    const result = [];
                    for (const v of array) {
                        result.push(castFn(v));
                    }
                    return result;
            }
            return undefined;
        }
        return castFn(value);
    }
    /**
     * Reads the form value for the given entry.
     *
     * @param key The entry key.
     * @returns The form value.
     */
    readFormValue(key) {
        const formValue = this.form.value[key];
        if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].isArray(formValue)) {
            switch (this.layout[key].type) {
                case JsonInfo.InputType.Entry:
                    // The entry is single-value type whereas its corresponding form control has an array value.
                    // This should be because its form control is represented by a Select component.
                    // The array value should be then a singleton array, we simply return the first element.
                    const array = formValue;
                    if (array.length !== 1) {
                        console.log('editUserSettings.readFormValue not a singleton array.');
                    }
                    return array[0];
                case JsonInfo.InputType.MultiEntry:
                    break;
                case JsonInfo.InputType.Range:
                    break;
            }
        }
        return formValue;
    }
    /**
     * Sets a JSON value.
     *
     * @param json The JSON to set.
     * @param paths The path of the value in the JSON.
     * @param value The value to set.
     */
    setValue(json, paths, value) {
        const nbPaths = paths.length;
        if (nbPaths > 1) {
            for (let i = 0; i < nbPaths - 1; ++i) {
                const path = paths[i];
                if (!json[path]) {
                    json[path] = {};
                }
                json = json[path];
            }
        }
        json[paths[nbPaths - 1]] = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].isEmpty(value) ? null : value;
    }
    /**
     * Indicates the height of the dialog content to trigger scroll behavior when there are too many input controls.
     *
     * @return the height of the dialog content to trigger scroll behavior when there are too many input controls.
     */
    get maxHeight() {
        //If size is undefined use 5 as default
        return (((this.visibleThreshold | 0) || 5) * 10) + "ex";
    }
}
BsEditUserSettings.ɵfac = function BsEditUserSettings_Factory(t) { return new (t || BsEditUserSettings)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_3__["UserSettingsWebService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_intl__WEBPACK_IMPORTED_MODULE_4__["IntlService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_5__["FormBuilder"])); };
BsEditUserSettings.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsEditUserSettings, selectors: [["sq-edit-user-settings"]], inputs: { visibleThreshold: "visibleThreshold", showUILanguageSelector: "showUILanguageSelector" }, decls: 4, vars: 8, consts: [["name", "editUserSettings", "novalidate", "", 3, "formGroup"], [3, "title", "buttons"], [1, "sq-user-settings-modal-body"], [3, "form", "model", "layout"]], template: function BsEditUserSettings_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "form", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "sq-modal", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](3, "sq-user-settings-editor", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("title", "msg#editUserSettings.title")("buttons", ctx.buttons);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵstyleProp"]("max-height", ctx.maxHeight);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("form", ctx.form)("model", ctx.model)("layout", ctx.layout);
    } }, encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsEditUserSettings, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'sq-edit-user-settings',
                templateUrl: './edit-user-settings.html'
            }]
    }], function () { return [{ type: _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_3__["UserSettingsWebService"] }, { type: _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_4__["IntlService"] }, { type: _angular_forms__WEBPACK_IMPORTED_MODULE_5__["FormBuilder"] }]; }, { visibleThreshold: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], showUILanguageSelector: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "i93V":
/*!********************************!*\
  !*** ../core/base/keyboard.ts ***!
  \********************************/
/*! exports provided: Keys */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Keys", function() { return Keys; });
/**
 * An enumeration of keyboard code values
 */
var Keys;
(function (Keys) {
    Keys[Keys["up"] = 38] = "up";
    Keys[Keys["down"] = 40] = "down";
    Keys[Keys["left"] = 37] = "left";
    Keys[Keys["right"] = 39] = "right";
    Keys[Keys["del"] = 46] = "del";
    Keys[Keys["tab"] = 9] = "tab";
    Keys[Keys["enter"] = 13] = "enter";
    Keys[Keys["esc"] = 27] = "esc";
    Keys[Keys["comma"] = 188] = "comma";
    Keys[Keys["space"] = 32] = "space";
    Keys[Keys["pageUp"] = 33] = "pageUp";
    Keys[Keys["pageDown"] = 34] = "pageDown";
    Keys[Keys["home"] = 36] = "home";
    Keys[Keys["end"] = 35] = "end";
    Keys[Keys["backspace"] = 8] = "backspace";
})(Keys || (Keys = {}));


/***/ }),

/***/ "iX9l":
/*!*************************************************!*\
  !*** ../components/metadata/metadata.module.ts ***!
  \*************************************************/
/*! exports provided: MetadataModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MetadataModule", function() { return MetadataModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/intl */ "EfqX");
/* harmony import */ var _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/components/utils */ "DD1E");
/* harmony import */ var _sinequa_components_collapse__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/components/collapse */ "niHV");
/* harmony import */ var _metadata_metadata__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./metadata/metadata */ "dxkz");
/* harmony import */ var _metadata_item_metadata_item__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./metadata-item/metadata-item */ "4nM0");
/* harmony import */ var _metadata_access_lists_item_metadata_access_lists_item__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./metadata-access-lists-item/metadata-access-lists-item */ "zhgx");
/* harmony import */ var _metadata_access_lists_item_single_access_list_metadata_access_lists_item_single_access_list__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./metadata-access-lists-item-single-access-list/metadata-access-lists-item-single-access-list */ "PrpF");










class MetadataModule {
}
MetadataModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: MetadataModule });
MetadataModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function MetadataModule_Factory(t) { return new (t || MetadataModule)(); }, imports: [[
            _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
            _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_2__["IntlModule"],
            _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_3__["UtilsModule"],
            _sinequa_components_collapse__WEBPACK_IMPORTED_MODULE_4__["CollapseModule"],
        ]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](MetadataModule, { declarations: [_metadata_metadata__WEBPACK_IMPORTED_MODULE_5__["Metadata"], _metadata_item_metadata_item__WEBPACK_IMPORTED_MODULE_6__["MetadataItem"],
        _metadata_access_lists_item_metadata_access_lists_item__WEBPACK_IMPORTED_MODULE_7__["MetadataAccessListsItem"], _metadata_access_lists_item_single_access_list_metadata_access_lists_item_single_access_list__WEBPACK_IMPORTED_MODULE_8__["MetadataAccessListsItemSingleAccessList"]], imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
        _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_2__["IntlModule"],
        _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_3__["UtilsModule"],
        _sinequa_components_collapse__WEBPACK_IMPORTED_MODULE_4__["CollapseModule"]], exports: [_metadata_metadata__WEBPACK_IMPORTED_MODULE_5__["Metadata"], _metadata_item_metadata_item__WEBPACK_IMPORTED_MODULE_6__["MetadataItem"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](MetadataModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                    _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_2__["IntlModule"],
                    _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_3__["UtilsModule"],
                    _sinequa_components_collapse__WEBPACK_IMPORTED_MODULE_4__["CollapseModule"],
                ],
                declarations: [
                    _metadata_metadata__WEBPACK_IMPORTED_MODULE_5__["Metadata"], _metadata_item_metadata_item__WEBPACK_IMPORTED_MODULE_6__["MetadataItem"],
                    _metadata_access_lists_item_metadata_access_lists_item__WEBPACK_IMPORTED_MODULE_7__["MetadataAccessListsItem"], _metadata_access_lists_item_single_access_list_metadata_access_lists_item_single_access_list__WEBPACK_IMPORTED_MODULE_8__["MetadataAccessListsItemSingleAccessList"]
                ],
                exports: [
                    _metadata_metadata__WEBPACK_IMPORTED_MODULE_5__["Metadata"], _metadata_item_metadata_item__WEBPACK_IMPORTED_MODULE_6__["MetadataItem"]
                ],
            }]
    }], null, null); })();


/***/ }),

/***/ "idD+":
/*!*****************************************************************!*\
  !*** ../components/action/bootstrap/action-menu/action-menu.ts ***!
  \*****************************************************************/
/*! exports provided: BsActionMenu */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsActionMenu", function() { return BsActionMenu; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _action_item_action_item__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../action-item/action-item */ "TE8J");





const _c0 = function (a0, a1, a2, a3) { return { item: a0, size: a1, autoAdjust: a2, autoAdjustBreakpoint: a3, inMenu: true }; };
function BsActionMenu_ng_container_1_li_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "li", 2);
} if (rf & 2) {
    const item_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMapInterpolate1"]("nav-item ", item_r1.hasChildren ? "dropdown" : "", "");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("sq-action-item", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction4"](5, _c0, item_r1, ctx_r2.size, ctx_r2.autoAdjust, ctx_r2.autoAdjustBreakpoint))("collapseBreakpoint", ctx_r2.collapseBreakpoint);
} }
function BsActionMenu_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsActionMenu_ng_container_1_li_1_Template, 1, 10, "li", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const item_r1 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !item_r1.hidden);
} }
class BsActionMenu {
    ngOnInit() {
        if (!_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].isArray(this.items)) {
            this.items = [this.items];
        }
    }
    identify(index, item) {
        return item.name || item.text || item.title || index;
    }
}
BsActionMenu.ɵfac = function BsActionMenu_Factory(t) { return new (t || BsActionMenu)(); };
BsActionMenu.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsActionMenu, selectors: [["sq-action-menu"]], inputs: { items: "items", size: "size", autoAdjust: "autoAdjust", autoAdjustBreakpoint: "autoAdjustBreakpoint", collapseBreakpoint: "collapseBreakpoint", right: "right" }, decls: 2, vars: 5, consts: [[4, "ngFor", "ngForOf", "ngForTrackBy"], [3, "class", "sq-action-item", "collapseBreakpoint", 4, "ngIf"], [3, "sq-action-item", "collapseBreakpoint"]], template: function BsActionMenu_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "ul");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsActionMenu_ng_container_1_Template, 2, 1, "ng-container", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMapInterpolate1"]("navbar-nav ", ctx.right ? "navbar-right" : "", "");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.items)("ngForTrackBy", ctx.identify);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_2__["NgForOf"], _angular_common__WEBPACK_IMPORTED_MODULE_2__["NgIf"], _action_item_action_item__WEBPACK_IMPORTED_MODULE_3__["BsActionItem"]], encapsulation: 2, changeDetection: 0 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsActionMenu, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-action-menu",
                templateUrl: "./action-menu.html",
                changeDetection: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectionStrategy"].OnPush
            }]
    }], null, { items: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], size: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], autoAdjust: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], autoAdjustBreakpoint: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], collapseBreakpoint: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], right: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "ijWO":
/*!*****************************************!*\
  !*** ../components/utils/ui.service.ts ***!
  \*****************************************/
/*! exports provided: SCREEN_SIZE_RULES, UIService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SCREEN_SIZE_RULES", function() { return SCREEN_SIZE_RULES; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UIService", function() { return UIService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "+kfY");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var element_resize_detector__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! element-resize-detector */ "aEOh");
/* harmony import */ var element_resize_detector__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(element_resize_detector__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _sinequa_core_notification__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/core/notification */ "mkLw");
/* harmony import */ var _angular_cdk_clipboard__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/cdk/clipboard */ "HHFY");







const SCREEN_SIZE_RULES = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["InjectionToken"]('SCREEN_SIZE_RULES');
class UIService {
    constructor(screenSizeRules, notificationsService, clipboard) {
        this.screenSizeRules = screenSizeRules;
        this.notificationsService = notificationsService;
        this.clipboard = clipboard;
        this._resizeEvent = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
        this._priorityResizeEvent = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
        this.factories = new Map();
        this.resizeEventListener = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].frame((event) => {
            this.setScreenSize();
            this._priorityResizeEvent.next(event);
            this._resizeEvent.next(event);
        });
        // See https://github.com/component/textarea-caret-position
        // We return a lineHeight value in addition
        this.textPositionProperties = [
            'direction',
            'boxSizing',
            'width',
            'height',
            'overflowX',
            'overflowY',
            'borderTopWidth',
            'borderRightWidth',
            'borderBottomWidth',
            'borderLeftWidth',
            'borderStyle',
            'paddingTop',
            'paddingRight',
            'paddingBottom',
            'paddingLeft',
            // https://developer.mozilla.org/en-US/docs/Web/CSS/font
            'fontStyle',
            'fontVariant',
            'fontWeight',
            'fontStretch',
            'fontSize',
            'fontSizeAdjust',
            'lineHeight',
            'fontFamily',
            'textAlign',
            'textTransform',
            'textIndent',
            'textDecoration',
            'letterSpacing',
            'wordSpacing',
            'tabSize',
            'MozTabSize'
        ];
        this.screenSizes = ["xs", "sm", "md", "lg", "xl", "xxl"]; // in ascending size order
        this.setScreenSize();
        window.addEventListener("resize", this.resizeEventListener);
        this.elementResizeDetector = element_resize_detector__WEBPACK_IMPORTED_MODULE_3___default()({ strategy: "scroll" });
    }
    ngOnDestroy() {
        this._resizeEvent.complete();
        this._priorityResizeEvent.complete();
        window.removeEventListener("resize", this.resizeEventListener);
    }
    get resizeEvent() {
        return this._resizeEvent;
    }
    get priorityResizeEvent() {
        return this._priorityResizeEvent;
    }
    /*private setTitle(title: string) {
        document.title = this.intlService.formatMessage(title);
    }*/
    appInit(appComponentRef) {
        //this.setTitle();
        //Utils.subscribe(this.intlService.events,
        //    (value) => {
        //        this.setTitle();
        //    });
        // See https://github.com/angular/angular/issues/18817
        /*this.resizeEvent.subscribe(
            (event) => {
                appComponentRef.changeDetectorRef.markForCheck();
            });*/
        // this.loadComponent({component: DirtyChecker});
    }
    // legacy (was called from app.ts)
    addResizeListener(listener) {
        this._resizeEvent.subscribe(listener);
    }
    screenSizeIs(list) {
        //let rules = this.coreConfig.screenSizeRules;
        // validate that we're getting a string or array.
        if (!_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].isString(list) && !_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].isArray(list)) {
            throw new Error('screenSizeIs requires an array or comma-separated list');
        }
        // if it's a string, convert to array.
        if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].isString(list)) {
            list = list.split(/\s*,\s*/);
        }
        return list.some((size) => window.matchMedia(this.screenSizeRules[size]).matches);
    }
    setScreenSize() {
        for (const size of this.screenSizes) {
            if (this.screenSizeIs(size)) {
                this.screenSize = size;
                return;
            }
        }
        throw new Error("UIService.setScreenSize - no matching screen size");
    }
    screenSizeIsEqual(screenSize) {
        return this.screenSize === screenSize;
    }
    screenSizeIsGreater(screenSize) {
        const index1 = this.screenSizes.findIndex((value) => value === this.screenSize);
        const index2 = this.screenSizes.findIndex((value) => value === screenSize);
        return index1 > index2;
    }
    screenSizeIsLess(screenSize) {
        const index1 = this.screenSizes.findIndex((value) => value === this.screenSize);
        const index2 = this.screenSizes.findIndex((value) => value === screenSize);
        return index1 < index2;
    }
    screenSizeIsGreaterOrEqual(screenSize) {
        if (screenSize === this.screenSize) {
            return true;
        }
        return this.screenSizeIsGreater(screenSize);
    }
    screenSizeIsLessOrEqual(screenSize) {
        if (screenSize === this.screenSize) {
            return true;
        }
        return this.screenSizeIsLess(screenSize);
    }
    _screenSizeTest(screenSize) {
        if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].eqNCN(screenSize, "always", "true")) {
            return true;
        }
        if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].eqNCN(screenSize, "never", "false")) {
            return false;
        }
        if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].startsWith(screenSize, ">=")) {
            return this.screenSizeIsGreaterOrEqual(screenSize.slice(2));
        }
        if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].startsWith(screenSize, ">")) {
            return this.screenSizeIsGreater(screenSize.slice(1));
        }
        if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].startsWith(screenSize, "<=")) {
            return this.screenSizeIsLessOrEqual(screenSize.slice(2));
        }
        if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].startsWith(screenSize, "<")) {
            return this.screenSizeIsLess(screenSize.slice(1));
        }
        if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].startsWith(screenSize, "=")) {
            return this.screenSizeIsEqual(screenSize.slice(1));
        }
        return this.screenSizeIsEqual(screenSize);
    }
    // screenSizes is a sequence of size specs with optional operator separated by space or and (AND)
    // Multiple sequences can be specified using , or ; as a separator (these are OR'd)
    screenSizeTest(screenSizes) {
        if (!screenSizes) {
            return true;
        }
        const ors = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].split(screenSizes, [',', ';']);
        for (const or of ors) {
            const ands = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].split(or, " ");
            if (ands.length === 0) {
                continue;
            }
            let ok = true;
            for (const and of ands) {
                if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].eqNC(and, "and")) { // space separated but you can use and if you want to
                    continue;
                }
                if (!this._screenSizeTest(and)) {
                    ok = false;
                    break;
                }
            }
            if (ok) {
                return true;
            }
        }
        return false;
    }
    getContentRect(element) {
        const rect = element.getBoundingClientRect();
        const computedStyle = window.getComputedStyle(element);
        const borderLeft = parseFloat(computedStyle.borderLeft);
        const borderRight = parseFloat(computedStyle.borderRight);
        const borderTop = parseFloat(computedStyle.borderTop);
        const borderBottom = parseFloat(computedStyle.borderBottom);
        const paddingLeft = parseFloat(computedStyle.paddingLeft);
        const paddingRight = parseFloat(computedStyle.paddingRight);
        const paddingTop = parseFloat(computedStyle.paddingTop);
        const paddingBottom = parseFloat(computedStyle.paddingBottom);
        return {
            top: rect.top + borderTop + paddingTop,
            right: rect.right - borderRight - paddingRight,
            bottom: rect.bottom - borderBottom - paddingBottom,
            left: rect.left + borderLeft + paddingLeft,
            width: rect.width - borderLeft - paddingLeft - paddingRight - borderRight,
            height: rect.height - borderTop - paddingTop - paddingBottom - borderBottom
        };
    }
    // caret support
    getCaret(input) {
        return {
            start: input.selectionStart || 0,
            end: input.selectionEnd || 0
        };
    }
    setCaret(input, start, end = start, text, selectionAction = UIService.SelectionAction.collapse, ensureVisible = true, raiseEvent = true) {
        if (start < 0) {
            return;
        }
        if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].isString(text)) {
            let value = input.value;
            if (end >= start) {
                value = value.slice(0, start) + text + value.slice(end);
            }
            else {
                value = value.slice(0, start) + text;
            }
            input.value = value;
            switch (selectionAction) {
                case UIService.SelectionAction.adjust:
                    end = start + text.length;
                    break;
                case UIService.SelectionAction.none:
                    break;
                case UIService.SelectionAction.collapseToStart:
                    end = start;
                    break;
                case UIService.SelectionAction.collapse:
                default:
                    end = start + text.length;
                    start = end;
                    break;
            }
        }
        if (end < 0) {
            end = start;
        }
        input.setSelectionRange(start, end);
        if (ensureVisible) {
            const rect = input.getBoundingClientRect();
            const contentRect = this.getContentRect(input);
            const textPos = this.getTextPosition(input, this.getCaret(input).end);
            let scrollLeft = input.scrollLeft;
            const minX = contentRect.left + scrollLeft;
            const maxX = contentRect.right + scrollLeft;
            const caretX = rect.left + textPos.left;
            if (caretX < minX || caretX > maxX) {
                scrollLeft = Math.max(caretX - contentRect.right + 1 /*for the caret*/, 0);
                input.scrollLeft = scrollLeft;
            }
        }
        if (raiseEvent) {
            const event = new CustomEvent("input");
            input.dispatchEvent(event);
        }
    }
    getTextPosition(element, position, options) {
        const debug = options && options.debug || false;
        if (debug) {
            const el = document.querySelector('#input-textarea-caret-position-mirror-div');
            if (el) {
                if (el.parentNode) {
                    el.parentNode.removeChild(el);
                }
            }
        }
        // mirrored div
        const div = document.createElement('div');
        div.id = 'input-textarea-caret-position-mirror-div';
        document.body.appendChild(div);
        const style = div.style;
        const computed = !!window.getComputedStyle ? getComputedStyle(element) : element.currentStyle; // currentStyle for IE < 9
        // default textarea styles
        style.whiteSpace = 'pre-wrap';
        if (element.nodeName !== 'INPUT')
            style.wordWrap = 'break-word'; // only for textarea-s
        // position off-screen
        style.position = 'absolute'; // required to return coordinates properly
        if (!debug)
            style.visibility = 'hidden'; // not 'display: none' because we want rendering
        // transfer the element's properties to the div
        this.textPositionProperties.forEach(function (prop) {
            style[prop] = computed[prop];
        });
        if (!_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].isUndefined(window.mozInnerScreenX)) {
            // Firefox lies about the overflow property for textareas: https://bugzilla.mozilla.org/show_bug.cgi?id=984275
            if (element.scrollHeight > parseInt(computed.height, 10))
                style.overflowY = 'scroll';
        }
        else {
            style.overflow = 'hidden'; // for Chrome to not render a scrollbar; IE keeps overflowY = 'scroll'
        }
        div.textContent = element.value.substring(0, position);
        // the second special handling for input type="text" vs textarea: spaces need to be replaced with non-breaking spaces - http://stackoverflow.com/a/13402035/1269037
        if (element.nodeName === 'INPUT' && div.textContent) {
            div.textContent = div.textContent.replace(/\s/g, '\u00a0');
        }
        const span = document.createElement('span');
        // Wrapping must be replicated *exactly*, including when a long word gets
        // onto the next line, with whitespace at the end of the line before (#7).
        // The  *only* reliable way to do that is to copy the *entire* rest of the
        // textarea's content into the <span> created at the caret position.
        // for inputs, just '.' would be enough, but why bother?
        div.appendChild(span);
        // return lineHeight too
        span.textContent = '.';
        const lineHeight = span.offsetHeight;
        span.textContent = element.value.substring(position) || '.'; // || because a completely empty faux span doesn't render at all
        const coordinates = {
            top: span.offsetTop + parseInt(computed['borderTopWidth'], 10),
            left: span.offsetLeft + parseInt(computed['borderLeftWidth'], 10),
            lineHeight: lineHeight
        };
        if (debug) {
            span.style.backgroundColor = '#aaa';
        }
        else {
            document.body.removeChild(div);
        }
        return coordinates;
    }
    getViewport() {
        return document.body.getBoundingClientRect();
    }
    addElementResizeListener(element, listener) {
        this.elementResizeDetector.listenTo(element, listener);
    }
    removeElementResizeListener(element, listener) {
        this.elementResizeDetector.removeListener(element, listener);
    }
    copyToClipboard(data, maxLength = 30) {
        if (!(navigator === null || navigator === void 0 ? void 0 : navigator.clipboard)) {
            // Note: CDK seems to struggle with large chunks of text
            this.copyToClipboardCdk(data, maxLength);
        }
        else {
            // Navigator built-in clipboard management
            navigator.clipboard.writeText(data).then(() => {
                this.notificationsService.success("msg#clipboard.success", { data: "\"" + (data.length > maxLength ? (data.slice(0, maxLength) + "...") : data) + "\"" });
            }, err => {
                this.notificationsService.warning("msg#clipboard.error");
            });
        }
    }
    copyToClipboardCdk(data, maxLength = 30) {
        const pending = this.clipboard.beginCopy(data);
        let remainingAttempts = 3;
        const attempt = () => {
            const result = pending.copy();
            if (!result && --remainingAttempts) {
                setTimeout(attempt);
            }
            else {
                // Remember to destroy when you're done!
                pending.destroy();
                if (result) {
                    this.notificationsService.success("msg#clipboard.success", { data: "\"" + (data.length > maxLength ? (data.slice(0, maxLength) + "...") : data) + "\"" });
                }
                else {
                    this.notificationsService.warning("msg#clipboard.error");
                }
            }
        };
        attempt();
    }
}
UIService.ɵfac = function UIService_Factory(t) { return new (t || UIService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](SCREEN_SIZE_RULES), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_notification__WEBPACK_IMPORTED_MODULE_4__["NotificationsService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_angular_cdk_clipboard__WEBPACK_IMPORTED_MODULE_5__["Clipboard"])); };
UIService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: UIService, factory: UIService.ɵfac, providedIn: "root" });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](UIService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: "root"
            }]
    }], function () { return [{ type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [SCREEN_SIZE_RULES]
            }] }, { type: _sinequa_core_notification__WEBPACK_IMPORTED_MODULE_4__["NotificationsService"] }, { type: _angular_cdk_clipboard__WEBPACK_IMPORTED_MODULE_5__["Clipboard"] }]; }, null); })();
(function (UIService) {
    let SelectionAction;
    (function (SelectionAction) {
        SelectionAction[SelectionAction["adjust"] = 0] = "adjust";
        SelectionAction[SelectionAction["none"] = 1] = "none";
        SelectionAction[SelectionAction["collapseToStart"] = 2] = "collapseToStart";
        SelectionAction[SelectionAction["collapse"] = 3] = "collapse";
    })(SelectionAction = UIService.SelectionAction || (UIService.SelectionAction = {}));
})(UIService || (UIService = {}));


/***/ }),

/***/ "j7UU":
/*!*******************************************!*\
  !*** ../core/web-services/http-client.ts ***!
  \*******************************************/
/*! exports provided: SqHttpClient */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SqHttpClient", function() { return SqHttpClient; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "vobO");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs/operators */ "0Wlh");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");






/**
 * A helper service that overrides the standard Angular [HttpClient]{@link https://angular.io/api/common/http/HttpClient}
 * to prevent multiple subscribers from causing multiple requests to be issued and to mitigate against request flooding
 */
class SqHttpClient extends _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpClient"] {
    constructor(httpHandler) {
        super(httpHandler);
        this.responseCache = new Map();
    }
    getRequestHash(first, url, options = {}) {
        // The replacer ensures that object keys are always serialized in the same order
        const strRequest = JSON.stringify([first, url, options], (key, value) => {
            if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].isObject(value) && !_sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].isIterable(value)) {
                return Object.keys(value).sort().reduce((s, k) => {
                    s[k] = value[k];
                    return s;
                }, {});
            }
            else {
                return value;
            }
        });
        return _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].sha256(strRequest);
    }
    /**
     * Overrides the standard `HttpClient.request` method to change its behavior as follows:
     * * pipes the observable to the share operator so that only a single request is issued even if there are multiple subscribers
     * * to mitigate request flooding, a cache of pending response observables keyed by the request thumbprint is maintained.
     * An observable from the cache is returned if the incoming request is identical to one in the cache
     */
    request(first, url, options = {}) {
        const requestHash = this.getRequestHash(first, url, options);
        let observable = this.responseCache.get(requestHash);
        if (!observable) {
            observable = super.request(first, url, options)
                .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["share"])())
                .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["tap"])(() => this.responseCache.delete(requestHash)));
            this.responseCache.set(requestHash, observable);
        }
        return observable;
    }
}
SqHttpClient.ɵfac = function SqHttpClient_Factory(t) { return new (t || SqHttpClient)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHandler"])); };
SqHttpClient.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: SqHttpClient, factory: SqHttpClient.ɵfac, providedIn: "root" });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](SqHttpClient, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: "root"
            }]
    }], function () { return [{ type: _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpHandler"] }]; }, null); })();


/***/ }),

/***/ "jAS1":
/*!*******************************************!*\
  !*** ../components/autocomplete/index.ts ***!
  \*******************************************/
/*! exports provided: BsAutocompleteList, BsFieldSearchItemsComponent, BsAutocompleteModule, AutocompleteState, Autocomplete, AutocompleteFieldSearch, SuggestService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _public_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./public-api */ "ZnyU");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsAutocompleteList", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsAutocompleteList"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFieldSearchItemsComponent", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsFieldSearchItemsComponent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsAutocompleteModule", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsAutocompleteModule"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AutocompleteState", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["AutocompleteState"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Autocomplete", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["Autocomplete"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AutocompleteFieldSearch", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["AutocompleteFieldSearch"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SuggestService", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["SuggestService"]; });




/***/ }),

/***/ "jAnC":
/*!*******************************************!*\
  !*** ../components/labels/messages/fr.ts ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    "labels": {
        "labels": "Libellés",
        "publicLabels": "Libellés publics",
        "privateLabels": "Libellés privés",
        "public": "Public",
        "private": "Privé",
        "selectLabel": "Sélectionner le(s) libellé(s)",
        "deleteLabelAreYouSure": "Etes-vous sûr de vouloir effacer le libellé: {name} ?",
        "bulkAddLabelAreYouSure": "Etes-vous sûr de vouloir ajouter en lot le libellé: {name} aux résultats de la requête courante ? ",
        "bulkRemoveLabelAreYouSure": "Etes-vous sûr de vouloir enlever en lot le libellé: {name} aux résultats de la requête courante ?",
        "addPublicLabelText": "+",
        "removePublicLabelText": "×",
        "addPublicLabelTitle": "Ajouter un libellé public",
        "selectPublicLabelTitle": "Sélectionner le libellé public",
        "removePublicLabelTitle": "Supprimer le libellé public",
        "addPrivateLabelText": "+",
        "removePrivateLabelText": "×",
        "addPrivateLabelTitle": "Ajouter un libellé privé",
        "selectPrivateLabelTitle": "Sélectionner le libellé privé",
        "removePrivateLabelTitle": "Supprimer le libellé privé"
    },
    "renameLabel": {
        "title": "Renommer le(s) libellé(s) globalement",
        "btnRename": "Renommer",
        "newLabel": "Nouveau Libellé",
        "oldLabels": "Ancien(s) libellé(s)",
        "alertText": "Cette action renomme le(s) libellé(s) sélectionné(s) dans l'index et est irréversible",
        "successFeedback": "Libellé(s) renommé(s) dans l'index",
        "errorFeedback": "Une erreur s'est produite. Requête non aboutie"
    },
    "deleteLabel": {
        "title": "Supprimer le(s) libellé(s) globalement",
        "btnDelete": "Supprimer",
        "alertText": "Cette action supprime le(s) libellé(s) sélectionné(s) de l'index et est irréversible",
        "successFeedback": "Libellé(s) supprimé(s) de l'index",
        "errorFeedback": "Une erreur s'est produite. Requête non aboutie"
    },
    "bulkRemoveLabel": {
        "title": "Enlever le(s) libellé des résultats courants",
        "btnBulkRemove": "Enlever",
        "alertText": "Cette action enlève le(s) libellé(s) sélectionné(s) de tous les résultats remontés par le moteur (pas seulement de la première page)",
        "successFeedback": "Libellé(s) enlevé(s) de tous les résultats remontés par le moteur",
        "errorFeedback": "Une erreur s'est produite. Requête non aboutie"
    },
    "bulkAddLabel": {
        "title": "Ajouter le(s) libellé(s) aux résultats courants",
        "btnBulkAdd": "Ajouter",
        "alertText": "Cette action ajoute le(s) libellé(s) sélectionné(s) à tous les résultats remontés par le moteur (pas seulement à la première page)",
        "infoText": "Appuyez sur 'Entrée' pour ajouter un nouveau libellé qui n'existe pas dans les suggestions",
        "successFeedback": "Libellé(s) ajouté(s) à tous les résultats remontés par le moteur",
        "errorFeedback": "Une erreur s'est produite. Requête non aboutie"
    },
    "editLabel": {
        "title": "Editer le(s) libellé(s) de(s) résultat(s) sélectionné(s)",
        "btnEdit": "Sauvegarder",
        "alertText": "Cette action édite le(s) libellé(s) de(s) résultat(s) sélectionné(s)",
        "infoText": "Appuyez sur 'Entrée' pour ajouter un nouveau libellé qui n'existe pas dans les suggestions",
        "labelsToBeRemoved": "Libellé(s) à enlever",
        "labelsToBeAdded": "Libellé(s) à ajouter",
        "successFeedback": "Libellé(s) de(s) résultat(s) sélectionné(s) édité(s)",
        "errorFeedback": "Une erreur s'est produite. Requête non aboutie"
    }
});


/***/ }),

/***/ "jBs1":
/*!**************************************************!*\
  !*** ../components/status-bar/messages/index.ts ***!
  \**************************************************/
/*! exports provided: enStatusBar, frStatusBar, deStatusBar */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _en__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./en */ "yabr");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "enStatusBar", function() { return _en__WEBPACK_IMPORTED_MODULE_0__["default"]; });

/* harmony import */ var _fr__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./fr */ "fUSy");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "frStatusBar", function() { return _fr__WEBPACK_IMPORTED_MODULE_1__["default"]; });

/* harmony import */ var _de__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./de */ "7IKG");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "deStatusBar", function() { return _de__WEBPACK_IMPORTED_MODULE_2__["default"]; });







/***/ }),

/***/ "jD8Y":
/*!*****************************************************!*\
  !*** ../components/user-settings/messages/index.ts ***!
  \*****************************************************/
/*! exports provided: enUserSettings, frUserSettings, deUserSettings */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "enUserSettings", function() { return enUserSettings; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "frUserSettings", function() { return frUserSettings; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "deUserSettings", function() { return deUserSettings; });
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/components/modal */ "mOpA");
/* harmony import */ var _en__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./en */ "LsAO");
/* harmony import */ var _fr__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./fr */ "Q6YF");
/* harmony import */ var _de__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./de */ "X0nh");





const enUserSettings = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].merge({}, _en__WEBPACK_IMPORTED_MODULE_2__["default"], _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_1__["enModal"]);
const frUserSettings = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].merge({}, _fr__WEBPACK_IMPORTED_MODULE_3__["default"], _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_1__["frModal"]);
const deUserSettings = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].merge({}, _de__WEBPACK_IMPORTED_MODULE_4__["default"], _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_1__["deModal"]);



/***/ }),

/***/ "jEpw":
/*!*********************************************************!*\
  !*** ../components/preview/bootstrap/preview.module.ts ***!
  \*********************************************************/
/*! exports provided: BsPreviewModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsPreviewModule", function() { return BsPreviewModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "nIj0");
/* harmony import */ var _angular_cdk_scrolling__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/cdk/scrolling */ "qvOF");
/* harmony import */ var _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/core/intl */ "EfqX");
/* harmony import */ var _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sinequa/core/web-services */ "cIYa");
/* harmony import */ var _sinequa_core_validation__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @sinequa/core/validation */ "BovW");
/* harmony import */ var _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @sinequa/components/utils */ "DD1E");
/* harmony import */ var _sinequa_components_collapse__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @sinequa/components/collapse */ "niHV");
/* harmony import */ var _sinequa_components_metadata__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @sinequa/components/metadata */ "l9Gu");
/* harmony import */ var _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @sinequa/components/modal */ "mOpA");
/* harmony import */ var _sinequa_components_facet__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @sinequa/components/facet */ "vbgc");
/* harmony import */ var _sinequa_components_result__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @sinequa/components/result */ "fMrC");
/* harmony import */ var _sinequa_components_action__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @sinequa/components/action */ "WsHA");
/* harmony import */ var _preview_module__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../preview.module */ "TUPJ");
/* harmony import */ var _preview_highlights_preview_highlights__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./preview-highlights/preview-highlights */ "4Ncj");
/* harmony import */ var _preview_links_preview_links__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./preview-links/preview-links */ "tD4Y");
/* harmony import */ var _preview_popup_preview_popup__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./preview-popup/preview-popup */ "0U86");
/* harmony import */ var _preview_panel_preview_panel__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./preview-panel/preview-panel */ "szUJ");
/* harmony import */ var _result_link_preview_result_link_preview__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./result-link-preview/result-link-preview */ "7aSS");
/* harmony import */ var _facet_preview_facet_preview__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./facet-preview/facet-preview */ "3rLT");
/* harmony import */ var _similar_documents_similar_documents__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./similar-documents/similar-documents */ "qI9m");
/* harmony import */ var _facet_preview_2_facet_preview_component__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./facet-preview-2/facet-preview.component */ "vP33");
/* harmony import */ var _preview_entity_facet_preview_entity_facet_component__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./preview-entity-facet/preview-entity-facet.component */ "N2dC");
/* harmony import */ var _preview_entity_panel_preview_entity_panel_component__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./preview-entity-panel/preview-entity-panel.component */ "0G0v");
/* harmony import */ var _preview_extracts_panel_preview_extracts_panel_component__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./preview-extracts-panel/preview-extracts-panel.component */ "STs+");
/* harmony import */ var _preview_search_form_preview_search_form_component__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./preview-search-form/preview-search-form.component */ "DsO/");
/* harmony import */ var _preview_pages_panel_preview_pages_panel_component__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./preview-pages-panel/preview-pages-panel.component */ "pJ5V");
/* harmony import */ var _preview_page_form_preview_page_form_component__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./preview-page-form/preview-page-form.component */ "xnWB");
/* harmony import */ var _preview_service__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../preview.service */ "lGAU");































class BsPreviewModule {
}
BsPreviewModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: BsPreviewModule });
BsPreviewModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function BsPreviewModule_Factory(t) { return new (t || BsPreviewModule)(); }, providers: [
        { provide: _preview_service__WEBPACK_IMPORTED_MODULE_29__["PREVIEW_MODAL"], useValue: _preview_popup_preview_popup__WEBPACK_IMPORTED_MODULE_17__["BsPreviewPopup"] }
    ], imports: [[
            _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"], _angular_forms__WEBPACK_IMPORTED_MODULE_2__["ReactiveFormsModule"],
            _angular_cdk_scrolling__WEBPACK_IMPORTED_MODULE_3__["ScrollingModule"],
            _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_4__["IntlModule"],
            _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_5__["WebServicesModule"],
            _sinequa_core_validation__WEBPACK_IMPORTED_MODULE_6__["ValidationModule"],
            _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_7__["UtilsModule"],
            _sinequa_components_collapse__WEBPACK_IMPORTED_MODULE_8__["CollapseModule"],
            _sinequa_components_metadata__WEBPACK_IMPORTED_MODULE_9__["MetadataModule"],
            _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_10__["BsModalModule"],
            _sinequa_components_facet__WEBPACK_IMPORTED_MODULE_11__["BsFacetModule"],
            _sinequa_components_result__WEBPACK_IMPORTED_MODULE_12__["ResultModule"],
            _sinequa_components_action__WEBPACK_IMPORTED_MODULE_13__["BsActionModule"],
            _preview_module__WEBPACK_IMPORTED_MODULE_14__["PreviewModule"]
        ], _preview_module__WEBPACK_IMPORTED_MODULE_14__["PreviewModule"]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](BsPreviewModule, { declarations: [_preview_highlights_preview_highlights__WEBPACK_IMPORTED_MODULE_15__["BsPreviewHighlights"], _preview_links_preview_links__WEBPACK_IMPORTED_MODULE_16__["BsPreviewLinks"],
        _preview_popup_preview_popup__WEBPACK_IMPORTED_MODULE_17__["BsPreviewPopup"], _preview_panel_preview_panel__WEBPACK_IMPORTED_MODULE_18__["BsPreviewPanel"], _result_link_preview_result_link_preview__WEBPACK_IMPORTED_MODULE_19__["BsResultLinkPreview"],
        _facet_preview_facet_preview__WEBPACK_IMPORTED_MODULE_20__["BsFacetPreview"], _facet_preview_2_facet_preview_component__WEBPACK_IMPORTED_MODULE_22__["BsFacetPreviewComponent2"],
        _similar_documents_similar_documents__WEBPACK_IMPORTED_MODULE_21__["BsSimilarDocuments"],
        _preview_entity_facet_preview_entity_facet_component__WEBPACK_IMPORTED_MODULE_23__["BsPreviewEntityFacetComponent"],
        _preview_entity_panel_preview_entity_panel_component__WEBPACK_IMPORTED_MODULE_24__["BsPreviewEntityPanelComponent"],
        _preview_extracts_panel_preview_extracts_panel_component__WEBPACK_IMPORTED_MODULE_25__["BsPreviewExtractsPanelComponent"],
        _preview_search_form_preview_search_form_component__WEBPACK_IMPORTED_MODULE_26__["BsPreviewSearchFormComponent"],
        _preview_pages_panel_preview_pages_panel_component__WEBPACK_IMPORTED_MODULE_27__["BsPreviewPagesPanelComponent"],
        _preview_page_form_preview_page_form_component__WEBPACK_IMPORTED_MODULE_28__["BsPreviewPageFormComponent"]], imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
        _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"], _angular_forms__WEBPACK_IMPORTED_MODULE_2__["ReactiveFormsModule"],
        _angular_cdk_scrolling__WEBPACK_IMPORTED_MODULE_3__["ScrollingModule"],
        _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_4__["IntlModule"],
        _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_5__["WebServicesModule"],
        _sinequa_core_validation__WEBPACK_IMPORTED_MODULE_6__["ValidationModule"],
        _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_7__["UtilsModule"],
        _sinequa_components_collapse__WEBPACK_IMPORTED_MODULE_8__["CollapseModule"],
        _sinequa_components_metadata__WEBPACK_IMPORTED_MODULE_9__["MetadataModule"],
        _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_10__["BsModalModule"],
        _sinequa_components_facet__WEBPACK_IMPORTED_MODULE_11__["BsFacetModule"],
        _sinequa_components_result__WEBPACK_IMPORTED_MODULE_12__["ResultModule"],
        _sinequa_components_action__WEBPACK_IMPORTED_MODULE_13__["BsActionModule"],
        _preview_module__WEBPACK_IMPORTED_MODULE_14__["PreviewModule"]], exports: [_preview_module__WEBPACK_IMPORTED_MODULE_14__["PreviewModule"],
        _preview_highlights_preview_highlights__WEBPACK_IMPORTED_MODULE_15__["BsPreviewHighlights"], _preview_links_preview_links__WEBPACK_IMPORTED_MODULE_16__["BsPreviewLinks"],
        _preview_popup_preview_popup__WEBPACK_IMPORTED_MODULE_17__["BsPreviewPopup"], _preview_panel_preview_panel__WEBPACK_IMPORTED_MODULE_18__["BsPreviewPanel"], _result_link_preview_result_link_preview__WEBPACK_IMPORTED_MODULE_19__["BsResultLinkPreview"],
        _facet_preview_facet_preview__WEBPACK_IMPORTED_MODULE_20__["BsFacetPreview"], _facet_preview_2_facet_preview_component__WEBPACK_IMPORTED_MODULE_22__["BsFacetPreviewComponent2"],
        _similar_documents_similar_documents__WEBPACK_IMPORTED_MODULE_21__["BsSimilarDocuments"],
        _preview_entity_facet_preview_entity_facet_component__WEBPACK_IMPORTED_MODULE_23__["BsPreviewEntityFacetComponent"],
        _preview_entity_panel_preview_entity_panel_component__WEBPACK_IMPORTED_MODULE_24__["BsPreviewEntityPanelComponent"],
        _preview_extracts_panel_preview_extracts_panel_component__WEBPACK_IMPORTED_MODULE_25__["BsPreviewExtractsPanelComponent"],
        _preview_search_form_preview_search_form_component__WEBPACK_IMPORTED_MODULE_26__["BsPreviewSearchFormComponent"],
        _preview_pages_panel_preview_pages_panel_component__WEBPACK_IMPORTED_MODULE_27__["BsPreviewPagesPanelComponent"],
        _preview_page_form_preview_page_form_component__WEBPACK_IMPORTED_MODULE_28__["BsPreviewPageFormComponent"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsPreviewModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                    _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"], _angular_forms__WEBPACK_IMPORTED_MODULE_2__["ReactiveFormsModule"],
                    _angular_cdk_scrolling__WEBPACK_IMPORTED_MODULE_3__["ScrollingModule"],
                    _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_4__["IntlModule"],
                    _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_5__["WebServicesModule"],
                    _sinequa_core_validation__WEBPACK_IMPORTED_MODULE_6__["ValidationModule"],
                    _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_7__["UtilsModule"],
                    _sinequa_components_collapse__WEBPACK_IMPORTED_MODULE_8__["CollapseModule"],
                    _sinequa_components_metadata__WEBPACK_IMPORTED_MODULE_9__["MetadataModule"],
                    _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_10__["BsModalModule"],
                    _sinequa_components_facet__WEBPACK_IMPORTED_MODULE_11__["BsFacetModule"],
                    _sinequa_components_result__WEBPACK_IMPORTED_MODULE_12__["ResultModule"],
                    _sinequa_components_action__WEBPACK_IMPORTED_MODULE_13__["BsActionModule"],
                    _preview_module__WEBPACK_IMPORTED_MODULE_14__["PreviewModule"]
                ],
                declarations: [
                    _preview_highlights_preview_highlights__WEBPACK_IMPORTED_MODULE_15__["BsPreviewHighlights"], _preview_links_preview_links__WEBPACK_IMPORTED_MODULE_16__["BsPreviewLinks"],
                    _preview_popup_preview_popup__WEBPACK_IMPORTED_MODULE_17__["BsPreviewPopup"], _preview_panel_preview_panel__WEBPACK_IMPORTED_MODULE_18__["BsPreviewPanel"], _result_link_preview_result_link_preview__WEBPACK_IMPORTED_MODULE_19__["BsResultLinkPreview"],
                    _facet_preview_facet_preview__WEBPACK_IMPORTED_MODULE_20__["BsFacetPreview"], _facet_preview_2_facet_preview_component__WEBPACK_IMPORTED_MODULE_22__["BsFacetPreviewComponent2"],
                    _similar_documents_similar_documents__WEBPACK_IMPORTED_MODULE_21__["BsSimilarDocuments"],
                    _preview_entity_facet_preview_entity_facet_component__WEBPACK_IMPORTED_MODULE_23__["BsPreviewEntityFacetComponent"],
                    _preview_entity_panel_preview_entity_panel_component__WEBPACK_IMPORTED_MODULE_24__["BsPreviewEntityPanelComponent"],
                    _preview_extracts_panel_preview_extracts_panel_component__WEBPACK_IMPORTED_MODULE_25__["BsPreviewExtractsPanelComponent"],
                    _preview_search_form_preview_search_form_component__WEBPACK_IMPORTED_MODULE_26__["BsPreviewSearchFormComponent"],
                    _preview_pages_panel_preview_pages_panel_component__WEBPACK_IMPORTED_MODULE_27__["BsPreviewPagesPanelComponent"],
                    _preview_page_form_preview_page_form_component__WEBPACK_IMPORTED_MODULE_28__["BsPreviewPageFormComponent"]
                ],
                exports: [
                    _preview_module__WEBPACK_IMPORTED_MODULE_14__["PreviewModule"],
                    _preview_highlights_preview_highlights__WEBPACK_IMPORTED_MODULE_15__["BsPreviewHighlights"], _preview_links_preview_links__WEBPACK_IMPORTED_MODULE_16__["BsPreviewLinks"],
                    _preview_popup_preview_popup__WEBPACK_IMPORTED_MODULE_17__["BsPreviewPopup"], _preview_panel_preview_panel__WEBPACK_IMPORTED_MODULE_18__["BsPreviewPanel"], _result_link_preview_result_link_preview__WEBPACK_IMPORTED_MODULE_19__["BsResultLinkPreview"],
                    _facet_preview_facet_preview__WEBPACK_IMPORTED_MODULE_20__["BsFacetPreview"], _facet_preview_2_facet_preview_component__WEBPACK_IMPORTED_MODULE_22__["BsFacetPreviewComponent2"],
                    _similar_documents_similar_documents__WEBPACK_IMPORTED_MODULE_21__["BsSimilarDocuments"],
                    _preview_entity_facet_preview_entity_facet_component__WEBPACK_IMPORTED_MODULE_23__["BsPreviewEntityFacetComponent"],
                    _preview_entity_panel_preview_entity_panel_component__WEBPACK_IMPORTED_MODULE_24__["BsPreviewEntityPanelComponent"],
                    _preview_extracts_panel_preview_extracts_panel_component__WEBPACK_IMPORTED_MODULE_25__["BsPreviewExtractsPanelComponent"],
                    _preview_search_form_preview_search_form_component__WEBPACK_IMPORTED_MODULE_26__["BsPreviewSearchFormComponent"],
                    _preview_pages_panel_preview_pages_panel_component__WEBPACK_IMPORTED_MODULE_27__["BsPreviewPagesPanelComponent"],
                    _preview_page_form_preview_page_form_component__WEBPACK_IMPORTED_MODULE_28__["BsPreviewPageFormComponent"]
                ],
                providers: [
                    { provide: _preview_service__WEBPACK_IMPORTED_MODULE_29__["PREVIEW_MODAL"], useValue: _preview_popup_preview_popup__WEBPACK_IMPORTED_MODULE_17__["BsPreviewPopup"] }
                ]
            }]
    }], null, null); })();


/***/ }),

/***/ "jKNX":
/*!**********************************************************!*\
  !*** ../components/notification/bootstrap/public-api.ts ***!
  \**********************************************************/
/*! exports provided: BsNotificationModule, notificationAnimations, BsNotification, BsNotifications, BsNotificationsManager */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _notification_module__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./notification.module */ "D5NV");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsNotificationModule", function() { return _notification_module__WEBPACK_IMPORTED_MODULE_0__["BsNotificationModule"]; });

/* harmony import */ var _notification_notification__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./notification/notification */ "1JZ2");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "notificationAnimations", function() { return _notification_notification__WEBPACK_IMPORTED_MODULE_1__["notificationAnimations"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsNotification", function() { return _notification_notification__WEBPACK_IMPORTED_MODULE_1__["BsNotification"]; });

/* harmony import */ var _notifications_notifications__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./notifications/notifications */ "NZyV");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsNotifications", function() { return _notifications_notifications__WEBPACK_IMPORTED_MODULE_2__["BsNotifications"]; });

/* harmony import */ var _notifications_manager_notifications_manager__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./notifications-manager/notifications-manager */ "ag41");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsNotificationsManager", function() { return _notifications_manager_notifications_manager__WEBPACK_IMPORTED_MODULE_3__["BsNotificationsManager"]; });







/***/ }),

/***/ "jOUn":
/*!**************************************!*\
  !*** ../components/baskets/index.ts ***!
  \**************************************/
/*! exports provided: BASKET_CHANGE_EVENTS, BASKET_COMPONENTS, BasketsService, BsBasketsModule, BsBasketsMenuComponent, BsEditBasket, BsFacetBasketsComponent, BsManageBaskets, BsResultBaskets, BsSelectBasket, enBaskets, frBaskets, deBaskets */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _public_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./public-api */ "4Yz/");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BASKET_CHANGE_EVENTS", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BASKET_CHANGE_EVENTS"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BASKET_COMPONENTS", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BASKET_COMPONENTS"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BasketsService", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BasketsService"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsBasketsModule", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsBasketsModule"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsBasketsMenuComponent", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsBasketsMenuComponent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsEditBasket", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsEditBasket"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFacetBasketsComponent", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsFacetBasketsComponent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsManageBaskets", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsManageBaskets"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsResultBaskets", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsResultBaskets"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsSelectBasket", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsSelectBasket"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "enBaskets", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["enBaskets"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "frBaskets", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["frBaskets"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "deBaskets", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["deBaskets"]; });




/***/ }),

/***/ "jWhG":
/*!*********************************************************************!*\
  !*** ../components/saved-queries/bootstrap/saved-queries.module.ts ***!
  \*********************************************************************/
/*! exports provided: BsSavedQueriesModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsSavedQueriesModule", function() { return BsSavedQueriesModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "nIj0");
/* harmony import */ var _angular_cdk_drag_drop__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/cdk/drag-drop */ "oqI+");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/router */ "sEIs");
/* harmony import */ var _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sinequa/core/intl */ "EfqX");
/* harmony import */ var _sinequa_core_validation__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @sinequa/core/validation */ "BovW");
/* harmony import */ var _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @sinequa/components/utils */ "DD1E");
/* harmony import */ var _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @sinequa/components/selection */ "8GPZ");
/* harmony import */ var _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @sinequa/components/modal */ "mOpA");
/* harmony import */ var _sinequa_components_action__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @sinequa/components/action */ "WsHA");
/* harmony import */ var _saved_queries_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../saved-queries.service */ "6FzQ");
/* harmony import */ var _edit_saved_query_edit_saved_query__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./edit-saved-query/edit-saved-query */ "gh3n");
/* harmony import */ var _manage_saved_queries_manage_saved_queries__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./manage-saved-queries/manage-saved-queries */ "6GXl");
/* harmony import */ var _export_query_export_query__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./export-query/export-query */ "jsLO");
/* harmony import */ var _query_exporter_query_exporter__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./query-exporter/query-exporter */ "kpDA");
/* harmony import */ var _saved_queries_menu_saved_queries_menu_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./saved-queries-menu/saved-queries-menu.component */ "te0w");
/* harmony import */ var _facet_saved_queries_facet_saved_queries__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./facet-saved-queries/facet-saved-queries */ "6XGU");
/* harmony import */ var _facet_recent_queries_facet_recent_queries__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./facet-recent-queries/facet-recent-queries */ "wgEc");
/* harmony import */ var _facet_recent_documents_facet_recent_documents__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./facet-recent-documents/facet-recent-documents */ "KVpc");





















class BsSavedQueriesModule {
}
BsSavedQueriesModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: BsSavedQueriesModule });
BsSavedQueriesModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function BsSavedQueriesModule_Factory(t) { return new (t || BsSavedQueriesModule)(); }, providers: [
        {
            provide: _saved_queries_service__WEBPACK_IMPORTED_MODULE_11__["SAVEDQUERY_COMPONENTS"],
            useValue: {
                editSavedQueryModal: _edit_saved_query_edit_saved_query__WEBPACK_IMPORTED_MODULE_12__["BsEditSavedQuery"],
                manageSavedQueriesModal: _manage_saved_queries_manage_saved_queries__WEBPACK_IMPORTED_MODULE_13__["BsManageSavedQueries"],
                exportSavedQueryModal: _export_query_export_query__WEBPACK_IMPORTED_MODULE_14__["BsExportQuery"]
            }
        }
    ], imports: [[
            _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"], _angular_forms__WEBPACK_IMPORTED_MODULE_2__["ReactiveFormsModule"],
            _angular_cdk_drag_drop__WEBPACK_IMPORTED_MODULE_3__["DragDropModule"],
            _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_9__["BsModalModule"],
            _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_5__["IntlModule"],
            _sinequa_core_validation__WEBPACK_IMPORTED_MODULE_6__["ValidationModule"],
            _angular_router__WEBPACK_IMPORTED_MODULE_4__["RouterModule"],
            _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_8__["BsSelectionModule"],
            _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_9__["BsModalModule"],
            _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_7__["UtilsModule"],
            _sinequa_components_action__WEBPACK_IMPORTED_MODULE_10__["BsActionModule"]
        ]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](BsSavedQueriesModule, { declarations: [_edit_saved_query_edit_saved_query__WEBPACK_IMPORTED_MODULE_12__["BsEditSavedQuery"], _manage_saved_queries_manage_saved_queries__WEBPACK_IMPORTED_MODULE_13__["BsManageSavedQueries"],
        _export_query_export_query__WEBPACK_IMPORTED_MODULE_14__["BsExportQuery"], _query_exporter_query_exporter__WEBPACK_IMPORTED_MODULE_15__["BsQueryExporter"], _saved_queries_menu_saved_queries_menu_component__WEBPACK_IMPORTED_MODULE_16__["BsSavedQueriesMenuComponent"],
        _facet_saved_queries_facet_saved_queries__WEBPACK_IMPORTED_MODULE_17__["BsFacetSavedQueries"], _facet_recent_queries_facet_recent_queries__WEBPACK_IMPORTED_MODULE_18__["BsFacetRecentQueries"], _facet_recent_documents_facet_recent_documents__WEBPACK_IMPORTED_MODULE_19__["BsFacetRecentDocuments"]], imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
        _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"], _angular_forms__WEBPACK_IMPORTED_MODULE_2__["ReactiveFormsModule"],
        _angular_cdk_drag_drop__WEBPACK_IMPORTED_MODULE_3__["DragDropModule"],
        _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_9__["BsModalModule"],
        _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_5__["IntlModule"],
        _sinequa_core_validation__WEBPACK_IMPORTED_MODULE_6__["ValidationModule"],
        _angular_router__WEBPACK_IMPORTED_MODULE_4__["RouterModule"],
        _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_8__["BsSelectionModule"],
        _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_9__["BsModalModule"],
        _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_7__["UtilsModule"],
        _sinequa_components_action__WEBPACK_IMPORTED_MODULE_10__["BsActionModule"]], exports: [_edit_saved_query_edit_saved_query__WEBPACK_IMPORTED_MODULE_12__["BsEditSavedQuery"], _manage_saved_queries_manage_saved_queries__WEBPACK_IMPORTED_MODULE_13__["BsManageSavedQueries"],
        _export_query_export_query__WEBPACK_IMPORTED_MODULE_14__["BsExportQuery"], _query_exporter_query_exporter__WEBPACK_IMPORTED_MODULE_15__["BsQueryExporter"], _saved_queries_menu_saved_queries_menu_component__WEBPACK_IMPORTED_MODULE_16__["BsSavedQueriesMenuComponent"],
        _facet_saved_queries_facet_saved_queries__WEBPACK_IMPORTED_MODULE_17__["BsFacetSavedQueries"], _facet_recent_queries_facet_recent_queries__WEBPACK_IMPORTED_MODULE_18__["BsFacetRecentQueries"], _facet_recent_documents_facet_recent_documents__WEBPACK_IMPORTED_MODULE_19__["BsFacetRecentDocuments"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsSavedQueriesModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                    _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"], _angular_forms__WEBPACK_IMPORTED_MODULE_2__["ReactiveFormsModule"],
                    _angular_cdk_drag_drop__WEBPACK_IMPORTED_MODULE_3__["DragDropModule"],
                    _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_9__["BsModalModule"],
                    _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_5__["IntlModule"],
                    _sinequa_core_validation__WEBPACK_IMPORTED_MODULE_6__["ValidationModule"],
                    _angular_router__WEBPACK_IMPORTED_MODULE_4__["RouterModule"],
                    _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_8__["BsSelectionModule"],
                    _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_9__["BsModalModule"],
                    _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_7__["UtilsModule"],
                    _sinequa_components_action__WEBPACK_IMPORTED_MODULE_10__["BsActionModule"]
                ],
                declarations: [
                    _edit_saved_query_edit_saved_query__WEBPACK_IMPORTED_MODULE_12__["BsEditSavedQuery"], _manage_saved_queries_manage_saved_queries__WEBPACK_IMPORTED_MODULE_13__["BsManageSavedQueries"],
                    _export_query_export_query__WEBPACK_IMPORTED_MODULE_14__["BsExportQuery"], _query_exporter_query_exporter__WEBPACK_IMPORTED_MODULE_15__["BsQueryExporter"], _saved_queries_menu_saved_queries_menu_component__WEBPACK_IMPORTED_MODULE_16__["BsSavedQueriesMenuComponent"],
                    _facet_saved_queries_facet_saved_queries__WEBPACK_IMPORTED_MODULE_17__["BsFacetSavedQueries"], _facet_recent_queries_facet_recent_queries__WEBPACK_IMPORTED_MODULE_18__["BsFacetRecentQueries"], _facet_recent_documents_facet_recent_documents__WEBPACK_IMPORTED_MODULE_19__["BsFacetRecentDocuments"]
                ],
                exports: [
                    _edit_saved_query_edit_saved_query__WEBPACK_IMPORTED_MODULE_12__["BsEditSavedQuery"], _manage_saved_queries_manage_saved_queries__WEBPACK_IMPORTED_MODULE_13__["BsManageSavedQueries"],
                    _export_query_export_query__WEBPACK_IMPORTED_MODULE_14__["BsExportQuery"], _query_exporter_query_exporter__WEBPACK_IMPORTED_MODULE_15__["BsQueryExporter"], _saved_queries_menu_saved_queries_menu_component__WEBPACK_IMPORTED_MODULE_16__["BsSavedQueriesMenuComponent"],
                    _facet_saved_queries_facet_saved_queries__WEBPACK_IMPORTED_MODULE_17__["BsFacetSavedQueries"], _facet_recent_queries_facet_recent_queries__WEBPACK_IMPORTED_MODULE_18__["BsFacetRecentQueries"], _facet_recent_documents_facet_recent_documents__WEBPACK_IMPORTED_MODULE_19__["BsFacetRecentDocuments"]
                ],
                providers: [
                    {
                        provide: _saved_queries_service__WEBPACK_IMPORTED_MODULE_11__["SAVEDQUERY_COMPONENTS"],
                        useValue: {
                            editSavedQueryModal: _edit_saved_query_edit_saved_query__WEBPACK_IMPORTED_MODULE_12__["BsEditSavedQuery"],
                            manageSavedQueriesModal: _manage_saved_queries_manage_saved_queries__WEBPACK_IMPORTED_MODULE_13__["BsManageSavedQueries"],
                            exportSavedQueryModal: _export_query_export_query__WEBPACK_IMPORTED_MODULE_14__["BsExportQuery"]
                        }
                    }
                ]
            }]
    }], null, null); })();


/***/ }),

/***/ "jsLO":
/*!**************************************************************************!*\
  !*** ../components/saved-queries/bootstrap/export-query/export-query.ts ***!
  \**************************************************************************/
/*! exports provided: BsExportQuery */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsExportQuery", function() { return BsExportQuery; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ "nIj0");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/modal */ "vMGo");
/* harmony import */ var _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/core/web-services */ "cIYa");
/* harmony import */ var _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sinequa/core/app-utils */ "SBPP");
/* harmony import */ var _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @sinequa/components/selection */ "8GPZ");
/* harmony import */ var _saved_queries_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../saved-queries.service */ "6FzQ");
/* harmony import */ var _sinequa_core_validation__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @sinequa/core/validation */ "BovW");
/* harmony import */ var _sinequa_core_notification__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @sinequa/core/notification */ "mkLw");
/* harmony import */ var _modal_bootstrap_modal_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../modal/bootstrap/modal.component */ "oSLy");
/* harmony import */ var _utils_directives_autofocus__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../utils/directives/autofocus */ "1ak2");
/* harmony import */ var _core_validation_validation_directive__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../../../core/validation/validation.directive */ "FRsM");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../core/intl/message.pipe */ "X1Kh");


















function BsExportQuery_option_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "option", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const format_r3 = ctx.$implicit;
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", format_r3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r0.outputFormats[format_r3].toUpperCase());
} }
function BsExportQuery_option_14_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "option", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const column_r4 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", column_r4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](column_r4);
} }
function BsExportQuery_div_21_Template(rf, ctx) { if (rf & 1) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "label", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](3, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "div", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "label", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "input", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("change", function BsExportQuery_div_21_Template_input_change_7_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r6); const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r5.sourceChanged($event, ctx_r5.sourceTypes.Result); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](9, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](10, "div", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](11, "label", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](12, "input", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("change", function BsExportQuery_div_21_Template_input_change_12_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r6); const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r7.sourceChanged($event, ctx_r7.sourceTypes.Selection); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](14, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](3, 6, "msg#exportQuery.dialogSourceType"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("checked", ctx_r2.sourceChosen(ctx_r2.sourceTypes.Result));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](9, 8, "msg#exportQuery.dialogResult"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("checked", ctx_r2.sourceChosen(ctx_r2.sourceTypes.Selection))("disabled", !ctx_r2.hasSelectedRecords());
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](14, 10, "msg#exportQuery.dialogSelection"), " ");
} }
const _c0 = function (a0) { return { count: a0 }; };
const _c1 = function (a0) { return { values: a0 }; };
/**
 * Component representing the Export dialog where user can customize the query export action.
 *
 */
class BsExportQuery {
    constructor(model, formBuilder, appService, selectionService, savedQueriesService, validationService, notificationsService, changeDetectorRef, modalRef) {
        this.model = model;
        this.formBuilder = formBuilder;
        this.appService = appService;
        this.selectionService = selectionService;
        this.savedQueriesService = savedQueriesService;
        this.validationService = validationService;
        this.notificationsService = notificationsService;
        this.changeDetectorRef = changeDetectorRef;
        this.modalRef = modalRef;
        this.supportedFormats = [
            _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_4__["ExportOutputFormat"].Csv,
            _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_4__["ExportOutputFormat"].Xlsx,
            _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_4__["ExportOutputFormat"].Json
        ];
        this.outputFormats = _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_4__["ExportOutputFormat"];
        this.sourceTypes = _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_4__["ExportSourceType"];
        this.maxCount = 1000; // Default max count hard coded in web service
    }
    ngOnInit() {
        this.savedQueries = [];
        for (const query of this.savedQueriesService.savedqueries) {
            this.savedQueries.push(query.name);
        }
        this.exportableColumns = [];
        if (this.appService.app) {
            const queryExportConfig = this.getDefaultQueryExportConfig(this.appService.app);
            const columns = (queryExportConfig.columns && queryExportConfig.columns['column$']) || [];
            for (const column of columns) {
                this.exportableColumns.push(column.title);
            }
            if (queryExportConfig.maxCount && _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].isNumber(queryExportConfig.maxCount)) {
                this.maxCount = queryExportConfig.maxCount;
            }
        }
        this.form = this.formBuilder.group({
            'format': [this.supportedFormats[0]],
            'exportedColumns': [this.model.exportedColumns],
            'export': [this.model.export, _angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required],
            'maxCount': [this.model.maxCount, _angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].compose([
                    this.validationService.integerValidator(),
                    this.validationService.minValidator(1)
                ])],
        });
        this.isDownloading = false;
        this.buttons = [
            new _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_3__["ModalButton"]({
                text: "msg#exportQuery.btnDownload",
                result: 0 /* Custom */,
                anchor: true,
                primary: true,
                action: (_button) => {
                    const observable = this.savedQueriesService.download(this.model);
                    if (observable) {
                        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].subscribe(observable, (response) => {
                            console.log('exportQuery.download done.');
                            this.notificationsService.info('msg#exportQuery.successNotification');
                            this.modalRef.close(-1 /* OK */);
                            return response;
                        }, (error) => {
                            console.log('exportQuery.download failure - error: ', error);
                            this.modalRef.close(error);
                        });
                        this.isDownloading = true;
                        this.changeDetectorRef.markForCheck();
                    }
                },
            }),
            new _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_3__["ModalButton"]({
                result: -2 /* Cancel */,
            })
        ];
        const onFormChanged = () => {
            const newFormat = this.form.value['format'];
            const newMaxCount = this.form.value['maxCount'];
            const newExportedColumns = this.form.value['exportedColumns'];
            if (this.model.format !== newFormat) {
                this.model.format = newFormat;
            }
            if (this.model.maxCount !== newMaxCount) {
                this.model.maxCount = newMaxCount;
            }
            this.model.exportedColumns = newExportedColumns;
        };
        this.formChanges = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].subscribe(this.form.valueChanges, onFormChanged);
    }
    ngOnDestroy() {
        if (this.formChanges) {
            this.formChanges.unsubscribe();
        }
    }
    getDefaultQueryExportConfig(app) {
        let queryExport = app.queryExport;
        if (queryExport.indexOf(',') !== -1) {
            queryExport = queryExport.substring(0, queryExport.indexOf(','));
        }
        return _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].getField(app.webServices, queryExport);
    }
    /**
     * Check if the client has selected some records.
     *
     * @returns true if the client has selected some records.
     */
    hasSelectedRecords() {
        return this.selectionService.haveSelectedRecords;
    }
    /**
     * Checks if the user chosen export source is the same as the given one.
     * <p>
     * Used to control the radio button state.
     *
     * @param type The source to check.
     * @returns true if the user chosen export source is the same as the given one.
     */
    sourceChosen(type) {
        return (this.model.export & type) !== 0;
    }
    /**
     * Callback called when user chooses a new export source.
     *
     * @param event The related UI event.
     * @param type The new chosen source.
     */
    sourceChanged(event, type) {
        const input = event.target;
        if (input.checked) {
            this.model.export = type;
        }
    }
    /**
     * Checks if the dialog allows user to choose export source.
     * Generally, it returns false when the input model export type is already saved query.
     *
     * @returns true if the dialog allows user to choose export source.
     */
    showSourceChooser() {
        return !this.sourceChosen(_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_4__["ExportSourceType"].SavedQuery);
    }
}
BsExportQuery.ɵfac = function BsExportQuery_Factory(t) { return new (t || BsExportQuery)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_modal__WEBPACK_IMPORTED_MODULE_3__["MODAL_MODEL"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormBuilder"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_5__["AppService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_selection__WEBPACK_IMPORTED_MODULE_6__["SelectionService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_saved_queries_service__WEBPACK_IMPORTED_MODULE_7__["SavedQueriesService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_validation__WEBPACK_IMPORTED_MODULE_8__["ValidationService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_notification__WEBPACK_IMPORTED_MODULE_9__["NotificationsService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_modal__WEBPACK_IMPORTED_MODULE_3__["ModalRef"])); };
BsExportQuery.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsExportQuery, selectors: [["sq-export-query"]], decls: 22, vars: 30, consts: [["name", "exportQuery", "novalidate", "", 3, "formGroup"], [3, "title", "buttons", "isProcessingState"], [1, "form-group", "sq-form-group"], ["for", "format"], ["formControlName", "format", "id", "format", "sqAutofocus", "", 1, "form-control", "custom-select", 3, "sqValidation"], [3, "value", 4, "ngFor", "ngForOf"], ["for", "exportedColumns", 3, "title"], ["id", "exportedColumns", "formControlName", "exportedColumns", "sqAutofocus", "", "multiple", "", 1, "form-control", "custom-select", 3, "sqValidation"], ["for", "maxCount", 3, "title"], ["type", "number", "id", "maxCount", "formControlName", "maxCount", "autocomplete", "off", "spellcheck", "off", 1, "form-control", 3, "sqValidation"], ["class", "form-group sq-form-group", 4, "ngIf"], [3, "value"], ["for", "export"], [1, "form-check", "form-check-inline"], [1, "form-check-label"], ["type", "radio", 1, "form-check-input", 3, "checked", "change"], ["type", "radio", 1, "form-check-input", 3, "checked", "disabled", "change"]], template: function BsExportQuery_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "form", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "sq-modal", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "label", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](5, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "select", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](7, BsExportQuery_option_7_Template, 2, 2, "option", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](9, "label", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](10, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](11);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](12, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](13, "select", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](14, BsExportQuery_option_14_Template, 2, 2, "option", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](15, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](16, "label", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](17, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](18);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](19, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](20, "input", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](21, BsExportQuery_div_21_Template, 15, 12, "div", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("title", "msg#exportQuery.dialogTitle")("buttons", ctx.buttons)("isProcessingState", ctx.isDownloading);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](5, 15, "msg#exportQuery.dialogOutputFormat"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("sqValidation", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.supportedFormats);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("title", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](10, 17, "msg#exportQuery.exportedColumnsLabelTooltip"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](12, 19, "msg#exportQuery.exportedColumns"), "\u00A0\u24D8 ");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("sqValidation", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.exportableColumns);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("title", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](17, 21, "msg#exportQuery.dialogMaxCountTooltip", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](28, _c1, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](26, _c0, ctx.maxCount))));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"]("", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](19, 24, "msg#exportQuery.dialogMaxCount"), "\u00A0\u24D8");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("sqValidation", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.showSourceChooser());
    } }, directives: [_angular_forms__WEBPACK_IMPORTED_MODULE_1__["ɵangular_packages_forms_forms_y"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["NgControlStatusGroup"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormGroupDirective"], _modal_bootstrap_modal_component__WEBPACK_IMPORTED_MODULE_10__["BsModal"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["SelectControlValueAccessor"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["NgControlStatus"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControlName"], _utils_directives_autofocus__WEBPACK_IMPORTED_MODULE_11__["Autofocus"], _core_validation_validation_directive__WEBPACK_IMPORTED_MODULE_12__["ValidationDirective"], _angular_common__WEBPACK_IMPORTED_MODULE_13__["NgForOf"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["SelectMultipleControlValueAccessor"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["NumberValueAccessor"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["DefaultValueAccessor"], _angular_common__WEBPACK_IMPORTED_MODULE_13__["NgIf"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["NgSelectOption"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["ɵangular_packages_forms_forms_x"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_14__["MessagePipe"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsExportQuery, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'sq-export-query',
                templateUrl: './export-query.html'
            }]
    }], function () { return [{ type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [_sinequa_core_modal__WEBPACK_IMPORTED_MODULE_3__["MODAL_MODEL"]]
            }] }, { type: _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormBuilder"] }, { type: _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_5__["AppService"] }, { type: _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_6__["SelectionService"] }, { type: _saved_queries_service__WEBPACK_IMPORTED_MODULE_7__["SavedQueriesService"] }, { type: _sinequa_core_validation__WEBPACK_IMPORTED_MODULE_8__["ValidationService"] }, { type: _sinequa_core_notification__WEBPACK_IMPORTED_MODULE_9__["NotificationsService"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] }, { type: _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_3__["ModalRef"] }]; }, null); })();


/***/ }),

/***/ "kO/h":
/*!****************************************!*\
  !*** ../core/app-utils/query/query.ts ***!
  \****************************************/
/*! exports provided: advancedFacetPrefix, Query */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "advancedFacetPrefix", function() { return advancedFacetPrefix; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Query", function() { return Query; });
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");

const advancedFacetPrefix = "advanced_";
/**
 * Represents a query for retrieving search results from a Sinequa search engine.
 *
 * The properties are described in the {@link IQuery} interface
 */
class Query {
    constructor(name) {
        this.name = name;
    }
    /**
     * Return a copy of the passed query
     */
    static copy(query) {
        if (!query) {
            return query;
        }
        return query.copy();
    }
    /**
     * Return `true` if the query has fulltext search elements
     */
    get hasRelevance() {
        if (!_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].isEmpty(this.text)) {
            return true;
        }
        if (this.findSelect("refine")) {
            return true;
        }
        return false;
    }
    /**
     * Add a select filter to the query
     *
     * @param expr The fielded search expression to filter the results
     * @param facet The name of the associated facet
     */
    addSelect(expr, facet) {
        return this.pushSelect({
            expression: expr,
            facet: facet || ""
        });
    }
    /**
     * Adds a new `Select` object to the end of the query's `selects`
     */
    pushSelect(select) {
        if (!this.select) {
            this.select = [];
        }
        return this.select.push(select);
    }
    /**
     * Remove the last `Select` object from the `selects` and return it
     */
    popSelect() {
        if (!this.select) {
            return undefined;
        }
        return this.select.pop();
    }
    /**
     * Remove the `Select` object identified by `indexOrFacet`
     *
     * @param indexOrFacet either an index in the `selects` array or a facet name
     * @param all If `true` and `indexOrFacet` is a facet name then all `Select` objects with a matching facet name will be removed
     */
    removeSelect(indexOrFacet, all = false) {
        if (!this.select) {
            return;
        }
        if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].isString(indexOrFacet)) {
            // indexOrFacet is a facet name
            for (let i = this.select.length - 1; i >= 0; i--) {
                const _select = this.select[i];
                if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].eqNC(_select.facet, indexOrFacet)) {
                    this.select.splice(i, 1);
                    if (this.select.length === 0) {
                        delete this.select; // Clean the query if no more select
                        return;
                    }
                    if (!all) {
                        return;
                    }
                }
            }
        }
        else {
            if (indexOrFacet < 0 || indexOrFacet >= this.select.length) {
                return;
            }
            this.select.splice(indexOrFacet, 1);
            if (this.select.length === 0) {
                delete this.select;
            }
        }
    }
    /**
     * Replace a `Select` with another
     *
     * @param index The index in the `selects` array of the `Select to replace
     * @param select The `Select` to use as a replacement
     */
    replaceSelect(index, select) {
        if (!this.select) {
            return;
        }
        this.select.splice(index, 1, select);
    }
    /**
     * Find the index of the nth `Select` object matching the passed facet name
     *
     * @param facet A facet name
     * @param ordinal Specifies which `Select` object to retrieve among selects with the same facet name
     */
    findSelectIndex(facet, ordinal = 0) {
        if (!this.select) {
            return -1;
        }
        let index = 0;
        let facetOrdinal = 0;
        let facetIndex = -1;
        for (const select of this.select) {
            if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].eqNC(facet, select.facet)) {
                facetIndex = index;
                if (facetOrdinal === ordinal) {
                    break;
                }
                facetOrdinal++;
            }
            index++;
        }
        return facetIndex;
    }
    /**
     * Find the first `Select` matching the passed facet name
     *
     * @param facet A facet name
     * @param fromEnd If `true` start searching backwards from the last `Select`
     */
    findSelect(facet, fromEnd = true) {
        const facetSelectIndex = this.findSelectIndex(facet, fromEnd ? -1 : 0);
        return facetSelectIndex >= 0 ? this.select && this.select[facetSelectIndex] : undefined;
    }
    /**
     * Return the last `Select` object
     */
    lastSelect() {
        if (!this.select) {
            return undefined;
        }
        return this.select[this.select.length - 1];
    }
    /**
     * Return the number of `Select` objects
     */
    get selectLength() {
        if (!this.select) {
            return 0;
        }
        return this.select.length;
    }
    /**
     * Add an `Open` filter to the query. This is typically used to load children of tree nodes
     *
     * @param expr The fielded search expression specifying the node to expand
     * @param aggregation The associated aggregation
     */
    addOpen(expr, aggregation) {
        if (!this.open || !_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].isArray(this.open)) {
            this.open = [];
        }
        return this.open.push({
            expression: expr,
            aggregation
        });
    }
    /**
     * Clear all fields in the query except the name
     */
    clear() {
        const name = this.name;
        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].clearObject(this);
        this.name = name;
    }
    /**
     * Remove advanced search select(s) from the query
     */
    toStandard() {
        var _a;
        const advancedSelect = (_a = this.select) === null || _a === void 0 ? void 0 : _a.filter((select) => select.facet && select.facet.startsWith(advancedFacetPrefix));
        advancedSelect === null || advancedSelect === void 0 ? void 0 : advancedSelect.forEach((select) => this.removeSelect(select.facet, true));
        return this;
    }
    /**
     * Return a copy of this query
     */
    copy() {
        const query = new Query(this.name);
        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].copy(this, query);
        return query;
    }
    /**
     * Return a copy of this query but without any advanced select
     */
    copyStandard() {
        const query = this.copy();
        return query.toStandard();
    }
    /**
     * Remove all properties from the query except advanced search select(s) and optionally `text`
     *
     * @param withText If `true` do not remove the `text` field
     */
    toAdvanced(withText = false) {
        var _a;
        for (const property in this) {
            if (this.hasOwnProperty(property) && !_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].eqNC(property, "select") && (!withText || !_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].eqNC(property, "text"))) {
                delete this[property];
            }
        }
        const notAdvancedSelect = (_a = this.select) === null || _a === void 0 ? void 0 : _a.filter((select) => select.facet && !select.facet.startsWith(advancedFacetPrefix));
        notAdvancedSelect === null || notAdvancedSelect === void 0 ? void 0 : notAdvancedSelect.forEach((select) => this.removeSelect(select.facet));
        return this;
    }
    /**
     * Return a copy of this query including just the advanced fields and optionally `text`
     *
     * @param withText If `true` include the `text` field
     */
    copyAdvanced(withText = false) {
        const query = this.copy();
        return query.toAdvanced(withText);
    }
    /**
     * Tests whether this query has advanced search selections
     */
    hasAdvanced() {
        var _a;
        return !!((_a = this.select) === null || _a === void 0 ? void 0 : _a.find(s => s.facet && s.facet.startsWith(advancedFacetPrefix)));
    }
    /**
     * Initialize this query from the passed JSON string
     *
     * @param jquery JSON in string form
     */
    fromJson(jquery) {
        this.clear();
        const query = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].fromJson(jquery);
        // convert select and open
        const select = query.select;
        if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].isArray(select)) {
            query.select = select.map((value) => {
                if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].isArray(value)) {
                    return {
                        expression: value[0],
                        facet: value[1]
                    };
                }
                else {
                    return value;
                }
            });
        }
        const open = query.open;
        if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].isArray(open)) {
            query.open = open.map((value) => {
                if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].isArray(value)) {
                    return {
                        expression: value[0],
                        aggregation: value[1]
                    };
                }
                else {
                    return value;
                }
            });
        }
        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].extend(this, query);
        return this;
    }
    /**
     * Returns a JSON representation of this query where `Select` and `Open` objects are expressed as tuple arrays for conciseness
     */
    toJsonForQueryString() {
        const o = {};
        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].merge(o, this);
        if (this.select) {
            o.select = this.select.map((value) => {
                const a = [value.expression];
                if (value.facet) {
                    a.push(value.facet);
                }
                return a;
            });
        }
        if (this.open) {
            o.open = this.open.map((value) => [value.expression, value.aggregation]);
        }
        return _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].toJson(o);
    }
    /**
     * Return a hash value of this query that excludes any pagination parameters
     */
    hash() {
        const obj = {};
        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].mergeAndSort(obj, this);
        // remove pagination
        delete obj.page;
        delete obj.pageSize;
        const str = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].toJson(obj);
        return _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].sha512(str);
    }
}


/***/ }),

/***/ "kT2W":
/*!*******************************************************************************!*\
  !*** ../components/alerts/bootstrap/alert-message/alert-message.component.ts ***!
  \*******************************************************************************/
/*! exports provided: BsAlertMessageComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsAlertMessageComponent", function() { return BsAlertMessageComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");


class BsAlertMessageComponent {
}
BsAlertMessageComponent.ɵfac = function BsAlertMessageComponent_Factory(t) { return new (t || BsAlertMessageComponent)(); };
BsAlertMessageComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsAlertMessageComponent, selectors: [["sq-alert-message"]], inputs: { message: "message" }, decls: 2, vars: 1, consts: [["role", "alert", 1, "alert", "alert-danger", "ml-3", "mr-3", "p-3", "text-center"]], template: function BsAlertMessageComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", ctx.message, "\n");
    } }, encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsAlertMessageComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'sq-alert-message',
                templateUrl: './alert-message.component.html'
            }]
    }], null, { message: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "kpDA":
/*!******************************************************************************!*\
  !*** ../components/saved-queries/bootstrap/query-exporter/query-exporter.ts ***!
  \******************************************************************************/
/*! exports provided: BsQueryExporter */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsQueryExporter", function() { return BsQueryExporter; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/web-services */ "cIYa");
/* harmony import */ var _sinequa_components_action__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/components/action */ "WsHA");
/* harmony import */ var _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/components/selection */ "8GPZ");
/* harmony import */ var _saved_queries_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../saved-queries.service */ "6FzQ");
/* harmony import */ var _action_bootstrap_action_buttons_action_buttons__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../action/bootstrap/action-buttons/action-buttons */ "9+ai");







const _c0 = function (a0) { return [a0]; };
const _c1 = function (a0, a2) { return { items: a0, autoAdjust: true, rightAligned: a2 }; };
/**
 * Toolbar component for Export query feature.
 *
 */
class BsQueryExporter {
    constructor(selectionService, savedQueriesService) {
        this.selectionService = selectionService;
        this.savedQueriesService = savedQueriesService;
        this.exportAction = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_2__["Action"]({
            icon: 'fas fa-download',
            title: 'msg#exportQuery.btnTitle',
            action: (item, event) => {
                this.export();
            }
        });
    }
    /**
     * Check if the client has selected some records.
     *
     * @returns true if the client has selected some records.
     */
    hasSelectedRecords() {
        return this.selectionService.haveSelectedRecords;
    }
    /**
     * Generic export function.
     * <p>
     * Opens up a dialog to let user choose the export source, export format and other parameters.
     *
     * @memberof QueryExporter
     */
    export() {
        this.savedQueriesService.exportModal(this.hasSelectedRecords() ? _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_1__["ExportSourceType"].Selection : _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_1__["ExportSourceType"].Result);
    }
}
BsQueryExporter.ɵfac = function BsQueryExporter_Factory(t) { return new (t || BsQueryExporter)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_selection__WEBPACK_IMPORTED_MODULE_3__["SelectionService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_saved_queries_service__WEBPACK_IMPORTED_MODULE_4__["SavedQueriesService"])); };
BsQueryExporter.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsQueryExporter, selectors: [["sq-query-exporter"]], inputs: { results: "results", rightAligned: "rightAligned" }, decls: 1, vars: 6, consts: [[3, "sq-action-buttons"]], template: function BsQueryExporter_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "div", 0);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("sq-action-buttons", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction2"](3, _c1, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](1, _c0, ctx.exportAction), ctx.rightAligned));
    } }, directives: [_action_bootstrap_action_buttons_action_buttons__WEBPACK_IMPORTED_MODULE_5__["BsActionButtons"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsQueryExporter, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'sq-query-exporter',
                templateUrl: './query-exporter.html'
            }]
    }], function () { return [{ type: _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_3__["SelectionService"] }, { type: _saved_queries_service__WEBPACK_IMPORTED_MODULE_4__["SavedQueriesService"] }]; }, { results: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], rightAligned: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "kruh":
/*!******************************************************!*\
  !*** ./src/app/search-form/search-form.component.ts ***!
  \******************************************************/
/*! exports provided: SearchFormComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SearchFormComponent", function() { return SearchFormComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ "nIj0");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../config */ "1wtQ");
/* harmony import */ var _autocomplete_extended_directive__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./autocomplete-extended.directive */ "YslT");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/operators */ "0Wlh");
/* harmony import */ var _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sinequa/components/utils */ "DD1E");
/* harmony import */ var _sinequa_components_search__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @sinequa/components/search */ "7+c1");
/* harmony import */ var _sinequa_core_login__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @sinequa/core/login */ "7O5u");
/* harmony import */ var _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @sinequa/core/app-utils */ "SBPP");
/* harmony import */ var _sinequa_components_user_settings__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @sinequa/components/user-settings */ "ooqV");
/* harmony import */ var _sinequa_components_advanced__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @sinequa/components/advanced */ "c96x");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/router */ "sEIs");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _components_autocomplete_bootstrap_field_search_items_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../components/autocomplete/bootstrap/field-search-items.component */ "rccd");
/* harmony import */ var _components_utils_directives_autofocus__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../components/utils/directives/autofocus */ "1ak2");
/* harmony import */ var _components_utils_directives_tooltip_tooltip_directive__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../components/utils/directives/tooltip/tooltip.directive */ "v6qE");
/* harmony import */ var _components_autocomplete_bootstrap_autocomplete_list_autocomplete_list__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../components/autocomplete/bootstrap/autocomplete-list/autocomplete-list */ "0Tqz");
/* harmony import */ var _components_advanced_bootstrap_advanced_form_select_advanced_form_select__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../components/advanced/bootstrap/advanced-form-select/advanced-form-select */ "p6KM");
/* harmony import */ var _components_advanced_bootstrap_advanced_form_range_advanced_form_range__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../components/advanced/bootstrap/advanced-form-range/advanced-form-range */ "xE+r");
/* harmony import */ var _components_advanced_bootstrap_advanced_form_multi_input_advanced_form_multi_input__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../components/advanced/bootstrap/advanced-form-multi-input/advanced-form-multi-input */ "VEf0");
/* harmony import */ var _components_advanced_bootstrap_advanced_form_input_advanced_form_input__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../components/advanced/bootstrap/advanced-form-input/advanced-form-input */ "1wgL");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../../core/intl/message.pipe */ "X1Kh");

























const _c0 = ["searchInput"];
const _c1 = ["searchContainer"];
function SearchFormComponent_button_4_Template(rf, ctx) { if (rf & 1) {
    const _r16 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("mouseup", function SearchFormComponent_button_4_Template_button_mouseup_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r16); const ctx_r15 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r15.endScroll(); })("mousedown", function SearchFormComponent_button_4_Template_button_mousedown_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r16); const ctx_r17 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r17.scrollLeft(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "i", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("sqTooltip", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](1, 2, "msg#searchForm.scrollLeft"))("disabled", !ctx_r0.loginService.complete ? "" : null);
} }
function SearchFormComponent_button_12_Template(rf, ctx) { if (rf & 1) {
    const _r19 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("mouseup", function SearchFormComponent_button_12_Template_button_mouseup_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r19); const ctx_r18 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r18.endScroll(); })("mousedown", function SearchFormComponent_button_12_Template_button_mousedown_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r19); const ctx_r20 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r20.scrollRight(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "i", 24);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("sqTooltip", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](1, 2, "msg#searchForm.scrollRight"))("disabled", !ctx_r4.loginService.complete ? "" : null);
} }
function SearchFormComponent_button_13_Template(rf, ctx) { if (rf & 1) {
    const _r22 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 25);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function SearchFormComponent_button_13_Template_button_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r22); const ctx_r21 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r21.clearForm(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "i", 26);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("sqTooltip", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](1, 2, "msg#searchForm.clear"))("disabled", !ctx_r5.loginService.complete ? "" : null);
} }
function SearchFormComponent_button_14_Template(rf, ctx) { if (rf & 1) {
    const _r24 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 25);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function SearchFormComponent_button_14_Template_button_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r24); const ctx_r23 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r23.toggleKeepFilters(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "i", 27);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("sqTooltip", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](1, 3, ctx_r6.keepFiltersTitle))("disabled", !ctx_r6.loginService.complete ? "" : null);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", ctx_r6.keepFilters ? "light-green" : "text-muted");
} }
function SearchFormComponent_button_15_Template(rf, ctx) { if (rf & 1) {
    const _r26 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function SearchFormComponent_button_15_Template_button_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r26); const ctx_r25 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r25.toggleVoice(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "i", 29);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("sqTooltip", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](1, 2, "msg#searchForm.voiceRecognition"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", ctx_r7.voiceRecognitionState ? "light-green" : "text-muted");
} }
const _c2 = function (a0, a1, a2) { return { "text-muted": a0, "light-green": a1, "light-blue": a2 }; };
function SearchFormComponent_button_16_Template(rf, ctx) { if (rf & 1) {
    const _r28 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 30);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function SearchFormComponent_button_16_Template_button_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r28); const ctx_r27 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r27.toggleAdvancedSearch(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "i", 31);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("sqTooltip", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](1, 6, "msg#searchForm.advancedSearch"))("disabled", !ctx_r8.loginService.complete ? "" : null);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMapInterpolate1"]("fas fa-chevron-circle-", ctx_r8.showAdvancedSearch ? "up" : "down", "");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction3"](8, _c2, !ctx_r8.hasAdvancedContent() && !ctx_r8.isAdvancedSearchActive(), ctx_r8.isAdvancedSearchActive(), ctx_r8.hasAdvancedContent() && !ctx_r8.isAdvancedSearchActive()));
} }
function SearchFormComponent_div_21_button_7_Template(rf, ctx) { if (rf & 1) {
    const _r33 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 39);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function SearchFormComponent_div_21_button_7_Template_button_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r33); const ctx_r32 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r32.clearAdvancedSearch(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "i", 40);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("sqTooltip", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](1, 1, "msg#facet.clearSelects"));
} }
function SearchFormComponent_div_21_div_8_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 41);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "span", 42);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function SearchFormComponent_div_21_div_9_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 41);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "sq-advanced-form-select", 43);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "sq-advanced-form-select", 43);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](3, "sq-advanced-form-range", 44);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](4, "sq-advanced-form-range", 44);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](5, "sq-advanced-form-multi-input", 45);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](6, "sq-advanced-form-input", 45);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r31 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("form", ctx_r31.form)("field", "treepath")("multiple", true);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("form", ctx_r31.form)("field", "authors")("multiple", true);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("form", ctx_r31.form)("field", "size");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("form", ctx_r31.form)("field", "modified");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("form", ctx_r31.form)("field", "person")("suggestQuery", ctx_r31.appService.suggestQueries ? ctx_r31.appService.suggestQueries[0] : "");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("form", ctx_r31.form)("field", "docformat")("suggestQuery", ctx_r31.appService.suggestQueries ? ctx_r31.appService.suggestQueries[0] : "");
} }
function SearchFormComponent_div_21_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 32);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 33);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 34);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "span", 35);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](4, "i", 36);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](6, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](7, SearchFormComponent_div_21_button_7_Template, 3, 3, "button", 37);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](8, SearchFormComponent_div_21_div_8_Template, 2, 0, "div", 38);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](9, SearchFormComponent_div_21_div_9_Template, 7, 16, "div", 38);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](6, 4, "msg#searchForm.advancedSearch"), " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r9.isAdvancedSearchActive());
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx_r9.firstPageService.firstPage);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r9.firstPageService.firstPage);
} }
function SearchFormComponent_ng_template_24_small_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "small", 49);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const item_r34 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 1, item_r34.label || item_r34.category));
} }
function SearchFormComponent_ng_template_24_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 46);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "i");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "span", 47);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, SearchFormComponent_ng_template_24_small_3_Template, 3, 3, "small", 48);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const item_r34 = ctx.$implicit;
    const ctx_r12 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMap"](ctx_r12.autocompleteIcon(item_r34.category));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("innerHTML", item_r34.displayHtml || item_r34.display, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeHtml"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", item_r34.category);
} }
function SearchFormComponent_ng_template_26_Template(rf, ctx) { if (rf & 1) {
    const _r38 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 50);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 51);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "input", 52);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function SearchFormComponent_ng_template_26_Template_input_click_4_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r38); const ctx_r37 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r37.setMode("off"); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "label", 53);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function SearchFormComponent_ng_template_26_Template_label_click_5_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r38); const ctx_r39 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r39.setMode("off", $event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](7, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "div", 51);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](9, "input", 54);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function SearchFormComponent_ng_template_26_Template_input_click_9_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r38); const ctx_r40 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r40.setMode("selects"); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](10, "label", 55);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function SearchFormComponent_ng_template_26_Template_label_click_10_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r38); const ctx_r41 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r41.setMode("selects", $event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](11, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](13, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](14, "div", 51);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](15, "input", 56);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function SearchFormComponent_ng_template_26_Template_input_click_15_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r38); const ctx_r42 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r42.setMode("text"); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](16, "label", 57);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function SearchFormComponent_ng_template_26_Template_label_click_16_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r38); const ctx_r43 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r43.setMode("text", $event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](17, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](18);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](19, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r14 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 9, "msg#searchForm.fieldedSearch"), ": \u00A0 ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("checked", ctx_r14.getMode() === "off");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](7, 11, "msg#searchForm.off"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("checked", ctx_r14.getMode() === "selects");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("title", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](11, 13, "msg#searchForm.simpleTitle"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](13, 15, "msg#searchForm.simple"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("checked", ctx_r14.getMode() === "text");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("title", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](17, 17, "msg#searchForm.advancedTitle"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](19, 19, "msg#searchForm.advanced"));
} }
const _c3 = function (a0) { return { "is-invalid": a0 }; };
const _c4 = function () { return ["concepts", "textlexicon", "recent-query", "saved-query", "basket", "recent-document"]; };
class SearchFormComponent {
    constructor(voiceService, searchService, loginService, formBuilder, appService, prefs, firstPageService, advancedService, route) {
        this.voiceService = voiceService;
        this.searchService = searchService;
        this.loginService = loginService;
        this.formBuilder = formBuilder;
        this.appService = appService;
        this.prefs = prefs;
        this.firstPageService = firstPageService;
        this.advancedService = advancedService;
        this.route = route;
        this.autofocus = 0;
        this.enableAdvancedForm = false; // Show the advanced form button or not
        /** Define if a filter, NOT belonging to fielded & advanced search, is currently applied to the searchService.query */
        this.isFiltering = false;
        /** Specify if already applied filters should be kept or not while chaining searches */
        this.keepFilters = false;
        this.keepFiltersTitle = 'msg#searchForm.notKeepFilters';
        this.enableKeepFilters = false; // Show the "keep filters" button or not
        /** USED ALONG WITH keepFilters context, to optionally reset the advanced-search or not */
        this.keepAdvancedSearchFilters = false;
        /** Define if should stay on the same tab even after a new search */
        this.keepTab = false;
        /** Voice recognition */
        this.voiceRecognitionState = false;
        this.enableVoiceRecognition = false; // Show the voice recognition button or not
        this.hasScroll = false;
        this.subscriptions = [];
        this.voiceService.init();
        this.subscriptions.push(...[
            this.voiceService.started.subscribe(state => {
                this.voiceRecognitionState = state;
            }),
            this.voiceService.text.subscribe(value => {
                this.searchControl.setValue(value);
            })
        ]);
    }
    /**
     * Initialization of the form
     */
    ngOnInit() {
        this.searchControl = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"]('');
        this.form = this.formBuilder.group({
            search: this.searchControl
        });
        // Every time the query changes, we want to update the search form
        this.subscriptions.push(this.searchService.queryStream.subscribe(query => {
            var _a, _b, _c, _d, _e, _f, _g, _h;
            // Update main search bar
            this.searchControl.setValue(((_a = this.searchService.query) === null || _a === void 0 ? void 0 : _a.text) || '');
            this.fieldSearchExpression = (_b = query === null || query === void 0 ? void 0 : query.findSelect("search-form")) === null || _b === void 0 ? void 0 : _b.expression;
            this.autofocus++;
            // Update advanced form
            (_c = this.form.get('treepath')) === null || _c === void 0 ? void 0 : _c.setValue(this.advancedService.getValue('treepath'));
            (_d = this.form.get('authors')) === null || _d === void 0 ? void 0 : _d.setValue(this.advancedService.getValue('authors'));
            (_e = this.form.get('size')) === null || _e === void 0 ? void 0 : _e.setValue(this.advancedService.getRangeValue('size'));
            (_f = this.form.get('modified')) === null || _f === void 0 ? void 0 : _f.setValue(this.advancedService.getRangeValue('modified'));
            (_g = this.form.get('person')) === null || _g === void 0 ? void 0 : _g.setValue(this.advancedService.getValue('person'));
            (_h = this.form.get('docformat')) === null || _h === void 0 ? void 0 : _h.setValue(this.advancedService.getValue('docformat'));
            // Update the filtering status
            this._updateFilteringStatus();
            // Check user preferences regarding keeping filters
            if (typeof this.prefs.get('keep-filters-state') !== 'undefined') {
                this.keepFilters = this.prefs.get('keep-filters-state');
                this.keepFiltersTitle = this.keepFilters ? 'msg#searchForm.keepFilters' : 'msg#searchForm.notKeepFilters';
            }
        }));
        // Initialize the search form options (either now, or when login is complete)
        if (this.appService.app) {
            this.setOptions();
        }
        else {
            this.subscriptions.push(this.loginService.events.subscribe(event => {
                if (this.appService.app) {
                    this.setOptions();
                }
            }));
        }
    }
    ngDoCheck() {
        var _a, _b;
        // Check if the input has a scrollbar
        this.hasScroll = ((_a = this.searchContainer) === null || _a === void 0 ? void 0 : _a.nativeElement.scrollWidth) > ((_b = this.searchContainer) === null || _b === void 0 ? void 0 : _b.nativeElement.clientWidth);
    }
    ngOnDestroy() {
        this.subscriptions.map(item => item.unsubscribe());
    }
    setOptions() {
        var _a, _b;
        const features = ((_b = (_a = this.appService.app) === null || _a === void 0 ? void 0 : _a.data) === null || _b === void 0 ? void 0 : _b.features) || _config__WEBPACK_IMPORTED_MODULE_2__["FEATURES"];
        features.forEach(feature => {
            switch (feature) {
                case "advanced-form":
                    this.enableAdvancedForm = true;
                    break;
                case "keep-advanced-form-filters":
                    this.keepAdvancedSearchFilters = true;
                    break;
                case "keep-tab":
                    this.keepTab = true;
                    break;
                case "keep-filters": {
                    // Initialize keep filter flag, if not already in preferences
                    if (typeof this.prefs.get('keep-filters-state') === 'undefined') {
                        this.keepFilters = true;
                    }
                    break;
                }
                case "toggle-keep-filters":
                    this.enableKeepFilters = true;
                    break;
                case "voice-recognition":
                    this.enableVoiceRecognition = true;
                    break;
            }
        });
    }
    /**
     * Trigger a search query via the search service
     */
    search() {
        var _a, _b, _c, _d, _e, _f, _g;
        if (this.loginService.complete && this.form.valid) {
            /** Hide autocomplete suggestions */
            this.searchInput.nativeElement.blur();
            /** Store relevant filters (tab ...)*/
            const queryTab = this.searchService.query.tab;
            /** If this.keepFilters = false, clear the query and reset all its filters. */
            if (!this.keepFilters) {
                this.searchService.clearQuery();
                /** MUST explicitly reset the advanced form if this.keepAdvancedSearchFilters = false */
                if (!this.keepAdvancedSearchFilters && !this.showAdvancedSearch) {
                    this.clearAdvancedForm();
                }
            }
            /** Close the advanced form */
            this.showAdvancedSearch = false;
            /** Update the new query with entered text */
            this.searchService.query.text = ((_a = this.searchControl) === null || _a === void 0 ? void 0 : _a.value) || "";
            /** Update advanced search filters */
            this.advancedService.setSelect('treepath', (_b = this.form.get('treepath')) === null || _b === void 0 ? void 0 : _b.value);
            this.advancedService.setSelect('authors', (_c = this.form.get('authors')) === null || _c === void 0 ? void 0 : _c.value);
            this.advancedService.setRangeSelect('size', (_d = this.form.get('size')) === null || _d === void 0 ? void 0 : _d.value);
            this.advancedService.setRangeSelect('modified', (_e = this.form.get('modified')) === null || _e === void 0 ? void 0 : _e.value);
            this.advancedService.setSelect('person', (_f = this.form.get('person')) === null || _f === void 0 ? void 0 : _f.value);
            this.advancedService.setSelect('docformat', (_g = this.form.get('docformat')) === null || _g === void 0 ? void 0 : _g.value);
            /** Add select from the fielded search ("selects", aka "simple" mode) */
            if (this.getMode() === "selects") {
                this.searchService.query.removeSelect("search-form"); // Prevent having multiple instance if this.keepFilters = true
                const expr = this.autocompleteDirective.getFieldSearchExpression();
                if (expr) {
                    this.searchService.query.addSelect(expr, "search-form");
                }
            }
            // if this.keepTab, stay on the same tab even after a new search
            if (this.keepTab && !!queryTab) {
                this.searchService.query.tab = queryTab;
            }
            /** Trigger the search with the new criteria */
            this.searchService.searchText("search");
        }
    }
    /**
     * Test if the search input is not empty
     */
    hasContent() {
        return this.searchControl.value
            || this.fieldSearchExpression;
    }
    /**
     * Clears the search input and the fielded search
     */
    clearForm() {
        this.searchControl.reset();
        this.fieldSearchExpression = "";
    }
    /**
     * Test if the advanced form has non-undefined values set
     */
    hasAdvancedContent() {
        var _a, _b, _c, _d, _e, _f, _g, _h;
        return ((_a = this.form.get("treepath")) === null || _a === void 0 ? void 0 : _a.value) || ((_b = this.form.get("authors")) === null || _b === void 0 ? void 0 : _b.value)
            || ((_d = (_c = this.form.get("size")) === null || _c === void 0 ? void 0 : _c.value) === null || _d === void 0 ? void 0 : _d.find(v => v))
            || ((_f = (_e = this.form.get("modified")) === null || _e === void 0 ? void 0 : _e.value) === null || _f === void 0 ? void 0 : _f.find(v => v))
            || ((_g = this.form.get("person")) === null || _g === void 0 ? void 0 : _g.value)
            || ((_h = this.form.get("docformat")) === null || _h === void 0 ? void 0 : _h.value);
    }
    /**
     * Clears the advanced-search form
     */
    clearAdvancedSearch() {
        this.advancedService.resetAdvancedValues();
        /** Close the advanced form */
        this.showAdvancedSearch = false;
    }
    /**
     * Test if the query contains advanced-search related filters
     */
    isAdvancedSearchActive() {
        return this.searchService.query.hasAdvanced();
    }
    /**
     * Clear only the advanced form
     */
    clearAdvancedForm() {
        if (this.initAdvanced) {
            this.advancedService.resetControl(this.form.get("treepath"));
            this.advancedService.resetControl(this.form.get("authors"));
            this.advancedService.resetRangeControl(this.form.get("size"));
            this.advancedService.resetRangeControl(this.form.get("modified"));
            this.advancedService.resetControl(this.form.get("person"));
            this.advancedService.resetControl(this.form.get("docformat"));
        }
    }
    onParse(parseResult) {
        this.parseResult = parseResult;
        this.searchControl.setErrors(parseResult.error ? { incorrect: true } : null);
    }
    /**
     * Autocomplete icon per category
     * @param category
     */
    autocompleteIcon(category) {
        switch (category) {
            case "recent-document": return "far fa-file-alt fa-fw";
            case "recent-query": return "fas fa-history fa-fw";
            case "basket": return "fas fa-inbox fa-fw";
            case "saved-query": return "far fa-save fa-fw";
        }
        return "far fa-lightbulb fa-fw";
    }
    /**
     * Retrieve autocomplete sources, which include the standard
     */
    get autocompleteSources() {
        var _a, _b;
        return ((_b = (_a = this.appService.app) === null || _a === void 0 ? void 0 : _a.data) === null || _b === void 0 ? void 0 : _b.features) || _config__WEBPACK_IMPORTED_MODULE_2__["FEATURES"];
    }
    /**
     * Sets the field search mode
     * event.preventDefault() to avoid the label stealing the focus
     * and closing the autocomplete...
     */
    setMode(mode, event) {
        event === null || event === void 0 ? void 0 : event.preventDefault();
        this.prefs.set('field-search-mode', mode);
    }
    /**
     * Returns the field search mode, stored in user
     * preferences
     */
    getMode() {
        return this.prefs.get('field-search-mode') || "selects";
    }
    /**
     * Toggle the keepFilters status
     */
    toggleKeepFilters() {
        this.keepFilters = !this.keepFilters;
        this.keepFiltersTitle = this.keepFilters ? 'msg#searchForm.keepFilters' : 'msg#searchForm.notKeepFilters';
        /** Sets the state of keeping search's filters*/
        this.prefs.set('keep-filters-state', this.keepFilters);
    }
    /**
     * Programmatically handle opening/closing of the advanced-search form
     */
    toggleAdvancedSearch() {
        this.showAdvancedSearch = !this.showAdvancedSearch;
        this._instantiateAdvancedForm();
    }
    toggleVoice() {
        this.voiceService.toggleRecognition();
    }
    scrollRight() {
        this.timeout = setTimeout(() => {
            this._scrollRight();
        }, 100);
    }
    scrollLeft() {
        this.timeout = setTimeout(() => {
            this._scrollLeft();
        }, 100);
    }
    endScroll() {
        clearTimeout(this.timeout);
    }
    _scrollRight() {
        this.searchContainer.nativeElement.scrollLeft += 20;
        this.scrollRight();
    }
    _scrollLeft() {
        this.searchContainer.nativeElement.scrollLeft -= 20;
        this.scrollLeft();
    }
    /**
     * Close the advanced-search form if the search input is focused
     */
    onMouseDown() {
        this.showAdvancedSearch = false;
    }
    /**
     * Instantiation of the advanced search form and its dependencies/configurations
     */
    _instantiateAdvancedForm() {
        if (!this.initAdvanced) {
            this.firstPageService.getFirstPage().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["take"])(1)).subscribe(() => { }, () => { }, () => {
                this.form.addControl('treepath', this.advancedService.createSelectControl('treepath'));
                this.form.addControl('authors', this.advancedService.createSelectControl('authors'));
                this.form.addControl('size', this.advancedService.createRangeControl('size', [this.advancedService.validators.range('size')]));
                this.form.addControl('modified', this.advancedService.createRangeControl('modified', [
                    this.advancedService.validators.range('modified'),
                    this.advancedService.validators.date('modified')
                ]));
                this.form.addControl('person', this.advancedService.createMultiInputControl('person'));
                this.form.addControl('docformat', this.advancedService.createInputControl('docformat'));
                this.initAdvanced = true;
            });
        }
    }
    /**
     * Update the status of filters (other than advanced & fielded search filters) existence in this.searchService.query
     */
    _updateFilteringStatus() {
        var _a;
        const _query = this.searchService.query.copy();
        this.isFiltering = (((_a = _query.toStandard().select) === null || _a === void 0 ? void 0 : _a.filter((select) => select.facet !== "search-form").length) || 0) > 0;
    }
}
SearchFormComponent.ɵfac = function SearchFormComponent_Factory(t) { return new (t || SearchFormComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_utils__WEBPACK_IMPORTED_MODULE_5__["VoiceRecognitionService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_search__WEBPACK_IMPORTED_MODULE_6__["SearchService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_login__WEBPACK_IMPORTED_MODULE_7__["LoginService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormBuilder"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_8__["AppService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_user_settings__WEBPACK_IMPORTED_MODULE_9__["UserPreferences"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_search__WEBPACK_IMPORTED_MODULE_6__["FirstPageService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_advanced__WEBPACK_IMPORTED_MODULE_10__["AdvancedService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_11__["ActivatedRoute"])); };
SearchFormComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: SearchFormComponent, selectors: [["app-search-form"]], viewQuery: function SearchFormComponent_Query(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_autocomplete_extended_directive__WEBPACK_IMPORTED_MODULE_3__["AutocompleteExtended"], true);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c0, true);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c1, true);
    } if (rf & 2) {
        let _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.autocompleteDirective = _t.first);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.searchInput = _t.first);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.searchContainer = _t.first);
    } }, decls: 28, vars: 29, consts: [[1, "d-flex", "flex-column", "flex-grow-1", "position-relative"], ["novalidate", "", 3, "formGroup"], [1, "input-group"], [1, "form-control", "d-flex", "pr-1", 3, "title", "ngClass"], ["type", "button", "class", "btn btn-focus p-0", 3, "sqTooltip", "disabled", "mouseup", "mousedown", 4, "ngIf"], [1, "d-flex", "search-form-control", "scrollbar-hidden"], ["searchContainer", ""], ["fieldSearchItemsContainer", ""], ["type", "text", "formControlName", "search", "spellcheck", "false", "autocomplete", "off", 1, "search-input", "flex-grow-1", 3, "placeholder", "sqAutofocus", "sqAutocompleteExtended", "dropdown", "off", "suggestQuery", "fieldSearchMode", "fieldSearchExpression", "fieldSearchItemsContainer", "excludedFields", "submit", "parse", "mousedown"], ["searchInput", ""], ["type", "button", "class", "btn btn-focus p-0 mr-2", 3, "sqTooltip", "disabled", "mouseup", "mousedown", 4, "ngIf"], ["type", "button", "class", "btn btn-focus p-0 mr-2", 3, "sqTooltip", "disabled", "click", 4, "ngIf"], ["type", "button", "class", "btn btn-focus p-0 mr-2", 3, "sqTooltip", "click", 4, "ngIf"], ["type", "button", "class", "btn p-0 pr-1", 3, "sqTooltip", "disabled", "click", 4, "ngIf"], [1, "input-group-append"], ["type", "button", 1, "btn", "btn-primary", 3, "sqTooltip", "disabled", "click"], [1, "fas", "fa-search"], ["class", "card advanced-search", 4, "ngIf"], ["dropdown", ""], ["itemTpl", ""], ["footerTpl", ""], ["type", "button", 1, "btn", "btn-focus", "p-0", 3, "sqTooltip", "disabled", "mouseup", "mousedown"], [1, "fas", "fa-chevron-circle-left", "text-muted"], ["type", "button", 1, "btn", "btn-focus", "p-0", "mr-2", 3, "sqTooltip", "disabled", "mouseup", "mousedown"], [1, "fas", "fa-chevron-circle-right", "text-muted"], ["type", "button", 1, "btn", "btn-focus", "p-0", "mr-2", 3, "sqTooltip", "disabled", "click"], [1, "fas", "fa-times-circle", "text-muted"], [1, "fas", "fa-filter", 3, "ngClass"], ["type", "button", 1, "btn", "btn-focus", "p-0", "mr-2", 3, "sqTooltip", "click"], [1, "fas", "fa-microphone", 3, "ngClass"], ["type", "button", 1, "btn", "p-0", "pr-1", 3, "sqTooltip", "disabled", "click"], [3, "ngClass"], [1, "card", "advanced-search"], [1, "card-header", "pl-3", "pr-2", "py-1"], [1, "d-flex", "justify-content-between"], [1, "mb-0", "py-1"], [1, "fab", "fa-searchengin", "mr-2"], ["type", "button", "class", "btn btn-light btn-sm", 3, "sqTooltip", "click", 4, "ngIf"], ["class", "d-flex flex-column align-items-stretch pl-3 pr-2 py-1", 4, "ngIf"], ["type", "button", 1, "btn", "btn-light", "btn-sm", 3, "sqTooltip", "click"], [1, "far", "fa-minus-square"], [1, "d-flex", "flex-column", "align-items-stretch", "pl-3", "pr-2", "py-1"], [1, "fas", "fa-sync", "fa-spin", "fa-fw"], [3, "form", "field", "multiple"], [3, "form", "field"], [3, "form", "field", "suggestQuery"], [1, "autocomplete-item", "p-2"], [1, "mx-2", 3, "innerHTML"], ["class", "autocomplete-category ml-2", 4, "ngIf"], [1, "autocomplete-category", "ml-2"], [1, "small", "d-flex", "align-items-center"], [1, "form-check", "form-check-inline"], ["type", "radio", "id", "off", "value", "off", 1, "form-check-input", 3, "checked", "click"], ["for", "off", 1, "form-check-label", 3, "click"], ["type", "radio", "id", "selects", "value", "selects", 1, "form-check-input", 3, "checked", "click"], ["for", "selects", 1, "form-check-label", 3, "title", "click"], ["type", "radio", "id", "text", "value", "text", 1, "form-check-input", 3, "checked", "click"], ["for", "text", 1, "form-check-label", 3, "title", "click"]], template: function SearchFormComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "form", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, SearchFormComponent_button_4_Template, 3, 4, "button", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "div", 5, 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](7, "sq-field-search-items", null, 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](9, "input", 8, 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("submit", function SearchFormComponent_Template_input_submit_9_listener() { return ctx.search(); })("parse", function SearchFormComponent_Template_input_parse_9_listener($event) { return ctx.onParse($event); })("mousedown", function SearchFormComponent_Template_input_mousedown_9_listener() { return ctx.onMouseDown(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](11, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](12, SearchFormComponent_button_12_Template, 3, 4, "button", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](13, SearchFormComponent_button_13_Template, 3, 4, "button", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](14, SearchFormComponent_button_14_Template, 3, 5, "button", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](15, SearchFormComponent_button_15_Template, 3, 4, "button", 12);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](16, SearchFormComponent_button_16_Template, 3, 12, "button", 13);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](17, "div", 14);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](18, "button", 15);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function SearchFormComponent_Template_button_click_18_listener() { return ctx.search(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](19, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](20, "i", 16);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](21, SearchFormComponent_div_21_Template, 10, 6, "div", 17);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](22, "sq-autocomplete-list", null, 18);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](24, SearchFormComponent_ng_template_24_Template, 4, 5, "ng-template", null, 19, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplateRefExtractor"]);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](26, SearchFormComponent_ng_template_26_Template, 20, 21, "ng-template", null, 20, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplateRefExtractor"]);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        const _r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](8);
        const _r10 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](23);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("title", (ctx.parseResult == null ? null : ctx.parseResult.error) || "")("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](26, _c3, !!(ctx.parseResult == null ? null : ctx.parseResult.error)));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.hasScroll);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("placeholder", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](11, 22, "msg#searchForm.searchFor"))("sqAutofocus", ctx.autofocus)("sqAutocompleteExtended", ctx.autocompleteSources)("dropdown", _r10)("off", !ctx.loginService.complete || !ctx.appService.suggestQueries)("suggestQuery", ctx.appService.suggestQueries ? ctx.appService.suggestQueries[0] : "")("fieldSearchMode", ctx.getMode())("fieldSearchExpression", ctx.fieldSearchExpression)("fieldSearchItemsContainer", _r2)("excludedFields", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction0"](28, _c4));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.hasScroll);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.hasContent());
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.isFiltering && ctx.enableKeepFilters);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.voiceService.available && ctx.enableVoiceRecognition);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.enableAdvancedForm);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("sqTooltip", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](19, 24, "msg#searchForm.search"))("disabled", !ctx.loginService.complete || !ctx.form.valid ? "" : null);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.showAdvancedSearch);
    } }, directives: [_angular_forms__WEBPACK_IMPORTED_MODULE_1__["ɵangular_packages_forms_forms_y"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["NgControlStatusGroup"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormGroupDirective"], _angular_common__WEBPACK_IMPORTED_MODULE_12__["NgClass"], _angular_common__WEBPACK_IMPORTED_MODULE_12__["NgIf"], _components_autocomplete_bootstrap_field_search_items_component__WEBPACK_IMPORTED_MODULE_13__["BsFieldSearchItemsComponent"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["DefaultValueAccessor"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["NgControlStatus"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControlName"], _components_utils_directives_autofocus__WEBPACK_IMPORTED_MODULE_14__["Autofocus"], _autocomplete_extended_directive__WEBPACK_IMPORTED_MODULE_3__["AutocompleteExtended"], _components_utils_directives_tooltip_tooltip_directive__WEBPACK_IMPORTED_MODULE_15__["TooltipDirective"], _components_autocomplete_bootstrap_autocomplete_list_autocomplete_list__WEBPACK_IMPORTED_MODULE_16__["BsAutocompleteList"], _components_advanced_bootstrap_advanced_form_select_advanced_form_select__WEBPACK_IMPORTED_MODULE_17__["BsAdvancedFormSelect"], _components_advanced_bootstrap_advanced_form_range_advanced_form_range__WEBPACK_IMPORTED_MODULE_18__["BsAdvancedFormRange"], _components_advanced_bootstrap_advanced_form_multi_input_advanced_form_multi_input__WEBPACK_IMPORTED_MODULE_19__["BsAdvancedFormMultiInput"], _components_advanced_bootstrap_advanced_form_input_advanced_form_input__WEBPACK_IMPORTED_MODULE_20__["BsAdvancedFormInput"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_21__["MessagePipe"]], styles: ["[_nghost-%COMP%] {\n  width: 13em;\n}\n\n.search-form-control[_ngcontent-%COMP%] {\n  width: 100%;\n  overflow-x: scroll;\n  overflow-y: hidden;\n}\n\n\n\n.scrollbar-hidden[_ngcontent-%COMP%]::-webkit-scrollbar {\n  display: none;\n}\n\n\n\n.scrollbar-hidden[_ngcontent-%COMP%] {\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n  \n}\n\n.search-input[_ngcontent-%COMP%] {\n  border: none;\n  width: 100%;\n  min-width: 100px;\n}\n\n.search-input[_ngcontent-%COMP%]:focus {\n  outline: none;\n}\n\n.form-control[focus-within][_ngcontent-%COMP%] {\n  color: #495057;\n  background-color: #fff;\n  border-color: #80bdff;\n  outline: 0;\n  box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);\n}\n\n.form-control[_ngcontent-%COMP%]:focus-within {\n  color: #495057;\n  background-color: #fff;\n  border-color: #80bdff;\n  outline: 0;\n  box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);\n}\n\n.form-control.is-invalid[focus-within][_ngcontent-%COMP%] {\n  border-color: #dc3545;\n  box-shadow: 0 0 0 0.2rem rgba(220, 53, 69, 0.25);\n}\n\n.form-control.is-invalid[_ngcontent-%COMP%]:focus-within {\n  border-color: #dc3545;\n  box-shadow: 0 0 0 0.2rem rgba(220, 53, 69, 0.25);\n}\n\n.advanced-search[_ngcontent-%COMP%] {\n  position: absolute;\n  width: 100%;\n  z-index: 99;\n  margin-bottom: 15px;\n}\n\n.light-green[_ngcontent-%COMP%] {\n  color: #b1dfbb !important;\n}\n\n.light-blue[_ngcontent-%COMP%] {\n  color: #9fcdff !important;\n}\n\n.form-control[_ngcontent-%COMP%]   .btn-focus[_ngcontent-%COMP%] {\n  display: none;\n}\n\n.form-control[_ngcontent-%COMP%]    ~ .btn-focus[_ngcontent-%COMP%] {\n  display: none;\n}\n\n.form-control[focus-within][_ngcontent-%COMP%]   .btn-focus[_ngcontent-%COMP%], .form-control[_ngcontent-%COMP%]:hover   .btn-focus[_ngcontent-%COMP%] {\n  display: inline;\n}\n\n.form-control[_ngcontent-%COMP%]:focus-within   .btn-focus[_ngcontent-%COMP%], .form-control[_ngcontent-%COMP%]:hover   .btn-focus[_ngcontent-%COMP%] {\n  display: inline;\n}\n\n.form-control[focus-within][_ngcontent-%COMP%]    ~ .btn-focus[_ngcontent-%COMP%] {\n  display: inline;\n}\n\n.form-control[_ngcontent-%COMP%]:focus-within    ~ .btn-focus[_ngcontent-%COMP%] {\n  display: inline;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2plY3RzL3ZhbmlsbGEtc2VhcmNoL3NyYy9hcHAvc2VhcmNoLWZvcm0vc2VhcmNoLWZvcm0uY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxXQUFBO0FBQ0Y7O0FBRUE7RUFDRSxXQUFBO0VBQ0Esa0JBQUE7RUFDQSxrQkFBQTtBQUNGOztBQUVBLGdEQUFBOztBQUNBO0VBQ0UsYUFBQTtBQUNGOztBQUVBLDRDQUFBOztBQUNBO0VBQ0Usd0JBQUE7RUFDQSxxQkFBQTtFQUNBLFlBQUE7QUFDRjs7QUFFQTtFQUNFLFlBQUE7RUFDQSxXQUFBO0VBQ0EsZ0JBQUE7QUFDRjs7QUFFQTtFQUNFLGFBQUE7QUFDRjs7QUFFQTtFQUNFLGNBQUE7RUFDQSxzQkFBQTtFQUNBLHFCQUFBO0VBQ0EsVUFBQTtFQUNBLGdEQUFBO0FBQ0Y7O0FBRUE7RUFDRSxjQUFBO0VBQ0Esc0JBQUE7RUFDQSxxQkFBQTtFQUNBLFVBQUE7RUFDQSxnREFBQTtBQUNGOztBQUVBO0VBQ0UscUJBQUE7RUFDQSxnREFBQTtBQUNGOztBQUVBO0VBQ0UscUJBQUE7RUFDQSxnREFBQTtBQUNGOztBQUVBO0VBQ0Usa0JBQUE7RUFDQSxXQUFBO0VBQ0EsV0FBQTtFQUNBLG1CQUFBO0FBQ0Y7O0FBRUE7RUFDRSx5QkFBQTtBQUNGOztBQUVBO0VBQ0UseUJBQUE7QUFDRjs7QUFFQTtFQUNFLGFBQUE7QUFDRjs7QUFDQTtFQUNFLGFBQUE7QUFFRjs7QUFDQTtFQUNFLGVBQUE7QUFFRjs7QUFDQTtFQUNFLGVBQUE7QUFFRjs7QUFDQTtFQUNFLGVBQUE7QUFFRjs7QUFDQTtFQUNFLGVBQUE7QUFFRiIsImZpbGUiOiJwcm9qZWN0cy92YW5pbGxhLXNlYXJjaC9zcmMvYXBwL3NlYXJjaC1mb3JtL3NlYXJjaC1mb3JtLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xuICB3aWR0aDogMTNlbTtcbn1cblxuLnNlYXJjaC1mb3JtLWNvbnRyb2wge1xuICB3aWR0aDogMTAwJTtcbiAgb3ZlcmZsb3cteDogc2Nyb2xsO1xuICBvdmVyZmxvdy15OiBoaWRkZW47XG59XG5cbi8qIEhpZGUgc2Nyb2xsYmFyIGZvciBDaHJvbWUsIFNhZmFyaSBhbmQgT3BlcmEgKi9cbi5zY3JvbGxiYXItaGlkZGVuOjotd2Via2l0LXNjcm9sbGJhciB7XG4gIGRpc3BsYXk6IG5vbmU7XG59XG5cbi8qIEhpZGUgc2Nyb2xsYmFyIGZvciBJRSwgRWRnZSBhZGQgRmlyZWZveCAqL1xuLnNjcm9sbGJhci1oaWRkZW4ge1xuICAtbXMtb3ZlcmZsb3ctc3R5bGU6IG5vbmU7XG4gIHNjcm9sbGJhci13aWR0aDogbm9uZTtcbiAgLyogRmlyZWZveCAqL1xufVxuXG4uc2VhcmNoLWlucHV0IHtcbiAgYm9yZGVyOiBub25lO1xuICB3aWR0aDogMTAwJTtcbiAgbWluLXdpZHRoOiAxMDBweDtcbn1cblxuLnNlYXJjaC1pbnB1dDpmb2N1cyB7XG4gIG91dGxpbmU6IG5vbmU7XG59XG5cbi5mb3JtLWNvbnRyb2xbZm9jdXMtd2l0aGluXSB7XG4gIGNvbG9yOiAjNDk1MDU3O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmO1xuICBib3JkZXItY29sb3I6ICM4MGJkZmY7XG4gIG91dGxpbmU6IDA7XG4gIGJveC1zaGFkb3c6IDAgMCAwIDAuMnJlbSByZ2JhKDAsIDEyMywgMjU1LCAwLjI1KTtcbn1cblxuLmZvcm0tY29udHJvbDpmb2N1cy13aXRoaW4ge1xuICBjb2xvcjogIzQ5NTA1NztcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgYm9yZGVyLWNvbG9yOiAjODBiZGZmO1xuICBvdXRsaW5lOiAwO1xuICBib3gtc2hhZG93OiAwIDAgMCAwLjJyZW0gcmdiYSgwLCAxMjMsIDI1NSwgMC4yNSk7XG59XG5cbi5mb3JtLWNvbnRyb2wuaXMtaW52YWxpZFtmb2N1cy13aXRoaW5dIHtcbiAgYm9yZGVyLWNvbG9yOiAjZGMzNTQ1O1xuICBib3gtc2hhZG93OiAwIDAgMCAwLjJyZW0gcmdiYSgyMjAsIDUzLCA2OSwgMC4yNSk7XG59XG5cbi5mb3JtLWNvbnRyb2wuaXMtaW52YWxpZDpmb2N1cy13aXRoaW4ge1xuICBib3JkZXItY29sb3I6ICNkYzM1NDU7XG4gIGJveC1zaGFkb3c6IDAgMCAwIDAuMnJlbSByZ2JhKDIyMCwgNTMsIDY5LCAwLjI1KTtcbn1cblxuLmFkdmFuY2VkLXNlYXJjaCB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgd2lkdGg6IDEwMCU7XG4gIHotaW5kZXg6IDk5O1xuICBtYXJnaW4tYm90dG9tOiAxNXB4O1xufVxuXG4ubGlnaHQtZ3JlZW4ge1xuICBjb2xvcjogI2IxZGZiYiAhaW1wb3J0YW50O1xufVxuXG4ubGlnaHQtYmx1ZSB7XG4gIGNvbG9yOiAjOWZjZGZmICFpbXBvcnRhbnQ7XG59XG5cbi5mb3JtLWNvbnRyb2wgLmJ0bi1mb2N1cyB7XG4gIGRpc3BsYXk6IG5vbmU7XG59XG4uZm9ybS1jb250cm9sIH4gLmJ0bi1mb2N1cyB7XG4gIGRpc3BsYXk6IG5vbmU7XG59XG5cbi5mb3JtLWNvbnRyb2xbZm9jdXMtd2l0aGluXSAuYnRuLWZvY3VzLCAuZm9ybS1jb250cm9sOmhvdmVyIC5idG4tZm9jdXMge1xuICBkaXNwbGF5OiBpbmxpbmU7XG59XG5cbi5mb3JtLWNvbnRyb2w6Zm9jdXMtd2l0aGluIC5idG4tZm9jdXMsIC5mb3JtLWNvbnRyb2w6aG92ZXIgLmJ0bi1mb2N1cyB7XG4gIGRpc3BsYXk6IGlubGluZTtcbn1cblxuLmZvcm0tY29udHJvbFtmb2N1cy13aXRoaW5dIH4gLmJ0bi1mb2N1cyB7XG4gIGRpc3BsYXk6IGlubGluZTtcbn1cblxuLmZvcm0tY29udHJvbDpmb2N1cy13aXRoaW4gfiAuYnRuLWZvY3VzIHtcbiAgZGlzcGxheTogaW5saW5lO1xufSJdfQ== */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](SearchFormComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'app-search-form',
                templateUrl: './search-form.component.html',
                styleUrls: ['./search-form.component.scss']
            }]
    }], function () { return [{ type: _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_5__["VoiceRecognitionService"] }, { type: _sinequa_components_search__WEBPACK_IMPORTED_MODULE_6__["SearchService"] }, { type: _sinequa_core_login__WEBPACK_IMPORTED_MODULE_7__["LoginService"] }, { type: _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormBuilder"] }, { type: _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_8__["AppService"] }, { type: _sinequa_components_user_settings__WEBPACK_IMPORTED_MODULE_9__["UserPreferences"] }, { type: _sinequa_components_search__WEBPACK_IMPORTED_MODULE_6__["FirstPageService"] }, { type: _sinequa_components_advanced__WEBPACK_IMPORTED_MODULE_10__["AdvancedService"] }, { type: _angular_router__WEBPACK_IMPORTED_MODULE_11__["ActivatedRoute"] }]; }, { autocompleteDirective: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: [_autocomplete_extended_directive__WEBPACK_IMPORTED_MODULE_3__["AutocompleteExtended"]]
        }], searchInput: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ['searchInput']
        }], searchContainer: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ['searchContainer']
        }] }); })();


/***/ }),

/***/ "l9Gu":
/*!***************************************!*\
  !*** ../components/metadata/index.ts ***!
  \***************************************/
/*! exports provided: Metadata, MetadataAccessListsItem, MetadataAccessListsItemSingleAccessList, MetadataItem, MetadataModule, enMetadata, frMetadata, deMetadata */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _public_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./public-api */ "8J2X");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Metadata", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["Metadata"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MetadataAccessListsItem", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["MetadataAccessListsItem"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MetadataAccessListsItemSingleAccessList", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["MetadataAccessListsItemSingleAccessList"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MetadataItem", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["MetadataItem"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MetadataModule", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["MetadataModule"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "enMetadata", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["enMetadata"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "frMetadata", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["frMetadata"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "deMetadata", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["deMetadata"]; });




/***/ }),

/***/ "lGAU":
/*!************************************************!*\
  !*** ../components/preview/preview.service.ts ***!
  \************************************************/
/*! exports provided: PREVIEW_MODAL, PreviewService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PREVIEW_MODAL", function() { return PREVIEW_MODAL; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PreviewService", function() { return PreviewService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "+kfY");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/router */ "sEIs");
/* harmony import */ var _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/core/web-services */ "cIYa");
/* harmony import */ var _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sinequa/core/app-utils */ "SBPP");
/* harmony import */ var _sinequa_core_login__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @sinequa/core/login */ "7O5u");
/* harmony import */ var _sinequa_components_search__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @sinequa/components/search */ "7+c1");
/* harmony import */ var _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @sinequa/core/modal */ "vMGo");
/* harmony import */ var _sinequa_components_saved_queries__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @sinequa/components/saved-queries */ "vQnv");











const PREVIEW_MODAL = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["InjectionToken"]("PREVIEW_MODAL");
class PreviewService {
    constructor(previewModal, router, previewWebService, appService, authenticationService, searchService, modalService, recentDocumentsService, exprBuilder) {
        this.previewModal = previewModal;
        this.router = router;
        this.previewWebService = previewWebService;
        this.appService = appService;
        this.authenticationService = authenticationService;
        this.searchService = searchService;
        this.modalService = modalService;
        this.recentDocumentsService = recentDocumentsService;
        this.exprBuilder = exprBuilder;
        this._events = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
        // Subscribe to own events and add documents to the recent documents service
        this.events.subscribe(event => {
            if (event.record && (event.type === "Preview_Modal" /* Modal */ || event.type === "Preview_Route" /* Route */ || event.type === "Preview_Window" /* Window */)) {
                this.recentDocumentsService.addDocument(event.record, false);
            }
        });
    }
    /**
     * Triggers any event among PreviewEvent
     */
    get events() {
        return this._events;
    }
    makeQuery(query) {
        query = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].copy(query);
        delete query.sort;
        delete query.scope;
        delete query.tab;
        delete query.basket;
        delete query.page;
        delete query.queryId;
        if (query.select) {
            query.select = query.select.filter(value => _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].eqNC(value.facet, "refine"));
            if (query.select.length === 0) {
                delete query.select;
            }
        }
        return query;
    }
    getPreviewData(id, query, audit = true) {
        var _a;
        let auditEvent;
        const record = this.searchService.getRecordFromId(id);
        const resultId = record ? (_a = this.searchService.results) === null || _a === void 0 ? void 0 : _a.id : undefined;
        if (audit) {
            auditEvent = {
                type: "Doc_Preview" /* Doc_Preview */,
                detail: this.getAuditPreviewDetail(id, query, record, resultId)
            };
        }
        query = this.makeQuery(query);
        const observable = this.previewWebService.get(id, query, auditEvent);
        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].subscribe(observable, (previewData) => {
            previewData.resultId = resultId || "";
            return previewData;
        });
        this._events.next({ type: "Preview_Data" /* Data */, record, query });
        return observable;
    }
    makeDownloadUrl(url) {
        return url ? this.appService.updateUrlForCors(url) : undefined;
    }
    openModal(record, query, model) {
        model.record = record;
        model.query = query;
        this._events.next({ type: "Preview_Modal" /* Modal */, record, query });
        this.modalService.open(this.previewModal, { model });
    }
    getQueryStr(query) {
        query = this.makeQuery(query);
        return query.toJsonForQueryString();
    }
    openNewWindow(record, query) {
        const params = {
            id: record.id,
            query: this.getQueryStr(query),
            app: this.appService.appName
        };
        if (this.authenticationService.userOverrideActive && this.authenticationService.userOverride) {
            params["overrideUser"] = this.authenticationService.userOverride.userName;
            params["overrideDomain"] = this.authenticationService.userOverride.domain;
        }
        const httpParams = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].makeHttpParams(params);
        const url = "#/preview?" + httpParams.toString();
        this._events.next({ type: "Preview_Window" /* Window */, record, query });
        return window.open(url, "_blank");
    }
    openRoute(record, query, path = "preview") {
        this._events.next({ type: "Preview_Route" /* Route */, record, query });
        this.rank = record.rank;
        return this.router.navigate([path], {
            queryParams: {
                id: record.id,
                query: this.getQueryStr(query)
            }
        });
    }
    /**
     * Get the page number of a splitted document's record or undefined if
     * it is not in fact splitted. Stores the page number in the record itself ($page property)
     * @param record
     */
    getPageNumber(record) {
        const containerid = record.containerid;
        if (containerid && record.id.startsWith(containerid)) {
            const pageNumberStr = record.id.slice(containerid.length + 1);
            if (/#\d+#/g.test(pageNumberStr)) {
                const pageNumber = parseInt(pageNumberStr.slice(1, pageNumberStr.length - 1), 10);
                if (!isNaN(pageNumber)) {
                    record.$page = pageNumber;
                    return pageNumber;
                }
            }
        }
        return undefined;
    }
    /**
     * Returns the pages of a given record id
     * @param containerid
     * @param query
     */
    fetchPages(containerid, query) {
        query = this.makeQuery(query);
        query.groupBy = ""; // If the query web service uses GROUP BY containerid
        query.addSelect(this.exprBuilder.makeExpr("containerid", containerid));
        return this.searchService.getResults(query);
    }
    getAuditPreviewDetail(id, query, record, resultId) {
        var _a, _b, _c, _d, _e, _f;
        const queryLanguage = ((_b = (_a = this.searchService.results) === null || _a === void 0 ? void 0 : _a.queryAnalysis) === null || _b === void 0 ? void 0 : _b.queryLanguage) || ((_d = (_c = this.searchService) === null || _c === void 0 ? void 0 : _c.query) === null || _d === void 0 ? void 0 : _d.questionLanguage)
            || ((_f = (_e = this.appService) === null || _e === void 0 ? void 0 : _e.ccquery) === null || _f === void 0 ? void 0 : _f.questionLanguage);
        const collectionColumn = record === null || record === void 0 ? void 0 : record.collection;
        const collection = !!collectionColumn ? collectionColumn[0] : _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].split(id, "|")[0];
        const rank = !!record ? record.rank : this.rank || 0;
        return {
            "doc-id": id,
            rank: rank,
            collection: collection,
            source: _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].treeFirstNode(collection),
            resultid: resultId,
            querylang: queryLanguage,
            text: query.text,
            filename: record === null || record === void 0 ? void 0 : record.filename,
            fileext: record === null || record === void 0 ? void 0 : record.fileext,
        };
    }
    /**
     * returns document's preview HTML
     * @param url
     * @returns document's preview HTML
     */
    getHtmlPreview(url) {
        return this.previewWebService.getHtmlPreview(url);
    }
}
PreviewService.ɵfac = function PreviewService_Factory(t) { return new (t || PreviewService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](PREVIEW_MODAL, 8), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_4__["PreviewWebService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_5__["AppService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_login__WEBPACK_IMPORTED_MODULE_6__["AuthenticationService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_components_search__WEBPACK_IMPORTED_MODULE_7__["SearchService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_modal__WEBPACK_IMPORTED_MODULE_8__["ModalService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_components_saved_queries__WEBPACK_IMPORTED_MODULE_9__["RecentDocumentsService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_5__["ExprBuilder"])); };
PreviewService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: PreviewService, factory: PreviewService.ɵfac, providedIn: "root" });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](PreviewService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: "root"
            }]
    }], function () { return [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Type"], decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Optional"]
            }, {
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [PREVIEW_MODAL]
            }] }, { type: _angular_router__WEBPACK_IMPORTED_MODULE_3__["Router"] }, { type: _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_4__["PreviewWebService"] }, { type: _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_5__["AppService"] }, { type: _sinequa_core_login__WEBPACK_IMPORTED_MODULE_6__["AuthenticationService"] }, { type: _sinequa_components_search__WEBPACK_IMPORTED_MODULE_7__["SearchService"] }, { type: _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_8__["ModalService"] }, { type: _sinequa_components_saved_queries__WEBPACK_IMPORTED_MODULE_9__["RecentDocumentsService"] }, { type: _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_5__["ExprBuilder"] }]; }, null); })();


/***/ }),

/***/ "ldQY":
/*!***************************************!*\
  !*** ../core/base/pattern-matcher.ts ***!
  \***************************************/
/*! exports provided: PatternType, Pattern, Patterns, PatternMatcher */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PatternType", function() { return PatternType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Pattern", function() { return Pattern; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Patterns", function() { return Patterns; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PatternMatcher", function() { return PatternMatcher; });
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ "t6nX");

/**
 * Defines the different pattern types
 * `Empty`: no pattern
 * `RegExp`: a regular expression pattern
 * `Value`: a literal value
 */
var PatternType;
(function (PatternType) {
    PatternType[PatternType["Empty"] = 0] = "Empty";
    PatternType[PatternType["RegExp"] = 1] = "RegExp";
    // WildCard = 2,
    PatternType[PatternType["Value"] = 3] = "Value";
})(PatternType || (PatternType = {}));
/**
 * A class that represents a single pattern. The pattern type is deduced automatically from the input pattern text.
 *
 * `<empty string>` => `Empty`
 * `<pattern with wildcards ?*>` => `RegExp` (wildcards are converted to regular expressions)
 * `<pattern starting with ~>` => `RegExp` (the text following the ~ character is treated as a regular expression)
 * `<any other value>` => `Value` (a literal value that is matched as-is)
 */
class Pattern {
    constructor(pattern) {
        if (!pattern) {
            this.clear();
        }
        else {
            this.load(pattern);
        }
    }
    get type() {
        return this._type;
    }
    get text() {
        return this._text;
    }
    static getPatternType(pattern) {
        if (!pattern) {
            return PatternType.Empty;
        }
        if (pattern[0] === "~" || pattern.includes("*") || pattern.includes("?")) {
            return PatternType.RegExp;
        }
        return PatternType.Value;
    }
    static isPattern(pattern) {
        if (!pattern) {
            return false;
        }
        if (pattern[0] === "~" || pattern.includes("*") || pattern.includes("?")) {
            return true;
        }
        return false;
    }
    static doMatch(pattern, text) {
        const _pattern = new Pattern();
        _pattern.load(pattern);
        return _pattern.isMatch(text);
    }
    static wildcardToRegex(pattern) {
        if (!pattern) {
            return pattern;
        }
        return "^" + _utils__WEBPACK_IMPORTED_MODULE_0__["Utils"].regExEscape(pattern).replace("\\*", ".*").replace("\\?", ".") + "$";
    }
    static cleanPattern(s) {
        if (!s) {
            return s;
        }
        const sb = [];
        let lastIsStar = false;
        for (const ch of s) {
            if (ch === "*") {
                if (!lastIsStar) {
                    lastIsStar = true;
                    sb.push(ch);
                }
            }
            else {
                lastIsStar = false;
                sb.push(ch);
            }
        }
        return sb.join("");
    }
    clear() {
        this.reg = undefined;
        this._text = undefined;
        this.preparedPattern1 = undefined;
        // this.preparedPattern2 = undefined;
        this._type = PatternType.Empty;
    }
    isEmpty() {
        return this._type === PatternType.Empty;
    }
    load(pattern) {
        this.clear();
        try {
            let s = pattern;
            this._text = pattern;
            this._type = Pattern.getPatternType(s);
            if (this._type === PatternType.Empty) {
                return true;
            }
            if (this._type === PatternType.Value) {
                this.preparedPattern1 = s;
                return true;
            }
            if (this._type === PatternType.RegExp) {
                if (s[0] === "~") {
                    s = s.substring(1);
                }
                else {
                    s = Pattern.wildcardToRegex(Pattern.cleanPattern(s));
                }
                this.preparedPattern1 = s;
                this.reg = new RegExp(s, "i");
                return true;
            }
            return false;
        }
        catch (e) {
            console.log(`Pattern.Load '${pattern}' error:`, e);
            this.clear();
            return false;
        }
    }
    getTypeValueText() {
        if (this.type === PatternType.Value) {
            return this.preparedPattern1;
        }
        return undefined;
    }
    getTypeRegexPattern() {
        if (this.type === PatternType.RegExp) {
            return this.preparedPattern1;
        }
        return undefined;
    }
    isTypeValue() {
        return this.type === PatternType.Value;
    }
    isMatch(text) {
        var _a;
        text = text || "";
        switch (this._type) {
            default:
            case PatternType.Empty:
                return true;
            case PatternType.Value:
                return _utils__WEBPACK_IMPORTED_MODULE_0__["Utils"].eqNC(text, this.preparedPattern1 || "");
            case PatternType.RegExp:
                return ((_a = this.reg) === null || _a === void 0 ? void 0 : _a.test(text)) || false;
        }
    }
}
class Patterns {
    constructor(text) {
        this.text = text;
    }
    clear() {
        this._preparedPatterns = undefined;
        this._values = undefined;
        this._isEmpty = true;
    }
    get text() {
        return this._text;
    }
    set text(value) {
        if (value === this._text) {
            return;
        }
        this._text = value;
        const l = _utils__WEBPACK_IMPORTED_MODULE_0__["Utils"].split(this._text || "", ";");
        this.innerSetList(l);
    }
    getTypeCount(type) {
        if (!this._preparedPatterns) {
            return 0;
        }
        if (type === PatternType.Value) {
            return !!this._values ? Object.keys(this._values).length : 0;
        }
        let count = 0;
        for (const pattern of this._preparedPatterns) {
            if (pattern.type === type) {
                count++;
            }
        }
        return count;
    }
    innerSetList(l) {
        this._preparedPatterns = undefined;
        this._values = undefined;
        this._isEmpty = true;
        if (!!l) {
            for (const s of l) {
                if (!s) {
                    continue;
                }
                const pattern = new Pattern();
                if (pattern.load(s)) {
                    if (!this._preparedPatterns) {
                        this._preparedPatterns = [];
                    }
                    this._preparedPatterns.push(pattern);
                }
            }
        }
        if (this._preparedPatterns) {
            const c = this._preparedPatterns.length;
            if (c > 0) {
                this._isEmpty = false;
            }
            for (let i = c - 1; i >= 0; i--) {
                const pattern = this._preparedPatterns[i];
                //do values
                if (pattern.isTypeValue()) {
                    if (!this._values) {
                        this._values = {};
                    }
                    const val = pattern.getTypeValueText() || "";
                    this._values[val] = true;
                    this._preparedPatterns.splice(i, 1);
                }
            }
        }
    }
    get list() {
        return _utils__WEBPACK_IMPORTED_MODULE_0__["Utils"].split(this.text || "", ";");
    }
    set list(value) {
        this.text = !!value ? value.join(";") : undefined;
        this.innerSetList(value);
    }
    setText(list) {
        this.list = list;
    }
    isEmpty() {
        return this._isEmpty;
    }
    hasPatterns() {
        return !this.isEmpty();
    }
    isMatch(name, logdisplay) {
        if (this.isEmpty()) {
            return true;
        }
        if (!!this._values) {
            if (this._values[name]) {
                if (!!logdisplay) {
                    console.log(logdisplay, ` : the pattern '${name}' matches the value '${name}'`);
                }
                return true;
            }
        }
        if (!!this._preparedPatterns) {
            for (const pattern of this._preparedPatterns) {
                if (!pattern) {
                    continue;
                }
                if (pattern.isTypeValue()) {
                    continue;
                }
                if (pattern.isMatch(name)) {
                    if (!!logdisplay) {
                        console.log(logdisplay, ` : the pattern '${pattern.text}' matches the value '${name}'`);
                    }
                    return true;
                }
            }
        }
        return false;
    }
}
/**
 * This class is used to process "included" and "excluded" patterns typically specified in the Sinequa configuration.
 */
class PatternMatcher {
    constructor(includedLogDisplay, excludedLogDisplay) {
        this.includedPattern = new Patterns();
        this.excludedPattern = new Patterns();
        this.includedLogDisplay = includedLogDisplay;
        this.excludedLogDisplay = excludedLogDisplay;
    }
    get included() {
        return this.includedPattern.text;
    }
    set included(value) {
        this.includedPattern.text = value;
    }
    get excluded() {
        return this.excludedPattern.text;
    }
    set excluded(value) {
        this.excludedPattern.text = value;
    }
    set includedList(value) {
        this.includedPattern.list = value;
    }
    set excludedList(value) {
        this.excludedPattern.list = value;
    }
    hasPatterns() {
        return this.includedPattern.hasPatterns() || this.excludedPattern.hasPatterns();
    }
    isExcluded(name) {
        return !this.isIncluded(name);
    }
    isIncluded(name) {
        if (!name) {
            return true;
        }
        if (this.includedPattern.hasPatterns()) {
            if (this.excludedPattern.hasPatterns()) {
                if (this.excludedPattern.isMatch(name, this.excludedLogDisplay)) {
                    return false;
                }
            }
            if (!this.includedPattern.isMatch(name, this.includedLogDisplay)) {
                return false;
            }
            return true;
        }
        else if (this.excludedPattern.hasPatterns()) {
            if (this.excludedPattern.isMatch(name, this.excludedLogDisplay)) {
                return false;
            }
            return true;
        }
        return true;
    }
    isExplicitlyIncluded(name) {
        return this.includedPattern.hasPatterns() && this.includedPattern.isMatch(name, this.includedLogDisplay);
    }
    isExplicitlyExcluded(name) {
        return this.excludedPattern.hasPatterns() && this.excludedPattern.isMatch(name, this.excludedLogDisplay);
    }
}


/***/ }),

/***/ "lfQx":
/*!**********************************************************************!*\
  !*** ../components/baskets/bootstrap/select-basket/select-basket.ts ***!
  \**********************************************************************/
/*! exports provided: BsSelectBasket */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsSelectBasket", function() { return BsSelectBasket; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/modal */ "vMGo");
/* harmony import */ var _baskets_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../baskets.service */ "3Nz9");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "nIj0");
/* harmony import */ var _modal_bootstrap_modal_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../modal/bootstrap/modal.component */ "oSLy");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/intl/message.pipe */ "X1Kh");









function BsSelectBasket_a_4_Template(rf, ctx) { if (rf & 1) {
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "a", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsSelectBasket_a_4_Template_a_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r4); const basket_r2 = ctx.$implicit; const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r3.select(basket_r2); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](3, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const basket_r2 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](3, 1, basket_r2.name));
} }
function BsSelectBasket_a_5_Template(rf, ctx) { if (rf & 1) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "a", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsSelectBasket_a_5_Template_a_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r6); const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r5.newBasket(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "i");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](4, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](4, 1, "msg#selectBasket.newBasket"));
} }
class BsSelectBasket {
    constructor(model, basketsService, modalRef) {
        this.model = model;
        this.basketsService = basketsService;
        this.modalRef = modalRef;
        this.baskets = this.basketsService.baskets;
        if (!this.baskets) {
            this.baskets = [];
        }
        this.buttons = [
            new _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_1__["ModalButton"]({
                result: -2 /* Cancel */
            })
        ];
    }
    ngOnInit() {
        if (!!this.model.basketFilter) {
            this.baskets = this.baskets.filter(this.model.basketFilter);
        }
    }
    activate(model) {
        this.model = model;
    }
    select(basket) {
        if (basket) {
            this.model.basket = basket;
            this.modalRef.close(-1 /* OK */);
        }
    }
    newBasket() {
        const model = { name: "" };
        this.basketsService.createBasketModal(model)
            .then((result) => {
            if (result) { // The basket was created
                this.select(model);
            }
        });
    }
}
BsSelectBasket.ɵfac = function BsSelectBasket_Factory(t) { return new (t || BsSelectBasket)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_modal__WEBPACK_IMPORTED_MODULE_1__["MODAL_MODEL"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_baskets_service__WEBPACK_IMPORTED_MODULE_2__["BasketsService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_modal__WEBPACK_IMPORTED_MODULE_1__["ModalRef"])); };
BsSelectBasket.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsSelectBasket, selectors: [["sq-select-basket"]], decls: 6, vars: 4, consts: [["name", "selectBasket", "novalidate", ""], [3, "title", "buttons"], [1, "form-group"], [1, "list-group", "sq-list-group"], ["href", "javascript:void(0)", "class", "list-group-item list-group-item-action", 3, "click", 4, "ngFor", "ngForOf"], ["href", "javascript:void(0)", "class", "list-group-item list-group-item-action", 3, "click", 4, "ngIf"], ["href", "javascript:void(0)", 1, "list-group-item", "list-group-item-action", 3, "click"]], template: function BsSelectBasket_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "form", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "sq-modal", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, BsSelectBasket_a_4_Template, 4, 3, "a", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](5, BsSelectBasket_a_5_Template, 5, 3, "a", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("title", "msg#selectBasket.title")("buttons", ctx.buttons);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.baskets);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.model.allowNew);
    } }, directives: [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["ɵangular_packages_forms_forms_y"], _angular_forms__WEBPACK_IMPORTED_MODULE_3__["NgControlStatusGroup"], _angular_forms__WEBPACK_IMPORTED_MODULE_3__["NgForm"], _modal_bootstrap_modal_component__WEBPACK_IMPORTED_MODULE_4__["BsModal"], _angular_common__WEBPACK_IMPORTED_MODULE_5__["NgForOf"], _angular_common__WEBPACK_IMPORTED_MODULE_5__["NgIf"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_6__["MessagePipe"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsSelectBasket, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-select-basket",
                templateUrl: "./select-basket.html"
            }]
    }], function () { return [{ type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [_sinequa_core_modal__WEBPACK_IMPORTED_MODULE_1__["MODAL_MODEL"]]
            }] }, { type: _baskets_service__WEBPACK_IMPORTED_MODULE_2__["BasketsService"] }, { type: _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_1__["ModalRef"] }]; }, null); })();


/***/ }),

/***/ "lgrC":
/*!*************************************************!*\
  !*** ../components/feedback/bootstrap/index.ts ***!
  \*************************************************/
/*! exports provided: BsFeedbackMenu, BsFeedbackModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _public_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./public-api */ "5Hmq");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFeedbackMenu", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsFeedbackMenu"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFeedbackModule", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsFeedbackModule"]; });




/***/ }),

/***/ "lolS":
/*!**********************************************************!*\
  !*** ../components/modal/bootstrap/editable/editable.ts ***!
  \**********************************************************/
/*! exports provided: BsEditable */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsEditable", function() { return BsEditable; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ "nIj0");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _utils_directives_autofocus__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../utils/directives/autofocus */ "1ak2");
/* harmony import */ var _core_validation_validation_directive__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/validation/validation.directive */ "FRsM");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/intl/message.pipe */ "X1Kh");









function BsEditable_div_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r0.value);
} }
function BsEditable_form_1_Template(rf, ctx) { if (rf & 1) {
    const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "form", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "label", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](4, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "input", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("keydown", function BsEditable_form_1_Template_input_keydown_5_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r3); const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r2.inputKeydown($event); })("blur", function BsEditable_form_1_Template_input_blur_5_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r3); const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r4.stopEditing(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("formGroup", ctx_r1.form);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](4, 3, ctx_r1.name));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("sqValidation", ctx_r1.form);
} }
class BsEditable {
    constructor(formBuilder, elementRef) {
        this.formBuilder = formBuilder;
        this.elementRef = elementRef;
        this.tabindex = "0";
        this.valueChange = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
    }
    ngOnInit() {
        this.editableControl = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"](this.value, this.validators);
        this.modelControl = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"](this.model);
        this.form = this.formBuilder.group({
            editable: this.editableControl,
            model: this.modelControl
        });
        this.formChanges = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].subscribe(this.form.valueChanges, (value) => {
            this.value = this.editableControl.value;
        });
    }
    ngOnDestroy() {
        this.valueChange.unsubscribe();
        this.formChanges.unsubscribe();
    }
    startEditing() {
        if (!this.editing) {
            this.previousValue = this.value;
            this.editableControl["_touched"] = false; //TODO - need markAsPristine?
            this.editableControl["_pristine"] = true; //
            this.editing = true;
        }
    }
    stopEditing(cancel = false) {
        if (this.editing) {
            this.editing = false;
            if (this.focusAfterEdit && this.elementRef) {
                this.elementRef.nativeElement.focus();
            }
            this.focusAfterEdit = false;
            if (cancel) {
                this.value = this.previousValue;
            }
            this.valueChange.emit(this.value);
        }
    }
    inputKeydown(event) {
        switch (event.keyCode) {
            case _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Keys"].enter:
                event.stopPropagation();
                this.stopEditing();
                return false;
            case _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Keys"].esc:
                event.stopPropagation();
                this.stopEditing(true);
                return false;
        }
        return undefined;
    }
    hostKeydown(event) {
        if (event.keyCode === _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Keys"].enter) {
            this.focusAfterEdit = true;
            this.startEditing();
            return false;
        }
        return undefined;
    }
}
BsEditable.ɵfac = function BsEditable_Factory(t) { return new (t || BsEditable)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormBuilder"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"])); };
BsEditable.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsEditable, selectors: [["sq-editable"]], hostVars: 1, hostBindings: function BsEditable_HostBindings(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("mousedown", function BsEditable_mousedown_HostBindingHandler() { return ctx.startEditing(); })("touchstart", function BsEditable_touchstart_HostBindingHandler() { return ctx.startEditing(); })("keydown", function BsEditable_keydown_HostBindingHandler($event) { return ctx.hostKeydown($event); });
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵattribute"]("tabindex", ctx.tabindex);
    } }, inputs: { name: "name", value: "value", model: "model", validators: "validators" }, outputs: { valueChange: "valueChange" }, decls: 2, vars: 2, consts: [["class", "editable-text", 4, "ngIf"], ["class", "form-inline", "role", "form", "novalidate", "", 3, "formGroup", 4, "ngIf"], [1, "editable-text"], ["role", "form", "novalidate", "", 1, "form-inline", 3, "formGroup"], [1, "form-group"], ["for", "editable", 1, "sr-only"], ["type", "text", "id", "editable", "formControlName", "editable", "spellcheck", "false", "sqAutofocus", "", 1, "form-control", 3, "sqValidation", "keydown", "blur"]], template: function BsEditable_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, BsEditable_div_0_Template, 2, 1, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsEditable_form_1_Template, 6, 5, "form", 1);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.editing);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.editing);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_3__["NgIf"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["ɵangular_packages_forms_forms_y"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["NgControlStatusGroup"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormGroupDirective"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["DefaultValueAccessor"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["NgControlStatus"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControlName"], _utils_directives_autofocus__WEBPACK_IMPORTED_MODULE_4__["Autofocus"], _core_validation_validation_directive__WEBPACK_IMPORTED_MODULE_5__["ValidationDirective"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_6__["MessagePipe"]], styles: ["[_nghost-%COMP%] {\n  display: block;\n  flex: 1 1;\n}\n\n[_nghost-%COMP%]   .editable-text[_ngcontent-%COMP%] {\n  min-width: 4rem;\n  overflow-wrap: break-word;\n  word-wrap: break-word;\n  word-break: break-word;\n}\n\n[_nghost-%COMP%]   form[_ngcontent-%COMP%] {\n  display: inline-block;\n  white-space: nowrap;\n  margin: 0;\n  width: 90%;\n}\n\n[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%] {\n  width: 100%;\n}\n\n[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\n  width: 100% !important;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2plY3RzL2NvbXBvbmVudHMvbW9kYWwvYm9vdHN0cmFwL2VkaXRhYmxlL2VkaXRhYmxlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxjQUFBO0VBQ0EsU0FBQTtBQUNGOztBQUNBO0VBQ0UsZUFBQTtFQUNBLHlCQUFBO0VBQ0EscUJBQUE7RUFDQSxzQkFBQTtBQUVGOztBQUFBO0VBQ0UscUJBQUE7RUFDQSxtQkFBQTtFQUNBLFNBQUE7RUFDQSxVQUFBO0FBR0Y7O0FBREE7RUFDRSxXQUFBO0FBSUY7O0FBRkE7RUFDRSxzQkFBQTtBQUtGIiwiZmlsZSI6InByb2plY3RzL2NvbXBvbmVudHMvbW9kYWwvYm9vdHN0cmFwL2VkaXRhYmxlL2VkaXRhYmxlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBmbGV4OiAxIDE7XG59XG46aG9zdCAuZWRpdGFibGUtdGV4dCB7XG4gIG1pbi13aWR0aDogNHJlbTtcbiAgb3ZlcmZsb3ctd3JhcDogYnJlYWstd29yZDtcbiAgd29yZC13cmFwOiBicmVhay13b3JkO1xuICB3b3JkLWJyZWFrOiBicmVhay13b3JkO1xufVxuOmhvc3QgZm9ybSB7XG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgbWFyZ2luOiAwO1xuICB3aWR0aDogOTAlO1xufVxuOmhvc3QgZm9ybSAuZm9ybS1ncm91cCB7XG4gIHdpZHRoOiAxMDAlO1xufVxuOmhvc3QgZm9ybSAuZm9ybS1ncm91cCBpbnB1dCB7XG4gIHdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7XG59Il19 */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsEditable, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-editable",
                templateUrl: "./editable.html",
                styleUrls: ["./editable.scss"]
            }]
    }], function () { return [{ type: _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormBuilder"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"] }]; }, { tabindex: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostBinding"],
            args: ["attr.tabindex"]
        }], name: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], value: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], model: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], valueChange: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }], validators: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], startEditing: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostListener"],
            args: ["mousedown"]
        }, {
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostListener"],
            args: ["touchstart"]
        }], hostKeydown: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostListener"],
            args: ["keydown", ["$event"]]
        }] }); })();


/***/ }),

/***/ "ltth":
/*!************************************************!*\
  !*** ../core/app-utils/app-service-helpers.ts ***!
  \************************************************/
/*! exports provided: AppServiceHelpers */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppServiceHelpers", function() { return AppServiceHelpers; });
/**
 * @ignore
 *
 * Used internally to avoid circular references between ExprParser, AppService and FormatService.
 * Do not export from the app-utils module.
 */
class AppServiceHelpers {
    static isString(column) {
        if (!column) {
            return false;
        }
        if (column.eType === 14 /* string */) {
            return true;
        }
        if (column.eType === 15 /* csv */ && (column.eTypeModifier & 8388608 /* x */) === 8388608 /* x */) {
            return true;
        }
        return false;
    }
    static isCsv(column) {
        if (!column) {
            return false;
        }
        if (column.eType === 15 /* csv */ && (column.eTypeModifier & 8388608 /* x */) !== 8388608 /* x */) {
            return true;
        }
        return false;
    }
    static isTree(column) {
        if (!column) {
            return false;
        }
        if (column.eType === 15 /* csv */ && (column.eTypeModifier & 524292 /* t */) === 524292 /* t */) {
            return true;
        }
        return false;
    }
    static isEntity(column) {
        if (!column) {
            return false;
        }
        if (column.eType === 15 /* csv */ && (column.eTypeModifier & (2068 /* e */ | 2052 /* l */)) === (2068 /* e */ | 2052 /* l */)) {
            return true;
        }
        return false;
    }
    static isBoolean(column) {
        if (!column) {
            return false;
        }
        if (column.eType === 1 /* bool */) {
            return true;
        }
        return false;
    }
    static isDate(column) {
        if (!column) {
            return false;
        }
        if (column.eType === 2 /* date */ || column.eType === 3 /* dateTime */ || column.eType === 4 /* time */) {
            return true;
        }
        return false;
    }
    static isDouble(column) {
        if (!column) {
            return false;
        }
        if (column.eType === 8 /* double */ || column.eType === 7 /* float */) {
            return true;
        }
        return false;
    }
    static isInteger(column) {
        if (!column) {
            return false;
        }
        if (column.eType === 6 /* integer */ || column.eType === 5 /* unsigned */) {
            return true;
        }
        return false;
    }
    static isNumber(column) {
        return AppServiceHelpers.isInteger(column) || AppServiceHelpers.isDouble(column);
    }
    static isScalar(column) {
        return AppServiceHelpers.isNumber(column) || AppServiceHelpers.isDate(column) || AppServiceHelpers.isBoolean(column);
    }
    static isSortable(column) {
        return AppServiceHelpers.isString(column) || AppServiceHelpers.isScalar(column) ||
            (AppServiceHelpers.isCsv(column) && !!column && ((column.eTypeModifier & 2052 /* l */) === 2052 /* l */));
    }
}


/***/ }),

/***/ "lwIE":
/*!********************************************************!*\
  !*** ../components/status-bar/bootstrap/public-api.ts ***!
  \********************************************************/
/*! exports provided: BsFullscreenActivator, BsNetworkActivity, BsStatusBarModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _fullscreen_activator_fullscreen_activator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./fullscreen-activator/fullscreen-activator */ "H4UA");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFullscreenActivator", function() { return _fullscreen_activator_fullscreen_activator__WEBPACK_IMPORTED_MODULE_0__["BsFullscreenActivator"]; });

/* harmony import */ var _network_activity_network_activity__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./network-activity/network-activity */ "VvWf");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsNetworkActivity", function() { return _network_activity_network_activity__WEBPACK_IMPORTED_MODULE_1__["BsNetworkActivity"]; });

/* harmony import */ var _status_bar_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./status-bar.module */ "+NMb");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsStatusBarModule", function() { return _status_bar_module__WEBPACK_IMPORTED_MODULE_2__["BsStatusBarModule"]; });






/***/ }),

/***/ "m7B1":
/*!*************************************************************!*\
  !*** ../components/saved-queries/recent-queries.service.ts ***!
  \*************************************************************/
/*! exports provided: RECENT_QUERIES_CHANGE_EVENTS, MAX_QUERIES, RecentQueriesService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RECENT_QUERIES_CHANGE_EVENTS", function() { return RECENT_QUERIES_CHANGE_EVENTS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MAX_QUERIES", function() { return MAX_QUERIES; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RecentQueriesService", function() { return RecentQueriesService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "+kfY");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/web-services */ "cIYa");
/* harmony import */ var _sinequa_components_search__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/components/search */ "7+c1");






// Types of events triggering a change event
const RECENT_QUERIES_CHANGE_EVENTS = [
    "RecentQuery_Add" /* Add */,
    "RecentQuery_Update" /* Update */,
    "RecentQuery_Delete" /* Delete */,
];
const MAX_QUERIES = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["InjectionToken"]("MAX_QUERIES");
class RecentQueriesService {
    constructor(userSettingsService, searchService, maxQueries) {
        this.userSettingsService = userSettingsService;
        this.searchService = searchService;
        this.maxQueries = maxQueries;
        this._events = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
        this._changes = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
        if (!this.maxQueries) {
            this.maxQueries = 20;
        }
        // Listen to the user settings
        this.userSettingsService.events.subscribe(event => {
            // E.g. new login occurs
            // ==> Revive dates
            this.recentqueries.forEach(rq => {
                if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].isString(rq.date)) {
                    const date = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].toDate(rq.date);
                    if (date) {
                        rq.date = date;
                    }
                }
            });
            // ==> Menus need to be rebuilt
            this._events.next({ type: "RecentQuery_Loaded" /* Loaded */ });
        });
        // Listen to own events, to trigger change events
        this._events.subscribe(event => {
            if (RECENT_QUERIES_CHANGE_EVENTS.indexOf(event.type) !== -1) {
                this.changes.next(event);
            }
        });
        // Listen to search service and store queries
        this.searchService.queryStream.subscribe((query) => {
            if (query) {
                this.addRecentQuery({ query: query.copy(), date: new Date() });
            }
        });
    }
    // GETTERS
    /**
     * Returns the list of this user's recent queries.
     * The list is stored in the user settings (this is a redirection).
     * Using this service creates the list of recent queries if it does not already exist.
     */
    get recentqueries() {
        if (!this.userSettingsService.userSettings)
            this.userSettingsService.userSettings = {};
        if (!this.userSettingsService.userSettings["recentQueries"])
            this.userSettingsService.userSettings["recentQueries"] = [];
        return this.userSettingsService.userSettings["recentQueries"];
    }
    /**
     * Triggers any event among RecentQueryChangeEvent
     * (use for fine-grained control of recent queries workflow)
     */
    get events() {
        return this._events;
    }
    /**
     * Triggers when events affect the list of recent queries
     * (use to refresh recent queries menus)
     * Cf. CHANGE_EVENTS list
     */
    get changes() {
        return this._changes;
    }
    /**
     * @returns true if there is at least one recent query
     */
    get hasRecentQuery() {
        return this.recentqueries.length > 0;
    }
    /**
     * @returns a recent query with the given name or undefined if it does not exist
     * @param name
     */
    recentquery(text) {
        const i = this.recentqueryIndex(text);
        return i >= 0 ? this.recentqueries[i] : undefined;
    }
    recentqueryIndex(text) {
        for (let i = 0, ic = this.recentqueries.length; i < ic; i++) {
            const recentquery = this.recentqueries[i];
            if (recentquery && recentquery.query.text && recentquery.query.text.toLowerCase() === text.toLowerCase()) {
                return i;
            }
        }
        return -1;
    }
    comparator(q1, q2) {
        return q2.date.getTime() - q1.date.getTime();
    }
    // CRUD
    /**
     * Creates a new recent query unless it already exists, in which case the existing query is updated.
     * Emits an recentquery event.
     * Update the data on the server.
     * @param recentquery the recentquery to create
     * @returns true if recentquery was created
     */
    addRecentQuery(recentquery) {
        if (!recentquery.query || !recentquery.query.text || recentquery.query.text.trim() === '') {
            return false;
        }
        const i = this.recentqueryIndex(recentquery.query.text); // If the query already exists
        if (i >= 0) {
            // Ignore identical queries issued within a certain time window (1s)
            // to avoid flooding the server. NB the request flooding mitigation in
            // SqHttpClient will not work in this case as the request payload includes
            // a timestamp
            if (Math.abs(recentquery.date.getTime() - this.recentqueries[i].date.getTime()) < 1000) {
                if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].equals(this.recentqueries[i].query, recentquery.query)) {
                    return false;
                }
            }
            this.recentqueries[i].date = recentquery.date; // Update the date of the existing query
            this.recentqueries[i].query = recentquery.query;
            this._events.next({ type: "RecentQuery_Update" /* Update */, recentquery: this.recentqueries[i] });
        }
        else {
            this.recentqueries.push(recentquery);
            this._events.next({ type: "RecentQuery_Add" /* Add */, recentquery });
        }
        // Sort the list
        this.recentqueries.sort(this.comparator);
        // Truncate the list
        if (this.maxQueries >= 0)
            this.recentqueries.splice(this.maxQueries);
        this.patchRecentQueries(); // No need to emit an "Add" audit event, since it is redundant with the main search API
        return true;
    }
    /**
     * Deletes the given RecentQuery (based on its name)
     * Emits an RecentQuery event.
     * Update the data on the server.
     * @param recentquery
     * @returns true if recent query was deleted
     */
    deleteRecentQuery(recentquery) {
        const index = this.recentqueryIndex(recentquery.query.text || "");
        if (index === -1)
            return false; // Nothing to delete
        this.recentqueries.splice(index, 1);
        this._events.next({ type: "RecentQuery_Delete" /* Delete */, recentquery });
        this.patchRecentQueries([
            {
                type: "RecentQuery_Delete" /* Delete */,
                detail: {
                    recentquery: recentquery.query.text
                }
            }
        ]);
        return true;
    }
    /**
     * Updates Recent Queries in User settings.
     * @param auditEvents : Audit Events to be triggered
     * @returns an Observable which can be used to trigger further events
     */
    patchRecentQueries(auditEvents) {
        return this.userSettingsService.patch({ recentQueries: this.recentqueries }, auditEvents)
            .subscribe(next => {
            this._events.next({ type: "RecentQuery_Patched" /* Patched */ });
        }, error => {
            console.error("Could not patch Recent queries!", error);
        });
    }
    // EVENT HANDLERS (Menus)
    /**
     * Uses the SearchService to perform a search returning all
     * the documents matching this recent query.
     * @param recentquery
     * @returns the search service promise
     */
    searchRecentQuery(recentquery, path) {
        this.searchService.setQuery(_sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].extend(this.searchService.makeQuery(), _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].copy(recentquery.query)));
        this._events.next({ type: "Search_RecentQuery" /* Search */, recentquery });
        return this.searchService.search({ path: path }, {
            type: "Search_RecentQuery" /* Search */,
            detail: {
                recentquery: recentquery.query.text
            }
        });
    }
    notifyOpenRecentQuery(recentquery) {
        this._events.next({ type: "Search_RecentQuery" /* Search */, recentquery });
    }
    ngOnDestroy() {
        this.events.complete();
        this.changes.complete();
    }
}
RecentQueriesService.ɵfac = function RecentQueriesService_Factory(t) { return new (t || RecentQueriesService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_3__["UserSettingsWebService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_components_search__WEBPACK_IMPORTED_MODULE_4__["SearchService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](MAX_QUERIES, 8)); };
RecentQueriesService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: RecentQueriesService, factory: RecentQueriesService.ɵfac, providedIn: 'root' });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](RecentQueriesService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: 'root',
            }]
    }], function () { return [{ type: _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_3__["UserSettingsWebService"] }, { type: _sinequa_components_search__WEBPACK_IMPORTED_MODULE_4__["SearchService"] }, { type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Optional"]
            }, {
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [MAX_QUERIES]
            }] }]; }, null); })();


/***/ }),

/***/ "mD7x":
/*!***************************************************!*\
  !*** ../components/facet/bootstrap/public-api.ts ***!
  \***************************************************/
/*! exports provided: BsFacetBar, BsFacetCard, BsFacetFilters, BsFacetList, BsFacetModule, BsMySearch, RoundTarget, RoundType, BsFacetRange, BsRefine, BsFacetTree, BsFacetMultiComponent, BsFacetTagCloud */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _facet_bar_facet_bar__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./facet-bar/facet-bar */ "OCLz");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFacetBar", function() { return _facet_bar_facet_bar__WEBPACK_IMPORTED_MODULE_0__["BsFacetBar"]; });

/* harmony import */ var _facet_card_facet_card__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./facet-card/facet-card */ "wL8g");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFacetCard", function() { return _facet_card_facet_card__WEBPACK_IMPORTED_MODULE_1__["BsFacetCard"]; });

/* harmony import */ var _facet_filters_facet_filters__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./facet-filters/facet-filters */ "/1CB");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFacetFilters", function() { return _facet_filters_facet_filters__WEBPACK_IMPORTED_MODULE_2__["BsFacetFilters"]; });

/* harmony import */ var _facet_list_facet_list__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./facet-list/facet-list */ "MbPB");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFacetList", function() { return _facet_list_facet_list__WEBPACK_IMPORTED_MODULE_3__["BsFacetList"]; });

/* harmony import */ var _facet_module__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./facet.module */ "Li15");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFacetModule", function() { return _facet_module__WEBPACK_IMPORTED_MODULE_4__["BsFacetModule"]; });

/* harmony import */ var _facet_mysearch_facet_mysearch__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./facet-mysearch/facet-mysearch */ "Cfzj");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsMySearch", function() { return _facet_mysearch_facet_mysearch__WEBPACK_IMPORTED_MODULE_5__["BsMySearch"]; });

/* harmony import */ var _facet_range_facet_range__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./facet-range/facet-range */ "DaU4");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RoundTarget", function() { return _facet_range_facet_range__WEBPACK_IMPORTED_MODULE_6__["RoundTarget"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RoundType", function() { return _facet_range_facet_range__WEBPACK_IMPORTED_MODULE_6__["RoundType"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFacetRange", function() { return _facet_range_facet_range__WEBPACK_IMPORTED_MODULE_6__["BsFacetRange"]; });

/* harmony import */ var _facet_refine_facet_refine__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./facet-refine/facet-refine */ "YgbU");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsRefine", function() { return _facet_refine_facet_refine__WEBPACK_IMPORTED_MODULE_7__["BsRefine"]; });

/* harmony import */ var _facet_tree_facet_tree__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./facet-tree/facet-tree */ "JgJf");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFacetTree", function() { return _facet_tree_facet_tree__WEBPACK_IMPORTED_MODULE_8__["BsFacetTree"]; });

/* harmony import */ var _facet_multi_facet_multi_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./facet-multi/facet-multi.component */ "bna5");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFacetMultiComponent", function() { return _facet_multi_facet_multi_component__WEBPACK_IMPORTED_MODULE_9__["BsFacetMultiComponent"]; });

/* harmony import */ var _facet_tag_cloud_facet_tag_cloud__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./facet-tag-cloud/facet-tag-cloud */ "rLnE");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFacetTagCloud", function() { return _facet_tag_cloud_facet_tag_cloud__WEBPACK_IMPORTED_MODULE_10__["BsFacetTagCloud"]; });














/***/ }),

/***/ "mE1E":
/*!***********************************************!*\
  !*** ../core/login/authentication.service.ts ***!
  \***********************************************/
/*! exports provided: AuthenticationService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthenticationService", function() { return AuthenticationService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "+kfY");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs/operators */ "0Wlh");
/* harmony import */ var _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/web-services */ "cIYa");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _token_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./token.service */ "WIRU");
/* harmony import */ var _jwt_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./jwt.service */ "MfrO");
/* harmony import */ var ng2_ui_auth__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ng2-ui-auth */ "ygqg");










const LEGACY_PROCESSED_CREDENTIALS_KIND = 0;
/**
 * A service to authenticate a user with a Sinequa server. Authentication can be automatic (OAuth/SAML), if configured in the
 * Sinequa administration, or manual where the user name and password are entered in a modal dialog box and transmitted in
 * clear text. There is also support for the ng2-ui-auth library where the authentication process occurs in a browser popup window.
 * Successful authentication results in a JWT stored in cookie along with a CSRF token which is stored in storage so it can
 * be picked up in other browser tabs.
 *
 * The service also holds information on the status of the "override user" administrator function
 */
class AuthenticationService extends _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_3__["HttpService"] {
    constructor(startConfig, httpClient, tokenService, auditService, jWTService, authService) {
        super(startConfig);
        this.httpClient = httpClient;
        this.tokenService = tokenService;
        this.auditService = auditService;
        this.jWTService = jWTService;
        this.authService = authService;
        this.init();
    }
    /**
     * Get the currrent user override, if any
     */
    get userOverride() {
        return this._userOverride;
    }
    /**
     * Set/unset the user override. The {@link #userOverrideActive} flag
     * is set accordingly
     */
    set userOverride(value) {
        this._userOverride = value;
        if (this._userOverride) {
            this._userOverrideActive = !!this._userOverride.userName && !!this._userOverride.domain;
        }
        else {
            this._userOverrideActive = false;
        }
    }
    /**
     * A flag indicating whether the current user override is active
     */
    get userOverrideActive() {
        return this._userOverrideActive;
    }
    /**
     * Get the current processed credentials
     */
    get processedCredentials() {
        return this._processedCredentials;
    }
    /**
     * Set the current processed credentials. A stringified version
     * is stored in either local or session storage
     */
    set processedCredentials(value) {
        this._processedCredentials = value;
        if (value) {
            const newProcessedCredentialsStr = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__["Utils"].toJson(this._processedCredentials);
            if (this._processedCredentialsStr !== newProcessedCredentialsStr) {
                this._processedCredentialsStr = newProcessedCredentialsStr;
                this.storage.setItem("sinequa-credentials", this._processedCredentialsStr);
            }
        }
        else {
            if (this._processedCredentialsStr) {
                this._processedCredentialsStr = undefined;
                this.storage.removeItem("sinequa-credentials");
            }
        }
    }
    /**
     * Returns `true` if an OAuth or SAML auto provider is configured
     */
    get autoLoginActive() {
        return !!this.startConfig.autoOAuthProvider || !!this.startConfig.autoSAMLProvider;
    }
    /**
     * Deactivate the current user override
     */
    deactivateUserOverride() {
        this._userOverrideActive = false;
    }
    loadCredentials() {
        const sinequaCredentials = this.storage.getItem("sinequa-credentials");
        this._processedCredentialsStr = sinequaCredentials ? sinequaCredentials : undefined;
        this._processedCredentials = this._processedCredentialsStr ? _sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__["Utils"].fromJson(this._processedCredentialsStr) : null;
    }
    saveCredentials(value) {
        this.processedCredentials = value;
    }
    init() {
        if (this.startConfig.authenticationStorage === "local") {
            this.storage = window.localStorage;
        }
        else {
            this.storage = window.sessionStorage;
        }
        this.loadCredentials();
        window.addEventListener('storage', (event) => {
            if (event.storageArea === this.storage) {
                if (!event.key) { // clear
                    this.processedCredentials = undefined;
                }
                else if (event.key === "sinequa-credentials") {
                    if (event.newValue !== this._processedCredentialsStr) {
                        this.loadCredentials();
                    }
                }
            }
        });
    }
    /**
     * Return `true` if `processedCredentials` exists
     */
    get haveCredentials() {
        return !!this.processedCredentials;
    }
    /**
     * Add the current authentication information to the passed `HttpHeaders` and `HttpParams`.
     * Currently, this adds the `sinequa-csrf-token` value to the HTTP headers. Called from
     * {@link HttpInterceptor}
     *
     * @param config HttpHeaders and HttpParams to be updated
     *
     * @returns new configuration
     */
    addAuthentication(config) {
        this.doAuthentication();
        if (this.authentication) {
            if (this.authentication.headers) {
                for (const header in this.authentication.headers) {
                    if (this.authentication.headers.hasOwnProperty(header)) {
                        config.headers = config.headers.set(header, this.authentication.headers[header]);
                    }
                }
            }
            if (this.authentication.params) {
                for (const param in this.authentication.params) {
                    if (this.authentication.params.hasOwnProperty(param)) {
                        config.params = config.params.set(param, this.authentication.params[param]);
                    }
                }
            }
        }
        return config;
    }
    /**
     * Update the current authentication information with information in the passed `response`.
     * This processes the `sinequa-jwt-refresh` header which will contain an updated CSRF token
     * to correspond to the new JWT cookie. Called from {@link HttpInterceptor}
     *
     * @param response An `HttpResponse`
     */
    updateAuthentication(response) {
        const csrfToken = response.headers.get("sinequa-jwt-refresh");
        if (csrfToken) {
            if (this.processedCredentials) {
                if (this.processedCredentials.data.csrfToken !== csrfToken) {
                    this.processedCredentials.data.csrfToken = csrfToken;
                    this.saveCredentials(this.processedCredentials);
                }
            }
            else {
                this.setCsrfToken(csrfToken);
            }
        }
    }
    refreshAuthentication() {
        if (this.processedCredentials) {
            if (!this.authentication) {
                this.authentication = {
                    csrfToken: this.processedCredentials.data.csrfToken
                };
            }
            else {
                this.authentication.csrfToken = this.processedCredentials.data.csrfToken;
            }
        }
        else {
            this.authentication = undefined;
        }
    }
    doAuthentication() {
        this.refreshAuthentication();
        if (this.authentication && this.authentication.csrfToken) {
            this.authentication.headers = {
                "sinequa-csrf-token": this.authentication.csrfToken
            };
        }
    }
    getAuthenticateHeader(regex, authenticationHeaders, header) {
        if (authenticationHeaders) {
            for (let i = 0, ic = authenticationHeaders.length; i < ic; i++) {
                const authenticationHeader = authenticationHeaders[i];
                const matches = regex.exec(authenticationHeader);
                if (matches && matches.length > 0) {
                    const prefix = matches[0];
                    header.value = authenticationHeader.slice(prefix.length);
                    return true;
                }
            }
        }
        return false;
    }
    /**
     * Authenticate with the Sinequa server using the passed credentials. The credentials are sent
     * in clear text. Prior to the authentication the passed `response` is checked for a
     * `WWW-Authenticate: Bearer` header.
     *
     * @param credentials The credentials to authenticate with
     * @param response The error response the reception of which initiated the call to this method
     */
    authenticate(credentials, response) {
        const wwwAuthenticate = response.headers.get("WWW-Authenticate");
        if (!wwwAuthenticate) {
            console.error("Missing WWW-Authenticate header");
            return Promise.resolve(undefined);
        }
        const authenticateHeaders = wwwAuthenticate.split(", ");
        const header = { value: "" };
        if (!this.getAuthenticateHeader(/^Bearer ?/, authenticateHeaders, header)) {
            console.error("Unexpected WWW-Authenticate header");
            return Promise.resolve(undefined);
        }
        return this.jWTService.getToken(credentials).toPromise()
            .then((value) => {
            return {
                kind: LEGACY_PROCESSED_CREDENTIALS_KIND,
                userName: credentials.userName,
                data: {
                    csrfToken: value,
                    provider: "Sinequa"
                }
            };
        });
    }
    /**
     * Remove all current authentication data. The JWT cookie
     * is removed
     */
    logout() {
        this.auditService.notifyLogout().subscribe(_ => {
            this.tokenService.deleteWebTokenCookie().subscribe();
            this.authentication = undefined;
            this.processedCredentials = undefined;
        });
    }
    /**
     * Add the current user override information to the passed headers.
     *
     * @param config An object containing the `HttpHeaders` to update
     */
    addUserOverride(config) {
        if (this.userOverride && this.userOverrideActive) {
            config.headers = config.headers.set("sinequa-override-user", this.userOverride.userName);
            config.headers = config.headers.set("sinequa-override-domain", this.userOverride.domain);
        }
        return config.headers;
    }
    /**
     * Initiate authentication using the ng2-ui-auth library. The authentication process will be performed
     * in a browser popup window
     *
     * @param provider The name of the provider to use. This is the name configured in the Sinequa administration
     * console
     */
    authenticateWithProvider(provider) {
        // AuthService.authenticate opens a popup. On some platforms (Firefox) this is asynchronous
        // so we add a delay (timer(0)) so the caller can create a promise from the returned observable
        // without yielding
        const observable = Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["timer"])(0).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["flatMap"])((value) => {
            const observable1 = this.authService.authenticate(provider, true).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["share"])());
            _sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__["Utils"].subscribe(observable1, (response) => {
                // NB response should be the return value from JOAuth/JSaml json methods
                // It can be undefined eg if the popup fails to open
                if (response) {
                    this.processedCredentials = {
                        kind: LEGACY_PROCESSED_CREDENTIALS_KIND,
                        data: {
                            csrfToken: response.csrfToken,
                            provider
                        }
                    };
                }
            });
            return observable1;
        }));
        return observable;
    }
    setCsrfToken(csrfToken, provider = "Sinequa") {
        if (!csrfToken) {
            return false;
        }
        this.processedCredentials = {
            kind: LEGACY_PROCESSED_CREDENTIALS_KIND,
            data: {
                csrfToken,
                provider
            }
        };
        return true;
    }
    initiateAutoAuthentication() {
        if (!this.startConfig.usePopupForLogin && this.autoLoginActive) {
            let observable;
            if (this.startConfig.autoOAuthProvider) {
                observable = this.httpClient.post(this.makeUrl("security.oauth"), {
                    action: "getcode",
                    provider: this.startConfig.autoOAuthProvider,
                    tokenInCookie: true,
                    originalUrl: window.location.href
                }, {
                    params: this.makeParams({
                        noUserOverride: true,
                        noAutoAuthentication: true
                    })
                });
            }
            else {
                observable = this.httpClient.post(this.makeUrl("security.saml"), {
                    action: "getresponse",
                    provider: this.startConfig.autoSAMLProvider,
                    tokenInCookie: true,
                    originalUrl: window.location.href,
                }, {
                    params: this.makeParams({
                        noUserOverride: true,
                        noAutoAuthentication: true
                    })
                });
            }
            observable.subscribe((response) => {
                window.location.replace(response.redirectUrl);
            });
            return true;
        }
        else {
            return false;
        }
    }
    /**
     * Initiate the auto-authentication process if an automatic OAuth or SAML provider is configured.
     * The {@LoginService} calls this method at startup. First, an attempt is made to retrieve a CSRF token.
     * If that works, then the token is set and authentication is complete. Otherwise, the initial OAuth or SAML
     * call is made to the Sinequa server. The `redirectUrl` in the response to this call is then used to redirect
     * the browser to continue the normal OAuth/SAML autentication flow. A successful authentiction will culminate
     * in the SBA being loaded a second time, this method being called again and the attempt to retrieve a CSRF
     * token succeeding because a valid JWT cookie will now be present.
     *
     * A CSRF token is always requested to allow automatic login if a valid web token cookie has previously been
     * written via, for example, a login to the admin console.
     *
     * @returns An Observable of a boolean value which if `true` indicates that auto-authentication has been initiated.
     */
    autoAuthenticate() {
        return this.tokenService.getCsrfToken().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["map"])((csrfToken) => {
            // Token can be empty as getCsrfToken suppresses application errors (no cookie or cookie invalid)
            // (We do this to avoid having errors in the console for normal situations.)
            if (csrfToken) {
                this.setCsrfToken(csrfToken);
                return false;
            }
            else {
                this.initiateAutoAuthentication();
                return true;
            }
        }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["catchError"])((error) => {
            // We should rarely have an error now as getCsrfToken
            // suppresses the application-level ones
            if (this.initiateAutoAuthentication()) {
                return Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["throwError"])(error);
            }
            // Swallow the error and continue with non-auto login process
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["of"])(false);
        }));
    }
}
AuthenticationService.ɵfac = function AuthenticationService_Factory(t) { return new (t || AuthenticationService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_3__["START_CONFIG"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_3__["SqHttpClient"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_token_service__WEBPACK_IMPORTED_MODULE_5__["TokenService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_3__["AuditWebService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_jwt_service__WEBPACK_IMPORTED_MODULE_6__["JWTService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](ng2_ui_auth__WEBPACK_IMPORTED_MODULE_7__["AuthService"])); };
AuthenticationService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: AuthenticationService, factory: AuthenticationService.ɵfac, providedIn: "root" });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AuthenticationService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: "root"
            }]
    }], function () { return [{ type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_3__["START_CONFIG"]]
            }] }, { type: _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_3__["SqHttpClient"] }, { type: _token_service__WEBPACK_IMPORTED_MODULE_5__["TokenService"] }, { type: _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_3__["AuditWebService"] }, { type: _jwt_service__WEBPACK_IMPORTED_MODULE_6__["JWTService"] }, { type: ng2_ui_auth__WEBPACK_IMPORTED_MODULE_7__["AuthService"] }]; }, null); })();


/***/ }),

/***/ "mOpA":
/*!************************************!*\
  !*** ../components/modal/index.ts ***!
  \************************************/
/*! exports provided: BsModalModule, BsConfirm, BsPrompt, BsEditable, BsHelp, BsLogin, BsModalFooter, BsModalHeader, BsModal, BsOverrideUser, enModal, frModal, deModal */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _public_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./public-api */ "ow2B");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsModalModule", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsModalModule"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsConfirm", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsConfirm"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsPrompt", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsPrompt"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsEditable", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsEditable"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsHelp", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsHelp"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsLogin", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsLogin"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsModalFooter", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsModalFooter"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsModalHeader", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsModalHeader"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsModal", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsModal"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsOverrideUser", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsOverrideUser"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "enModal", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["enModal"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "frModal", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["frModal"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "deModal", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["deModal"]; });




/***/ }),

/***/ "mOvl":
/*!*********************************************!*\
  !*** ../components/collapse/messages/en.ts ***!
  \*********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    collapseButton: {
        collapse: "Collapse",
        expand: "Expand"
    }
});


/***/ }),

/***/ "mQJ4":
/*!********************************************!*\
  !*** ../components/facet/facet.service.ts ***!
  \********************************************/
/*! exports provided: FACET_CHANGE_EVENTS, ALL_FACETS, DEFAULT_FACETS, FacetService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FACET_CHANGE_EVENTS", function() { return FACET_CHANGE_EVENTS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ALL_FACETS", function() { return ALL_FACETS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DEFAULT_FACETS", function() { return DEFAULT_FACETS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FacetService", function() { return FacetService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/app-utils */ "SBPP");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ "+kfY");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs/operators */ "0Wlh");
/* harmony import */ var _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sinequa/core/web-services */ "cIYa");
/* harmony import */ var _sinequa_components_search__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @sinequa/components/search */ "7+c1");
/* harmony import */ var _sinequa_components_autocomplete__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @sinequa/components/autocomplete */ "jAS1");
/* harmony import */ var _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @sinequa/core/intl */ "EfqX");











// Types of events triggering a change event
const FACET_CHANGE_EVENTS = [
    "Facet_Loaded" /* Loaded */,
    "Facet_Added" /* Add */,
    "Facet_Removed" /* Remove */
];
const ALL_FACETS = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["InjectionToken"]('ALL_FACETS');
const DEFAULT_FACETS = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["InjectionToken"]('DEFAULT_FACETS');
class FacetService {
    constructor(userSettingsService, searchService, suggestService, appService, intlService, formatService, exprBuilder, allFacets, defaultFacets) {
        this.userSettingsService = userSettingsService;
        this.searchService = searchService;
        this.suggestService = suggestService;
        this.appService = appService;
        this.intlService = intlService;
        this.formatService = formatService;
        this.exprBuilder = exprBuilder;
        this.allFacets = allFacets;
        this.defaultFacets = defaultFacets;
        this._events = new rxjs__WEBPACK_IMPORTED_MODULE_3__["Subject"]();
        this._changes = new rxjs__WEBPACK_IMPORTED_MODULE_3__["Subject"]();
        /**
         * Utility function to returns aggregation item's index in supplied array with fallback to `display` comparison.
         * Otherwise -1, indicating that no element passed the test.
         * @param arr The array findIndex() was called upon
         * @param value The value to be test
         */
        this.findAggregationItemIndex = (arr, item) => {
            let index = arr.findIndex(it => it.value === item.value);
            if (index === -1 && item.display) {
                // fallback to display comparison
                index = arr.findIndex(it => it.display === item.display);
            }
            return index;
        };
        this.trimAllWhitespace = (value) => {
            switch (typeof value) {
                case "string":
                    return value.replace(/\s/g, '');
                default:
                    return value;
            }
        };
        // Listen to the user settings
        this.userSettingsService.events.subscribe(event => {
            // E.g. new login occurs
            // ==> Menus need to be rebuilt
            this.events.next({ type: "Facet_Loaded" /* Loaded */ });
        });
        // Listen to own events, to trigger change events
        this._events.subscribe(event => {
            if (FACET_CHANGE_EVENTS.indexOf(event.type) !== -1) {
                this.changes.next(event);
            }
        });
    }
    // GETTERS
    /**
     * Returns the list of this user's facets.
     * The list is stored in the user settings (this is a redirection).
     * Using this service creates the list of facets if it does not already exist.
     */
    get facets() {
        if (!this.userSettingsService.userSettings)
            this.userSettingsService.userSettings = {};
        if (!this.userSettingsService.userSettings["facets"]) {
            this.userSettingsService.userSettings["facets"] = [];
            if (!!this.defaultFacets) {
                this.userSettingsService.userSettings["facets"].push(...this.defaultFacets);
                this.patchFacets();
            }
        }
        return this.userSettingsService.userSettings["facets"];
    }
    /**
     * @returns a facet with the given name or undefined if it does not exist
     * @param name
     */
    facet(name) {
        const i = this.facetIndex(name);
        return i >= 0 ? this.facets[i] : undefined;
    }
    /**
     * Returns the list of facet config in the given container (position)
     * @param position (default to 0 if there is a single container)
     */
    getFacets(position = 0) {
        if (!this.allFacets) {
            return [];
        }
        return this.facets.filter(f => f.position === position)
            .map(f => this.allFacets.find(_f => _f.name === f.name));
    }
    /**
     * Returns true if this facet is opened (in any container)
     * @param facetName
     */
    isFacetOpened(facetName) {
        return !!this.facets.find(f => f.name === facetName);
    }
    facetIndex(name) {
        for (let i = 0, ic = this.facets.length; i < ic; i++) {
            const facet = this.facets[i];
            if (facet && facet.name === name) {
                return i;
            }
        }
        return -1;
    }
    /**
     * Triggers any events regarding the facets
     */
    get events() {
        return this._events;
    }
    /**
     * Triggers when events affect the list of facets
     * Cf. CHANGE_EVENTS list
     */
    get changes() {
        return this._changes;
    }
    addFacet(facet) {
        this.facets.push(facet);
        this.events.next({ type: "Facet_Added" /* Add */, facet: facet });
        this.patchFacets([{
                type: "Facet_Added" /* Add */,
                detail: {
                    facet: facet.name
                }
            }]);
    }
    removeFacet(facet) {
        const i = this.facetIndex(facet.name);
        if (i !== -1) {
            this.facets.splice(i, 1);
            this.events.next({ type: "Facet_Removed" /* Remove */, facet: facet });
            this.patchFacets([{
                    type: "Facet_Removed" /* Remove */,
                    detail: {
                        facet: facet.name
                    }
                }]);
        }
    }
    addAllFacet() {
        this.facets.splice(0, this.facets.length);
        if (!!this.defaultFacets)
            this.facets.push(...this.defaultFacets);
        this.events.next({ type: "Facets_Added" /* AddAll */ });
        this.patchFacets([{
                type: "Facets_Added" /* AddAll */
            }]);
    }
    removeAllFacet() {
        this.facets.splice(0, this.facets.length);
        this.events.next({ type: "Facets_Removed" /* RemoveAll */ });
        this.patchFacets([{
                type: "Facets_Removed" /* RemoveAll */
            }]);
    }
    /**
     * Updates facets in User settings.
     * @param auditEvents : Audit Events to be triggered
     * @returns an Observable which can be used to trigger further events
     */
    patchFacets(auditEvents) {
        return this.userSettingsService.patch({ facets: this.facets }, auditEvents)
            .subscribe(next => {
            this.events.next({ type: "Facet_Patched" /* Patched */ });
        }, error => {
            console.error("Could not patch Facets!", error);
        });
    }
    /**
     * Filter/Exclude an item in a facet and launch a search.
     * Triggers an internal event and an Audit Event
     * @param facetName
     * @param aggregation
     * @param items
     * @param options
     */
    addFilterSearch(facetName, aggregation, items, options = {}) {
        var _c;
        const success = this.addFilter(facetName, aggregation, items, options);
        if (success) {
            this.events.next({ type: "Facet_AddFilter" /* AddFilter */, facet: this.facet(facetName) });
            return this.searchService.search(undefined, {
                type: "Facet_AddFilter" /* AddFilter */,
                detail: {
                    item: this.searchService.query.lastSelect(),
                    itembox: facetName,
                    itemcolumn: aggregation.column,
                    isitemexclude: options.not,
                    "from-result-id": (_c = this.searchService.results) === null || _c === void 0 ? void 0 : _c.id
                }
            });
        }
        return Promise.resolve(false);
    }
    /**
     * Filter/Exclude one or more item(s) in a facet (without launching a search)
     * @param facetName
     * @param aggregation
     * @param items
     * @param options
     * @param query the query on which to add the filter (defaults to search service query)
     * @param breadcrumbs breadcrumbs in which to look for selected items (defaults  to search service breadcrumbs)
     */
    addFilter(facetName, aggregation, items, options = {}, query = this.searchService.query, breadcrumbs = this.searchService.breadcrumbs) {
        if (!items) {
            return false;
        }
        if (options.replaceCurrent) {
            query.removeSelect(facetName);
        }
        if (!aggregation.isTree && (breadcrumbs === null || breadcrumbs === void 0 ? void 0 : breadcrumbs.activeSelects.length) && !options.replaceCurrent) {
            const expr = breadcrumbs.findSelect(facetName);
            const index = breadcrumbs.activeSelects.findIndex(select => select.facet === facetName && (select.expr === expr || select.expr === (expr === null || expr === void 0 ? void 0 : expr.parent)));
            const same = (!Array.isArray(items)) ? true : (options.and ? "AND" : "OR") === ((expr === null || expr === void 0 ? void 0 : expr.and) ? "AND" : "OR") && (options.not ? "YES" : "NO") === ((expr === null || expr === void 0 ? void 0 : expr.not) ? "YES" : "NO");
            if (expr && same && index !== -1) {
                let _items;
                if (expr === null || expr === void 0 ? void 0 : expr.operands) {
                    _items = this.exprToAggregationItem(expr.operands, aggregation.valuesAreExpressions).concat(items);
                }
                else {
                    // previous selection is a single value
                    _items = this.exprToAggregationItem(expr, aggregation.valuesAreExpressions).concat(items);
                }
                // MUST reset $excluded property otherwise expression is misunderstood
                _items.forEach(item => item.$excluded = undefined);
                // overrides options settings with expression if any
                let _expr = this.exprBuilder.makeAggregationExpr(aggregation, _items, options.and || expr.and);
                if (options.not || expr.not) {
                    _expr = this.exprBuilder.makeNotExpr(_expr);
                }
                if (_expr) {
                    query.replaceSelect(index, { expression: _expr, facet: facetName });
                    return true;
                }
            }
        }
        let expr = this.exprBuilder.makeAggregationExpr(aggregation, items, options.and);
        if (options.not) {
            expr = this.exprBuilder.makeNotExpr(expr);
        }
        if (expr) {
            query.addSelect(expr, facetName);
            return true;
        }
        return false;
    }
    /**
     * Clears the query from the current selection on the given facet
     * @param facetName
     * @param all
     * @param query the query to clear from the facet selection (defaults to search service query)
     */
    clearFilters(facetName, all, query = this.searchService.query) {
        query.removeSelect(facetName, all);
    }
    /**
     * Clears the query from the current selection on the given facet and perform a search
     * @param facetName
     * @param all
     */
    clearFiltersSearch(facetName, all) {
        var _c;
        [].concat(facetName).forEach(name => {
            this.clearFilters(name, all);
            this._events.next({ type: "Facet_ClearFilters" /* ClearFilters */, facet: this.facet(name) });
        });
        return this.searchService.search(undefined, {
            type: "Facet_ClearFilters" /* ClearFilters */,
            detail: {
                itembox: facetName,
                "from-result-id": (_c = this.searchService.results) === null || _c === void 0 ? void 0 : _c.id
            }
        });
    }
    /**
     * Remove a filter and update the appropriate Select if it was previously included in a selection
     * @param facetName the facet that removes the filter
     * @param aggregation the aggregation that contains the item to remove
     * @param item the aggregation item to remove from the query
     * @param query the query on which to remove the filter (defaults to search service query)
     * @param breadcrumbs breadcrumbs in which to look for selected items (defaults  to search service breadcrumbs)
     */
    removeFilter(facetName, aggregation, item, query = this.searchService.query, breadcrumbs = this.searchService.breadcrumbs) {
        if (breadcrumbs) {
            // if item is excluded, makeAggregation() should returns a NOT expression
            const stringExpr = item.$excluded ? this.exprBuilder.makeNotExpr(this.exprBuilder.makeAggregationExpr(aggregation, item)) : this.exprBuilder.makeAggregationExpr(aggregation, item);
            const filterExpr = this.findItemFilter(facetName, aggregation, item, breadcrumbs) || this.appService.parseExpr(stringExpr);
            const expr = breadcrumbs.findSelect(facetName, filterExpr);
            const i = breadcrumbs.activeSelects.findIndex(select => select.facet === facetName && (select.expr === expr || select.expr === (expr === null || expr === void 0 ? void 0 : expr.parent)));
            // 'Select' can't be created when aggregation is a tree map, so, avoid aggregation tree
            // and remove whole breadcrumbs
            if (!aggregation.isTree && expr && expr.parent && expr.parent.operands.length > 1) {
                // create a new Expr from parent and replaces Select by this new one
                // so, breadcrumbs stay ordered
                const filterByValuesAreExpression = (it) => it.value.toString().replace(/ /g, "") !== item.value.toString().replace(/ /g, "");
                const filterByValue = (it) => it.value !== item.value;
                const filter = (aggregation.valuesAreExpressions) ? filterByValuesAreExpression : filterByValue;
                const items = this.exprToAggregationItem(expr.parent.operands, aggregation.valuesAreExpressions).filter(filter);
                // MUST reset $excluded property otherwise expression is misunderstood (mainly NOT expressions)
                items.forEach(item => item.$excluded = undefined);
                const { not, and } = breadcrumbs.selects[i].expr || {};
                let _expr = this.exprBuilder.makeAggregationExpr(aggregation, items, and);
                if (not) {
                    _expr = this.exprBuilder.makeNotExpr(_expr);
                }
                if (_expr) {
                    query.replaceSelect(i, { expression: _expr, facet: facetName });
                    return { expression: this.exprBuilder.makeAggregationExpr(aggregation, item), facet: facetName };
                }
            }
            else {
                // filter is a single value... remove it
                const select = query.select ? query.select[i] : undefined;
                query.removeSelect(i);
                return select;
            }
        }
        return undefined;
    }
    /**
     * Removes the aggregation from the search service query and refresh the search
     * @param facetName
     * @param aggregation
     * @param item
     */
    removeFilterSearch(facetName, aggregation, item) {
        const select = this.removeFilter(facetName, aggregation, item);
        if (select) {
            this._events.next({ type: "Facet_RemoveFilter" /* RemoveFilter */, facet: this.facet(facetName || "") });
            delete this.searchService.query.queryId; // SBA-154
            return this.searchService.search(undefined, {
                type: "Facet_RemoveFilter" /* RemoveFilter */,
                detail: {
                    item: { expression: select === null || select === void 0 ? void 0 : select.expression, facet: select === null || select === void 0 ? void 0 : select.facet },
                    itembox: facetName,
                    itemcolumn: aggregation.column,
                    "from-result-id": !!this.searchService.results ? this.searchService.results.id : null
                }
            });
        }
        return Promise.resolve(false);
    }
    /**
     * Queries the server for data for this aggregation
     * @param aggregation
     * @param skip
     * @param count
     * @param query the query to use to fetch the data (default to search service query)
     */
    loadData(aggregation, skip = 0, count = 10, query = this.searchService.query, searchInactive = true) {
        query = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].copy(query);
        query.action = "aggregate";
        query.aggregations = {};
        query.aggregations[aggregation] = { skip: skip, count: count };
        return this.searchService.getResults(query, undefined, { searchInactive }).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["map"])((results) => {
            const data = results.aggregations.find(a => _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].eqNC(a.name, aggregation));
            if (data) {
                this.setColumn(data); // Useful for formatting and i18n
            }
            return data;
        }));
    }
    /**
     * Get suggestions given a text and a field name, using the Suggest service
     * @param text
     * @param field
     * @param suggestQuery
     */
    suggest(text, field, suggestQuery = this.appService.suggestQueries[0]) {
        return this.suggestService.get(suggestQuery, text, [field], this.searchService.query);
    }
    /**
     * Format the given result item, using field formatter and/or i18n service
     * @param item
     */
    formatValue(item) {
        return this.intlService.formatMessage(this.formatService.formatFieldValue(item, item.$column));
    }
    /**
     * Returns true if this facet has at least one active selection
     * filtering the search
     * @param facetName
     * @param breadcrumbs breadcrumbs in which to look for selected items (defaults to search service breadcrumbs)
     */
    hasFiltered(facetName, breadcrumbs = this.searchService.breadcrumbs) {
        return !!this.findFilter(facetName, breadcrumbs);
    }
    /**
     * Returns an active selection of this facet filtering the search
     * Returns it as an expression
     * @param facetName
     * @param breadcrumbs breadcrumbs in which to look for selected items (defaults to search service breadcrumbs)
     */
    findFilter(facetName, breadcrumbs = this.searchService.breadcrumbs) {
        return breadcrumbs === null || breadcrumbs === void 0 ? void 0 : breadcrumbs.findSelect(facetName);
    }
    /**
     * Look for an aggregation with the given name in the search results and returns it.
     * Takes care of initializing the aggregation items to insert their $column property.
     * @param aggregationName
     * @param results The search results can be provided explicitly or taken from the SearchService implicitly.
     */
    getAggregation(aggregationName, results = this.searchService.results, treeAggregationOptions) {
        if (results === null || results === void 0 ? void 0 : results.aggregations) {
            const aggregation = results.aggregations.find(agg => _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].eqNC(agg.name, aggregationName));
            if (aggregation) {
                this.setColumn(aggregation); // Useful for formatting and i18n
                if (aggregation.isTree && treeAggregationOptions) {
                    const expr = this.findFilter(treeAggregationOptions.facetName);
                    const expandPaths = expr ? expr.getValues(aggregation.column) : [];
                    this.initTreeNodes(treeAggregationOptions.facetName, aggregation, "/", aggregation.items, expandPaths, treeAggregationOptions.levelCallback);
                    return aggregation;
                }
                return aggregation;
            }
        }
        return undefined;
    }
    /**
     * Look for a Tree aggregation with the given name in the search results and returns it.
     * Takes care of initializing the Node aggregation items to insert their properties ($column, $path, $opened, $level)
     * @deprecated use getAggregation() instead
     * @param facetName
     * @param aggregationName
     * @param results The search results can be provided explicitly or taken from the SearchService implicitly.
     * @param levelCallback A callback method called at every level of the tree.
     * Can be used to read or alter the properties of the nodes (opening, closing), or node list (sorting)
     */
    getTreeAggregation(facetName, aggregationName, results = this.searchService.results, levelCallback) {
        const agg = this.getAggregation(aggregationName, results);
        if (agg === null || agg === void 0 ? void 0 : agg.isTree) {
            const expr = this.findFilter(facetName);
            const expandPaths = expr ? expr.getValues(agg.column) : [];
            this.initTreeNodes(facetName, agg, "/", agg.items, expandPaths, levelCallback);
            return agg;
        }
        return undefined;
    }
    /**
     * Returns the count parameter of the given aggregation (default is 10)
     * @param aggregationName
     */
    getAggregationCount(aggregationName) {
        var _c;
        return ((_c = this.appService.getCCAggregation(aggregationName)) === null || _c === void 0 ? void 0 : _c.count) || 10;
    }
    /**
     * Opens a Tree node of the given tree facet by querying data from the server
     * Takes care of initializing the Node aggregation items to insert their properties ($column, $path, $opened, $level)
     * @param facetName
     * @param aggregation
     * @param item
     * @param levelCallback A callback method called at every level of the tree.
     * Can be used to read or alter the properties of the nodes (opening, closing), or node list (sorting)
     */
    open(facetName, aggregation, item, levelCallback, query = this.searchService.query, searchInactive = true) {
        const value = item.$path + "*";
        query = _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_1__["Query"].copy(query);
        query.action = "open";
        const expr = this.exprBuilder.makeExpr(aggregation.column, value);
        query.addOpen(expr, aggregation.name);
        this.events.next({ type: "Facet_TreeOpen" /* Open */, facet: this.facet(facetName) });
        return this.searchService.getResults(query, undefined, { searchInactive }).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_4__["map"])((results) => {
            if (item.$path) {
                const source = FacetService.getAggregationNode(results.aggregations[0].items, item.$path);
                const target = FacetService.getAggregationNode(aggregation.items, item.$path);
                if (source && target) {
                    target.items = source.items; // Insert the new data (source) into the original (target)
                }
                if (target && target.items) {
                    this.initTreeNodes(facetName, aggregation, item.$path, target.items, undefined, levelCallback);
                }
            }
            return results;
        }));
    }
    /**
     * Returns true if a given aggregation item is currently actively filtering the search
     * @param facetName
     * @param aggregation
     * @param item
     * @param breadcrumbs breadcrumbs in which to look for selected items (default to search service breadcrumbs)
     */
    itemFiltered(facetName, aggregation, item, breadcrumbs = this.searchService.breadcrumbs) {
        return !!this.findItemFilter(facetName, aggregation, item, breadcrumbs);
    }
    findItemFilter(facetName, aggregation, item, breadcrumbs) {
        let expr;
        let exprText;
        if (!aggregation.valuesAreExpressions) {
            let value;
            if (aggregation.isTree) {
                value = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].toSqlValue(item.$path + "*");
            }
            else {
                value = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].toSqlValue(item.value);
            }
            exprText = this.exprBuilder.makeExpr(aggregation.column, value);
        }
        else {
            exprText = item.value;
        }
        const ret = this.appService.parseExpr(exprText);
        if (ret instanceof _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_1__["Expr"]) {
            expr = ret;
        }
        if (expr) {
            const expr2 = breadcrumbs === null || breadcrumbs === void 0 ? void 0 : breadcrumbs.findSelect(facetName, expr);
            if (!!expr2 && (!expr2.parent || !expr2.parent.parent)) {
                return expr2;
            }
        }
        return undefined;
    }
    /**
     * Initializes the nodes of a tree (private, with a callback)
     * @param facetName
     * @param aggregation
     * @param root
     * @param children
     * @param expandPaths
     * @param levelCallback
     */
    initTreeNodes(facetName, aggregation, root, children, expandPaths, levelCallback) {
        if (!children) {
            return;
        }
        let rootLevel;
        if (root) {
            rootLevel = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].count(root, "/", false) - 1;
        }
        else {
            root = "/";
            rootLevel = 0;
        }
        const column = this.appService.getColumn(aggregation.column);
        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].traverse(children, (_nodes) => {
            if (!_nodes) {
                return false;
            }
            let path = root;
            let level = rootLevel;
            for (const _node of _nodes) {
                path = path + _node.value + "/";
                level++;
            }
            // console.log(path);
            const _node = _nodes[_nodes.length - 1];
            _node.$path = path;
            _node.$column = column;
            _node.$level = level;
            _node.$opened = false;
            _node.$filtered = this.itemFiltered(facetName, aggregation, _node);
            expandPaths === null || expandPaths === void 0 ? void 0 : expandPaths.forEach(expandPath => {
                if (expandPath.indexOf(path) === 0) {
                    const count = !!_node.items ? _node.items.length : _node.hasChildren ? -1 : 0;
                    if (count > 0) {
                        _node.$opened = true;
                    }
                }
            });
            if (levelCallback) {
                levelCallback(_nodes, level, _node);
            }
            return false; // don't stop
        });
    }
    setColumn(aggregation) {
        if (!aggregation.isTree && aggregation.items) {
            const column = this.appService.getColumn(aggregation.column);
            aggregation.items.forEach((value) => value.$column = column);
        }
    }
    // static methods
    static splitTreepath(path) {
        if (!path)
            return [];
        path = path.trim();
        if (path.length > 0 && path[0] === "/") {
            path = path.substr(1);
        }
        if (path.length > 0 && path[path.length - 1] === "/") {
            path = path.substr(0, path.length - 1);
        }
        if (path.length === 0) {
            return [];
        }
        return path.split("/");
    }
    static treepathLast(path) {
        const parts = FacetService.splitTreepath(path);
        if (!parts || parts.length === 0) {
            return "";
        }
        return parts[parts.length - 1];
    }
    static getAggregationNode(nodes, path) {
        if (!nodes || nodes.length === 0) {
            return undefined;
        }
        const names = FacetService.splitTreepath(path);
        let node;
        for (let _i = 0, _a = names; _i < _a.length; _i++) {
            if (!nodes || nodes.length === 0) {
                return undefined;
            }
            const name = _a[_i].toLocaleLowerCase();
            node = undefined;
            for (let _j = 0, _b = nodes; _j < _b.length; _j++) {
                const _node = _b[_j];
                if (_node.value.toLocaleLowerCase() === name) {
                    node = _node;
                    break;
                }
            }
            if (!node) {
                return undefined;
            }
            nodes = node.items;
        }
        return node;
    }
    /**
     * Convert an Expression object or an Expression Array to their AggregationItem equivalent
     *
     * @param expr Expression object or Expression Array
     * @param valuesAreExpressions when true values should be converted to string otherwise no
     *
     * @returns AggregationItem array with converted expression or an empty array
     */
    exprToAggregationItem(expr, valuesAreExpressions = false) {
        const fn = [
            (item) => {
                var _c, _d;
                let value = item.value;
                if (((_c = item.column) === null || _c === void 0 ? void 0 : _c.eType) === 1 /* bool */) {
                    value = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].isTrue(item.value);
                }
                return { count: 0, value, display: item.display, $column: item.column, $excluded: ((item === null || item === void 0 ? void 0 : item.not) || ((_d = item === null || item === void 0 ? void 0 : item.parent) === null || _d === void 0 ? void 0 : _d.not)) };
            },
            (item) => { var _c; return ({ count: 0, value: item.toString((item.value) ? true : false), display: item.display, $column: item.column, $excluded: ((item === null || item === void 0 ? void 0 : item.not) || ((_c = item === null || item === void 0 ? void 0 : item.parent) === null || _c === void 0 ? void 0 : _c.not)) }); }
        ];
        const callback = valuesAreExpressions ? fn[1] : fn[0];
        return [].concat(expr).map(callback);
    }
    /**
     * Get all Breadcrumbs items from a specific facet
     *
     * @param facetName facet name where to extract all breadcrumbs
     * @param breadcrumbs breadcrumbs in which to look for selected items
     */
    getBreadcrumbsItems(facetName, breadcrumbs) {
        return (breadcrumbs === null || breadcrumbs === void 0 ? void 0 : breadcrumbs.items.filter(item => item.facet === facetName)) || [];
    }
    /**
     * Get all Aggregation items from a facet, currently filtered
     *
     * @param facetName facet name where to inspect
     * @param valuesAreExpressions when true, some transformations should be done
     * @param breadcrumbs breadcrumbs in which to look for selected items (default to search service breadcrumbs)
     */
    getAggregationItemsFiltered(facetName, valuesAreExpressions = false, breadcrumbs = this.searchService.breadcrumbs) {
        var _c, _d;
        const items = this.getBreadcrumbsItems(facetName, breadcrumbs);
        // aggregation items are constructed from nested expressions
        const expr = [];
        for (const item of items) {
            const value = (((_c = item.expr) === null || _c === void 0 ? void 0 : _c.display) === undefined) ? ((_d = item.expr) === null || _d === void 0 ? void 0 : _d.operands) || item.expr : item.expr;
            if (value) {
                expr.push(value);
            }
        }
        // faltten results
        const flattenExpr = [].concat.apply([], expr);
        return this.exprToAggregationItem(flattenExpr, valuesAreExpressions);
    }
    /**
     * Convert Suggestion to AggregationItem
     * @param suggest a Suggestion object
     *
     * @returns AggregationItem object with is `$column` property defined.
     * On boolean type, convert `value` property to boolean
     */
    suggestionToAggregationItem(suggest) {
        var _c;
        const item = {
            value: suggest.normalized || suggest.display,
            display: suggest.display,
            count: +(suggest.frequency || 0),
            $column: this.appService.getColumn(suggest.category)
        };
        if (((_c = item.$column) === null || _c === void 0 ? void 0 : _c.eType) === 1 /* bool */) {
            item.value = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].isTrue(item.value);
        }
        return item;
    }
    /**
     * Converts a list of suggestions into a structure of TreeAggregationNodes
     * @param suggests Suggestions to convert
     * @param searchTerm The searched term in the suggestions
     * @param aggregation The tree aggregations
     */
    suggestionsToTreeAggregationNodes(suggests, searchTerm, aggregation) {
        const suggestions = [];
        if (suggests.length > 0) {
            const path2node = new Map();
            const searchPattern = new RegExp(`\\b${searchTerm}`, 'i');
            const column = this.appService.getColumn(aggregation === null || aggregation === void 0 ? void 0 : aggregation.column);
            suggests.forEach(suggest => {
                if (suggest.display.length > 1) {
                    const match = searchPattern.exec(suggest.display);
                    this.addNode(suggestions, path2node, "/", suggest.display, +(suggest.frequency || 0), 1, ((match === null || match === void 0 ? void 0 : match.index) || 0) + searchTerm.length, column);
                }
            });
        }
        return suggestions;
    }
    /**
     * Utility recursive function to generate a tree aggregation structure from
     * a list of suggestions
     */
    addNode(items, path2node, parentPath, path, count, level, matchend, column) {
        const nextChild = path.indexOf("/", parentPath.length); // path = /Cities/Paris/17e/   parentPath = /Cities/
        const currentPath = path.substring(0, nextChild + 1); // => currentPath = /Cities/Paris/
        let node = path2node.get(currentPath);
        if (!node) {
            const value = path.substring(parentPath.length, nextChild);
            node = {
                value,
                count,
                items: [],
                hasChildren: false,
                $column: column,
                $level: level,
                $opened: matchend >= currentPath.length,
                $path: currentPath
            };
            path2node.set(currentPath, node);
            items.push(node);
        }
        if (currentPath.length < path.length) {
            node.hasChildren = true;
            this.addNode(node.items, path2node, currentPath, path, count, level + 1, matchend, column);
        }
    }
    /**
     * Check if a facet contains items
     * @param aggregation aggregation name
     * @param results search results
     *
     * @returns true if the facet contains a least one item otherwise false
     */
    hasData(aggregation, results) {
        var _c, _d;
        // Avoid calling getAggregation() which is costly
        return !!((_d = (_c = results.aggregations.find(agg => _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].eqNC(agg.name, aggregation))) === null || _c === void 0 ? void 0 : _c.items) === null || _d === void 0 ? void 0 : _d.length);
    }
    /**
     * Returns the index of the first element in the supplied array
     * corresponding to `item.value` or -1 when not found.
     * A fallback to `item.display` is done before returning -1
     * @param item item to find
     */
    filteredIndex(data, arr, item) {
        let indx = -1;
        // specific to Values Are Expressions where expression are not well formatted by Expression Parser
        // eg: when values is : "> 0", Expression Parser returns : ">0" without space between operator and value
        if (data === null || data === void 0 ? void 0 : data.valuesAreExpressions) {
            const value = this.trimAllWhitespace(item.value);
            const normalizedArr = arr.map(item => (Object.assign(Object.assign({}, item), { value: this.trimAllWhitespace(item.value) }))) || [];
            indx = normalizedArr.findIndex(it => it.value === value);
        }
        else {
            indx = this.findAggregationItemIndex(arr, item);
        }
        return indx;
    }
}
FacetService.ɵfac = function FacetService_Factory(t) { return new (t || FacetService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_5__["UserSettingsWebService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_components_search__WEBPACK_IMPORTED_MODULE_6__["SearchService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_components_autocomplete__WEBPACK_IMPORTED_MODULE_7__["SuggestService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_1__["AppService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_intl__WEBPACK_IMPORTED_MODULE_8__["IntlService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_1__["FormatService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_1__["ExprBuilder"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](ALL_FACETS, 8), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](DEFAULT_FACETS, 8)); };
FacetService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: FacetService, factory: FacetService.ɵfac, providedIn: 'root' });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](FacetService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: 'root',
            }]
    }], function () { return [{ type: _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_5__["UserSettingsWebService"] }, { type: _sinequa_components_search__WEBPACK_IMPORTED_MODULE_6__["SearchService"] }, { type: _sinequa_components_autocomplete__WEBPACK_IMPORTED_MODULE_7__["SuggestService"] }, { type: _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_1__["AppService"] }, { type: _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_8__["IntlService"] }, { type: _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_1__["FormatService"] }, { type: _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_1__["ExprBuilder"] }, { type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Optional"]
            }, {
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [ALL_FACETS]
            }] }, { type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Optional"]
            }, {
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [DEFAULT_FACETS]
            }] }]; }, null); })();


/***/ }),

/***/ "mhH1":
/*!*******************************************************!*\
  !*** ../components/alerts/bootstrap/alerts.module.ts ***!
  \*******************************************************/
/*! exports provided: BsAlertsModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsAlertsModule", function() { return BsAlertsModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "nIj0");
/* harmony import */ var _angular_cdk_drag_drop__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/cdk/drag-drop */ "oqI+");
/* harmony import */ var _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/core/intl */ "EfqX");
/* harmony import */ var _sinequa_core_validation__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sinequa/core/validation */ "BovW");
/* harmony import */ var _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @sinequa/components/utils */ "DD1E");
/* harmony import */ var _sinequa_components_action__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @sinequa/components/action */ "WsHA");
/* harmony import */ var _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @sinequa/components/modal */ "mOpA");
/* harmony import */ var _alerts_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../alerts.service */ "hbzH");
/* harmony import */ var _edit_alert_edit_alert__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./edit-alert/edit-alert */ "asQJ");
/* harmony import */ var _manage_alerts_manage_alerts__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./manage-alerts/manage-alerts */ "tVL2");
/* harmony import */ var _alerts_menu_alerts_menu_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./alerts-menu/alerts-menu.component */ "vfzd");
/* harmony import */ var _alert_message_alert_message_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./alert-message/alert-message.component */ "kT2W");















function windowFactory() {
    return window;
}
class BsAlertsModule {
}
BsAlertsModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: BsAlertsModule });
BsAlertsModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function BsAlertsModule_Factory(t) { return new (t || BsAlertsModule)(); }, providers: [
        {
            provide: _alerts_service__WEBPACK_IMPORTED_MODULE_9__["ALERT_COMPONENTS"],
            useValue: {
                editAlertModal: _edit_alert_edit_alert__WEBPACK_IMPORTED_MODULE_10__["BsEditAlert"],
                manageAlertsModal: _manage_alerts_manage_alerts__WEBPACK_IMPORTED_MODULE_11__["BsManageAlerts"]
            }
        },
        {
            provide: _alerts_service__WEBPACK_IMPORTED_MODULE_9__["WINDOW"],
            useFactory: windowFactory
        }
    ], imports: [[
            _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"], _angular_forms__WEBPACK_IMPORTED_MODULE_2__["ReactiveFormsModule"],
            _angular_cdk_drag_drop__WEBPACK_IMPORTED_MODULE_3__["DragDropModule"],
            _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_8__["BsModalModule"],
            _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_4__["IntlModule"],
            _sinequa_core_validation__WEBPACK_IMPORTED_MODULE_5__["ValidationModule"],
            _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_6__["UtilsModule"],
            _sinequa_components_action__WEBPACK_IMPORTED_MODULE_7__["BsActionModule"]
        ]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](BsAlertsModule, { declarations: [_edit_alert_edit_alert__WEBPACK_IMPORTED_MODULE_10__["BsEditAlert"], _manage_alerts_manage_alerts__WEBPACK_IMPORTED_MODULE_11__["BsManageAlerts"], _alerts_menu_alerts_menu_component__WEBPACK_IMPORTED_MODULE_12__["BsAlertsMenuComponent"], _alert_message_alert_message_component__WEBPACK_IMPORTED_MODULE_13__["BsAlertMessageComponent"]], imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
        _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"], _angular_forms__WEBPACK_IMPORTED_MODULE_2__["ReactiveFormsModule"],
        _angular_cdk_drag_drop__WEBPACK_IMPORTED_MODULE_3__["DragDropModule"],
        _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_8__["BsModalModule"],
        _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_4__["IntlModule"],
        _sinequa_core_validation__WEBPACK_IMPORTED_MODULE_5__["ValidationModule"],
        _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_6__["UtilsModule"],
        _sinequa_components_action__WEBPACK_IMPORTED_MODULE_7__["BsActionModule"]], exports: [_edit_alert_edit_alert__WEBPACK_IMPORTED_MODULE_10__["BsEditAlert"], _manage_alerts_manage_alerts__WEBPACK_IMPORTED_MODULE_11__["BsManageAlerts"], _alerts_menu_alerts_menu_component__WEBPACK_IMPORTED_MODULE_12__["BsAlertsMenuComponent"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsAlertsModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                    _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"], _angular_forms__WEBPACK_IMPORTED_MODULE_2__["ReactiveFormsModule"],
                    _angular_cdk_drag_drop__WEBPACK_IMPORTED_MODULE_3__["DragDropModule"],
                    _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_8__["BsModalModule"],
                    _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_4__["IntlModule"],
                    _sinequa_core_validation__WEBPACK_IMPORTED_MODULE_5__["ValidationModule"],
                    _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_6__["UtilsModule"],
                    _sinequa_components_action__WEBPACK_IMPORTED_MODULE_7__["BsActionModule"]
                ],
                declarations: [
                    _edit_alert_edit_alert__WEBPACK_IMPORTED_MODULE_10__["BsEditAlert"], _manage_alerts_manage_alerts__WEBPACK_IMPORTED_MODULE_11__["BsManageAlerts"], _alerts_menu_alerts_menu_component__WEBPACK_IMPORTED_MODULE_12__["BsAlertsMenuComponent"], _alert_message_alert_message_component__WEBPACK_IMPORTED_MODULE_13__["BsAlertMessageComponent"]
                ],
                exports: [
                    _edit_alert_edit_alert__WEBPACK_IMPORTED_MODULE_10__["BsEditAlert"], _manage_alerts_manage_alerts__WEBPACK_IMPORTED_MODULE_11__["BsManageAlerts"], _alerts_menu_alerts_menu_component__WEBPACK_IMPORTED_MODULE_12__["BsAlertsMenuComponent"]
                ],
                providers: [
                    {
                        provide: _alerts_service__WEBPACK_IMPORTED_MODULE_9__["ALERT_COMPONENTS"],
                        useValue: {
                            editAlertModal: _edit_alert_edit_alert__WEBPACK_IMPORTED_MODULE_10__["BsEditAlert"],
                            manageAlertsModal: _manage_alerts_manage_alerts__WEBPACK_IMPORTED_MODULE_11__["BsManageAlerts"]
                        }
                    },
                    {
                        provide: _alerts_service__WEBPACK_IMPORTED_MODULE_9__["WINDOW"],
                        useFactory: windowFactory
                    }
                ]
            }]
    }], null, null); })();


/***/ }),

/***/ "mkLw":
/*!*************************************!*\
  !*** ../core/notification/index.ts ***!
  \*************************************/
/*! exports provided: NotificationsService, NotificationsInterceptor, NotificationModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _public_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./public-api */ "tr6+");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "NotificationsService", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["NotificationsService"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "NotificationsInterceptor", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["NotificationsInterceptor"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "NotificationModule", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["NotificationModule"]; });




/***/ }),

/***/ "mufF":
/*!*******************************************************!*\
  !*** ../components/labels/bootstrap/labels.module.ts ***!
  \*******************************************************/
/*! exports provided: defaultLabelComponents, BsLabelsModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "defaultLabelComponents", function() { return defaultLabelComponents; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsLabelsModule", function() { return BsLabelsModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "nIj0");
/* harmony import */ var _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/intl */ "EfqX");
/* harmony import */ var _sinequa_core_validation__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/core/validation */ "BovW");
/* harmony import */ var _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sinequa/components/utils */ "DD1E");
/* harmony import */ var _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @sinequa/components/selection */ "8GPZ");
/* harmony import */ var _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @sinequa/components/modal */ "mOpA");
/* harmony import */ var _sinequa_components_action__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @sinequa/components/action */ "WsHA");
/* harmony import */ var _sinequa_components_autocomplete__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @sinequa/components/autocomplete */ "jAS1");
/* harmony import */ var _labels_module__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../labels.module */ "dYsR");
/* harmony import */ var _rename_label_rename_label__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./rename-label/rename-label */ "pmz6");
/* harmony import */ var _labels_menu_labels_menu_component__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./labels-menu/labels-menu.component */ "dgxw");
/* harmony import */ var _labels_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../labels.service */ "OpW8");
/* harmony import */ var _delete_label_delete_label__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./delete-label/delete-label */ "6xtN");
/* harmony import */ var _add_label_add_label__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./add-label/add-label */ "ff1L");
/* harmony import */ var _labels_autocomplete_labels_autocomplete_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./labels-autocomplete/labels-autocomplete.component */ "o8/e");
/* harmony import */ var _edit_label_edit_label__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./edit-label/edit-label */ "c9A2");



















const defaultLabelComponents = {
    labelsAutocompleteComponent: _labels_autocomplete_labels_autocomplete_component__WEBPACK_IMPORTED_MODULE_16__["BsLabelsAutocompleteComponent"],
    renameModal: _rename_label_rename_label__WEBPACK_IMPORTED_MODULE_11__["BsRenameLabel"],
    deleteModal: _delete_label_delete_label__WEBPACK_IMPORTED_MODULE_14__["BsDeleteLabel"],
    addModal: _add_label_add_label__WEBPACK_IMPORTED_MODULE_15__["BsAddLabel"],
    editModal: _edit_label_edit_label__WEBPACK_IMPORTED_MODULE_17__["BsEditLabel"]
};
class BsLabelsModule {
}
BsLabelsModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: BsLabelsModule });
BsLabelsModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function BsLabelsModule_Factory(t) { return new (t || BsLabelsModule)(); }, providers: [
        { provide: _labels_service__WEBPACK_IMPORTED_MODULE_13__["LABELS_COMPONENTS"], useValue: defaultLabelComponents },
    ], imports: [[
            _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"], _angular_forms__WEBPACK_IMPORTED_MODULE_2__["ReactiveFormsModule"],
            _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
            _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_3__["IntlModule"],
            _sinequa_core_validation__WEBPACK_IMPORTED_MODULE_4__["ValidationModule"],
            _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_5__["UtilsModule"],
            _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_6__["BsSelectionModule"],
            _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_7__["BsModalModule"],
            _sinequa_components_autocomplete__WEBPACK_IMPORTED_MODULE_9__["BsAutocompleteModule"],
            _sinequa_components_action__WEBPACK_IMPORTED_MODULE_8__["BsActionModule"],
            _labels_module__WEBPACK_IMPORTED_MODULE_10__["LabelsModule"]
        ], _labels_module__WEBPACK_IMPORTED_MODULE_10__["LabelsModule"]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](BsLabelsModule, { declarations: [_labels_autocomplete_labels_autocomplete_component__WEBPACK_IMPORTED_MODULE_16__["BsLabelsAutocompleteComponent"],
        _rename_label_rename_label__WEBPACK_IMPORTED_MODULE_11__["BsRenameLabel"],
        _labels_menu_labels_menu_component__WEBPACK_IMPORTED_MODULE_12__["BsLabelsMenuComponent"],
        _delete_label_delete_label__WEBPACK_IMPORTED_MODULE_14__["BsDeleteLabel"],
        _add_label_add_label__WEBPACK_IMPORTED_MODULE_15__["BsAddLabel"],
        _edit_label_edit_label__WEBPACK_IMPORTED_MODULE_17__["BsEditLabel"]], imports: [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"], _angular_forms__WEBPACK_IMPORTED_MODULE_2__["ReactiveFormsModule"],
        _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
        _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_3__["IntlModule"],
        _sinequa_core_validation__WEBPACK_IMPORTED_MODULE_4__["ValidationModule"],
        _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_5__["UtilsModule"],
        _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_6__["BsSelectionModule"],
        _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_7__["BsModalModule"],
        _sinequa_components_autocomplete__WEBPACK_IMPORTED_MODULE_9__["BsAutocompleteModule"],
        _sinequa_components_action__WEBPACK_IMPORTED_MODULE_8__["BsActionModule"],
        _labels_module__WEBPACK_IMPORTED_MODULE_10__["LabelsModule"]], exports: [_labels_module__WEBPACK_IMPORTED_MODULE_10__["LabelsModule"],
        _labels_autocomplete_labels_autocomplete_component__WEBPACK_IMPORTED_MODULE_16__["BsLabelsAutocompleteComponent"],
        _rename_label_rename_label__WEBPACK_IMPORTED_MODULE_11__["BsRenameLabel"],
        _labels_menu_labels_menu_component__WEBPACK_IMPORTED_MODULE_12__["BsLabelsMenuComponent"],
        _delete_label_delete_label__WEBPACK_IMPORTED_MODULE_14__["BsDeleteLabel"],
        _add_label_add_label__WEBPACK_IMPORTED_MODULE_15__["BsAddLabel"],
        _edit_label_edit_label__WEBPACK_IMPORTED_MODULE_17__["BsEditLabel"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsLabelsModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"], _angular_forms__WEBPACK_IMPORTED_MODULE_2__["ReactiveFormsModule"],
                    _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                    _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_3__["IntlModule"],
                    _sinequa_core_validation__WEBPACK_IMPORTED_MODULE_4__["ValidationModule"],
                    _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_5__["UtilsModule"],
                    _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_6__["BsSelectionModule"],
                    _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_7__["BsModalModule"],
                    _sinequa_components_autocomplete__WEBPACK_IMPORTED_MODULE_9__["BsAutocompleteModule"],
                    _sinequa_components_action__WEBPACK_IMPORTED_MODULE_8__["BsActionModule"],
                    _labels_module__WEBPACK_IMPORTED_MODULE_10__["LabelsModule"]
                ],
                declarations: [
                    _labels_autocomplete_labels_autocomplete_component__WEBPACK_IMPORTED_MODULE_16__["BsLabelsAutocompleteComponent"],
                    _rename_label_rename_label__WEBPACK_IMPORTED_MODULE_11__["BsRenameLabel"],
                    _labels_menu_labels_menu_component__WEBPACK_IMPORTED_MODULE_12__["BsLabelsMenuComponent"],
                    _delete_label_delete_label__WEBPACK_IMPORTED_MODULE_14__["BsDeleteLabel"],
                    _add_label_add_label__WEBPACK_IMPORTED_MODULE_15__["BsAddLabel"],
                    _edit_label_edit_label__WEBPACK_IMPORTED_MODULE_17__["BsEditLabel"]
                ],
                exports: [
                    _labels_module__WEBPACK_IMPORTED_MODULE_10__["LabelsModule"],
                    _labels_autocomplete_labels_autocomplete_component__WEBPACK_IMPORTED_MODULE_16__["BsLabelsAutocompleteComponent"],
                    _rename_label_rename_label__WEBPACK_IMPORTED_MODULE_11__["BsRenameLabel"],
                    _labels_menu_labels_menu_component__WEBPACK_IMPORTED_MODULE_12__["BsLabelsMenuComponent"],
                    _delete_label_delete_label__WEBPACK_IMPORTED_MODULE_14__["BsDeleteLabel"],
                    _add_label_add_label__WEBPACK_IMPORTED_MODULE_15__["BsAddLabel"],
                    _edit_label_edit_label__WEBPACK_IMPORTED_MODULE_17__["BsEditLabel"]
                ],
                providers: [
                    { provide: _labels_service__WEBPACK_IMPORTED_MODULE_13__["LABELS_COMPONENTS"], useValue: defaultLabelComponents },
                ]
            }]
    }], null, null); })();


/***/ }),

/***/ "n+UL":
/*!**********************************************************!*\
  !*** ../components/preview/preview-tooltip.component.ts ***!
  \**********************************************************/
/*! exports provided: PreviewTooltip */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PreviewTooltip", function() { return PreviewTooltip; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser */ "e4iD");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/intl/message.pipe */ "X1Kh");





const _c0 = ["tooltip"];
const _c1 = function (a0) { return { disabled: a0 }; };
function PreviewTooltip_ng_container_2_ng_container_11_Template(rf, ctx) { if (rf & 1) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "span", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function PreviewTooltip_ng_container_2_ng_container_11_Template_span_click_1_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r6); const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r5.previousEntity($event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3, "\u276C");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "span", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function PreviewTooltip_ng_container_2_ng_container_11_Template_span_click_4_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r6); const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r7.nextEntity($event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](5, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](6, "\u276D");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("title", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 4, "msg#preview.previousHighlightButtonAltText"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](8, _c1, ctx_r3.entityIdx <= 1));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("title", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](5, 6, "msg#preview.nextHighlightButtonAltText"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](10, _c1, ctx_r3.entityIdx >= ctx_r3.entityCount));
} }
function PreviewTooltip_ng_container_2_button_13_span_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "span");
} if (rf & 2) {
    const action_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMap"](action_r8.icon);
} }
const _c2 = function (a0, a1, a2) { return { type: a0, value: a1, display: a2 }; };
const _c3 = function (a0) { return { values: a0 }; };
function PreviewTooltip_ng_container_2_button_13_span_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const action_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    const ctx_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](2, 1, action_r8.text, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](8, _c3, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction3"](4, _c2, ctx_r10.entityType, ctx_r10.entityValue, ctx_r10.entityDisplay))));
} }
function PreviewTooltip_ng_container_2_button_13_span_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "span");
} if (rf & 2) {
    const action_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMap"](action_r8.iconAfter);
} }
function PreviewTooltip_ng_container_2_button_13_Template(rf, ctx) { if (rf & 1) {
    const _r16 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function PreviewTooltip_ng_container_2_button_13_Template_button_click_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r16); const action_r8 = ctx.$implicit; const ctx_r15 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r15.entityAction(action_r8, $event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, PreviewTooltip_ng_container_2_button_13_span_2_Template, 1, 3, "span", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, PreviewTooltip_ng_container_2_button_13_span_3_Template, 3, 10, "span", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, PreviewTooltip_ng_container_2_button_13_span_4_Template, 1, 3, "span", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const action_r8 = ctx.$implicit;
    const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("title", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](1, 6, action_r8.title || "", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](13, _c3, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction3"](9, _c2, ctx_r4.entityType, ctx_r4.entityValue, ctx_r4.entityDisplay))));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("disabled", action_r8.disabled)("hidden", action_r8.hidden);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", action_r8.icon);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", action_r8.text);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", action_r8.iconAfter);
} }
function PreviewTooltip_ng_container_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "span", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "span", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](5, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "span", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](8, "/");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](9, "span", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](11, PreviewTooltip_ng_container_2_ng_container_11_Template, 7, 12, "ng-container", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](12, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](13, PreviewTooltip_ng_container_2_button_13_Template, 5, 15, "button", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"]("", ctx_r1.entityDisplay, " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"]("(", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](5, 6, ctx_r1.entityLabel), ") ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"]("", ctx_r1.entityIdx, " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", ctx_r1.entityCount, " ");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r1.entityNavActions);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx_r1.entityActions);
} }
function PreviewTooltip_ng_container_3_ng_container_1_span_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "span");
} if (rf & 2) {
    const action_r18 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMap"](action_r18.icon);
} }
const _c4 = function (a0) { return { text: a0 }; };
function PreviewTooltip_ng_container_3_ng_container_1_span_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const action_r18 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    const ctx_r20 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](2, 1, action_r18.text, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](6, _c3, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](4, _c4, ctx_r20.selectedText.slice(0, 50)))));
} }
function PreviewTooltip_ng_container_3_ng_container_1_span_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "span");
} if (rf & 2) {
    const action_r18 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMap"](action_r18.iconAfter);
} }
function PreviewTooltip_ng_container_3_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    const _r26 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "button", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function PreviewTooltip_ng_container_3_ng_container_1_Template_button_click_1_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r26); const action_r18 = ctx.$implicit; const ctx_r25 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r25.selectedTextAction(action_r18, $event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, PreviewTooltip_ng_container_3_ng_container_1_span_3_Template, 1, 3, "span", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, PreviewTooltip_ng_container_3_ng_container_1_span_4_Template, 3, 8, "span", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](5, PreviewTooltip_ng_container_3_ng_container_1_span_5_Template, 1, 3, "span", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const action_r18 = ctx.$implicit;
    const ctx_r17 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("title", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](2, 6, action_r18.title || "", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](11, _c3, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](9, _c4, ctx_r17.selectedText.slice(0, 50)))));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("disabled", action_r18.disabled)("hidden", action_r18.hidden);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", action_r18.icon);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", action_r18.text);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", action_r18.iconAfter);
} }
function PreviewTooltip_ng_container_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, PreviewTooltip_ng_container_3_ng_container_1_Template, 6, 13, "ng-container", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx_r2.selectedTextActions);
} }
const _c5 = function (a0, a1, a2) { return { "visibility": a0, "bottom": a1, "left": a2 }; };
class PreviewTooltip {
    constructor(zone, changeDetectorRef, sanitizer) {
        this.zone = zone;
        this.changeDetectorRef = changeDetectorRef;
        this.sanitizer = sanitizer;
        this.entityActions = [];
        this.entityNavActions = true;
        this.selectedTextActions = [];
        this.scalingFactor = 1.0;
        // Selected text mode
        this.selectedText = "";
        // Entity hover mode
        this.entityType = "";
        // Tooltip fixed positioning
        this.bottom = "0px";
        this.left = "0px";
        this.isBottom = false;
        /**
         * Handle mouse button down: reinitilizes selection
         */
        this.handleMouseDown = (event) => {
            //if(event.target !== this.tooltip)
            this.selectedText = "";
            //this.changeDetectorRef.detectChanges();
        };
        /**
         * Handle mouse button up: get the selected text and display a tooltip above it
         */
        this.handleMouseUp = () => {
            const selection = this.document.getSelection();
            this.selectedText = selection ? selection.toString().trim() : "";
            if (selection && this.selectedText) {
                const range = selection.getRangeAt(0);
                //console.log("Selected text: ", text);
                //console.log(event);
                //console.log(range.getBoundingClientRect());
                this.changeDetectorRef.detectChanges(); // Refresh size of tooltip
                this.positionTooltipAbove(range.getBoundingClientRect());
            }
            this.changeDetectorRef.detectChanges();
        };
        this._inTime = 0;
        /**
         * Handle mouse movements. If hovering an entity and no text is selected, will display a tooltip for this entity
         */
        this.handleMouseMove = (event) => {
            if (!this.selectedText && event["path"]) {
                const path = event["path"];
                if (path.length > 0) {
                    const element = path[0];
                    if (element.nodeType === 1 && element.nodeName === "SPAN" && (element.attributes["data-entity-basic"] || element.attributes["data-entity-display"])) {
                        if (this.entityType !== element.className.split(" ")[0] || this.entityDisplay !== element.textContent) { // Tooltip not already displayed
                            this.entityType = element.className.split(" ")[0]; // Update text (and visibility)
                            this.entityDisplay = element.textContent || ""; // Tooltip content
                            const value = element.attributes["data-entity-basic"] || element.attributes["data-entity-display"];
                            this.entityValue = value.value;
                            const highlights = this.previewData.highlightsPerCategory[this.entityType].values
                                .find(v => v.value === value.value);
                            this.entityCount = highlights ? highlights.locations.length : 0;
                            this.entityLabel = this.previewData.highlightsPerCategory[this.entityType].categoryDisplayLabel;
                            const idsplt = element.id.split("_");
                            const idx = parseInt(idsplt[idsplt.length - 1], 10);
                            const entity = this.findEntity(this.entityType, this.entityValue, (_, idIndex) => idIndex === idx);
                            this.entityIdx = entity ? entity.valueIndex : 0;
                            this.changeDetectorRef.detectChanges(); // Refresh size of tooltip
                            this.positionTooltipAbove(element.getBoundingClientRect());
                        }
                        this._inTime = Date.now(); // Reset the timer over an entity
                        return;
                    }
                }
            }
            // We are not hovering an entity
            if (this.entityType) { // If still displaying the tooltip...
                const isOverTooltip = !!event["path"].find(el => el.localName === "sq-preview-tooltip");
                if (!isOverTooltip) {
                    if (Date.now() - this._inTime > 200) { // 200 ms tolerance before closing tooltip
                        this.entityType = "";
                        this.entityValue = "";
                        this.entityDisplay = "";
                        this.entityLabel = "";
                        this.entityCount = 0;
                        this.entityIdx = 0;
                        this.changeDetectorRef.detectChanges(); // Turn off tooltip
                    }
                }
                else {
                    this._inTime = Date.now(); // Reset the timer over the tooltip
                }
            }
        };
        /**
         * Handle scroll events
         */
        this.handleScroll = (event) => {
            if (this.selectedText !== "") {
                this.handleMouseUp(); // Reposition tooltip above selected text
            }
            else if (this.entityType !== "") {
                this.entityType = "";
                this.entityValue = "";
                this.changeDetectorRef.detectChanges(); // Turn off tooltip
            }
        };
    }
    /**
     * Add mouse listeners to a new preview document in order to display the tooltip
     * in response to specific hover of click events
     * @param changes
     */
    ngOnChanges(changes) {
        if (changes["previewDocument"] && !!this.previewDocument) {
            if (typeof this.previewDocument.document.addEventListener !== undefined) {
                this.document.addEventListener("mouseup", this.handleMouseUp, false);
                this.document.addEventListener("mousedown", this.handleMouseDown, false);
                this.document.addEventListener("mousemove", this.handleMouseMove, false);
                this.window.addEventListener("scroll", this.handleScroll, false);
            }
        }
        if (changes["scalingFactor"] && this.previewDocument) {
            setTimeout(() => this.handleMouseUp());
        }
    }
    /**
     * Shortcut to the preview document
     */
    get document() {
        return this.previewDocument.document;
    }
    /**
     * Shortcut to the preview Window
     */
    get window() {
        return this.previewDocument.getContentWindow();
    }
    /**
     * Control the visibility of the tooltip
     */
    get visibility() {
        return (this.selectedText !== "" || this.entityType !== "") ? "visible" : "hidden";
    }
    /**
     * Position the tooltip above a bounding box
     */
    positionTooltipAbove(box) {
        this.zone.run(() => {
            const tooltipWidth = this.tooltip.nativeElement.getBoundingClientRect().width;
            const tooltipHeight = this.tooltip.nativeElement.getBoundingClientRect().height;
            let left = this.scalingFactor * (box.left + 0.5 * box.width) - 0.5 * tooltipWidth;
            left = Math.min(Math.max(left, 0), this.scalingFactor * this.document.body.clientWidth - tooltipWidth); // Avoid tooltip overflow
            this.left = Math.round(left) + "px";
            const leftPin = Math.round(100 * (this.scalingFactor * (box.left + 0.5 * box.width) - left) / tooltipWidth);
            this.leftPin = this.sanitizer.bypassSecurityTrustStyle(`${leftPin}%`);
            //absolute top positioning
            //this.bottom = Math.round(box.top-tooltipHeight-5+this.window.scrollY)+"px";
            //absolute bottom positioning
            //this.bottom = Math.round(this.document.documentElement.clientHeight - this.window.scrollY - box.top + 5)+"px";
            //fixed bottom positioning
            if (Math.round(box.top - 5 - tooltipHeight) > 0) {
                this.isBottom = false;
                this.bottom = Math.round(this.scalingFactor * (this.window.innerHeight - box.top) + 5) + "px";
            }
            else {
                this.isBottom = true;
                this.bottom = Math.round(this.scalingFactor * (this.window.innerHeight - box.top - box.height) - tooltipHeight - 5) + "px";
            }
            this.changeDetectorRef.detectChanges();
        });
    }
    /**
     * Move to the previous entity if possible
     * @param event
     */
    previousEntity(event) {
        event.stopPropagation(); // stop the propagation to avoid triggering the tooltip listeners
        if (this.entityIdx > 1) {
            // Find the index of the previous entity
            const entity = this.findEntity(this.entityType, this.entityValue, (valueIdx, _) => valueIdx === this.entityIdx - 1);
            if (entity) {
                const idx = entity.idIndex;
                this.previewDocument.selectHighlight(this.entityType, idx);
            }
        }
    }
    /**
     * Move to the next entity if possible
     * @param event
     */
    nextEntity(event) {
        event.stopPropagation(); // stop the propagation to avoid triggering the tooltip listeners
        if (this.entityIdx < this.entityCount) {
            // Find the index of the next entity
            const entity = this.findEntity(this.entityType, this.entityValue, (valueIdx, _) => valueIdx === this.entityIdx + 1);
            if (entity) {
                const idx = entity.idIndex;
                this.previewDocument.selectHighlight(this.entityType, idx);
            }
        }
    }
    /**
     * Executes a clicked action button in the context of a tooltip for hovered entities
     * @param action
     * @param event
     */
    entityAction(action, event) {
        event.stopPropagation(); // stop the propagation to avoid triggering the tooltip listeners
        this.zone.run(() => {
            if (action.action) {
                action.action(action, { type: this.entityType, idx: this.entityIdx, value: this.entityValue, display: this.entityDisplay });
            }
        });
    }
    /**
     * Executes a clicked action button in the context of a tooltip for text selection
     * @param action the action to execute
     * @param event
     */
    selectedTextAction(action, event) {
        event.stopPropagation(); // stop the propagation to avoid triggering the tooltip listeners
        this.zone.run(() => {
            if (action.action) {
                action.action(action, { text: this.selectedText });
            }
        });
    }
    /**
     * Helper function to find the indexes of a specific entity *occurrence*. Returns both the index within all
     * of its own occurrences: valueIndex (eg. BILL GATES 3/14) AND the index corresponding to the
     * entity id inside the document: idIndex (eg. id="person_32").
     * @param category eg. person
     * @param value eg. BILL GATES
     * @param predicate function testing whether it is the entity occurrence of interest
     * @returns an object with both indexes
     */
    findEntity(entityType, entityValue, predicate) {
        let currentIdx = 0;
        // For each highlight in the doc
        for (let i = 0; i < this.previewData.highlightsPerLocation['length']; i++) {
            const highlight = this.previewData.highlightsPerLocation[i];
            const categories = Object.keys(highlight.positionInCategories);
            // For each value of the highlight
            for (let j = 0; j < categories.length; j++) {
                // If this is the right entity type and value
                if (categories[j] === entityType && highlight.values[j] === entityValue) {
                    // Increase the counter
                    currentIdx++;
                    // If this is the idx we are looking for, return
                    if (predicate(currentIdx, highlight.positionInCategories[entityType])) {
                        return { valueIndex: currentIdx, idIndex: highlight.positionInCategories[entityType] };
                    }
                }
            }
        }
        return undefined;
    }
}
PreviewTooltip.ɵfac = function PreviewTooltip_Factory(t) { return new (t || PreviewTooltip)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__["DomSanitizer"])); };
PreviewTooltip.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: PreviewTooltip, selectors: [["sq-preview-tooltip"]], viewQuery: function PreviewTooltip_Query(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c0, true);
    } if (rf & 2) {
        let _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.tooltip = _t.first);
    } }, inputs: { previewDocument: "previewDocument", previewData: "previewData", entityActions: "entityActions", entityNavActions: "entityNavActions", selectedTextActions: "selectedTextActions", scalingFactor: "scalingFactor" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 4, vars: 12, consts: [[1, "sq-selection-tooltip", 3, "ngClass", "ngStyle"], ["tooltip", ""], [4, "ngIf"], [1, "display"], [1, "label"], [1, "index"], [1, "count"], [1, "btn-list"], [3, "disabled", "hidden", "title", "click", 4, "ngFor", "ngForOf"], [1, "nav-btn", "previous", 3, "ngClass", "title", "click"], [1, "nav-btn", "next", 3, "ngClass", "title", "click"], [3, "disabled", "hidden", "title", "click"], [3, "class", 4, "ngIf"], [4, "ngFor", "ngForOf"]], template: function PreviewTooltip_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0, 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, PreviewTooltip_ng_container_2_Template, 14, 8, "ng-container", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, PreviewTooltip_ng_container_3_Template, 2, 1, "ng-container", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵstyleProp"]("--left", ctx.leftPin)("--factor", 1 / ctx.scalingFactor);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", ctx.isBottom ? "sq-bottom-tooltip" : "sq-top-tooltip")("ngStyle", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction3"](8, _c5, ctx.visibility, ctx.bottom, ctx.left));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.entityType && !ctx.selectedText);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.selectedText);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_2__["NgClass"], _angular_common__WEBPACK_IMPORTED_MODULE_2__["NgStyle"], _angular_common__WEBPACK_IMPORTED_MODULE_2__["NgIf"], _angular_common__WEBPACK_IMPORTED_MODULE_2__["NgForOf"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_3__["MessagePipe"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](PreviewTooltip, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-preview-tooltip",
                templateUrl: "./preview-tooltip.component.html"
            }]
    }], function () { return [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] }, { type: _angular_platform_browser__WEBPACK_IMPORTED_MODULE_1__["DomSanitizer"] }]; }, { previewDocument: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], previewData: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], entityActions: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], entityNavActions: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], selectedTextActions: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], scalingFactor: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], tooltip: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ['tooltip', { static: false }]
        }] }); })();


/***/ }),

/***/ "n1yq":
/*!************************************************!*\
  !*** ../components/utils/directives/sticky.ts ***!
  \************************************************/
/*! exports provided: StickyComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "StickyComponent", function() { return StickyComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _ui_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ui.service */ "ijWO");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common */ "2kYt");





const _c0 = ["container"];
const _c1 = ["sqSticky", ""];
const _c2 = function (a0) { return { "margin-top.px": a0 }; };
const _c3 = function (a0, a1) { return { "top.px": a0, "bottom.px": a1 }; };
const _c4 = ["*"];
class StickyComponent {
    constructor(ui, cdRef) {
        this.ui = ui;
        this.cdRef = cdRef;
        this.marginTop = 0;
        this.postScrollUp = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].debounce(() => {
            this.onScroll(true);
        }, 250);
    }
    onScroll(forceScrollDown = false) {
        const scrollDelta = window.pageYOffset - this.scrollY;
        this.scrollY = window.pageYOffset;
        const offsets = this.offsets || { top: 0, bottom: 0 };
        const componentHeight = this.container.nativeElement.getBoundingClientRect().height;
        // Scrolling down (OR top of page OR forced after a scroll up OR component height small than screen height)
        if (scrollDelta >= 0 || this.scrollY === 0 || forceScrollDown || componentHeight + offsets.top + offsets.bottom < window.innerHeight) {
            this.marginTop = Math.min(this.scrollY, this.marginTop);
            this.bottom = undefined;
            this.top = Math.min(window.innerHeight - componentHeight - offsets.bottom, offsets.top);
        }
        // Scrolling up
        else {
            this.marginTop = Math.max(this.scrollY + window.innerHeight - componentHeight - offsets.bottom - offsets.top, this.marginTop);
            this.bottom = window.innerHeight - offsets.top - componentHeight;
            this.top = undefined;
            if (this.scrollY <= this.marginTop) {
                this.postScrollUp();
            }
        }
        this.cdRef.markForCheck();
    }
    ngOnInit() {
        var _a;
        if (CSS.supports("position", "sticky") || CSS.supports("position", "-webkit-sticky")) {
            this.scrollY = window.pageYOffset;
            this.top = (((_a = this.offsets) === null || _a === void 0 ? void 0 : _a.top) || 0);
        }
    }
    ngAfterViewInit() {
        // position: sticky is not supported in Internet Explorer. A workaround could be to rely on position: relative and position: fixed, with additional logic.
        if (CSS.supports("position", "sticky") || CSS.supports("position", "-webkit-sticky")) {
            this.listener = () => this.onScroll();
            window.addEventListener('scroll', this.listener);
            window.addEventListener('resize', this.listener);
            this.ui.addElementResizeListener(this.container.nativeElement, this.listener);
        }
    }
    ngOnDestroy() {
        if (this.listener) {
            window.removeEventListener('scroll', this.listener);
            window.removeEventListener('resize', this.listener);
            this.ui.removeElementResizeListener(this.container.nativeElement, this.listener);
        }
    }
}
StickyComponent.ɵfac = function StickyComponent_Factory(t) { return new (t || StickyComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_ui_service__WEBPACK_IMPORTED_MODULE_2__["UIService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"])); };
StickyComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: StickyComponent, selectors: [["", "sqSticky", ""]], viewQuery: function StickyComponent_Query(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c0, true);
    } if (rf & 2) {
        let _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.container = _t.first);
    } }, inputs: { offsets: ["sqSticky", "offsets"] }, attrs: _c1, ngContentSelectors: _c4, decls: 4, vars: 7, consts: [[3, "ngStyle"], [1, "sticky-container", 3, "ngStyle"], ["container", ""]], template: function StickyComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵprojectionDef"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1, 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵprojection"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngStyle", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](2, _c2, ctx.marginTop));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngStyle", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction2"](4, _c3, ctx.top, ctx.bottom));
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_3__["NgStyle"]], styles: [".sticky-container[_ngcontent-%COMP%] {\n    position: sticky;\n    position: -webkit-sticky;\n}"], changeDetection: 0 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](StickyComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: '[sqSticky]',
                template: `
<div [ngStyle]="{'margin-top.px': marginTop}"></div>
<div #container class="sticky-container" [ngStyle]="{'top.px': top, 'bottom.px': bottom}">
    <ng-content></ng-content>
</div>
`,
                styles: [`
.sticky-container {
    position: sticky;
    position: -webkit-sticky;
}
    `],
                changeDetection: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectionStrategy"].OnPush
            }]
    }], function () { return [{ type: _ui_service__WEBPACK_IMPORTED_MODULE_2__["UIService"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] }]; }, { offsets: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"],
            args: ["sqSticky"]
        }], container: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ["container"]
        }] }); })();


/***/ }),

/***/ "nAKq":
/*!*****************************************!*\
  !*** ../core/validation/messages/en.ts ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    "validation": {
        "min": "The value must be at least {min}",
        "max": "The value can be no more than {max}",
        "required": "This field is required",
        "requiredTrue": "This field must be set",
        "email": "A valid email address is required",
        "minLength": "The value must have at least {requiredLength, plural, one {# character} other {# characters}}",
        "maxLength": "The value can have no more than {requiredLength, plural, one {# character} other {# characters}}",
        "pattern": "The value is invalid",
        "unique": "This field must be unique",
        "integer": "The value must be an integer",
        "number": "The value must be a number",
        "date": "",
        "range": "The first value must be less than or equal to the second"
    }
});


/***/ }),

/***/ "nOge":
/*!*****************************************!*\
  !*** ../core/login/module.providers.ts ***!
  \*****************************************/
/*! exports provided: LOGIN_MODULE_PROVIDERS */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LOGIN_MODULE_PROVIDERS", function() { return LOGIN_MODULE_PROVIDERS; });
const LOGIN_MODULE_PROVIDERS = [];



/***/ }),

/***/ "ng5l":
/*!**********************************************!*\
  !*** ../components/labels/messages/index.ts ***!
  \**********************************************/
/*! exports provided: enLabels, frLabels, deLabels */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "enLabels", function() { return enLabels; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "frLabels", function() { return frLabels; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "deLabels", function() { return deLabels; });
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_components_search__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/components/search */ "7+c1");
/* harmony import */ var _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/components/modal */ "mOpA");
/* harmony import */ var _en__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./en */ "6K/e");
/* harmony import */ var _fr__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./fr */ "jAnC");
/* harmony import */ var _de__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./de */ "U2ve");






const enLabels = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].merge({}, _en__WEBPACK_IMPORTED_MODULE_3__["default"], _sinequa_components_search__WEBPACK_IMPORTED_MODULE_1__["enSearch"], _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_2__["enModal"]);
const frLabels = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].merge({}, _fr__WEBPACK_IMPORTED_MODULE_4__["default"], _sinequa_components_search__WEBPACK_IMPORTED_MODULE_1__["frSearch"], _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_2__["frModal"]);
const deLabels = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].merge({}, _de__WEBPACK_IMPORTED_MODULE_5__["default"], _sinequa_components_search__WEBPACK_IMPORTED_MODULE_1__["deSearch"], _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_2__["deModal"]);



/***/ }),

/***/ "niHV":
/*!***************************************!*\
  !*** ../components/collapse/index.ts ***!
  \***************************************/
/*! exports provided: CollapseModule, collapseButtonAnimations, CollapseButton, collapseAnimations, Collapse, CollapseLink, enCollapse, frCollapse, deCollapse */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _public_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./public-api */ "1fEK");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "CollapseModule", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["CollapseModule"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "collapseButtonAnimations", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["collapseButtonAnimations"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "CollapseButton", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["CollapseButton"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "collapseAnimations", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["collapseAnimations"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Collapse", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["Collapse"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "CollapseLink", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["CollapseLink"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "enCollapse", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["enCollapse"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "frCollapse", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["frCollapse"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "deCollapse", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["deCollapse"]; });




/***/ }),

/***/ "nkgJ":
/*!************************************!*\
  !*** ../core/modal/messages/en.ts ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    "modal": {
        "buttons": {
            "ok": "OK",
            "cancel": "Cancel",
            "yes": "Yes",
            "no": "No",
            "abort": "Abort",
            "retry": "Retry",
            "ignore": "Ignore"
        },
        "confirm": {
            "title": "Confirm"
        },
        "prompt": {
            "title": "Enter a value"
        }
    }
});


/***/ }),

/***/ "nodx":
/*!*******************************************************************!*\
  !*** ../components/results-view/bootstrap/results-view-module.ts ***!
  \*******************************************************************/
/*! exports provided: BsResultsViewModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsResultsViewModule", function() { return BsResultsViewModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/intl */ "EfqX");
/* harmony import */ var _sinequa_core_load_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/load-component */ "vxak");
/* harmony import */ var _sinequa_core_validation__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/core/validation */ "BovW");
/* harmony import */ var _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sinequa/components/utils */ "DD1E");
/* harmony import */ var _sinequa_components_action__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @sinequa/components/action */ "WsHA");
/* harmony import */ var _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @sinequa/components/selection */ "8GPZ");
/* harmony import */ var _results_view_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../results-view.service */ "Bvaj");
/* harmony import */ var _results_view_selector_results_view_selector__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./results-view-selector/results-view-selector */ "A1L7");
/* harmony import */ var _results_grid_view_results_grid_view__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./results-grid-view/results-grid-view */ "oUuF");












class BsResultsViewModule {
    static forRoot(resultsViews, defaultView) {
        return {
            ngModule: BsResultsViewModule,
            providers: [
                {
                    provide: _results_view_service__WEBPACK_IMPORTED_MODULE_8__["RESULTS_VIEWS"],
                    useValue: resultsViews
                },
                {
                    provide: _results_view_service__WEBPACK_IMPORTED_MODULE_8__["DEFAULT_VIEW"],
                    useValue: defaultView
                }
            ]
        };
    }
}
BsResultsViewModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: BsResultsViewModule });
BsResultsViewModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function BsResultsViewModule_Factory(t) { return new (t || BsResultsViewModule)(); }, imports: [[
            _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
            _sinequa_core_load_component__WEBPACK_IMPORTED_MODULE_3__["LoadComponentModule"],
            _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_2__["IntlModule"],
            _sinequa_core_validation__WEBPACK_IMPORTED_MODULE_4__["ValidationModule"],
            _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_5__["UtilsModule"],
            _sinequa_components_action__WEBPACK_IMPORTED_MODULE_6__["BsActionModule"],
            _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_7__["BsSelectionModule"]
        ]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](BsResultsViewModule, { declarations: [_results_view_selector_results_view_selector__WEBPACK_IMPORTED_MODULE_9__["BsResultsViewSelector"],
        _results_grid_view_results_grid_view__WEBPACK_IMPORTED_MODULE_10__["BsResultsGridView"]], imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
        _sinequa_core_load_component__WEBPACK_IMPORTED_MODULE_3__["LoadComponentModule"],
        _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_2__["IntlModule"],
        _sinequa_core_validation__WEBPACK_IMPORTED_MODULE_4__["ValidationModule"],
        _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_5__["UtilsModule"],
        _sinequa_components_action__WEBPACK_IMPORTED_MODULE_6__["BsActionModule"],
        _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_7__["BsSelectionModule"]], exports: [_results_view_selector_results_view_selector__WEBPACK_IMPORTED_MODULE_9__["BsResultsViewSelector"],
        _results_grid_view_results_grid_view__WEBPACK_IMPORTED_MODULE_10__["BsResultsGridView"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsResultsViewModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                    _sinequa_core_load_component__WEBPACK_IMPORTED_MODULE_3__["LoadComponentModule"],
                    _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_2__["IntlModule"],
                    _sinequa_core_validation__WEBPACK_IMPORTED_MODULE_4__["ValidationModule"],
                    _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_5__["UtilsModule"],
                    _sinequa_components_action__WEBPACK_IMPORTED_MODULE_6__["BsActionModule"],
                    _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_7__["BsSelectionModule"]
                ],
                declarations: [
                    _results_view_selector_results_view_selector__WEBPACK_IMPORTED_MODULE_9__["BsResultsViewSelector"],
                    _results_grid_view_results_grid_view__WEBPACK_IMPORTED_MODULE_10__["BsResultsGridView"],
                ],
                exports: [
                    _results_view_selector_results_view_selector__WEBPACK_IMPORTED_MODULE_9__["BsResultsViewSelector"],
                    _results_grid_view_results_grid_view__WEBPACK_IMPORTED_MODULE_10__["BsResultsGridView"],
                ],
            }]
    }], null, null); })();


/***/ }),

/***/ "nqav":
/*!**************************************************!*\
  !*** ../components/utils/directives/media-if.ts ***!
  \**************************************************/
/*! exports provided: MediaIf */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MediaIf", function() { return MediaIf; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "+kfY");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs/operators */ "0Wlh");
/* harmony import */ var _angular_flex_layout__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/flex-layout */ "40Bj");





// Adapted from https://github.com/angular/flex-layout/issues/142#issuecomment-379465022
// Change ɵMatchMedia => MatchMedia when we move to angular 8
class MediaIf {
    constructor(template, viewContainer, breakpoints, matchMedia, changeDetectorRef) {
        this.template = template;
        this.viewContainer = viewContainer;
        this.breakpoints = breakpoints;
        this.matchMedia = matchMedia;
        this.changeDetectorRef = changeDetectorRef;
        this.hasView = false;
        this.matcher = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
        this.subscription = this.matcher
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["map"])(alias => {
            const breakpoint = this.breakpoints.findByAlias(alias);
            if (!breakpoint) {
                Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["throwError"])(`breakpoint not found for ${alias}`);
                return "";
            }
            else {
                return breakpoint.mediaQuery;
            }
        }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["switchMap"])(mq => {
            //console.log("MediaIf:", mq);
            return this.matchMedia.observe([mq], true)
                .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["map"])(result => {
                //console.log("MediaChange:", result);
                return result.matches;
            }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["startWith"])(this.matchMedia.isActive(mq)));
        }))
            .subscribe(matches => matches ? this.createView() : this.destroyView());
    }
    set sqMediaIf(value) {
        this.matcher.next(value);
    }
    ngOnDestroy() {
        this.subscription.unsubscribe();
    }
    createView() {
        if (!this.hasView) {
            this.viewContainer.createEmbeddedView(this.template);
            this.changeDetectorRef.markForCheck();
            this.hasView = true;
        }
    }
    destroyView() {
        if (this.hasView) {
            this.viewContainer.clear();
            this.hasView = false;
        }
    }
}
MediaIf.ɵfac = function MediaIf_Factory(t) { return new (t || MediaIf)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewContainerRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_flex_layout__WEBPACK_IMPORTED_MODULE_3__["BreakPointRegistry"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_flex_layout__WEBPACK_IMPORTED_MODULE_3__["ɵMatchMedia"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"])); };
MediaIf.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({ type: MediaIf, selectors: [["", "sqMediaIf", ""]], inputs: { sqMediaIf: "sqMediaIf" } });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](MediaIf, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Directive"],
        args: [{
                selector: "[sqMediaIf]",
            }]
    }], function () { return [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewContainerRef"] }, { type: _angular_flex_layout__WEBPACK_IMPORTED_MODULE_3__["BreakPointRegistry"] }, { type: _angular_flex_layout__WEBPACK_IMPORTED_MODULE_3__["ɵMatchMedia"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] }]; }, { sqMediaIf: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "o0UK":
/*!**********************************************************!*\
  !*** ../components/modal/bootstrap/confirm.component.ts ***!
  \**********************************************************/
/*! exports provided: BsConfirm */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsConfirm", function() { return BsConfirm; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/modal */ "vMGo");
/* harmony import */ var _modal_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./modal.component */ "oSLy");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/intl/message.pipe */ "X1Kh");






class BsConfirm {
    constructor(model, modalRef) {
        this.model = model;
        this.modalRef = modalRef;
    }
    get title() {
        return this.model.title ? this.model.title : "msg#modal.confirm.title";
    }
    getMessageClass(confirmType) {
        switch (confirmType) {
            case 1 /* Info */:
                return "alert-info";
            case 0 /* Success */:
                return "alert-sucess";
            case 2 /* Warning */:
                return "alert-warning";
            case 3 /* Error */:
                return "alert-danger";
            default:
                return "";
        }
    }
}
BsConfirm.ɵfac = function BsConfirm_Factory(t) { return new (t || BsConfirm)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_modal__WEBPACK_IMPORTED_MODULE_1__["MODAL_MODEL"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_modal__WEBPACK_IMPORTED_MODULE_1__["ModalRef"])); };
BsConfirm.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsConfirm, selectors: [["sq-confirm"]], hostVars: 2, hostBindings: function BsConfirm_HostBindings(rf, ctx) { if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassProp"]("sq-confirm", true);
    } }, decls: 4, vars: 9, consts: [[3, "title", "buttons"]], template: function BsConfirm_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "sq-modal", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](3, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("title", ctx.title)("buttons", ctx.model.buttons);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMapInterpolate1"]("alert ", ctx.getMessageClass(ctx.model.confirmType), "");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](3, 6, ctx.model.message, ctx.model.messageParams));
    } }, directives: [_modal_component__WEBPACK_IMPORTED_MODULE_2__["BsModal"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_3__["MessagePipe"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsConfirm, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-confirm",
                templateUrl: "./confirm.component.html"
            }]
    }], function () { return [{ type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [_sinequa_core_modal__WEBPACK_IMPORTED_MODULE_1__["MODAL_MODEL"]]
            }] }, { type: _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_1__["ModalRef"] }]; }, { true: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostBinding"],
            args: ["class.sq-confirm"]
        }] }); })();


/***/ }),

/***/ "o8/e":
/*!*******************************************************************************************!*\
  !*** ../components/labels/bootstrap/labels-autocomplete/labels-autocomplete.component.ts ***!
  \*******************************************************************************************/
/*! exports provided: BsLabelsAutocompleteComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsLabelsAutocompleteComponent", function() { return BsLabelsAutocompleteComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "nIj0");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _labels_autocomplete_directive__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../labels-autocomplete.directive */ "QfBj");
/* harmony import */ var _autocomplete_bootstrap_autocomplete_list_autocomplete_list__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../autocomplete/bootstrap/autocomplete-list/autocomplete-list */ "0Tqz");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../core/intl/message.pipe */ "X1Kh");








const _c0 = function (a0, a1) { return { "label-public": a0, "label-private": a1 }; };
function BsLabelsAutocompleteComponent_span_3_Template(rf, ctx) { if (rf & 1) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "span", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsLabelsAutocompleteComponent_span_3_Template_span_click_2_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r6); const item_r4 = ctx.$implicit; const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r5.removeItem(item_r4); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const item_r4 = ctx.$implicit;
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction2"](2, _c0, ctx_r0.public, !ctx_r0.public));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", item_r4.display, " ");
} }
function BsLabelsAutocompleteComponent_ng_template_8_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const item_r7 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"]("", item_r7.display, " ");
} }
/**
 * Component containing a form and autocomplete to search
 * through the list labels according to a specific type (public/private) and select one(s) of them
 *
 * The component can be used as custom component in the Action
 * menu's modals.
 */
class BsLabelsAutocompleteComponent {
    constructor(elementRef) {
        this.elementRef = elementRef;
        /** Event synchronizing the list of selected labels and label's type in the parent component */
        this.labelsUpdate = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.disableAutocomplete = false /** Whether the autocomplete input is disabled or not */;
        this.initLabels = []; /** Initial labels to be displayed in the labelsAutocomplete input*/
        this.labelsItems = []; /** List of assigned labels to selected record(s) */
    }
    ngOnChanges(changes) {
        if (changes.public) {
            this.labelsItems = [];
        }
        if (changes.initLabels) {
            this.labelsItems = this.initLabels.map((label) => {
                return {
                    display: label,
                    category: "",
                };
            });
        }
    }
    removeItem(item) {
        this.labelsItems.splice(this.labelsItems.indexOf(item), 1);
        this.labelsItems = [
            ...this.labelsItems,
        ]; /** Need to programmatically update this.labelsItems object in order to fire ngOnChanges hook in sqAutocompleteLabels */
        this.labelsUpdate.next(this.labelsItems.map((item) => item.display));
    }
    onLabelsItemsChanged(labelsItems) {
        this.labelsItems = labelsItems; /** Need to Programmatically update this.labelsItems to catch updates happening in the sqAutocompleteLabels  */
        this.labelsUpdate.next(labelsItems.map((item) => item.display));
    }
    getDropdownItem() {
        if (this.elementRef) {
            let current = this.elementRef
                .nativeElement;
            while (current && !current.classList.contains("dropdown-item")) {
                current = current.parentElement;
            }
            return current;
        }
        return null;
    }
    keydown(event) {
        // Intercept tab and set focus to surrounding dropdown-item
        if (event.keyCode === _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Keys"].tab) {
            const dropdownItem = this.getDropdownItem();
            if (dropdownItem) {
                dropdownItem.focus();
                event.preventDefault();
                return false;
            }
        }
        return undefined;
    }
    keypress(event) {
        if (event.keyCode === _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Keys"].enter) {
            // Stop click event firing on surrounding anchor (Firefox)
            event.preventDefault();
            return false;
        }
        return undefined;
    }
}
BsLabelsAutocompleteComponent.ɵfac = function BsLabelsAutocompleteComponent_Factory(t) { return new (t || BsLabelsAutocompleteComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"])); };
BsLabelsAutocompleteComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsLabelsAutocompleteComponent, selectors: [["sq-labels-autocomplete"]], inputs: { public: "public", disableAutocomplete: "disableAutocomplete", allowNewLabels: "allowNewLabels", allowManagePublicLabels: "allowManagePublicLabels", initLabels: "initLabels" }, outputs: { labelsUpdate: "labelsUpdate" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 10, vars: 13, consts: [["name", "labelsForm", 1, "d-inline"], [1, "sq-dropdown-form"], [1, "form-control"], ["class", "badge badge-pill badge-info align-self-center", 3, "ngClass", 4, "ngFor", "ngForOf"], ["type", "text", "name", "labelName", "spellcheck", "false", "autocomplete", "off", "sqAutocompleteLabels", "", 1, "input-autocomplete", "flex-grow-1", 3, "public", "placeholder", "dropdown", "allowNewLabels", "allowManagePublicLabels", "disabled", "off", "labelsItems", "keydown", "keypress", "itemsUpdate"], ["dropdown", ""], ["itemTpl", ""], [1, "badge", "badge-pill", "badge-info", "align-self-center", 3, "ngClass"], [1, "fas", "fa-times-circle", "clickable", 3, "click"], [1, "autocomplete-item", "p-2"]], template: function BsLabelsAutocompleteComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "form", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "section", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, BsLabelsAutocompleteComponent_span_3_Template, 3, 5, "span", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "input", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("keydown", function BsLabelsAutocompleteComponent_Template_input_keydown_4_listener($event) { return ctx.keydown($event); })("keypress", function BsLabelsAutocompleteComponent_Template_input_keypress_4_listener($event) { return ctx.keypress($event); })("itemsUpdate", function BsLabelsAutocompleteComponent_Template_input_itemsUpdate_4_listener($event) { return ctx.onLabelsItemsChanged($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](5, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "sq-autocomplete-list", null, 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](8, BsLabelsAutocompleteComponent_ng_template_8_Template, 2, 1, "ng-template", null, 6, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplateRefExtractor"]);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        const _r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](7);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.labelsItems);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassProp"]("disabled", ctx.disableAutocomplete);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("public", ctx.public)("placeholder", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](5, 11, "msg#labels.selectLabel"))("dropdown", _r1)("allowNewLabels", ctx.allowNewLabels)("allowManagePublicLabels", ctx.allowManagePublicLabels)("disabled", ctx.disableAutocomplete)("off", ctx.disableAutocomplete)("labelsItems", ctx.labelsItems);
    } }, directives: [_angular_forms__WEBPACK_IMPORTED_MODULE_2__["ɵangular_packages_forms_forms_y"], _angular_forms__WEBPACK_IMPORTED_MODULE_2__["NgControlStatusGroup"], _angular_forms__WEBPACK_IMPORTED_MODULE_2__["NgForm"], _angular_common__WEBPACK_IMPORTED_MODULE_3__["NgForOf"], _labels_autocomplete_directive__WEBPACK_IMPORTED_MODULE_4__["LabelsAutocomplete"], _autocomplete_bootstrap_autocomplete_list_autocomplete_list__WEBPACK_IMPORTED_MODULE_5__["BsAutocompleteList"], _angular_common__WEBPACK_IMPORTED_MODULE_3__["NgClass"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_6__["MessagePipe"]], styles: [".sq-dropdown-form[_ngcontent-%COMP%] {\n                min-width: 13rem;\n                display: inline;\n            }\n            .disabled[_ngcontent-%COMP%] {\n                cursor: not-allowed;\n            }\n            [_nghost-%COMP%]     .sq-autocomplete-list {\n                width: 50% !important;\n            }\n            .clickable[_ngcontent-%COMP%] {\n                cursor: pointer;\n            }\n            .clickable[_ngcontent-%COMP%]:hover {\n                opacity: 85%;\n            }\n            .label-public[_ngcontent-%COMP%] {\n                background-color: #4fc3f7;\n                margin: 2px;\n            }\n            .label-private[_ngcontent-%COMP%] {\n                background-color: #7283a7;\n                margin: 2px;\n            }\n\n            [_nghost-%COMP%]   div[_ngcontent-%COMP%] {\n                width: 100%;\n                display: flex;\n                flex-wrap: wrap;\n                align-items: center;\n                height: unset !important;\n            }\n            [_nghost-%COMP%]   input[_ngcontent-%COMP%] {\n                border: none;\n                flex-grow: 1;\n                flex-basis: 100px;\n                min-width: 100px;\n            }\n            [_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus {\n                outline: none;\n            }"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsLabelsAutocompleteComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-labels-autocomplete",
                templateUrl: "./labels-autocomplete.component.html",
                styles: [
                    `
            .sq-dropdown-form {
                min-width: 13rem;
                display: inline;
            }
            .disabled {
                cursor: not-allowed;
            }
            :host ::ng-deep .sq-autocomplete-list {
                width: 50% !important;
            }
            .clickable {
                cursor: pointer;
            }
            .clickable:hover {
                opacity: 85%;
            }
            .label-public {
                background-color: #4fc3f7;
                margin: 2px;
            }
            .label-private {
                background-color: #7283a7;
                margin: 2px;
            }

            :host div {
                width: 100%;
                display: flex;
                flex-wrap: wrap;
                align-items: center;
                height: unset !important;
            }
            :host input {
                border: none;
                flex-grow: 1;
                flex-basis: 100px;
                min-width: 100px;
            }
            :host input:focus {
                outline: none;
            }
        `,
                ],
            }]
    }], function () { return [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"] }]; }, { labelsUpdate: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }], public: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], disableAutocomplete: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], allowNewLabels: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], allowManagePublicLabels: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], initLabels: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "oFMy":
/*!**********************************************!*\
  !*** ./src/app/preview/preview.component.ts ***!
  \**********************************************/
/*! exports provided: PREVIEW_CONFIG, PreviewComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PREVIEW_CONFIG", function() { return PREVIEW_CONFIG; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PreviewComponent", function() { return PreviewComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "sEIs");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs/operators */ "0Wlh");
/* harmony import */ var _sinequa_components_action__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/components/action */ "WsHA");
/* harmony import */ var _sinequa_components_preview__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/components/preview */ "XNLR");
/* harmony import */ var _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sinequa/core/modal */ "vMGo");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/platform-browser */ "e4iD");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _sinequa_core_login__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @sinequa/core/login */ "7O5u");
/* harmony import */ var _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @sinequa/core/intl */ "EfqX");
/* harmony import */ var _sinequa_components_search__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @sinequa/components/search */ "7+c1");
/* harmony import */ var _sinequa_components_user_settings__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @sinequa/components/user-settings */ "ooqV");
/* harmony import */ var _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @sinequa/components/utils */ "DD1E");
/* harmony import */ var _components_preview_preview_document_iframe_component__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../../../components/preview/preview-document-iframe.component */ "sUkJ");
/* harmony import */ var _components_preview_preview_tooltip_component__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../components/preview/preview-tooltip.component */ "n+UL");
/* harmony import */ var _components_preview_bootstrap_preview_page_form_preview_page_form_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../../../components/preview/bootstrap/preview-page-form/preview-page-form.component */ "xnWB");
/* harmony import */ var _components_preview_bootstrap_preview_search_form_preview_search_form_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../components/preview/bootstrap/preview-search-form/preview-search-form.component */ "DsO/");
/* harmony import */ var _components_preview_bootstrap_preview_extracts_panel_preview_extracts_panel_component__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../components/preview/bootstrap/preview-extracts-panel/preview-extracts-panel.component */ "STs+");
/* harmony import */ var _components_preview_bootstrap_preview_pages_panel_preview_pages_panel_component__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../components/preview/bootstrap/preview-pages-panel/preview-pages-panel.component */ "pJ5V");
/* harmony import */ var _components_preview_bootstrap_preview_highlights_preview_highlights__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../components/preview/bootstrap/preview-highlights/preview-highlights */ "4Ncj");
/* harmony import */ var _components_preview_bootstrap_preview_entity_panel_preview_entity_panel_component__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../components/preview/bootstrap/preview-entity-panel/preview-entity-panel.component */ "0G0v");
/* harmony import */ var _components_utils_directives_tooltip_tooltip_directive__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../../components/utils/directives/tooltip/tooltip.directive */ "v6qE");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../../core/intl/message.pipe */ "X1Kh");


























function PreviewComponent_div_1_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainer"](0);
} }
function PreviewComponent_div_1_div_2_sq_preview_search_form_1_Template(rf, ctx) { if (rf & 1) {
    const _r13 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "sq-preview-search-form", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("searchText", function PreviewComponent_div_1_div_2_sq_preview_search_form_1_Template_sq_preview_search_form_searchText_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r13); const ctx_r12 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3); return ctx_r12.searchText($event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("query", ctx_r10.query);
} }
const _c0 = function (a0) { return { active: a0 }; };
function PreviewComponent_div_1_div_2_li_4_Template(rf, ctx) { if (rf & 1) {
    const _r16 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "li", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "a", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function PreviewComponent_div_1_div_2_li_4_Template_a_click_1_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r16); const panel_r14 = ctx.$implicit; const ctx_r15 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3); ctx_r15.subpanel = panel_r14; return false; });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](3, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const panel_r14 = ctx.$implicit;
    const ctx_r11 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](4, _c0, ctx_r11.subpanel === panel_r14));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](3, 2, "msg#preview." + panel_r14), " ");
} }
function PreviewComponent_div_1_div_2_Template(rf, ctx) { if (rf & 1) {
    const _r18 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, PreviewComponent_div_1_div_2_sq_preview_search_form_1_Template, 1, 1, "sq-preview-search-form", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "sq-preview-page-form", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("gotopage", function PreviewComponent_div_1_div_2_Template_sq_preview_page_form_gotopage_2_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r18); const ctx_r17 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r17.gotoPage($event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "ul", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, PreviewComponent_div_1_div_2_li_4_Template, 4, 6, "li", 19);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r6.previewSearchable);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("pageNumber", ctx_r6.previewData == null ? null : ctx_r6.previewData.record == null ? null : ctx_r6.previewData.record.$page);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx_r6.subpanels);
} }
function PreviewComponent_div_1_sq_preview_extracts_panel_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "sq-preview-extracts-panel", 23);
} if (rf & 2) {
    const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵstyleMap"](ctx_r7.isDark() ? "dark" : "light");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("previewData", ctx_r7.previewData)("downloadUrl", ctx_r7.currentUrl)("previewDocument", ctx_r7.previewDocument);
} }
function PreviewComponent_div_1_sq_preview_pages_panel_4_Template(rf, ctx) { if (rf & 1) {
    const _r20 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "sq-preview-pages-panel", 24);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("gotopage", function PreviewComponent_div_1_sq_preview_pages_panel_4_Template_sq_preview_pages_panel_gotopage_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r20); const ctx_r19 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r19.gotoPage($event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵstyleMap"](ctx_r8.isDark() ? "dark" : "light");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("previewData", ctx_r8.previewData)("previewDocument", ctx_r8.previewDocument)("pages", ctx_r8.pagesResults);
} }
function PreviewComponent_div_1_div_5_sq_preview_highlights_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "sq-preview-highlights", 27);
} if (rf & 2) {
    const ctx_r21 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("previewData", ctx_r21.previewData)("previewDocument", ctx_r21.previewDocument);
} }
function PreviewComponent_div_1_div_5_div_2_Template(rf, ctx) { if (rf & 1) {
    const _r24 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "sq-preview-entity-panel", 29);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("facetChecked", function PreviewComponent_div_1_div_5_div_2_Template_sq_preview_entity_panel_facetChecked_1_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r24); const ctx_r23 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3); return ctx_r23.entitiesChecked($event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r22 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵstyleMap"](ctx_r22.isDark() ? "dark" : "light");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("previewData", ctx_r22.previewData)("previewDocument", ctx_r22.previewDocument)("startUnchecked", ctx_r22.entitiesStartUnchecked);
} }
function PreviewComponent_div_1_div_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 25);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, PreviewComponent_div_1_div_5_sq_preview_highlights_1_Template, 1, 2, "sq-preview-highlights", 26);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, PreviewComponent_div_1_div_5_div_2_Template, 2, 5, "div", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r9.subpanel === "highlights" && !!ctx_r9.previewData);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r9.subpanel === "entities");
} }
const _c1 = function (a0) { return { "col-sm-5 col-md-4 col-lg-3": a0 }; };
function PreviewComponent_div_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, PreviewComponent_div_1_ng_container_1_Template, 1, 0, "ng-container", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, PreviewComponent_div_1_div_2_Template, 5, 3, "div", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, PreviewComponent_div_1_sq_preview_extracts_panel_3_Template, 1, 5, "sq-preview-extracts-panel", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, PreviewComponent_div_1_sq_preview_pages_panel_4_Template, 1, 5, "sq-preview-pages-panel", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](5, PreviewComponent_div_1_div_5_Template, 3, 2, "div", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵreference"](9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](6, _c1, !ctx_r0.collapsedPanel));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngTemplateOutlet", _r3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx_r0.collapsedPanel);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r0.subpanel === "extracts" && !ctx_r0.pagesResults && !ctx_r0.collapsedPanel);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r0.subpanel === "extracts" && ctx_r0.pagesResults && !ctx_r0.collapsedPanel);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r0.subpanel !== "extracts" && !ctx_r0.collapsedPanel);
} }
function PreviewComponent_div_3_Template(rf, ctx) { if (rf & 1) {
    const _r26 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "h1");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "a", 30);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function PreviewComponent_div_3_Template_a_click_3_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r26); const ctx_r25 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r25.openOriginalDoc(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r1.previewData == null ? null : ctx_r1.previewData.record.title);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("href", ctx_r1.previewData == null ? null : ctx_r1.previewData.record.url1, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeUrl"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r1.previewData == null ? null : ctx_r1.previewData.record.url1);
} }
function PreviewComponent_ng_template_8_button_4_Template(rf, ctx) { if (rf & 1) {
    const _r30 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 42);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function PreviewComponent_ng_template_8_button_4_Template_button_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r30); const ctx_r29 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r29.back(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "i", 43);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r27 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("placement", ctx_r27.leftPanelTooltipPlacement());
} }
const _c2 = function (a0) { return [a0]; };
function PreviewComponent_ng_template_8_a_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "a", 44);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "i", 45);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r28 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("routerLink", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](2, _c2, ctx_r28.homeRoute))("placement", ctx_r28.leftPanelTooltipPlacement());
} }
const _c3 = function (a0) { return { "flex-column flex-grow-1": a0 }; };
const _c4 = function (a0, a1) { return { "btn-group": a0, "btn-group-vertical": a1 }; };
function PreviewComponent_ng_template_8_Template(rf, ctx) { if (rf & 1) {
    const _r32 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 31);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 32);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "button", 33);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function PreviewComponent_ng_template_8_Template_button_click_2_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r32); const ctx_r31 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r31.collapsedPanel = !ctx_r31.collapsedPanel; });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](3, "i", 34);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, PreviewComponent_ng_template_8_button_4_Template, 2, 1, "button", 35);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](5, PreviewComponent_ng_template_8_a_5_Template, 2, 4, "a", 36);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "button", 37);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function PreviewComponent_ng_template_8_Template_button_click_6_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r32); const ctx_r33 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r33.decreaseScaleFactor(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](7, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](8, "i", 38);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](9, "button", 39);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function PreviewComponent_ng_template_8_Template_button_click_9_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r32); const ctx_r34 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r34.increaseScaleFactor(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](10, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](11, "i", 40);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](12, "img", 41);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](15, _c3, ctx_r4.collapsedPanel));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction2"](17, _c4, !ctx_r4.collapsedPanel, ctx_r4.collapsedPanel));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("placement", ctx_r4.leftPanelTooltipPlacement());
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r4.showBackButton);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r4.homeRoute);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("sqTooltip", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](7, 11, "msg#facet.preview.minimize"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("placement", ctx_r4.leftPanelTooltipPlacement())("disabled", ctx_r4.shouldDisableMinimize());
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("sqTooltip", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](10, 13, "msg#facet.preview.maximize"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("placement", ctx_r4.leftPanelTooltipPlacement());
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("src", ctx_r4.isDark() ? "assets/sinequa-logo-dark-sm.png" : "assets/sinequa-logo-light-sm.png", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeUrl"]);
} }
const PREVIEW_CONFIG = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["InjectionToken"]("PREVIEW_CONFIG");
class PreviewComponent {
    constructor(previewConfig, previewInput, cdr, router, route, titleService, _location, loginService, intlService, previewService, searchService, prefs, ui, activatedRoute, zone) {
        this.cdr = cdr;
        this.router = router;
        this.route = route;
        this.titleService = titleService;
        this._location = _location;
        this.loginService = loginService;
        this.intlService = intlService;
        this.previewService = previewService;
        this.searchService = searchService;
        this.prefs = prefs;
        this.ui = ui;
        this.activatedRoute = activatedRoute;
        this.zone = zone;
        // State of the preview
        this.collapsedPanel = true;
        this.homeRoute = "/home";
        this.showBackButton = true;
        this.subpanels = ["extracts", "entities"];
        this.subpanel = 'extracts';
        this.previewSearchable = true;
        // Preview Tooltip
        this.tooltipEntityActions = [];
        this.tooltipTextActions = [];
        this.scaleFactorThreshold = 0.05;
        this.scaleFactor = 1.0;
        // If the page is refreshed login needs to happen again, then we can get the preview data
        this.loginSubscription = this.loginService.events.subscribe({
            next: (event) => {
                if (event.type === "session-changed") {
                    this.getPreviewData();
                }
            }
        });
        // The URL can be changed when searching within the page
        this.routerSubscription = this.router.events
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["filter"])(event => event instanceof _angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterEvent"] && event.url !== this.homeRoute)).subscribe({
            next: (event) => {
                if (event instanceof _angular_router__WEBPACK_IMPORTED_MODULE_1__["NavigationEnd"]) {
                    this.getPreviewDataFromUrl();
                }
            }
        });
        // In case the component is loaded in a modal
        if (previewInput) {
            if (previewInput.config) {
                previewConfig = previewInput.config;
            }
            this.id = previewInput.id;
            this.query = previewInput.query;
        }
        // Configuration may be injected by the root app (or as above by the modal)
        if (previewConfig) {
            this.previewConfig = previewConfig;
        }
        this.tooltipTextActions.push(new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_3__["Action"]({
            text: "msg#searchForm.search",
            title: "msg#preview.searchText",
            icon: "sq-preview-search-icon",
            action: (action, event) => {
                if (this.query) {
                    this.query.text = event['text'].slice(0, 50);
                    this.router.navigate([], {
                        relativeTo: this.route,
                        queryParams: { query: this.query.toJsonForQueryString() },
                        queryParamsHandling: 'merge',
                        state: {}
                    });
                }
            }
        }));
        titleService.setTitle(this.intlService.formatMessage("msg#preview.pageTitle"));
    }
    /**
     * Loads the preview data in the case where id and query are provided as inputs
     * (eg. the component is inserted in a parent rather than as a route)
     */
    ngOnChanges() {
        this.getPreviewData();
    }
    /**
     * Initializes the configuration and potentially loads the preview data from the URL
     * (in the case where the id and query are not provided via the Input bindings)
     */
    ngOnInit() {
        if (!this.id || !this.query) { // do nothing if the parameters are already here
            this.getPreviewDataFromUrl();
        }
        if (this.previewConfig) {
            if (this.previewConfig.initialCollapsedPanel !== undefined) {
                this.collapsedPanel = this.previewConfig.initialCollapsedPanel;
            }
            if (this.previewConfig.homeRoute !== undefined) {
                this.homeRoute = this.previewConfig.homeRoute;
            }
            if (this.previewConfig.showBackButton !== undefined) {
                this.showBackButton = this.previewConfig.showBackButton;
            }
            if (this.previewConfig.subpanels !== undefined) {
                this.subpanels = this.previewConfig.subpanels;
            }
            if (this.previewConfig.defaultSubpanel !== undefined) {
                this.subpanel = this.previewConfig.defaultSubpanel;
            }
            if (this.previewConfig.previewSearchable !== undefined) {
                this.previewSearchable = this.previewConfig.previewSearchable;
            }
        }
    }
    ngOnDestroy() {
        this.loginSubscription.unsubscribe();
        this.routerSubscription.unsubscribe();
    }
    /**
     * Extracts id and query from the URL and request the preview data from the preview service
     */
    getPreviewDataFromUrl() {
        const map = this.route.snapshot.queryParamMap;
        this.id = map.get("id") || undefined;
        this.query = this.searchService.makeQuery();
        this.query.fromJson(map.get("query") || "{}");
        this.getPreviewData();
    }
    /**
     * Performs a call to the preview service. Update the search form with the searched query text (page refresh or navigation)
     */
    getPreviewData() {
        if (!!this.id && !!this.query && this.loginService.complete) {
            this.previewService.getPreviewData(this.id, this.query).subscribe(previewData => {
                var _a;
                this.previewData = previewData;
                const url = previewData === null || previewData === void 0 ? void 0 : previewData.documentCachedContentUrl;
                // Manage splitted documents
                const pageNumber = this.previewService.getPageNumber(previewData.record);
                if (pageNumber) {
                    this.previewService.fetchPages(previewData.record.containerid, this.query)
                        .subscribe(results => this.pagesResults = results);
                }
                this.currentUrl = url;
                this.downloadUrl = url ? this.previewService.makeDownloadUrl(url) : undefined;
                this.sandbox = ["xlsx", "xls"].includes(previewData.record.docformat) ? null : undefined;
                this.titleService.setTitle(this.intlService.formatMessage("msg#preview.pageTitle", { title: ((_a = previewData === null || previewData === void 0 ? void 0 : previewData.record) === null || _a === void 0 ? void 0 : _a.title) || "" }));
            });
        }
    }
    /**
     * Called when the HTML of the preview finishes loading in the iframe
     * @param previewDocument
     */
    onPreviewReady(previewDocument) {
        if (this.previewData) {
            // uses preferences to uncheck highlighted entities
            const uncheckedEntities = this.entitiesStartUnchecked;
            Object.keys(uncheckedEntities)
                .map(key => ({ entity: key, value: uncheckedEntities[key] }))
                .filter(item => item.value === true)
                .map(item => previewDocument.toggleHighlight(item.entity, false));
            this.previewDocument = previewDocument;
            this.previewDocument.selectHighlight("matchlocations", 0); // Scroll to first match
        }
    }
    onPreviewPageChange(event) {
        if (event instanceof _sinequa_components_preview__WEBPACK_IMPORTED_MODULE_4__["PreviewDocument"]) {
            this.previewDocument = event;
        }
        else {
            this.currentUrl = event;
            this.previewDocument = undefined;
        }
        this.cdr.detectChanges();
    }
    /**
     * Back button (navigating back to search)
     */
    back() {
        this._location.back();
    }
    /**
     * Notification for the audit service
     */
    openOriginalDoc() {
        if (this.previewData) {
            this.searchService.notifyOpenOriginalDocument(this.previewData.record);
        }
    }
    /**
     * Navigate to another page of this document
     * @param id
     */
    gotoPage(page) {
        var _a;
        const containerid = (_a = this.previewData) === null || _a === void 0 ? void 0 : _a.record.containerid;
        if (containerid) {
            const id = `${containerid}/#${page}#`;
            // we needs surround router.navigate() as we navigate outside Angular
            // if an error occurs, this allow page navigation, broken otherwise
            this.zone.run(() => {
                this.router.navigate([], {
                    relativeTo: this.activatedRoute,
                    queryParams: { id },
                    queryParamsHandling: 'merge'
                });
            });
        }
    }
    /**
     * Search for new text within the same document
     * @param text
     */
    searchText(text) {
        if (this.query && this.query.text !== text) {
            this.query.text = text;
            this.router.navigate([], {
                relativeTo: this.route,
                queryParams: { query: this.query.toJsonForQueryString() },
                queryParamsHandling: 'merge',
                state: {}
            });
        }
    }
    /**
     * Whether the UI is in dark or light mode
     */
    isDark() {
        return document.body.classList.contains("dark");
    }
    // User preferences
    /**
     * Entity facets state
     */
    get entitiesStartUnchecked() {
        return this.prefs.get("preview-entities-checked") || {};
    }
    entitiesChecked(event) {
        const startUnchecked = this.entitiesStartUnchecked;
        startUnchecked[event.entity] = !event.checked;
        this.prefs.set("preview-entities-checked", startUnchecked);
    }
    increaseScaleFactor() {
        this.scaleFactor = this.scaleFactor + this.scaleFactorThreshold;
        return false;
    }
    decreaseScaleFactor() {
        this.scaleFactor = Math.round(Math.max(0.1, this.scaleFactor - this.scaleFactorThreshold) * 100) / 100;
        return false;
    }
    shouldDisableMinimize() {
        return this.scaleFactor <= 0.1;
    }
    leftPanelTooltipPlacement() {
        return this.collapsedPanel ? 'right' : 'bottom';
    }
}
PreviewComponent.ɵfac = function PreviewComponent_Factory(t) { return new (t || PreviewComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](PREVIEW_CONFIG, 8), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_modal__WEBPACK_IMPORTED_MODULE_5__["MODAL_MODEL"], 8), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_platform_browser__WEBPACK_IMPORTED_MODULE_6__["Title"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_common__WEBPACK_IMPORTED_MODULE_7__["Location"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_login__WEBPACK_IMPORTED_MODULE_8__["LoginService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_intl__WEBPACK_IMPORTED_MODULE_9__["IntlService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_preview__WEBPACK_IMPORTED_MODULE_4__["PreviewService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_search__WEBPACK_IMPORTED_MODULE_10__["SearchService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_user_settings__WEBPACK_IMPORTED_MODULE_11__["UserPreferences"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_utils__WEBPACK_IMPORTED_MODULE_12__["UIService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"])); };
PreviewComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: PreviewComponent, selectors: [["app-preview"]], inputs: { id: "id", query: "query", previewConfig: "previewConfig" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 10, vars: 10, consts: [[1, "d-flex", "flex-row", "align-items-stretch", "m-0", "h-100"], ["class", "d-flex flex-column align-items-stretch border-right p-0", 3, "ngClass", 4, "ngIf"], [1, "d-flex", "flex-shrink-1", "flex-grow-1", "flex-column", "preview-bg"], ["class", "p-2", 4, "ngIf"], [1, "flex-grow-1", "flex-shrink-1", "overflow-hidden"], [3, "scalingFactor", "downloadUrl", "sandbox", "onPreviewReady", "pageChange"], [3, "previewDocument", "previewData", "entityActions", "selectedTextActions", "scalingFactor"], ["tooltip", ""], ["nav", ""], [1, "d-flex", "flex-column", "align-items-stretch", "border-right", "p-0", 3, "ngClass"], [4, "ngTemplateOutlet"], ["class", "border-top border-bottom p-2", 4, "ngIf"], ["class", "d-flex flex-column flex-grow-1", 3, "previewData", "downloadUrl", "previewDocument", "style", 4, "ngIf"], ["class", "overflow-auto", 3, "previewData", "previewDocument", "pages", "style", "gotopage", 4, "ngIf"], ["class", "overflow-auto", 4, "ngIf"], [1, "border-top", "border-bottom", "p-2"], [3, "query", "searchText", 4, "ngIf"], [3, "pageNumber", "gotopage"], [1, "nav", "nav-pills", "justify-content-center", "mb-1"], ["class", "nav-item", 4, "ngFor", "ngForOf"], [3, "query", "searchText"], [1, "nav-item"], ["href", "#", 1, "nav-link", 3, "ngClass", "click"], [1, "d-flex", "flex-column", "flex-grow-1", 3, "previewData", "downloadUrl", "previewDocument"], [1, "overflow-auto", 3, "previewData", "previewDocument", "pages", "gotopage"], [1, "overflow-auto"], ["class", "my-2", 3, "previewData", "previewDocument", 4, "ngIf"], [1, "my-2", 3, "previewData", "previewDocument"], [1, "p-2"], [3, "previewData", "previewDocument", "startUnchecked", "facetChecked"], ["title", "Original document", "target", "_blank", 3, "href", "click"], [1, "align-self-stretch", "d-flex", "justify-content-between", "align-items-center", "p-1", 3, "ngClass"], [3, "ngClass"], ["sqTooltip", "Expand", 1, "btn", "btn-lg", "btn-primary", 3, "placement", "click"], [1, "fas", "fa-bars"], ["class", "btn btn-lg btn-light", "sqTooltip", "Back", 3, "placement", "click", 4, "ngIf"], ["class", "btn btn-lg btn-light", "sqTooltip", "Home", 3, "routerLink", "placement", 4, "ngIf"], [1, "btn", "btn-lg", "btn-light", 3, "placement", "sqTooltip", "disabled", "click"], [1, "fas", "fa-search-minus"], [1, "btn", "btn-lg", "btn-light", 3, "placement", "sqTooltip", "click"], [1, "fas", "fa-search-plus"], ["id", "logo", "alt", "Sinequa logo", "title", "Sinequa", 3, "src"], ["sqTooltip", "Back", 1, "btn", "btn-lg", "btn-light", 3, "placement", "click"], [1, "fas", "fa-arrow-left"], ["sqTooltip", "Home", 1, "btn", "btn-lg", "btn-light", 3, "routerLink", "placement"], [1, "fas", "fa-home"]], template: function PreviewComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, PreviewComponent_div_1_Template, 6, 8, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, PreviewComponent_div_3_Template, 5, 3, "div", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "sq-preview-document-iframe", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("onPreviewReady", function PreviewComponent_Template_sq_preview_document_iframe_onPreviewReady_5_listener($event) { return ctx.onPreviewReady($event); })("pageChange", function PreviewComponent_Template_sq_preview_document_iframe_pageChange_5_listener($event) { return ctx.onPreviewPageChange($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](6, "sq-preview-tooltip", 6, 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](8, PreviewComponent_ng_template_8_Template, 13, 20, "ng-template", null, 8, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplateRefExtractor"]);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.ui.screenSizeIsGreater("xs"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.previewData);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("scalingFactor", ctx.scaleFactor)("downloadUrl", ctx.downloadUrl)("sandbox", ctx.sandbox);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("previewDocument", ctx.previewDocument)("previewData", ctx.previewData)("entityActions", ctx.tooltipEntityActions)("selectedTextActions", ctx.tooltipTextActions)("scalingFactor", ctx.scaleFactor);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_7__["NgIf"], _components_preview_preview_document_iframe_component__WEBPACK_IMPORTED_MODULE_13__["PreviewDocumentIframe"], _components_preview_preview_tooltip_component__WEBPACK_IMPORTED_MODULE_14__["PreviewTooltip"], _angular_common__WEBPACK_IMPORTED_MODULE_7__["NgClass"], _angular_common__WEBPACK_IMPORTED_MODULE_7__["NgTemplateOutlet"], _components_preview_bootstrap_preview_page_form_preview_page_form_component__WEBPACK_IMPORTED_MODULE_15__["BsPreviewPageFormComponent"], _angular_common__WEBPACK_IMPORTED_MODULE_7__["NgForOf"], _components_preview_bootstrap_preview_search_form_preview_search_form_component__WEBPACK_IMPORTED_MODULE_16__["BsPreviewSearchFormComponent"], _components_preview_bootstrap_preview_extracts_panel_preview_extracts_panel_component__WEBPACK_IMPORTED_MODULE_17__["BsPreviewExtractsPanelComponent"], _components_preview_bootstrap_preview_pages_panel_preview_pages_panel_component__WEBPACK_IMPORTED_MODULE_18__["BsPreviewPagesPanelComponent"], _components_preview_bootstrap_preview_highlights_preview_highlights__WEBPACK_IMPORTED_MODULE_19__["BsPreviewHighlights"], _components_preview_bootstrap_preview_entity_panel_preview_entity_panel_component__WEBPACK_IMPORTED_MODULE_20__["BsPreviewEntityPanelComponent"], _components_utils_directives_tooltip_tooltip_directive__WEBPACK_IMPORTED_MODULE_21__["TooltipDirective"], _angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterLinkWithHref"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_22__["MessagePipe"]], styles: [".overflow-y-scroll[_ngcontent-%COMP%] {\n  overflow-y: auto;\n}\n\n.spinner-grow[_ngcontent-%COMP%] {\n  width: 3rem;\n  height: 3rem;\n}\n\n.preview-bg[_ngcontent-%COMP%] {\n  background-color: #efefef;\n}\n\n.dark[_nghost-%COMP%]   .preview-bg[_ngcontent-%COMP%], .dark   [_nghost-%COMP%]   .preview-bg[_ngcontent-%COMP%] {\n  background-color: black;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2plY3RzL3ZhbmlsbGEtc2VhcmNoL3NyYy9hcHAvcHJldmlldy9wcmV2aWV3LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsZ0JBQUE7QUFDRjs7QUFFQTtFQUNFLFdBQUE7RUFDQSxZQUFBO0FBQ0Y7O0FBRUE7RUFDRSx5QkFBQTtBQUNGOztBQUVBO0VBQ0UsdUJBQUE7QUFDRiIsImZpbGUiOiJwcm9qZWN0cy92YW5pbGxhLXNlYXJjaC9zcmMvYXBwL3ByZXZpZXcvcHJldmlldy5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5vdmVyZmxvdy15LXNjcm9sbCB7XG4gIG92ZXJmbG93LXk6IGF1dG87XG59XG5cbi5zcGlubmVyLWdyb3cge1xuICB3aWR0aDogM3JlbTtcbiAgaGVpZ2h0OiAzcmVtO1xufVxuXG4ucHJldmlldy1iZyB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNlZmVmZWY7XG59XG5cbjpob3N0LWNvbnRleHQoLmRhcmspIC5wcmV2aWV3LWJnIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogYmxhY2s7XG59Il19 */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](PreviewComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'app-preview',
                templateUrl: './preview.component.html',
                styleUrls: ['./preview.component.scss']
            }]
    }], function () { return [{ type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Optional"]
            }, {
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [PREVIEW_CONFIG]
            }] }, { type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Optional"]
            }, {
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [_sinequa_core_modal__WEBPACK_IMPORTED_MODULE_5__["MODAL_MODEL"]]
            }] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] }, { type: _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"] }, { type: _angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"] }, { type: _angular_platform_browser__WEBPACK_IMPORTED_MODULE_6__["Title"] }, { type: _angular_common__WEBPACK_IMPORTED_MODULE_7__["Location"] }, { type: _sinequa_core_login__WEBPACK_IMPORTED_MODULE_8__["LoginService"] }, { type: _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_9__["IntlService"] }, { type: _sinequa_components_preview__WEBPACK_IMPORTED_MODULE_4__["PreviewService"] }, { type: _sinequa_components_search__WEBPACK_IMPORTED_MODULE_10__["SearchService"] }, { type: _sinequa_components_user_settings__WEBPACK_IMPORTED_MODULE_11__["UserPreferences"] }, { type: _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_12__["UIService"] }, { type: _angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgZone"] }]; }, { id: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], query: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], previewConfig: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "oSLy":
/*!********************************************************!*\
  !*** ../components/modal/bootstrap/modal.component.ts ***!
  \********************************************************/
/*! exports provided: BsModal */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsModal", function() { return BsModal; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_cdk_a11y__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/cdk/a11y */ "sg/T");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _modal_header_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./modal-header.component */ "ULb8");
/* harmony import */ var _modal_footer_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./modal-footer.component */ "Av1P");






function BsModal_sq_modal_header_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "sq-modal-header", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵprojection"](1, 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("title", ctx_r0.title);
} }
function BsModal_sq_modal_footer_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "sq-modal-footer", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵprojection"](1, 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("buttons", ctx_r1.buttons)("isProcessingState", ctx_r1.isProcessingState);
} }
const _c0 = ["*", [["", "header", ""]], [["", "footer", ""]]];
const _c1 = ["*", "[header]", "[footer]"];
class BsModal {
    constructor() {
        this.showHeader = true;
        this.showFooter = true;
        this.isProcessingState = false;
    }
}
BsModal.ɵfac = function BsModal_Factory(t) { return new (t || BsModal)(); };
BsModal.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsModal, selectors: [["sq-modal"]], hostVars: 2, hostBindings: function BsModal_HostBindings(rf, ctx) { if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassProp"]("sq-modal", true);
    } }, inputs: { title: "title", buttons: "buttons", showHeader: "showHeader", showFooter: "showFooter", isProcessingState: "isProcessingState" }, ngContentSelectors: _c1, decls: 6, vars: 3, consts: [["cdkTrapFocus", "", 1, "modal-dialog", 3, "cdkTrapFocusAutoCapture"], [1, "modal-content"], [3, "title", 4, "ngIf"], [1, "modal-body"], [3, "buttons", "isProcessingState", 4, "ngIf"], [3, "title"], [3, "buttons", "isProcessingState"]], template: function BsModal_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵprojectionDef"](_c0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, BsModal_sq_modal_header_2_Template, 2, 1, "sq-modal-header", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵprojection"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](5, BsModal_sq_modal_footer_5_Template, 2, 2, "sq-modal-footer", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("cdkTrapFocusAutoCapture", true);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.showHeader);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.showFooter);
    } }, directives: [_angular_cdk_a11y__WEBPACK_IMPORTED_MODULE_1__["CdkTrapFocus"], _angular_common__WEBPACK_IMPORTED_MODULE_2__["NgIf"], _modal_header_component__WEBPACK_IMPORTED_MODULE_3__["BsModalHeader"], _modal_footer_component__WEBPACK_IMPORTED_MODULE_4__["BsModalFooter"]], styles: [".cdk-overlay-container,\n.cdk-global-overlay-wrapper,\n.cdk-overlay-backdrop {\n  z-index: 1040;\n}\n\n.sq-modal-host {\n  display: block;\n  pointer-events: auto;\n  overflow: auto;\n}\n\n.sq-modal-pane {\n  display: block;\n  padding: 30px;\n  height: 100%;\n  pointer-events: none !important;\n}\n\n.sq-modal-fullscreen .modal-dialog, .sq-modal-fullscreen .modal-content, .sq-modal-fullscreen * > form {\n  height: 100%;\n}\n\n.sq-modal-fullscreen .modal-dialog {\n  max-width: none;\n  margin: 0;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2plY3RzL2NvbXBvbmVudHMvbW9kYWwvYm9vdHN0cmFwL21vZGFsLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7RUFHRSxhQUFBO0FBQ0Y7O0FBRUE7RUFDRSxjQUFBO0VBQ0Esb0JBQUE7RUFDQSxjQUFBO0FBQ0Y7O0FBRUE7RUFDRSxjQUFBO0VBQ0EsYUFBQTtFQUNBLFlBQUE7RUFDQSwrQkFBQTtBQUNGOztBQUVBO0VBQ0UsWUFBQTtBQUNGOztBQUNBO0VBQ0UsZUFBQTtFQUNBLFNBQUE7QUFFRiIsImZpbGUiOiJwcm9qZWN0cy9jb21wb25lbnRzL21vZGFsL2Jvb3RzdHJhcC9tb2RhbC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5jZGstb3ZlcmxheS1jb250YWluZXIsXG4uY2RrLWdsb2JhbC1vdmVybGF5LXdyYXBwZXIsXG4uY2RrLW92ZXJsYXktYmFja2Ryb3Age1xuICB6LWluZGV4OiAxMDQwO1xufVxuXG4uc3EtbW9kYWwtaG9zdCB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBwb2ludGVyLWV2ZW50czogYXV0bztcbiAgb3ZlcmZsb3c6IGF1dG87XG59XG5cbi5zcS1tb2RhbC1wYW5lIHtcbiAgZGlzcGxheTogYmxvY2s7XG4gIHBhZGRpbmc6IDMwcHg7XG4gIGhlaWdodDogMTAwJTtcbiAgcG9pbnRlci1ldmVudHM6IG5vbmUgIWltcG9ydGFudDtcbn1cblxuLnNxLW1vZGFsLWZ1bGxzY3JlZW4gLm1vZGFsLWRpYWxvZywgLnNxLW1vZGFsLWZ1bGxzY3JlZW4gLm1vZGFsLWNvbnRlbnQsIC5zcS1tb2RhbC1mdWxsc2NyZWVuICogPiBmb3JtIHtcbiAgaGVpZ2h0OiAxMDAlO1xufVxuLnNxLW1vZGFsLWZ1bGxzY3JlZW4gLm1vZGFsLWRpYWxvZyB7XG4gIG1heC13aWR0aDogbm9uZTtcbiAgbWFyZ2luOiAwO1xufSJdfQ== */"], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsModal, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-modal",
                templateUrl: "./modal.component.html",
                styleUrls: ["./modal.component.scss"],
                encapsulation: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewEncapsulation"].None
            }]
    }], null, { title: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], buttons: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], showHeader: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], showFooter: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], isProcessingState: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], true: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostBinding"],
            args: ["class.sq-modal"]
        }] }); })();


/***/ }),

/***/ "oUuF":
/*!***********************************************************************************!*\
  !*** ../components/results-view/bootstrap/results-grid-view/results-grid-view.ts ***!
  \***********************************************************************************/
/*! exports provided: BsResultsGridView */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsResultsGridView", function() { return BsResultsGridView; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/app-utils */ "SBPP");
/* harmony import */ var _sinequa_components_search__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/components/search */ "7+c1");
/* harmony import */ var _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/components/selection */ "8GPZ");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _selection_bootstrap_result_selector_result_selector__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../selection/bootstrap/result-selector/result-selector */ "7RQc");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/intl/message.pipe */ "X1Kh");
/* harmony import */ var _utils_pipes_value_pipe__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../utils/pipes/value-pipe */ "7U+I");










function BsResultsGridView_th_9_span_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "span");
} if (rf & 2) {
    const columnData_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMap"](columnData_r2.sortIcon);
} }
const _c0 = function (a0) { return { "sq-clickable": a0 }; };
function BsResultsGridView_th_9_Template(rf, ctx) { if (rf & 1) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "th", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsResultsGridView_th_9_Template_th_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r6); const columnData_r2 = ctx.$implicit; const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r5.setSort(columnData_r2); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, BsResultsGridView_th_9_span_3_Template, 1, 3, "span", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const columnData_r2 = ctx.$implicit;
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](6, _c0, ctx_r0.isSortable(columnData_r2)));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate2"]("", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 4, columnData_r2.config.title), "", columnData_r2.sortIndicator, "");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r0.isSortable(columnData_r2));
} }
function BsResultsGridView_tr_11_ng_container_3_td_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "td", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "sqValue");
} if (rf & 2) {
    const ctx_r14 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    const columnData_r9 = ctx_r14.$implicit;
    const $index_r10 = ctx_r14.index;
    const record_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("innerHTML", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](1, 2, record_r7[columnData_r9.config.field], columnData_r9.column), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeHtml"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵattribute"]("scope", $index_r10 === 0 ? "row" : null);
} }
function BsResultsGridView_tr_11_ng_container_3_td_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "td");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqValue");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r15 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    const $index_r10 = ctx_r15.index;
    const columnData_r9 = ctx_r15.$implicit;
    const record_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵattribute"]("scope", $index_r10 === 0 ? "row" : null);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](2, 2, record_r7[columnData_r9.config.field], columnData_r9.column));
} }
function BsResultsGridView_tr_11_ng_container_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsResultsGridView_tr_11_ng_container_3_td_1_Template, 2, 5, "td", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, BsResultsGridView_tr_11_ng_container_3_td_2_Template, 3, 5, "td", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const columnData_r9 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", columnData_r9.config.renderAsHtml);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !columnData_r9.config.renderAsHtml);
} }
function BsResultsGridView_tr_11_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "tr");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "td", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "sq-result-selector", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, BsResultsGridView_tr_11_ng_container_3_Template, 3, 2, "ng-container", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const record_r7 = ctx.$implicit;
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("record", record_r7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx_r1.columnsData);
} }
class BsResultsGridView {
    constructor(appService, searchService, formatService, selectionService) {
        this.appService = appService;
        this.searchService = searchService;
        this.formatService = formatService;
        this.selectionService = selectionService;
    }
    observeQueryFields() {
        this.initSorts();
    }
    ngOnChanges(changes) {
        if (!this.columnsData) {
            if (!!this.view.columns) {
                this.columnsData = this.view.columns.filter(config => config.active).map(config => ({
                    config: config,
                    column: this.appService.getColumn(config.field)
                }));
                this.clearSorts();
            }
            else {
                this.columnsData = [];
            }
        }
        if (!!changes["query"]) {
            this.observeQueryFields();
        }
    }
    toggleSelectedRecords() {
        this.selectionService.toggleSelectedRecords();
    }
    get haveSelectedRecords() {
        return this.selectionService.haveSelectedRecords;
    }
    getSortIndicator(columnData) {
        if (columnData.sortIndex === -1) {
            return undefined;
        }
        if (this.maxSortIndex === 0) {
            return undefined;
        }
        switch (columnData.sortIndex || -1 + 1) {
            case 1: return "\u00B9";
            case 2: return "\u00B2";
            case 3: return "\u00B3";
            case 4: return "\u2074";
            case 5: return "\u2075";
            case 6: return "\u2076";
            case 7: return "\u2077";
            case 8: return "\u2078";
            case 9: return "\u2079";
            default: return "\u207A";
        }
    }
    ascendingFirst(column) {
        //return this.appService.isNumber(column.field);
        return false;
    }
    get maxSortIndex() {
        let sortIndex = -1;
        if (this.columnsData) {
            for (const columnData of this.columnsData) {
                if (columnData.sortIndex !== undefined && columnData.sortIndex > sortIndex) {
                    sortIndex = columnData.sortIndex;
                }
            }
        }
        return sortIndex;
    }
    _setSort(columnData, ascending) {
        const previousSortIndex = columnData.sortIndex;
        if (previousSortIndex === -1) {
            columnData.sortIndex = this.maxSortIndex + 1;
        }
        columnData.ascending = ascending;
        columnData.sortIcon = columnData.ascending ? "fas fa-caret-up" : "fas fa-caret-down";
        columnData.sortIndicator = this.getSortIndicator(columnData);
        if (previousSortIndex === -1) {
            if (this.columnsData) {
                for (const columnData1 of this.columnsData) {
                    columnData1.sortIndicator = this.getSortIndicator(columnData1);
                }
            }
        }
    }
    _clearSort(columnData) {
        const previousSortIndex = columnData.sortIndex || -1;
        columnData.sortIndex = -1;
        columnData.ascending = false;
        columnData.sortIcon = "fas fa-sort";
        columnData.sortIndicator = undefined;
        if (previousSortIndex !== -1) {
            if (this.columnsData) {
                for (const columnData1 of this.columnsData) {
                    if (columnData1.sortIndex !== undefined && columnData1.sortIndex > previousSortIndex) {
                        columnData1.sortIndex--;
                    }
                    columnData1.sortIndicator = this.getSortIndicator(columnData1);
                }
            }
        }
    }
    clearSorts() {
        if (this.columnsData) {
            for (const columnData of this.columnsData) {
                this._clearSort(columnData);
            }
        }
    }
    isSortable(columnData) {
        return !!columnData && columnData.config.sortable && this.appService.isSortable(columnData.config.field);
    }
    initSorts() {
        if (this.searchService.query.orderBy === this.orderBy) {
            return;
        }
        this.orderBy = this.searchService.query.orderBy;
        this.clearSorts();
        if (!!this.orderBy) {
            const parts = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].split(this.orderBy, ",");
            for (const part of parts) {
                const tokens = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].split(part, " ");
                if (tokens.length > 0) {
                    const field = tokens[0];
                    if (this.columnsData) {
                        const columnData = this.columnsData.find(value => _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].eqNC(field, value.config.field));
                        if (columnData && this.isSortable(columnData)) {
                            this._setSort(columnData, tokens.length > 1 ? _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].eqNC(tokens[1], "asc") : true);
                        }
                    }
                }
            }
        }
    }
    setSort(columnData) {
        if (this.isSortable(columnData)) {
            if (columnData.sortIndex !== -1) {
                if (this.ascendingFirst(columnData.config)) {
                    if (columnData.ascending) {
                        this._setSort(columnData, false);
                    }
                    else {
                        this._clearSort(columnData);
                    }
                }
                else {
                    if (columnData.ascending) {
                        this._clearSort(columnData);
                    }
                    else {
                        this._setSort(columnData, true);
                    }
                }
            }
            else {
                this._setSort(columnData, this.ascendingFirst(columnData.config));
            }
            const orderBy = [];
            if (this.columnsData) {
                for (let sortIndex = 0;; sortIndex++) {
                    const columnData = this.columnsData.find(columnData => columnData.sortIndex === sortIndex);
                    if (!columnData) {
                        break;
                    }
                    if (orderBy.length !== 0) {
                        orderBy.push(",");
                    }
                    orderBy.push(columnData.config.field);
                    if (!columnData.ascending) {
                        orderBy.push(" desc");
                    }
                }
            }
            if (orderBy.length === 0) {
                this.searchService.query.orderBy = this.orderBy = undefined;
            }
            else {
                this.searchService.query.orderBy = this.orderBy = orderBy.join("");
            }
            this.searchService.search();
        }
    }
}
BsResultsGridView.ɵfac = function BsResultsGridView_Factory(t) { return new (t || BsResultsGridView)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_2__["AppService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_search__WEBPACK_IMPORTED_MODULE_3__["SearchService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_2__["FormatService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_selection__WEBPACK_IMPORTED_MODULE_4__["SelectionService"])); };
BsResultsGridView.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsResultsGridView, selectors: [["sq-results-grid-view"]], inputs: { results: "results", view: "view" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 12, vars: 6, consts: [[1, "sq-results-grid-view"], [1, "sq-grid-view-checkbox"], [1, "custom-control", "custom-checkbox", 3, "title"], ["type", "checkbox", 1, "custom-control-input", 3, "checked", "change"], [1, "custom-control-label"], ["scope", "col", 3, "ngClass", "click", 4, "ngFor", "ngForOf"], [4, "ngFor", "ngForOf"], ["scope", "col", 3, "ngClass", "click"], [3, "class", 4, "ngIf"], [3, "record"], [3, "innerHTML", 4, "ngIf"], [4, "ngIf"], [3, "innerHTML"]], template: function BsResultsGridView_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "table", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "thead");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "tr");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "th", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "label", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](5, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "input", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("change", function BsResultsGridView_Template_input_change_6_listener() { return ctx.toggleSelectedRecords(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "span", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](8, "\u200B");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](9, BsResultsGridView_th_9_Template, 4, 8, "th", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](10, "tbody");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](11, BsResultsGridView_tr_11_Template, 4, 2, "tr", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("title", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](5, 4, ctx.haveSelectedRecords ? "msg#results.resultsGridView.unselectDocuments" : "msg#results.resultsGridView.selectDocuments"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("checked", ctx.haveSelectedRecords);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.columnsData);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.results.records);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_5__["NgForOf"], _angular_common__WEBPACK_IMPORTED_MODULE_5__["NgClass"], _angular_common__WEBPACK_IMPORTED_MODULE_5__["NgIf"], _selection_bootstrap_result_selector_result_selector__WEBPACK_IMPORTED_MODULE_6__["BsResultSelector"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_7__["MessagePipe"], _utils_pipes_value_pipe__WEBPACK_IMPORTED_MODULE_8__["ValuePipe"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsResultsGridView, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-results-grid-view",
                templateUrl: "./results-grid-view.html"
            }]
    }], function () { return [{ type: _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_2__["AppService"] }, { type: _sinequa_components_search__WEBPACK_IMPORTED_MODULE_3__["SearchService"] }, { type: _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_2__["FormatService"] }, { type: _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_4__["SelectionService"] }]; }, { results: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], view: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "odaa":
/*!***********************************************************!*\
  !*** ../components/collapse/collapse-button.component.ts ***!
  \***********************************************************/
/*! exports provided: collapseButtonAnimations, CollapseButton */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "collapseButtonAnimations", function() { return collapseButtonAnimations; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CollapseButton", function() { return CollapseButton; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_animations__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/animations */ "f7+R");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/intl/message.pipe */ "X1Kh");





function CollapseButton_ng_container_0_ng_container_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainer"](0);
} }
function CollapseButton_ng_container_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, CollapseButton_ng_container_0_ng_container_2_Template, 1, 0, "ng-container", 0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMap"](ctx_r0.icon);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !!ctx_r0.text);
} }
function CollapseButton_span_1_Template(rf, ctx) { if (rf & 1) {
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function CollapseButton_span_1_Template_span_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r4); const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r3.toggleCollapsed(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 1, ctx_r1.text));
} }
function collapseButtonAnimations(timings) {
    return [
        Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["trigger"])('toggleCollapsed', [
            Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["state"])('0', Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["style"])({ transform: 'rotate(0deg)' })),
            Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["state"])('1', Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["style"])({ transform: 'rotate(-180deg)' })),
            Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["transition"])('0 <=> 1', [
                Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["animate"])(timings)
            ])
        ]),
    ];
}
class CollapseButton {
    constructor() {
        this.state = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.collapsed = true;
    }
    toggleCollapsed() {
        this.collapsed = !this.collapsed;
        this.state.emit(this.collapsed);
    }
}
CollapseButton.ɵfac = function CollapseButton_Factory(t) { return new (t || CollapseButton)(); };
CollapseButton.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: CollapseButton, selectors: [["sq-collapse-button"]], inputs: { collapsed: "collapsed", icon: "icon", text: "text" }, outputs: { state: "state" }, decls: 4, vars: 6, consts: [[4, "ngIf"], [3, "click", 4, "ngIf"], ["role", "button", 1, "fas", "fa-chevron-up", "fa-fw", 3, "title", "click"], [3, "click"]], template: function CollapseButton_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, CollapseButton_ng_container_0_Template, 3, 4, "ng-container", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, CollapseButton_span_1_Template, 3, 3, "span", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "span", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function CollapseButton_Template_span_click_2_listener() { return ctx.toggleCollapsed(); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](3, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !!ctx.icon);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !!ctx.text);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("title", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](3, 4, ctx.collapsed ? "msg#collapseButton.expand" : "msg#collapseButton.collapse"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("@toggleCollapsed", ctx.collapsed);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_2__["NgIf"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_3__["MessagePipe"]], encapsulation: 2, data: { animation: collapseButtonAnimations(".15s ease-in-out") } });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](CollapseButton, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-collapse-button",
                templateUrl: "./collapse-button.component.html",
                animations: collapseButtonAnimations(".15s ease-in-out")
            }]
    }], function () { return []; }, { collapsed: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], icon: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], text: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], state: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }] }); })();


/***/ }),

/***/ "oksa":
/*!*******************************************************!*\
  !*** ../core/load-component/load-component.module.ts ***!
  \*******************************************************/
/*! exports provided: LoadComponentModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LoadComponentModule", function() { return LoadComponentModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _load_component_directive__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./load-component.directive */ "/2Dk");
/* harmony import */ var _module_providers__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./module.providers */ "D9Kd");






/**
 * This module provides functionality for the dynamic loading of components based on the
 * techniques described in the [angular documentation]{@link https://angular.io/guide/dynamic-component-loader}
 */
// @dynamic
class LoadComponentModule {
}
LoadComponentModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: LoadComponentModule });
LoadComponentModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function LoadComponentModule_Factory(t) { return new (t || LoadComponentModule)(); }, providers: [
        ..._module_providers__WEBPACK_IMPORTED_MODULE_4__["LOAD_COMPONENT_MODULE_PROVIDERS"]
    ], imports: [[
            _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
            _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["BaseModule"]
        ]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](LoadComponentModule, { declarations: [_load_component_directive__WEBPACK_IMPORTED_MODULE_3__["LoadComponentDirective"]], imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["BaseModule"]], exports: [_load_component_directive__WEBPACK_IMPORTED_MODULE_3__["LoadComponentDirective"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](LoadComponentModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                    _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["BaseModule"]
                ],
                declarations: [
                    _load_component_directive__WEBPACK_IMPORTED_MODULE_3__["LoadComponentDirective"]
                ],
                exports: [
                    _load_component_directive__WEBPACK_IMPORTED_MODULE_3__["LoadComponentDirective"]
                ],
                providers: [
                    ..._module_providers__WEBPACK_IMPORTED_MODULE_4__["LOAD_COMPONENT_MODULE_PROVIDERS"]
                ]
            }]
    }], null, null); })();


/***/ }),

/***/ "ooqV":
/*!********************************************!*\
  !*** ../components/user-settings/index.ts ***!
  \********************************************/
/*! exports provided: JsonInfo, BsEditUserSettings, BsUserSettingsEditor, BsUserSettingsModule, BsUserMenuComponent, enUserSettings, frUserSettings, deUserSettings, UserPreferences */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _public_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./public-api */ "+TlJ");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "JsonInfo", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["JsonInfo"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsEditUserSettings", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsEditUserSettings"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsUserSettingsEditor", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsUserSettingsEditor"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsUserSettingsModule", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsUserSettingsModule"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsUserMenuComponent", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsUserMenuComponent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "enUserSettings", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["enUserSettings"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "frUserSettings", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["frUserSettings"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "deUserSettings", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["deUserSettings"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "UserPreferences", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["UserPreferences"]; });




/***/ }),

/***/ "oot2":
/*!********************************************!*\
  !*** ../components/baskets/messages/de.ts ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    "baskets": {
        "baskets": "Ablagekörbe",
        "addToBasket": "Zum Ablagekorb hinzufügen",
        "removeFromBasket": "Aus dem Ablagekorb entfernen",
        "removeFromAllBaskets": "Von allen Ablagekörben entfernen",
        "removeFromAllBasketsConfirmation": "Möchten Sie dieses Eregbnis wirklich von diesen Ablagekörben entfernen: {baskets}?",
        "basketAlreadyExists": "Es existiert bereits ein Ablagekorb mit diesem Namen. Möchten Sie ihn ersetzen?",
        "noBasket": "Sie haben noch kein Dokument zu einem Ablagekorb hinzugefügt...",
        "createBasket": "Ablagekorb erstellen",
        "manageBaskets": "Ablagekörbe verwalten",
        "delete": "Diesen Ablagekorb löschen"
    },
    "editBasket": {
        "title": "Ablagekorb",
        "name": "Name"
    },
    "manageBaskets": {
        "title": "Ablagekörbe verwalten",
        "edit": "Bearbeiten",
        "reorder": "Neu sortieren",
        "remove": "Entfernen",
        "removeAll": "Alle entfernen",
        "name": "Name"
    },
    "selectBasket": {
        "title": "Ablagekorb auswählen",
        "newBasket": "Neuer Ablagekorb..."
    },
});


/***/ }),

/***/ "ow2B":
/*!*****************************************!*\
  !*** ../components/modal/public-api.ts ***!
  \*****************************************/
/*! exports provided: BsModalModule, BsConfirm, BsPrompt, BsEditable, BsHelp, BsLogin, BsModalFooter, BsModalHeader, BsModal, BsOverrideUser, enModal, frModal, deModal */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _bootstrap_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bootstrap/index */ "UusF");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsModalModule", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_0__["BsModalModule"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsConfirm", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_0__["BsConfirm"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsPrompt", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_0__["BsPrompt"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsEditable", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_0__["BsEditable"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsHelp", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_0__["BsHelp"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsLogin", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_0__["BsLogin"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsModalFooter", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_0__["BsModalFooter"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsModalHeader", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_0__["BsModalHeader"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsModal", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_0__["BsModal"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsOverrideUser", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_0__["BsOverrideUser"]; });

/* harmony import */ var _messages_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./messages/index */ "2GHw");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "enModal", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_1__["enModal"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "frModal", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_1__["frModal"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "deModal", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_1__["deModal"]; });





/***/ }),

/***/ "p21l":
/*!******************************************!*\
  !*** ../components/facet/messages/fr.ts ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    "facet": {
        "showFacetTextView": "Afficher le texte",
        "showFacetChartView": "Afficher le graphique",
        "itemExclude": "Exclure",
        "applyFilters": "{selections, plural, one {Appliquer le filtre} other {Appliquer les filtres}}",
        "clearFilters": "{selected, plural, one {Effacer le filtre} other {Effacer les filtres}}",
        "loadMore": "Charger plus",
        "showMore": "Afficher plus",
        "showLess": "Afficher moins",
        "displayed": "Affiché",
        "removeAll": "Supprimer tout",
        "searchPlaceholder": "Rechercher...",
        "itemSelect": "Sélectionner cette valeur",
        "itemUnselect": "Désélectionner cette valeur",
        "filterItem": "Garder les documents qui contiennent {terme}",
        "filterItems": "Garder les documents qui contiennent n'importe lequel de ces termes",
        "filterItemsAnd": "Garder les documents qui contiennent tous ces termes",
        "excludeItems": "Exclure les documents contenant un de ces termes",
        "clearSelects": "Enlever les filtres",
        "searchItems": "Rechercher une valeur dans cette liste",
        "searchNoResult": "Pas de résultat",
        "openItem": "Ouvrir",
        "closeItem": "Refermer",
        "authors": {
            "title": "Auteurs"
        },
        "concepts": {
            "title": "Concepts"
        },
        "company": {
            "title": "Sociétés"
        },
        "docformat": {
            "title": "Formats"
        },
        "doctype": {
            "title": "Types de document"
        },
        "documentlanguages": {
            "title": "Langues"
        },
        "fileext": {
            "title": "Extensions de fichiers"
        },
        "filename": {
            "title": "Noms de fichiers"
        },
        "geo": {
            "title": "Lieux"
        },
        "matchingpartnames": {
            "title": "Partnames"
        },
        "modified": {
            "title": "Dates"
        },
        "person": {
            "title": "Personnes"
        },
        "refine": {
            "title": "Affiner la recherche",
            "input": {
                "label": "Affiner",
                "buttonTitle": "Affiner",
                "placeholder": "Affiner par ..."
            }
        },
        "size": {
            "title": "Tailles"
        },
        "tagcloud": {
            "title": "Nuage de mots"
        },
        "title": {
            "title": "Titres"
        },
        "treepath": {
            "title": "Sources"
        },
        "recentQueries": {
            "title": "Requêtes récentes"
        },
        "recentQueriesPublic": {
            "title": "Requêtes publiques récentes"
        },
        "mySearch": {
            "title": "Ma recherche",
            "itemRemove": "Supprimer"
        },
        "search": {
            "label": "Rechercher",
            "buttonTitle": "Rechercher",
            "placeholder": "Rechercher ...",
            "showSearchForm": "Afficher le formulaire de recherche",
            "hideSearchForm": "Masquer le formulaire de recherche"
        },
        "range": {
            "year": "{date, date, sqYear}",
            "monthYear": "{date, date, sqMonthYear}",
            "weekYear": "s{week, number, sqWeek} {weekYear, number, sqYear}",
            "apply": "Appliquer",
            "clear": "Effacer",
            "unavailable": "Aucune plage disponible"
        },
        "filters": {
            "add": "Ajouter la facette",
            "addAll": "Ajouter toutes les facettes",
            "remove": "Retirer la facette",
            "removeAll": "Retirer toutes les facettes",
            "clear": "Réinitialiser",
            "moreFilters": "",
            "showFilters": "Montrer les filtres",
            "hideFilters": "Cacher les filtres",
            "back": "Retour aux filtres",
            "selectedFilters": "Ce filtre est utilisé dans la recherche actuelle",
            "customizeFacets": "Sélectionnez les facettes à montrer ou cacher"
        },
        "selectedValue": "Cette valeur est sélectionnée dans la recherche actuelle",
        "previous": "Précédent",
        "next": "Suivant",
        "filterItemCountTooltip": "{count} valeurs possibles pour ce filtre",
    },
    "facetCard": {
        "expand": "Déplier",
        "collapse": "Replier",
        "enlarge": "Agrandir",
        "reduce": "Réduire",
        "openSettings": "Ouvrir les paramètres",
        "saveSettings": "Enregistrer les paramètres"
    }
});


/***/ }),

/***/ "p62I":
/*!******************************************!*\
  !*** ../components/action/public-api.ts ***!
  \******************************************/
/*! exports provided: IAction, Action, BsActionButtons, BsActionItem, BsActionItemContent, BsActionMenu, BsDropdownMenu, BsDropdownDirective, gClassName, gSelector, gAttachmentMap, BsDropdownService, BsActionModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _action__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./action */ "BDLZ");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "IAction", function() { return _action__WEBPACK_IMPORTED_MODULE_0__["IAction"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Action", function() { return _action__WEBPACK_IMPORTED_MODULE_0__["Action"]; });

/* harmony import */ var _bootstrap_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./bootstrap/index */ "i3IL");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsActionButtons", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_1__["BsActionButtons"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsActionItem", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_1__["BsActionItem"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsActionItemContent", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_1__["BsActionItemContent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsActionMenu", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_1__["BsActionMenu"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsDropdownMenu", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_1__["BsDropdownMenu"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsDropdownDirective", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_1__["BsDropdownDirective"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "gClassName", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_1__["gClassName"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "gSelector", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_1__["gSelector"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "gAttachmentMap", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_1__["gAttachmentMap"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsDropdownService", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_1__["BsDropdownService"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsActionModule", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_1__["BsActionModule"]; });





/***/ }),

/***/ "p6KM":
/*!*************************************************************************************!*\
  !*** ../components/advanced/bootstrap/advanced-form-select/advanced-form-select.ts ***!
  \*************************************************************************************/
/*! exports provided: BsAdvancedFormSelect */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsAdvancedFormSelect", function() { return BsAdvancedFormSelect; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/app-utils */ "SBPP");
/* harmony import */ var _sinequa_components_search__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/components/search */ "7+c1");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/forms */ "nIj0");
/* harmony import */ var _select_select__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./select/select */ "TBux");
/* harmony import */ var _advanced_form_validation_directive__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../advanced-form-validation.directive */ "TyST");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/intl/message.pipe */ "X1Kh");









class BsAdvancedFormSelect {
    constructor(appService, firstPageService) {
        this.appService = appService;
        this.firstPageService = firstPageService;
    }
    ngOnInit() {
        const control = this.form.get(this.field);
        if (!control) {
            throw new Error("No control in search-form named " + this.field);
        }
        this.column = this.appService.getColumn(this.field);
        this.items = this.getItems();
        if (this.label === undefined) {
            if (this.multiple) {
                this.label = this.appService.getPluralLabel(this.field);
            }
            else {
                this.label = this.appService.getLabel(this.field);
            }
        }
    }
    ngOnDestroy() {
        if (this._valueChangesSubscription) {
            this._valueChangesSubscription.unsubscribe();
        }
    }
    getItems() {
        const firstPage = this.firstPageService.firstPage;
        if (firstPage) {
            // Find aggregation for field
            const condition = (this.aggregation) ?
                (aggr) => _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].eqNC(aggr.name, this.aggregation) :
                (aggr) => this.column && _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].eqNC(aggr.column, this.column.name);
            const aggregation = firstPage.aggregations.find(condition);
            if (aggregation && aggregation.items) {
                return aggregation.items
                    .filter((item) => !_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].isArray(item.value) && !!item.value)
                    .map((item) => ({
                    value: item.value,
                    display: item.display ? item.display : item.value.toString()
                }));
            }
        }
        return [];
    }
}
BsAdvancedFormSelect.ɵfac = function BsAdvancedFormSelect_Factory(t) { return new (t || BsAdvancedFormSelect)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_2__["AppService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_search__WEBPACK_IMPORTED_MODULE_3__["FirstPageService"])); };
BsAdvancedFormSelect.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsAdvancedFormSelect, selectors: [["sq-advanced-form-select"]], inputs: { form: "form", field: "field", label: "label", multiple: "multiple", aggregation: "aggregation" }, decls: 5, vars: 11, consts: [[1, "form-group", 3, "formGroup"], [3, "for"], ["sqAdvancedFormValidation", "", 3, "items", "multiple", "formControlName", "id", "field", "validationForm"]], template: function BsAdvancedFormSelect_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "label", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](3, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](4, "sq-select", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("for", ctx.field);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](3, 9, ctx.label));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("items", ctx.items)("multiple", ctx.multiple)("formControlName", ctx.field)("id", ctx.field)("field", ctx.field)("validationForm", ctx.form);
    } }, directives: [_angular_forms__WEBPACK_IMPORTED_MODULE_4__["NgControlStatusGroup"], _angular_forms__WEBPACK_IMPORTED_MODULE_4__["FormGroupDirective"], _select_select__WEBPACK_IMPORTED_MODULE_5__["BsSelectComponent"], _advanced_form_validation_directive__WEBPACK_IMPORTED_MODULE_6__["BsAdvancedFormValidation"], _angular_forms__WEBPACK_IMPORTED_MODULE_4__["NgControlStatus"], _angular_forms__WEBPACK_IMPORTED_MODULE_4__["FormControlName"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_7__["MessagePipe"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsAdvancedFormSelect, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-advanced-form-select",
                templateUrl: "./advanced-form-select.html",
            }]
    }], function () { return [{ type: _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_2__["AppService"] }, { type: _sinequa_components_search__WEBPACK_IMPORTED_MODULE_3__["FirstPageService"] }]; }, { form: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], field: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], label: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], multiple: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], aggregation: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "pCk5":
/*!*************************************************!*\
  !*** ../components/notification/messages/en.ts ***!
  \*************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    "notification": {
        "title": "Notifications",
        "showNotifications": "Show notifications",
        "hideNotifications": "Hide notifications",
        "clearNotifications": "Clear notifications",
    }
});


/***/ }),

/***/ "pJ5V":
/*!********************************************************************************************!*\
  !*** ../components/preview/bootstrap/preview-pages-panel/preview-pages-panel.component.ts ***!
  \********************************************************************************************/
/*! exports provided: BsPreviewPagesPanelComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsPreviewPagesPanelComponent", function() { return BsPreviewPagesPanelComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _preview_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../preview.service */ "lGAU");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _preview_extracts_panel_preview_extracts_panel_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../preview-extracts-panel/preview-extracts-panel.component */ "STs+");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/intl/message.pipe */ "X1Kh");






const _c0 = ["currentPageEl"];
function BsPreviewPagesPanelComponent_div_0_a_1_div_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "div", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
const _c1 = function () { return { page: 1 }; };
const _c2 = function (a0) { return { values: a0 }; };
function BsPreviewPagesPanelComponent_div_0_a_1_Template(rf, ctx) { if (rf & 1) {
    const _r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "a", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsPreviewPagesPanelComponent_div_0_a_1_Template_a_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r5); const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r4.selectPage(1); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "span", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](4, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](5, BsPreviewPagesPanelComponent_div_0_a_1_div_5_Template, 2, 0, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](4, 2, "msg#preview.page", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](6, _c2, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction0"](5, _c1))));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r1._pendingPage === 1);
} }
function BsPreviewPagesPanelComponent_div_0_ng_container_2_a_1_p_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "p", 12);
} if (rf & 2) {
    const page_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2).$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("innerHTML", page_r6.relevantExtracts, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeHtml"]);
} }
function BsPreviewPagesPanelComponent_div_0_ng_container_2_a_1_div_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "div", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
const _c3 = function (a0) { return { page: a0 }; };
function BsPreviewPagesPanelComponent_div_0_ng_container_2_a_1_Template(rf, ctx) { if (rf & 1) {
    const _r14 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "a", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsPreviewPagesPanelComponent_div_0_ng_container_2_a_1_Template_a_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r14); const page_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit; const ctx_r12 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r12.selectPage(page_r6.$page); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "span", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](4, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](5, BsPreviewPagesPanelComponent_div_0_ng_container_2_a_1_p_5_Template, 1, 1, "p", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](6, BsPreviewPagesPanelComponent_div_0_ng_container_2_a_1_div_6_Template, 2, 0, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const page_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](4, 3, "msg#preview.page", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](8, _c2, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](6, _c3, page_r6.$page))));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r7._pendingPage !== page_r6.$page);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r7._pendingPage === page_r6.$page);
} }
function BsPreviewPagesPanelComponent_div_0_ng_container_2_ng_container_2_a_1_div_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "div", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function BsPreviewPagesPanelComponent_div_0_ng_container_2_ng_container_2_a_1_Template(rf, ctx) { if (rf & 1) {
    const _r22 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "a", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsPreviewPagesPanelComponent_div_0_ng_container_2_ng_container_2_a_1_Template_a_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r22); const ctx_r21 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](4); return ctx_r21.selectPrevious(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "span", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](4, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](5, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](6, BsPreviewPagesPanelComponent_div_0_ng_container_2_ng_container_2_a_1_div_6_Template, 2, 0, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r16 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate2"]("", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](4, 3, "msg#preview.page", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](10, _c2, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](8, _c3, ctx_r16.currentPage - 1))), " (", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](5, 6, "msg#preview.previousDocument"), ")");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r16._pendingPage === ctx_r16.currentPage - 1);
} }
function BsPreviewPagesPanelComponent_div_0_ng_container_2_ng_container_2_sq_preview_extracts_panel_9_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "sq-preview-extracts-panel", 18);
} if (rf & 2) {
    const ctx_r18 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵstyleMap"](ctx_r18.style);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("previewData", ctx_r18.previewData)("previewDocument", ctx_r18.previewDocument);
} }
function BsPreviewPagesPanelComponent_div_0_ng_container_2_ng_container_2_a_10_div_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "div", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} }
function BsPreviewPagesPanelComponent_div_0_ng_container_2_ng_container_2_a_10_Template(rf, ctx) { if (rf & 1) {
    const _r25 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "a", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsPreviewPagesPanelComponent_div_0_ng_container_2_ng_container_2_a_10_Template_a_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r25); const ctx_r24 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](4); return ctx_r24.selectNext(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "span", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](4, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](5, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](6, BsPreviewPagesPanelComponent_div_0_ng_container_2_ng_container_2_a_10_div_6_Template, 2, 0, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r19 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate2"]("", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](4, 3, "msg#preview.page", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](10, _c2, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](8, _c3, ctx_r19.currentPage + 1))), " (", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](5, 6, "msg#preview.nextDocument"), ")");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r19._pendingPage === ctx_r19.currentPage + 1);
} }
function BsPreviewPagesPanelComponent_div_0_ng_container_2_ng_container_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsPreviewPagesPanelComponent_div_0_ng_container_2_ng_container_2_a_1_Template, 7, 12, "a", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 13, 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "div", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "span", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](7, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](8, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](9, BsPreviewPagesPanelComponent_div_0_ng_container_2_ng_container_2_sq_preview_extracts_panel_9_Template, 1, 4, "sq-preview-extracts-panel", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](10, BsPreviewPagesPanelComponent_div_0_ng_container_2_ng_container_2_a_10_Template, 7, 12, "a", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx_r8.hasPrevious);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate2"]("", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](7, 5, "msg#preview.page", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](12, _c2, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](10, _c3, ctx_r8.currentPage))), " (", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](8, 8, "msg#preview.current"), ")");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx_r8._pendingPreviewDocument);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx_r8.hasNext);
} }
function BsPreviewPagesPanelComponent_div_0_ng_container_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsPreviewPagesPanelComponent_div_0_ng_container_2_a_1_Template, 7, 10, "a", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, BsPreviewPagesPanelComponent_div_0_ng_container_2_ng_container_2_Template, 11, 14, "ng-container", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const page_r6 = ctx.$implicit;
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r2.currentPage !== page_r6.$page);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r2.currentPage === page_r6.$page);
} }
function BsPreviewPagesPanelComponent_div_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsPreviewPagesPanelComponent_div_0_a_1_Template, 6, 8, "a", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, BsPreviewPagesPanelComponent_div_0_ng_container_2_Template, 3, 2, "ng-container", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx_r0.hasFirst);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx_r0.sortedPages);
} }
class BsPreviewPagesPanelComponent {
    constructor(previewService) {
        this.previewService = previewService;
        this.style = "light";
        this.gotopage = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this._pendingPreviewDocument = true;
        this._pendingPages = true;
    }
    ngOnChanges(changes) {
        // PreviewData should change first, which triggers the new previewDocument and pages
        if (changes["previewData"]) {
            this._pendingPreviewDocument = true;
            this._pendingPages = true;
        }
        if (changes["previewDocument"]) {
            this._pendingPreviewDocument = false;
        }
        if (changes["pages"]) {
            this._pendingPages = false;
        }
        // ngOnChanges is called multiple times due to async updates of the Inputs()
        // The _pending variables let us wait for all these inputs to come in before apply the changes
        if (!this._pendingPreviewDocument && !this._pendingPages) {
            this._pendingPage = undefined;
            if (this.previewData) {
                this.currentPage = this.previewData.record.$page;
                this.containerid = this.previewData.record.containerid;
            }
            if (this.pages && this.currentPage && this.containerid) {
                this.sortedPages = this.pages.records;
                // Parse the page number from each record id
                this.sortedPages.forEach(record => {
                    this.previewService.getPageNumber(record);
                    if (!record.$page) {
                        throw new Error("Record is not page... " + record.id);
                    }
                });
                // Insert current page if missing (possible when navigating to previous/next page)
                if (!this.sortedPages.find(page => page.$page === this.currentPage)) {
                    this.sortedPages.push(this.previewData.record);
                }
                // Sort the pages
                this.sortedPages.sort((a, b) => a.$page - b.$page);
                // Update current page neighbours
                this.hasFirst = !!this.sortedPages.find(page => page.$page === 1 || this.currentPage === 2); // include 2nd page, because is covered by the previous page below
                this.hasPrevious = this.currentPage === 1 || !!this.sortedPages.find(page => page.$page === this.currentPage - 1);
                this.hasNext = !!this.sortedPages.find(page => page.$page === this.currentPage + 1);
            }
            // SetTimeout is needed to scroll only after the DOM changes
            setTimeout(() => {
                var _a, _b;
                (_b = (_a = this.currentPageEl) === null || _a === void 0 ? void 0 : _a.first) === null || _b === void 0 ? void 0 : _b.nativeElement.scrollIntoView({ behaviour: "smooth", block: "start" });
            });
        }
    }
    selectPage(page) {
        this.gotopage.next(page);
        this._pendingPage = page;
        return false;
    }
    selectPrevious() {
        return this.selectPage(this.currentPage - 1);
    }
    selectNext() {
        return this.selectPage(this.currentPage + 1);
    }
}
BsPreviewPagesPanelComponent.ɵfac = function BsPreviewPagesPanelComponent_Factory(t) { return new (t || BsPreviewPagesPanelComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_preview_service__WEBPACK_IMPORTED_MODULE_1__["PreviewService"])); };
BsPreviewPagesPanelComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsPreviewPagesPanelComponent, selectors: [["sq-preview-pages-panel"]], viewQuery: function BsPreviewPagesPanelComponent_Query(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵviewQuery"](_c0, true, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"]);
    } if (rf & 2) {
        let _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.currentPageEl = _t);
    } }, inputs: { pages: "pages", previewData: "previewData", previewDocument: "previewDocument", style: "style" }, outputs: { gotopage: "gotopage" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 1, vars: 1, consts: [["class", "list-group", 4, "ngIf"], [1, "list-group"], ["href", "#", "class", "card my-1 list-group-item-action", 3, "click", 4, "ngIf"], [4, "ngFor", "ngForOf"], ["href", "#", 1, "card", "my-1", "list-group-item-action", 3, "click"], [1, "card-body"], [1, "small", "text-muted"], ["class", "text-center my-3", 4, "ngIf"], [1, "text-center", "my-3"], ["role", "status", 1, "spinner-grow"], [4, "ngIf"], [3, "innerHTML", 4, "ngIf"], [3, "innerHTML"], [1, "card", "my-1"], ["currentPageEl", ""], [1, "card-body", "m-0"], [1, "small", "font-weight-bold", "mb-1"], ["class", "d-flex flex-column", "style", "height: 300px;", 3, "previewData", "previewDocument", "style", 4, "ngIf"], [1, "d-flex", "flex-column", 2, "height", "300px", 3, "previewData", "previewDocument"]], template: function BsPreviewPagesPanelComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, BsPreviewPagesPanelComponent_div_0_Template, 3, 2, "div", 0);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.sortedPages);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_2__["NgIf"], _angular_common__WEBPACK_IMPORTED_MODULE_2__["NgForOf"], _preview_extracts_panel_preview_extracts_panel_component__WEBPACK_IMPORTED_MODULE_3__["BsPreviewExtractsPanelComponent"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_4__["MessagePipe"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsPreviewPagesPanelComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'sq-preview-pages-panel',
                templateUrl: './preview-pages-panel.component.html'
            }]
    }], function () { return [{ type: _preview_service__WEBPACK_IMPORTED_MODULE_1__["PreviewService"] }]; }, { pages: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], previewData: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], previewDocument: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], style: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], gotopage: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }], currentPageEl: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChildren"],
            args: ['currentPageEl', { read: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"] }]
        }] }); })();


/***/ }),

/***/ "pXWE":
/*!******************************************!*\
  !*** ../core/login/login.interceptor.ts ***!
  \******************************************/
/*! exports provided: HTTP_REQUEST_INITIALIZERS, LoginInterceptor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HTTP_REQUEST_INITIALIZERS", function() { return HTTP_REQUEST_INITIALIZERS; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LoginInterceptor", function() { return LoginInterceptor; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "vobO");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "+kfY");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs/operators */ "0Wlh");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sinequa/core/web-services */ "cIYa");
/* harmony import */ var _sinequa_core_notification__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @sinequa/core/notification */ "mkLw");
/* harmony import */ var _login_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./login.service */ "Kghj");
/* harmony import */ var _authentication_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./authentication.service */ "mE1E");










const HTTP_REQUEST_INITIALIZERS = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["InjectionToken"]("HTTP_REQUEST_INITIALIZERS");
/**
 * An `HttpInterceptor` to handle `HTTP 401 unauthorized` error responses by calling
 * [LoginService.getCredentials]{@link LoginService#getCredentials}. It also handles
 * the `sinequa-jwt-refresh` header set when auto refreshing of JWT is configured in
 * the Sinequa administration console.
 */
class LoginInterceptor {
    constructor(startConfig, requestInitializers, notificationsService, loginService, authService) {
        this.startConfig = startConfig;
        this.requestInitializers = requestInitializers;
        this.notificationsService = notificationsService;
        this.loginService = loginService;
        this.authService = authService;
    }
    processRequestInitializers(request) {
        if (this.requestInitializers) {
            for (const requestInitializer of this.requestInitializers) {
                if (!requestInitializer(request)) {
                    break;
                }
            }
        }
    }
    isJsonable(obj) {
        return (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__["Utils"].isObject(obj) || _sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__["Utils"].isArray(obj)) && !_sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__["Utils"].isArrayBuffer(obj) && !_sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__["Utils"].isBlob(obj) &&
            !_sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__["Utils"].isString(obj) && !(obj instanceof _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpParams"]);
    }
    shouldIntercept(url) {
        return _sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__["Utils"].startsWith(url, this.startConfig.apiPath);
    }
    notifyError(error) {
        let message;
        const title = "msg#error.serverError";
        if (error instanceof _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpErrorResponse"]) {
            const response = error;
            try {
                let data = response.error;
                if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__["Utils"].isString(data)) {
                    try {
                        data = JSON.parse(data);
                    }
                    catch (exception) {
                    }
                }
                if (data && data.errorMessage) {
                    message = data.errorMessage;
                    if (data.errorCodeText) {
                        message = `${message} (${data.errorCodeText})`;
                    }
                    else if (data.errorCode) {
                        message = `${message} (${data.errorCode})`;
                    }
                }
            }
            catch (exception) {
            }
            if (!message) {
                if (response.status === 200) {
                    message = "msg#error.responseLoadFailure";
                }
                else if (response.statusText) {
                    message = `${response.statusText} (${response.status})`;
                }
                else {
                    message = `HTTP error: ${response.status}`;
                }
            }
        }
        else if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__["SqError"].is(error)) {
            message = error.message;
        }
        else {
            message = (error + "") || "msg#error.unknownError";
        }
        this.notificationsService.error(message, undefined, title);
    }
    getCredentials(response, acceptCurrent) {
        return this.loginService.getCredentials(response, acceptCurrent)
            .catch((error) => {
            if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__["SqError"].is(error, _sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__["SqErrorCode"].processedCredentialsError)) {
                return this.getCredentials(response, acceptCurrent);
            }
            throw error;
        });
    }
    /**
     * Handles `HTTP 401 unauthorized errors responses by calling
     * [LoginService.getCredentials]{@link LoginService#getCredentials}. It also handles auto
     * refreshing of JWT by processing the `sinequa-jwt-refresh` header. The JWT cookie itself
     * is updated by a `Set-Cookie` header in the response. There are a number of flags that
     * can be set in the request parameters which will be removed before the request is actually
     * sent:
     * * `noAutoAuthentication` - set to bypass the `HTTP 401` handling
     * * `noUserOverride` - set to not add the current user override to the request
     * * `noNotify` - set to not notify errors using the {@link NotificationService}
     *
     * @param request The intercepted request
     * @param next The next interceptor in the chain
     */
    intercept(request, next) {
        if (!this.shouldIntercept(request.url) || request.params.has("noIntercept")) {
            return next.handle(request);
        }
        let config = { headers: request.headers, params: request.params };
        const options = {
            noAutoAuthentication: _sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__["Utils"].isTrue(config.params.get("noAutoAuthentication")) || false,
            noUserOverride: _sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__["Utils"].isTrue(config.params.get("noUserOverride")) || false,
            hadCredentials: this.authService.haveCredentials,
            userOverrideActive: false
        };
        const noNotify = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__["Utils"].isTrue(config.params.get("noNotify")) || false;
        config.params = config.params.delete("noAutoAuthentication");
        config.params = config.params.delete("noUserOverride");
        config.params = config.params.delete("noNotify");
        config = this.authService.addAuthentication(config);
        if (this.authService.userOverrideActive && !options.noUserOverride) {
            options.userOverrideActive = true;
            config.headers = this.authService.addUserOverride(config);
        }
        config.headers = config.headers.set("sinequa-force-camel-case", "true");
        if (this.isJsonable(request.body)) {
            this.processRequestInitializers(request);
        }
        this.notificationsService.enter("network");
        const _request = request.clone({
            headers: config.headers,
            params: config.params,
            body: request.body,
            withCredentials: true
        });
        return next.handle(_request).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])((error, caught) => {
            this.notificationsService.leave("network");
            if (error instanceof _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpErrorResponse"]) {
                switch (error.status) {
                    case 401: {
                        return this.handle401Error(error, _request, next, options, caught);
                    }
                }
            }
            if (!noNotify) {
                this.notifyError(error);
            }
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["throwError"])(error);
        }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["map"])((event) => {
            if (event instanceof _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpResponse"]) {
                this.notificationsService.leave("network");
                this.authService.updateAuthentication(event);
            }
            return event;
        }));
    }
    handle401Error(err, req, next, options, caught) {
        if (!options.noAutoAuthentication) {
            if (options.userOverrideActive) {
                if (this.authService.userOverrideActive) {
                    this.authService.deactivateUserOverride();
                    this.authService.userOverrideFailed = true;
                    this.notificationsService.error("msg#error.userOverrideFailure");
                }
                return Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["throwError"])(err);
            }
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["from"])(this.getCredentials(err, !options.hadCredentials))
                .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["switchMap"])(value => {
                const { headers } = this.authService.addAuthentication(req);
                return next.handle(req.clone({ headers }));
            }), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_3__["catchError"])(err => 
            // in case of an Http error, 'caught' must be returned to be catched by the interceptor
            err instanceof _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpErrorResponse"] ? caught : Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["throwError"])(err)));
        }
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_2__["throwError"])(err);
    }
}
LoginInterceptor.ɵfac = function LoginInterceptor_Factory(t) { return new (t || LoginInterceptor)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_5__["START_CONFIG"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](HTTP_REQUEST_INITIALIZERS, 8), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_notification__WEBPACK_IMPORTED_MODULE_6__["NotificationsService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_login_service__WEBPACK_IMPORTED_MODULE_7__["LoginService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_authentication_service__WEBPACK_IMPORTED_MODULE_8__["AuthenticationService"])); };
LoginInterceptor.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: LoginInterceptor, factory: LoginInterceptor.ɵfac, providedIn: "root" });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](LoginInterceptor, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: "root"
            }]
    }], function () { return [{ type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_5__["START_CONFIG"]]
            }] }, { type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Optional"]
            }, {
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [HTTP_REQUEST_INITIALIZERS]
            }] }, { type: _sinequa_core_notification__WEBPACK_IMPORTED_MODULE_6__["NotificationsService"] }, { type: _login_service__WEBPACK_IMPORTED_MODULE_7__["LoginService"] }, { type: _authentication_service__WEBPACK_IMPORTED_MODULE_8__["AuthenticationService"] }]; }, null); })();


/***/ }),

/***/ "pdbw":
/*!*********************************************!*\
  !*** ../core/app-utils/module.providers.ts ***!
  \*********************************************/
/*! exports provided: APP_UTILS_MODULE_PROVIDERS */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "APP_UTILS_MODULE_PROVIDERS", function() { return APP_UTILS_MODULE_PROVIDERS; });
const APP_UTILS_MODULE_PROVIDERS = [];



/***/ }),

/***/ "pj29":
/*!*******************************************!*\
  !*** ../components/search/messages/de.ts ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    "search": {
        "emptySearchNotification": "Bitte geben Sie einige Suchbegriffe ein, um eine Suche durchzuführen",
        "alreadyFiltered": "bereits ausgewählt"
    },
    "breadcrumbs": {
        "emptySearch": "<Suche ohne Suchbegriff>",
        "itemRemove": "Entfernen"
    },
    "didYouMean": {
        "dymonlyBeforeCorrected": "Meinten Sie: ",
        "dymonlyAfterCorrected": "?",
        "correctBeforeCorrected": "Zeige Ergebnisse für [",
        "correctBeforeOriginal": "]. Zeige stattdessen Ergebnisse für [",
        "correctAfterOriginal": "]",
        "smartBeforeOriginal": "Zeige Ergebnisse für [",
        "smartBeforeCorrected": "] und [",
        "smartAfterCorrected": "]"
    },
    "pageSizeSelector": {
        "pageSizeChoice": "{size, number} pro Seite",
        "defaultPageSize": "Standard ({size, number})",
        "defaultPageSizeChoice": "{size, number} pro Seite (standard)"
    },
    "pager": {
        "pageNumberTitle": "Seite {page, number}",
        "firstPage": "Erste Seite",
        "nextPage": "Nächste Seite",
        "previousPage": "Vorherige Seite",
        "lastPage": "Letzte Seite"
    },
    "sortSelector": {
        "sortByTitle": "Sortieren nach: {text}",
        "sortOther": "<Andere>"
    },
    "sort": {
        "relevance": "Relevanz",
        "date": "Datum",
        "filename": "Dateiname",
        "title": "Titel"
    },
    "queryIntent": {
        "externalServiceTimeoutError": "Diese Ergebnisseite ist aufgrund eines internen Zeitlimits unvollständig. Bitte versuchen Sie es später noch einmal."
    }
});


/***/ }),

/***/ "pmz6":
/*!*******************************************************************!*\
  !*** ../components/labels/bootstrap/rename-label/rename-label.ts ***!
  \*******************************************************************/
/*! exports provided: BsRenameLabel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsRenameLabel", function() { return BsRenameLabel; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ "nIj0");
/* harmony import */ var _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/modal */ "vMGo");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _labels_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../labels.service */ "OpW8");
/* harmony import */ var _modal_bootstrap_modal_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../modal/bootstrap/modal.component */ "oSLy");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _labels_autocomplete_labels_autocomplete_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../labels-autocomplete/labels-autocomplete.component */ "o8/e");
/* harmony import */ var _core_validation_validation_directive__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/validation/validation.directive */ "FRsM");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/intl/message.pipe */ "X1Kh");













const _c0 = function (a0, a1) { return { "disabled": a0, "clickable": a1 }; };
function BsRenameLabel_div_7_Template(rf, ctx) { if (rf & 1) {
    const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "input", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsRenameLabel_div_7_Template_input_click_1_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r3); const item_r1 = ctx.$implicit; const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r2.updateLabelsNature(item_r1.value); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "label", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](4, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const item_r1 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("id", item_r1.id);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("value", item_r1.value);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("checked", item_r1.checked)("disabled", item_r1.disabled)("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction2"](9, _c0, item_r1.disabled, !item_r1.disabled));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("for", item_r1.id);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](4, 7, item_r1.name));
} }
class BsRenameLabel {
    constructor(model, formBuilder, labelsService, changeDetectorRef, modalRef) {
        this.model = model;
        this.formBuilder = formBuilder;
        this.labelsService = labelsService;
        this.changeDetectorRef = changeDetectorRef;
        this.modalRef = modalRef;
        this.isProcessing = false;
    }
    ngOnInit() {
        this.labelControl = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"](this.model.newValue, _angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required);
        this.form = this.formBuilder.group({
            label: this.labelControl,
        });
        this.formChanges = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].subscribe(this.form.valueChanges, () => {
            this.model.newValue = this.labelControl.value;
        });
        this.buttons = [
            new _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_2__["ModalButton"]({
                text: "msg#renameLabel.btnRename",
                primary: true,
                validation: this.form,
                result: 0 /* Custom */,
                anchor: true,
                action: () => {
                    const observable = this.labelsService.renameLabels(this.model.oldValues, this.model.newValue, this.model.properties.public);
                    if (observable) {
                        this.isProcessing = true;
                        this.changeDetectorRef.markForCheck();
                        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].subscribe(observable, () => { }, (error) => {
                            this.modalRef.close(error);
                        }, () => {
                            this.isProcessing = false;
                            this.modalRef.close(-1 /* OK */);
                        });
                    }
                },
            }),
            new _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_2__["ModalButton"]({
                result: -2 /* Cancel */,
            }),
        ];
    }
    ngOnDestroy() {
        this.formChanges.unsubscribe();
    }
    updateLabelsNature(nature) {
        this.model.properties.public = nature;
    }
    onLabelsChanged(values) {
        this.model.oldValues = values;
    }
}
BsRenameLabel.ɵfac = function BsRenameLabel_Factory(t) { return new (t || BsRenameLabel)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_modal__WEBPACK_IMPORTED_MODULE_2__["MODAL_MODEL"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormBuilder"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_labels_service__WEBPACK_IMPORTED_MODULE_4__["LabelsService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_modal__WEBPACK_IMPORTED_MODULE_2__["ModalRef"])); };
BsRenameLabel.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsRenameLabel, selectors: [["sq-rename-label"]], decls: 19, vars: 22, consts: [["name", "renameLabel", "novalidate", "", 3, "formGroup"], [3, "title", "buttons", "isProcessingState"], [1, "form-group", "sq-form-group"], ["role", "alert", 1, "alert", "alert-danger"], ["class", "custom-control custom-radio custom-control-inline", 4, "ngFor", "ngForOf"], ["for", "label"], [3, "public", "disableAutocomplete", "allowNewLabels", "allowManagePublicLabels", "labelsUpdate"], ["type", "text", "id", "label", "formControlName", "label", "autocomplete", "off", "spellcheck", "off", 1, "form-control", 3, "sqValidation", "placeholder"], [1, "custom-control", "custom-radio", "custom-control-inline"], ["type", "radio", "name", "nature", 1, "custom-control-input", 3, "id", "value", "checked", "disabled", "ngClass", "click"], [1, "custom-control-label", 3, "for"]], template: function BsRenameLabel_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "form", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "sq-modal", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](5, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "section");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](7, BsRenameLabel_div_7_Template, 5, 12, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "b");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](9, "label", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](10);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](11, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](12, "sq-labels-autocomplete", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("labelsUpdate", function BsRenameLabel_Template_sq_labels_autocomplete_labelsUpdate_12_listener($event) { return ctx.onLabelsChanged($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](13, "b");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](14, "label", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](15);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](16, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](17, "input", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](18, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("title", "msg#renameLabel.title")("buttons", ctx.buttons)("isProcessingState", ctx.isProcessing);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](5, 14, "msg#renameLabel.alertText"), " ");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.model.properties.radioButtons);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](11, 16, "msg#renameLabel.oldLabels"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("public", ctx.model.properties.public)("disableAutocomplete", ctx.model.properties.disableAutocomplete)("allowNewLabels", ctx.model.properties.allowNewLabels)("allowManagePublicLabels", ctx.model.properties.allowManagePublicLabels);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](16, 18, "msg#renameLabel.newLabel"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("placeholder", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](18, 20, "msg#renameLabel.newLabel"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("sqValidation", ctx.form);
    } }, directives: [_angular_forms__WEBPACK_IMPORTED_MODULE_1__["ɵangular_packages_forms_forms_y"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["NgControlStatusGroup"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormGroupDirective"], _modal_bootstrap_modal_component__WEBPACK_IMPORTED_MODULE_5__["BsModal"], _angular_common__WEBPACK_IMPORTED_MODULE_6__["NgForOf"], _labels_autocomplete_labels_autocomplete_component__WEBPACK_IMPORTED_MODULE_7__["BsLabelsAutocompleteComponent"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["DefaultValueAccessor"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["NgControlStatus"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControlName"], _core_validation_validation_directive__WEBPACK_IMPORTED_MODULE_8__["ValidationDirective"], _angular_common__WEBPACK_IMPORTED_MODULE_6__["NgClass"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_9__["MessagePipe"]], styles: [".clickable[_ngcontent-%COMP%] {\n                cursor: pointer;\n            }\n            .clickable[_ngcontent-%COMP%]:hover {\n                opacity: 85%;\n            }"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsRenameLabel, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-rename-label",
                templateUrl: "./rename-label.html",
                styles: [
                    `
            .clickable {
                cursor: pointer;
            }
            .clickable:hover {
                opacity: 85%;
            }
        `,
                ],
            }]
    }], function () { return [{ type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [_sinequa_core_modal__WEBPACK_IMPORTED_MODULE_2__["MODAL_MODEL"]]
            }] }, { type: _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormBuilder"] }, { type: _labels_service__WEBPACK_IMPORTED_MODULE_4__["LabelsService"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] }, { type: _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_2__["ModalRef"] }]; }, null); })();


/***/ }),

/***/ "q4Yp":
/*!*****************************************!*\
  !*** ../core/validation/messages/fr.ts ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    "validation": {
        "min": "La valeur doit être supérieure ou égale à {min}",
        "max": "La valeur ne peut pas être supérieure à {max}",
        "required": "Ce champ est obligatoire",
        "requiredTrue": "Ce champ doit être positionné",
        "email": "Une adresse e-mail valide est exigée",
        "minLength": "La valeur doit comporter au moins {requiredLength, plural, one {# caractère} autre que {# caractère}}",
        "maxLength": "La valeur ne peut comporter plus de {requiredLength, plural, one {# caractère} autre que {# caractères}}",
        "pattern": "La valeur est invalide",
        "unique": "Ce champ doit être unique",
        "integer": "La valeur doit être un entier",
        "number": "La valeur doit être un nombre",
        "date": "",
        "range": "La première valeur doit être inférieure ou égale à la seconde"
    }
});


/***/ }),

/***/ "q7JX":
/*!***********************************!*\
  !*** ../core/base/field-value.ts ***!
  \***********************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);



/***/ }),

/***/ "qCCP":
/*!***************************!*\
  !*** ../core/base/ref.ts ***!
  \***************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);



/***/ }),

/***/ "qE6L":
/*!***************************!*\
  !*** ./src/locales/en.ts ***!
  \***************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var d3_format_locale_en_US_json__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! d3-format/locale/en-US.json */ "/pwQ");
var d3_format_locale_en_US_json__WEBPACK_IMPORTED_MODULE_0___namespace = /*#__PURE__*/__webpack_require__.t(/*! d3-format/locale/en-US.json */ "/pwQ", 1);
/* harmony import */ var d3_time_format_locale_en_US_json__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! d3-time-format/locale/en-US.json */ "oG/D");
var d3_time_format_locale_en_US_json__WEBPACK_IMPORTED_MODULE_1___namespace = /*#__PURE__*/__webpack_require__.t(/*! d3-time-format/locale/en-US.json */ "oG/D", 1);
/* harmony import */ var _sinequa_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core */ "8UJf");
/* harmony import */ var _messages_en_json__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./messages/en.json */ "blba");
var _messages_en_json__WEBPACK_IMPORTED_MODULE_3___namespace = /*#__PURE__*/__webpack_require__.t(/*! ./messages/en.json */ "blba", 1);
/* harmony import */ var intl_locale_data_jsonp_en_US__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! intl/locale-data/jsonp/en-US */ "Lk7s");
/* harmony import */ var intl_locale_data_jsonp_en_US__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(intl_locale_data_jsonp_en_US__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @sinequa/components/utils */ "DD1E");
/* harmony import */ var _sinequa_components_advanced__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @sinequa/components/advanced */ "c96x");
/* harmony import */ var _sinequa_components_alerts__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @sinequa/components/alerts */ "wg+P");
/* harmony import */ var _sinequa_components_baskets__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @sinequa/components/baskets */ "jOUn");
/* harmony import */ var _sinequa_components_facet__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @sinequa/components/facet */ "vbgc");
/* harmony import */ var _sinequa_components_feedback__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @sinequa/components/feedback */ "+3Y0");
/* harmony import */ var _sinequa_analytics_heatmap__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @sinequa/analytics/heatmap */ "vvgm");
/* harmony import */ var _sinequa_components_labels__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @sinequa/components/labels */ "URQe");
/* harmony import */ var _sinequa_components_metadata__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @sinequa/components/metadata */ "l9Gu");
/* harmony import */ var _sinequa_components_notification__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @sinequa/components/notification */ "5e9m");
/* harmony import */ var _sinequa_components_preview__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @sinequa/components/preview */ "XNLR");
/* harmony import */ var _sinequa_components_result__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @sinequa/components/result */ "fMrC");
/* harmony import */ var _sinequa_components_results_view__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @sinequa/components/results-view */ "DYFJ");
/* harmony import */ var _sinequa_components_saved_queries__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @sinequa/components/saved-queries */ "vQnv");
/* harmony import */ var _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @sinequa/components/selection */ "8GPZ");
/* harmony import */ var _sinequa_components_search__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @sinequa/components/search */ "7+c1");
/* harmony import */ var _sinequa_components_status_bar__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @sinequa/components/status-bar */ "P4gH");
/* harmony import */ var _sinequa_components_user_settings__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @sinequa/components/user-settings */ "ooqV");




 // Safari



















const messages = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_5__["Utils"].merge({}, _sinequa_core__WEBPACK_IMPORTED_MODULE_2__["enCore"], _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_6__["enUtils"], _sinequa_components_advanced__WEBPACK_IMPORTED_MODULE_7__["enAdvanced"], _sinequa_components_alerts__WEBPACK_IMPORTED_MODULE_8__["enAlerts"], _sinequa_components_baskets__WEBPACK_IMPORTED_MODULE_9__["enBaskets"], _sinequa_components_facet__WEBPACK_IMPORTED_MODULE_10__["enFacet"], _sinequa_components_feedback__WEBPACK_IMPORTED_MODULE_11__["enFeedback"], _sinequa_analytics_heatmap__WEBPACK_IMPORTED_MODULE_12__["enHeatmap"], _sinequa_components_labels__WEBPACK_IMPORTED_MODULE_13__["enLabels"], _sinequa_components_metadata__WEBPACK_IMPORTED_MODULE_14__["enMetadata"], _sinequa_components_notification__WEBPACK_IMPORTED_MODULE_15__["enNotification"], _sinequa_components_preview__WEBPACK_IMPORTED_MODULE_16__["enPreview"], _sinequa_components_result__WEBPACK_IMPORTED_MODULE_17__["enResult"], _sinequa_components_results_view__WEBPACK_IMPORTED_MODULE_18__["enResultsView"], _sinequa_components_saved_queries__WEBPACK_IMPORTED_MODULE_19__["enSavedQueries"], _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_20__["enSelection"], _sinequa_components_search__WEBPACK_IMPORTED_MODULE_21__["enSearch"], _sinequa_components_status_bar__WEBPACK_IMPORTED_MODULE_22__["enStatusBar"], _sinequa_components_user_settings__WEBPACK_IMPORTED_MODULE_23__["enUserSettings"], _messages_en_json__WEBPACK_IMPORTED_MODULE_3__);
/* harmony default export */ __webpack_exports__["default"] = ({
    intl: {
        locale: "en-US"
    },
    d3: {
        locale: "en-US",
        format: d3_format_locale_en_US_json__WEBPACK_IMPORTED_MODULE_0__,
        time: d3_time_format_locale_en_US_json__WEBPACK_IMPORTED_MODULE_1__
    },
    messages: messages
});


/***/ }),

/***/ "qI9m":
/*!******************************************************************************!*\
  !*** ../components/preview/bootstrap/similar-documents/similar-documents.ts ***!
  \******************************************************************************/
/*! exports provided: BsSimilarDocuments */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsSimilarDocuments", function() { return BsSimilarDocuments; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/web-services */ "cIYa");
/* harmony import */ var _preview_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../preview.service */ "lGAU");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _facet_bootstrap_facet_card_facet_card__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../facet/bootstrap/facet-card/facet-card */ "wL8g");






function BsSimilarDocuments_sq_facet_card_0_ng_container_2_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsSimilarDocuments_sq_facet_card_0_ng_container_2_ng_container_1_Template_div_click_1_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r6); const document_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit; const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r4.onLinkClick(document_r2); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "a", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const document_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMapInterpolate1"]("similarDocumentIcon ", ctx_r3.documentIconClass(document_r2), "");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](document_r2.title);
} }
function BsSimilarDocuments_sq_facet_card_0_ng_container_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsSimilarDocuments_sq_facet_card_0_ng_container_2_ng_container_1_Template, 5, 4, "ng-container", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const document_r2 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", document_r2);
} }
function BsSimilarDocuments_sq_facet_card_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "sq-facet-card", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, BsSimilarDocuments_sq_facet_card_0_ng_container_2_Template, 2, 1, "ng-container", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("title", "msg#preview.similarDocumentsTitle");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx_r0.documents);
} }
class BsSimilarDocuments {
    constructor(similarDocumentsService, previewService, changeDetectorRef) {
        this.similarDocumentsService = similarDocumentsService;
        this.previewService = previewService;
        this.changeDetectorRef = changeDetectorRef;
    }
    get documents() {
        return this.documentList;
    }
    ngOnChanges() {
        if (this.sourceDocumentId == null) {
            this.documentList = [];
            return;
        }
        this.similarDocumentsService.get(this.sourceDocumentId, this.query.name).subscribe((results) => {
            this.documentList = results;
            this.changeDetectorRef.markForCheck();
        });
    }
    documentIconClass(document) {
        const documentFormat = document.fileext;
        if (!documentFormat) {
            return "far fa-file";
        }
        return "far fa-file sq-icon-file-" + document.fileext;
    }
    onLinkClick(document) {
        this.previewService.openNewWindow(document, this.query);
    }
}
BsSimilarDocuments.ɵfac = function BsSimilarDocuments_Factory(t) { return new (t || BsSimilarDocuments)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_1__["SimilarDocumentsWebService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_preview_service__WEBPACK_IMPORTED_MODULE_2__["PreviewService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"])); };
BsSimilarDocuments.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsSimilarDocuments, selectors: [["sq-similar-documents"]], inputs: { sourceDocumentId: "sourceDocumentId", query: "query" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 1, vars: 1, consts: [[3, "title", 4, "ngIf"], [3, "title"], ["id", "similarDocumentsBody", 1, "card-body", "collapse", "show"], [4, "ngFor", "ngForOf"], [4, "ngIf"], [1, "similarDocument", 3, "click"], ["href", "javascript:void(0)", 1, "similarDocumentTitle"]], template: function BsSimilarDocuments_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, BsSimilarDocuments_sq_facet_card_0_Template, 3, 2, "sq-facet-card", 0);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.documents != null && ctx.documents.length > 0);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_3__["NgIf"], _facet_bootstrap_facet_card_facet_card__WEBPACK_IMPORTED_MODULE_4__["BsFacetCard"], _angular_common__WEBPACK_IMPORTED_MODULE_3__["NgForOf"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsSimilarDocuments, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-similar-documents",
                templateUrl: "./similar-documents.html"
            }]
    }], function () { return [{ type: _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_1__["SimilarDocumentsWebService"] }, { type: _preview_service__WEBPACK_IMPORTED_MODULE_2__["PreviewService"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] }]; }, { sourceDocumentId: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], query: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "qdRX":
/*!****************************************!*\
  !*** ../core/app-utils/app.service.ts ***!
  \****************************************/
/*! exports provided: AppService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppService", function() { return AppService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "+kfY");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs/operators */ "0Wlh");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/core/web-services */ "cIYa");
/* harmony import */ var _query_expr_parser__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./query/expr-parser */ "PyBi");
/* harmony import */ var _app_service_helpers__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./app-service-helpers */ "ltth");
/* harmony import */ var _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @sinequa/core/intl */ "EfqX");
/* harmony import */ var _format_service__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./format.service */ "X8K3");











/**
 * A service to manage the Sinequa SBA configuration
 */
class AppService {
    constructor(startConfig, appWebService, intlService, formatService) {
        this.startConfig = startConfig;
        this.appWebService = appWebService;
        this.intlService = intlService;
        this.formatService = formatService;
        this._events = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
        if (!this.appName) {
            console.error("Missing app name!");
        }
    }
    static toEngineType(type) {
        if (!type) {
            return 0 /* none */;
        }
        switch (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].toLowerCase(type)) {
            case "bool":
            case "boolean": return 1 /* bool */;
            case "date": return 2 /* date */;
            case "datetime": return 3 /* dateTime */;
            case "time": return 4 /* time */;
            case "unsigned": return 5 /* unsigned */;
            case "integer": return 6 /* integer */;
            case "float": return 7 /* float */;
            case "double": return 8 /* double */;
            case "dates": return 9 /* dates */;
            case "datetimes": return 10 /* dateTimes */;
            case "times": return 11 /* times */;
            case "varchar": return 12 /* varchar */;
            case "binary": return 13 /* binary */;
            case "string": return 14 /* string */;
            case "csv": return 15 /* csv */;
            default: return 0 /* none */;
        }
    }
    static toEngineTypeModifierSimple(c) {
        switch (c) {
            case 'a': return 2053 /* a */;
            case 'c': return 4 /* c */;
            case 'd': return 8 /* d */;
            case 'e': return 2068 /* e */;
            case 'i': return 256 /* i */;
            case 'l': return 2052 /* l */;
            case 'n': return 8192 /* n */;
            case 't': return 524292 /* t */;
            case 'x': return 8388608 /* x */;
            case 'z': return 33554432 /* z */;
            default: return 0 /* none */;
        }
    }
    static toEngineTypeModifier(eType, typeModifier) {
        let etm = 0 /* none */;
        if (typeModifier) {
            for (const c of typeModifier) {
                etm |= AppService.toEngineTypeModifierSimple(c);
            }
        }
        return etm;
    }
    static makeColumn(name, type, typeModifier, aliases) {
        const eType = AppService.toEngineType(type);
        const eTypeModifier = AppService.toEngineTypeModifier(eType, typeModifier || "");
        return {
            name,
            type,
            typeModifier,
            eType,
            eTypeModifier,
            aliases
        };
    }
    /**
     * Return `true` if a `column` is a string
     */
    static isString(column) {
        return _app_service_helpers__WEBPACK_IMPORTED_MODULE_6__["AppServiceHelpers"].isString(column);
    }
    /**
     * Return `true` if a `column` is a csv
     */
    static isCsv(column) {
        return _app_service_helpers__WEBPACK_IMPORTED_MODULE_6__["AppServiceHelpers"].isCsv(column);
    }
    /**
     * Return `true` if a `column` is a tree
     */
    static isTree(column) {
        return _app_service_helpers__WEBPACK_IMPORTED_MODULE_6__["AppServiceHelpers"].isTree(column);
    }
    /**
     * Return `true` if a `column` is an entity
     */
    static isEntity(column) {
        return _app_service_helpers__WEBPACK_IMPORTED_MODULE_6__["AppServiceHelpers"].isEntity(column);
    }
    /**
     * Return `true` if a `column` is a boolean
     */
    static isBoolean(column) {
        return _app_service_helpers__WEBPACK_IMPORTED_MODULE_6__["AppServiceHelpers"].isBoolean(column);
    }
    /**
     * Return `true` if a `column` is a date
     */
    static isDate(column) {
        return _app_service_helpers__WEBPACK_IMPORTED_MODULE_6__["AppServiceHelpers"].isDate(column);
    }
    /**
     * Return `true` if a `column` is a double
     */
    static isDouble(column) {
        return _app_service_helpers__WEBPACK_IMPORTED_MODULE_6__["AppServiceHelpers"].isDouble(column);
    }
    /**
     * Return `true` if a `column` is an integer
     */
    static isInteger(column) {
        return _app_service_helpers__WEBPACK_IMPORTED_MODULE_6__["AppServiceHelpers"].isInteger(column);
    }
    /**
     * Return `true` if a `column` is a number (integer or double)
     */
    static isNumber(column) {
        return _app_service_helpers__WEBPACK_IMPORTED_MODULE_6__["AppServiceHelpers"].isNumber(column);
    }
    /**
     * Return `true` if a `column` is a scalar
     */
    static isScalar(column) {
        return _app_service_helpers__WEBPACK_IMPORTED_MODULE_6__["AppServiceHelpers"].isScalar(column);
    }
    /**
     * Return `true` if a `column` is sortable
     */
    static isSortable(column) {
        return _app_service_helpers__WEBPACK_IMPORTED_MODULE_6__["AppServiceHelpers"].isSortable(column);
    }
    ngOnDestroy() {
        this._events.complete();
    }
    /**
     * Return an `Observable` stream of the events that the `AppService` can generate
     */
    get events() {
        return this._events;
    }
    /**
     * Return the name of the SBA
     */
    get appName() {
        return this.startConfig.app;
    }
    /**
     * Return the origin of the Sinequa server
     */
    get origin() {
        return this.startConfig.origin;
    }
    initDefaultQuery() {
        if (!this.app) {
            console.warn("No app configured");
            return;
        }
        // If not set explicitly, the default query is the first in the list
        const defaultQueryName = this.app.defaultQueryName || _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].split(this.app.queryNames, ",")[0];
        this._defaultCCQuery = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].getField(this.app.queries, defaultQueryName);
        if (!this._defaultCCQuery) {
            console.warn(`Query not configured for app: ${this.appName}`);
        }
        this.ccquery = this._defaultCCQuery;
    }
    setApp(app) {
        this.app = app;
        this.verifyServerApiVersionCompatibility(app);
        this.cclabels = this.getWebService(this.app.labels);
        this.ccautocomplete = this.getWebService(this.app.autocomplete);
        this.initDefaultQuery();
        this.makeMaps();
        this.suggestQueries = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].split(this.ccautocomplete ? this.ccautocomplete.suggestQueries : "", ",");
    }
    verifyServerApiVersionCompatibility(app) {
        if (!app) {
            console.warn('Unexpected empty app configuration.');
            return;
        }
        if (!app.apiVersion) {
            console.error(`The App config '${app.name}' is not of 'Angular Workspace application' type.`);
        }
        else if (app.apiVersion !== _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_4__["MINIMUM_COMPATIBLE_SERVER_API_VERSION"]) {
            console.warn(`This SBA is not compatible with the REST API of Sinequa Server.\n` +
                `The SBA expects the server API version to be at least '${_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_4__["MINIMUM_COMPATIBLE_SERVER_API_VERSION"]}',` +
                ` whereas the server API version is '${app.apiVersion}'.`);
        }
    }
    /**
     * Initialize this service by retrieving the current application
     * configuration from the Sinequa server and using it to set up the data structures
     * on which the service relies
     */
    init() {
        return this.appWebService.get().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["map"])(app => {
            this.setApp(app);
            return app;
        }));
    }
    /**
     * Initialize this service from an application configuration object. This is typically
     * used for supporting mutiple concurrent queries within the same application by providing
     * component level instances of this service.
     */
    initFromApp(app) {
        if (app) {
            this.setApp(app);
        }
    }
    /**
     * Refresh the application configuration, reinitializing the service if it has changed
     *
     * @param auditEvents Any associated audit events that should be stored
     */
    refresh(auditEvents) {
        const observable = this.appWebService.refresh(this.app ? this.app.versionId : "", auditEvents);
        observable.subscribe(response => {
            if (!response.upToDate && response.app) {
                this.setApp(response.app);
            }
            return response;
        });
        return observable.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["map"])((value) => {
            return this.app;
        }));
    }
    /**
     * Clear the data associated with the service. Typically used when processing a user logout
     */
    clear() {
        this.app = undefined;
        this.cclabels = undefined;
        this._defaultCCQuery = undefined;
        this.ccquery = undefined;
        this.clearMaps();
    }
    indexIsNormal(ccindex) {
        return !!ccindex && (!ccindex.indexType || _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].startsWith(ccindex.indexType, "normal"));
    }
    getIndexForQuery(ccquery) {
        if (!ccquery) {
            return undefined;
        }
        const indexes = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].split(ccquery.searchIndexes, [","]);
        if (indexes.length === 0) {
            return this.app ? this.app.indexes._ : undefined;
        }
        else {
            const ccindex = this.getIndex(indexes[0]);
            if (ccindex && this.indexIsNormal(ccindex)) {
                return this.app ? this.app.indexes._ : undefined;
            }
            return ccindex;
        }
    }
    _makeColumnMapForIndex(columnMap, ccindex) {
        if (!ccindex || !ccindex.columns) {
            return;
        }
        for (const columnName of Object.keys(ccindex.columns)) {
            const column = ccindex.columns[columnName];
            columnMap[_sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].toLowerCase(column.name)] = column;
            if (column.aliases) {
                for (const alias of column.aliases) {
                    columnMap[_sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].toLowerCase(alias)] = column;
                }
            }
        }
    }
    _makeColumnMapForQuery(columnMap, ccquery) {
        if (!ccquery || !ccquery.columnsInfo || !ccquery.columnsInfo.columns) {
            return;
        }
        const ccindex = this.getIndexForQuery(ccquery);
        if (!ccindex || !ccindex.columns) {
            return;
        }
        for (const columnInfo of ccquery.columnsInfo.columns) {
            if (columnInfo.name) {
                const columnName = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].toLowerCase(columnInfo.name);
                let column = ccindex.columns[columnName];
                if (!column) {
                    column = AppService.extraColumns[columnName];
                }
                if (column) {
                    // Copy column so we can add the query specific aliases and labels
                    column = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].copy(column);
                    columnMap[columnName] = column;
                    if (columnInfo.aliases) {
                        column.aliases = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].split(columnInfo.aliases, [",", ";"]);
                        for (const alias of column.aliases) {
                            columnMap[_sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].toLowerCase(alias)] = column;
                        }
                    }
                    // Overwrite labels if defined on the query
                    if (columnInfo.label) {
                        column.label = columnInfo.label;
                    }
                    if (columnInfo.labelPlural) {
                        column.labelPlural = columnInfo.labelPlural;
                    }
                    if (columnInfo.formatter) {
                        column.formatter = columnInfo.formatter;
                    }
                    if (columnInfo.transforms) {
                        column.transforms = columnInfo.transforms;
                    }
                    if (columnInfo.parser) {
                        column.parser = columnInfo.parser;
                    }
                    if (columnInfo.description) {
                        column.description = columnInfo.description;
                    }
                }
            }
        }
    }
    makeMaps() {
        this.columnsByQuery = {};
        this.columnsByIndex = {};
        this.fieldsByQuery = {};
        if (!this.app) {
            return;
        }
        let columnMap;
        // Queries
        if (this.app.queries) {
            for (const queryName of Object.keys(this.app.queries)) {
                const ccquery = this.app.queries[queryName];
                if (ccquery) {
                    ccquery.$columnFieldsPattern = new _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["PatternMatcher"]("included column fields", "excluded column fields");
                    ccquery.$columnFieldsPattern.includedPattern.setText(ccquery.columnFieldsIncluded);
                    ccquery.$columnFieldsPattern.excludedPattern.setText(ccquery.columnFieldsExcluded);
                    ccquery.$partnameFieldsPattern = new _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["PatternMatcher"]("included part name fields", "excluded part name fields");
                    ccquery.$partnameFieldsPattern.includedPattern.setText(ccquery.partnameFieldsIncluded);
                    ccquery.$partnameFieldsPattern.excludedPattern.setText(ccquery.partnameFieldsExcluded);
                    if (ccquery.columnsInfo) {
                        columnMap = {};
                        this.columnsByQuery[_sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].toLowerCase(ccquery.name)] = columnMap;
                        this._makeColumnMapForQuery(columnMap, ccquery);
                    }
                }
            }
        }
        // Indexes
        if (this.app.indexes) {
            // Special normal index
            const ccindex = this.app.indexes._;
            if (ccindex) {
                columnMap = {};
                this.columnsByIndex._ = columnMap;
                this._makeColumnMapForIndex(columnMap, ccindex);
            }
            for (const indexName of Object.keys(this.app.indexes)) {
                const ccindex1 = this.app.indexes[_sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].toLowerCase(indexName)];
                if (ccindex1) {
                    if (this.indexIsNormal(ccindex1)) {
                        if (ccindex1.name !== "_") {
                            this.columnsByIndex[_sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].toLowerCase(ccindex1.name)] = this.columnsByIndex._;
                        }
                    }
                    else {
                        columnMap = {};
                        this.columnsByIndex[_sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].toLowerCase(ccindex1.name)] = columnMap;
                        this._makeColumnMapForIndex(columnMap, ccindex1);
                    }
                }
            }
        }
        // Fields per query (contains aliases for default query and globally defined aliases)
        const globalFields = new Map();
        const columns = this.columnsByIndex._;
        if (columns) {
            for (const key of Object.keys(columns)) {
                const column = columns[key];
                if (column.aliases && column.aliases.length > 0) {
                    const alias = column.aliases[0];
                    if (alias) {
                        globalFields.set(alias, alias);
                    }
                }
            }
        }
        for (const queryName of Object.keys(this.columnsByQuery)) {
            const queryFields = new Map(globalFields);
            const columns1 = this.columnsByQuery[_sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].toLowerCase(this.defaultCCQuery ? this.defaultCCQuery.name : "")];
            if (columns1) {
                for (const key of Object.keys(columns1)) {
                    const column = columns1[key];
                    if (column.aliases && column.aliases.length > 0) {
                        const alias = column.aliases[0];
                        if (alias) {
                            queryFields.set(alias, alias);
                        }
                    }
                }
                this.fieldsByQuery[queryName] = Array.from(queryFields.keys());
            }
        }
    }
    clearMaps() {
        this.columnsByQuery = {};
        this.columnsByIndex = {};
        this.fieldsByQuery = {};
    }
    /**
     * Get the configuration of the web service with the passed name
     */
    getWebService(name) {
        if (!this.app) {
            return undefined;
        }
        return _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].getField(this.app.webServices, name);
    }
    /**
     * Get the list configuration with the passed name
     */
    getList(name) {
        if (!this.app) {
            return undefined;
        }
        return this.app.lists[name];
    }
    /**
     * Return the default {@link CCQuery}
     */
    get defaultCCQuery() {
        return this._defaultCCQuery;
    }
    /**
     * Return the current {@link CCQuery}
     */
    get ccquery() {
        if (!!this._ccquery) {
            return this._ccquery;
        }
        return this._defaultCCQuery;
    }
    /**
     * Set the current {@link CCQuery}
     */
    set ccquery(value) {
        if (value !== this._ccquery) {
            const previous = this._ccquery;
            this._ccquery = value;
            this._events.next({ type: "query-changed", current: this._ccquery, previous: previous });
        }
    }
    /**
     * Get the {@link CCQuery} with the passed name
     */
    getCCQuery(name) {
        return this.app ? this.app.queries[_sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].toLowerCase(name)] : undefined;
    }
    /**
     * Set the current {@link CCQuery} to that with the passed name
     */
    setCCQuery(name) {
        const ccquery = !name ? this.defaultCCQuery : this.getCCQuery(name);
        if (ccquery) {
            this.ccquery = ccquery;
            return true;
        }
        else {
            console.warn(`AppService.setCCQuery - query '${name}' does not exist`);
            return false;
        }
    }
    /**
     * Return the fields defined on the current {@link CCQuery}
     */
    get fields() {
        if (!this.ccquery) {
            return [];
        }
        return this.fieldsByQuery[_sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].toLowerCase(this.ccquery.name)] || [];
    }
    /**
     * Get the {@link CCAggregation} with the passed name
     */
    getCCAggregation(name) {
        if (!this.ccquery || !this.ccquery.aggregations) {
            return undefined;
        }
        return this.ccquery.aggregations.find((value) => _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].eqNC(name, value.name));
    }
    /**
     * Get the {@link CCIndex} with the passed name
     */
    getIndex(name) {
        if (!this.app) {
            return undefined;
        }
        return _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].getField(this.app.indexes, name);
    }
    /**
     * Get the {@link CCColumn} with the passed name. Aliases are resolved
     */
    getColumn(name) {
        if (!name) {
            return undefined;
        }
        if (!this.ccquery) {
            return undefined;
        }
        // First, CCQuery specific aliases
        let column;
        let columnAliases = this.columnsByQuery[_sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].toLowerCase(this.ccquery.name)];
        if (columnAliases) {
            column = columnAliases[_sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].toLowerCase(name)];
            if (column) {
                return column;
            }
        }
        // Second, aliases by index
        const indexes = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].split(this.ccquery.searchIndexes, [","]);
        const firstIndex = indexes.length === 0 ? undefined : this.getIndex(indexes[0]);
        if (indexes.length === 0 || (!!firstIndex && this.indexIsNormal(firstIndex))) {
            columnAliases = this.columnsByIndex._;
            if (columnAliases) {
                column = columnAliases[_sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].toLowerCase(name)];
                if (column) {
                    return column;
                }
            }
        }
        else {
            for (const index of indexes) {
                columnAliases = this.columnsByIndex[_sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].toLowerCase(index)];
                if (columnAliases) {
                    column = columnAliases[_sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].toLowerCase(name)];
                    if (column) {
                        return column;
                    }
                }
            }
        }
        // Third, extra columns
        column = AppService.extraColumns[_sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].toLowerCase(name)];
        if (column) {
            return column;
        }
        return undefined;
    }
    /**
     * Get the default alias a column
     *
     * @param column The column
     * @return The default alias or `null` if no alias is defined
     */
    getColumnDefaultAlias(column) {
        if (column) {
            if (column.aliases && column.aliases.length > 0) {
                return column.aliases[0];
            }
        }
        return "";
    }
    /**
     * Get the name of a column
     *
     * @param column The column
     * @param _default A default name to return if `column` is empty
     */
    getColumnName(column, _default = "") {
        if (column) {
            return column.name;
        }
        return _default;
    }
    /**
     * Get the default alias for a column
     *
     * @param column The column
     * @param _default A default alias name to return if the `column` is empty or no alias is defined
     */
    getColumnAlias(column, _default = "") {
        if (column) {
            const alias = this.getColumnDefaultAlias(column);
            if (alias) {
                return alias;
            }
        }
        return _default;
    }
    /**
     * Return a column name from a name which can be an alias
     */
    resolveColumnName(name) {
        const column = this.getColumn(name);
        return this.getColumnName(column, name || "");
    }
    /**
     * Return a column alias from a name which can be an alias
     */
    resolveColumnAlias(name) {
        const column = this.getColumn(name);
        return this.getColumnAlias(column, name || "");
    }
    /**
     * Parse a fielded search expression
     *
     * @param text The expression
     * @param options Options for the parsing
     * @return The parsed {@link Expr} or an error message
     */
    parseExpr(text, options) {
        return _query_expr_parser__WEBPACK_IMPORTED_MODULE_5__["ExprParser"].parse(text, { appService: this, formatService: this.formatService, intlService: this.intlService }, options);
    }
    /**
     * Escape a value for fielded search if necessary. `Date` objects are converted to
     * Sinequa system date strings and non-scalars fields are escaped
     * @param field The value's field
     * @param value The value
     */
    escapeFieldValue(field, value) {
        if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].isDate(value)) {
            return _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].toSysDateStr(value);
        }
        value = value + "";
        const column = this.getColumn(field);
        if (column && !AppService.isScalar(column)) {
            // escaoe columns that might contain search operators in them (treating negative numbers as an ignorable edge case)
            return _query_expr_parser__WEBPACK_IMPORTED_MODULE_5__["ExprParser"].escape(value);
        }
        return value;
    }
    /**
     * Get the label of a column. The plural label is returned for csv-type columns.
     *
     * @param name The name of the column which can be an alias
     * @param _default The default label to return if no label is defined
     */
    getLabel(name, _default) {
        const column = this.getColumn(name);
        if (column) {
            const label = AppService.isCsv(column) ? column.labelPlural : column.label;
            if (label) {
                return label;
            }
        }
        if (!_sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].isUndefined(_default)) {
            return _default;
        }
        return name;
    }
    /**
     * Get the singular label of a column
     *
     * @param name The name of the column which can be an alias
     * @param _default The default label to return if no label is defined
     */
    getSingularLabel(name, _default) {
        const column = this.getColumn(name);
        if (column && column.label) {
            return column.label;
        }
        if (!_sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].isUndefined(_default)) {
            return _default;
        }
        return name;
    }
    /**
     * Get the plural label of a column
     *
     * @param name The name of the column which can be an alias
     * @param _default The default label to return if no label is defined
     */
    getPluralLabel(name, _default) {
        const column = this.getColumn(name);
        if (column && column.labelPlural) {
            return column.labelPlural;
        }
        if (!_sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].isUndefined(_default)) {
            return _default;
        }
        return name;
    }
    /**
     * Return `true` if a column with the passed name or alias is a string
     */
    isString(name) {
        const column = this.getColumn(name);
        return !!column && AppService.isString(column);
    }
    /**
     * Return `true` if a column with the passed name or alias is a csv
     */
    isCsv(name) {
        const column = this.getColumn(name);
        return !!column && AppService.isCsv(column);
    }
    /**
     * Return `true` if a column with the passed name or alias is a tree
     */
    isTree(name) {
        const column = this.getColumn(name);
        return !!column && AppService.isTree(column);
    }
    /**
     * Return `true` if a column with the passed name or alias is an entity
     */
    isEntity(name) {
        const column = this.getColumn(name);
        return !!column && AppService.isEntity(column);
    }
    /**
     * Return `true` if a column with the passed name or alias is a boolean
     */
    isBoolean(name) {
        const column = this.getColumn(name);
        return !!column && AppService.isBoolean(column);
    }
    /**
     * Return `true` if a column with the passed name or alias is a date
     */
    isDate(name) {
        const column = this.getColumn(name);
        return !!column && AppService.isDate(column);
    }
    /**
     * Return `true` if a column with the passed name or alias is a double
     */
    isDouble(name) {
        const column = this.getColumn(name);
        return !!column && AppService.isDouble(column);
    }
    /**
     * Return `true` if a column with the passed name or alias is an integer
     */
    isInteger(name) {
        const column = this.getColumn(name);
        return !!column && AppService.isInteger(column);
    }
    /**
     * Return `true` if a column with the passed name or alias is a number (integer or double)
     */
    isNumber(name) {
        return this.isInteger(name) || this.isDouble(name);
    }
    /**
     * Return `true` if a column with the passed name or alias is a scalar
     */
    isScalar(name) {
        const column = this.getColumn(name);
        return !!column && AppService.isScalar(column);
    }
    /**
     * Return `true` if a column with the passed name or alias is sortable
     */
    isSortable(name) {
        const column = this.getColumn(name);
        return !!column && AppService.isSortable(column);
    }
    /**
     * If the passed url is relative and CORS is active then
     * prepend it with the Sinequa server origin
     */
    updateUrlForCors(url) {
        if (this.startConfig.corsActive && !!url && !_sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].isUrlAbsolute(url)) {
            url = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].addUrl(this.origin, url);
        }
        return url;
    }
    /**
     * Return the url to the Sinequa administration console
     */
    get adminUrl() {
        return this.updateUrlForCors(_sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].addUrl(this.startConfig.applicationPath, "admin"));
    }
}
// Should match AdditionalQueryableColumns in Engine.cs
AppService.extraColumns = {
    id: AppService.makeColumn("id", "string"),
    text: AppService.makeColumn("text", "varchar"),
    documentlanguages: AppService.makeColumn("documentlanguages", "csv", "ci"),
    databasealias: AppService.makeColumn("databasealias", "varchar"),
    globalrelevance: AppService.makeColumn("globalrelevance", "double"),
    matchingpartnames: AppService.makeColumn("matchingpartnames", "csv"),
    matchlocations: AppService.makeColumn("matchlocations", "csv"),
    matchlocationsperpartname: AppService.makeColumn("matchlocationsperpartname", "varchar"),
    extracts: AppService.makeColumn("extracts", "csv"),
    extractsperpartname: AppService.makeColumn("extractsperpartname", "varchar"),
    extractslocations: AppService.makeColumn("extractslocations", "csv"),
    documentweight: AppService.makeColumn("documentweight", "varchar"),
    groupcount: AppService.makeColumn("groupcount", "integer"),
    accesslists: AppService.makeColumn("accesslists", "varchar", undefined, ["accessLists"]) // json
};
AppService.ɵfac = function AppService_Factory(t) { return new (t || AppService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_4__["START_CONFIG"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_4__["AppWebService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_intl__WEBPACK_IMPORTED_MODULE_7__["IntlService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_format_service__WEBPACK_IMPORTED_MODULE_8__["FormatService"])); };
AppService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: AppService, factory: AppService.ɵfac, providedIn: "root" });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AppService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: "root"
            }]
    }], function () { return [{ type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_4__["START_CONFIG"]]
            }] }, { type: _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_4__["AppWebService"] }, { type: _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_7__["IntlService"] }, { type: _format_service__WEBPACK_IMPORTED_MODULE_8__["FormatService"] }]; }, null); })();


/***/ }),

/***/ "qf24":
/*!*******************************************************!*\
  !*** ../components/action/bootstrap/action.module.ts ***!
  \*******************************************************/
/*! exports provided: BsActionModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsActionModule", function() { return BsActionModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/intl */ "EfqX");
/* harmony import */ var _sinequa_core_load_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/load-component */ "vxak");
/* harmony import */ var _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/components/utils */ "DD1E");
/* harmony import */ var _action_buttons_action_buttons__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./action-buttons/action-buttons */ "9+ai");
/* harmony import */ var _action_item_content_action_item_content__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./action-item-content/action-item-content */ "U5E6");
/* harmony import */ var _action_item_action_item__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./action-item/action-item */ "TE8J");
/* harmony import */ var _action_menu_action_menu__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./action-menu/action-menu */ "idD+");
/* harmony import */ var _dropdown_menu_dropdown_menu__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./dropdown-menu/dropdown-menu */ "g+0j");
/* harmony import */ var _dropdown_directive__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./dropdown.directive */ "yfgI");












class BsActionModule {
}
BsActionModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: BsActionModule });
BsActionModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function BsActionModule_Factory(t) { return new (t || BsActionModule)(); }, imports: [[
            _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
            _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_2__["IntlModule"],
            _sinequa_core_load_component__WEBPACK_IMPORTED_MODULE_3__["LoadComponentModule"],
            _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_4__["UtilsModule"]
        ]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](BsActionModule, { declarations: [_action_buttons_action_buttons__WEBPACK_IMPORTED_MODULE_5__["BsActionButtons"],
        _action_item_content_action_item_content__WEBPACK_IMPORTED_MODULE_6__["BsActionItemContent"],
        _action_item_action_item__WEBPACK_IMPORTED_MODULE_7__["BsActionItem"],
        _action_menu_action_menu__WEBPACK_IMPORTED_MODULE_8__["BsActionMenu"],
        _dropdown_menu_dropdown_menu__WEBPACK_IMPORTED_MODULE_9__["BsDropdownMenu"],
        _dropdown_directive__WEBPACK_IMPORTED_MODULE_10__["BsDropdownDirective"]], imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
        _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_2__["IntlModule"],
        _sinequa_core_load_component__WEBPACK_IMPORTED_MODULE_3__["LoadComponentModule"],
        _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_4__["UtilsModule"]], exports: [_action_buttons_action_buttons__WEBPACK_IMPORTED_MODULE_5__["BsActionButtons"],
        _action_menu_action_menu__WEBPACK_IMPORTED_MODULE_8__["BsActionMenu"],
        _action_item_action_item__WEBPACK_IMPORTED_MODULE_7__["BsActionItem"],
        _dropdown_directive__WEBPACK_IMPORTED_MODULE_10__["BsDropdownDirective"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsActionModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                    _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_2__["IntlModule"],
                    _sinequa_core_load_component__WEBPACK_IMPORTED_MODULE_3__["LoadComponentModule"],
                    _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_4__["UtilsModule"]
                ],
                declarations: [
                    _action_buttons_action_buttons__WEBPACK_IMPORTED_MODULE_5__["BsActionButtons"],
                    _action_item_content_action_item_content__WEBPACK_IMPORTED_MODULE_6__["BsActionItemContent"],
                    _action_item_action_item__WEBPACK_IMPORTED_MODULE_7__["BsActionItem"],
                    _action_menu_action_menu__WEBPACK_IMPORTED_MODULE_8__["BsActionMenu"],
                    _dropdown_menu_dropdown_menu__WEBPACK_IMPORTED_MODULE_9__["BsDropdownMenu"],
                    _dropdown_directive__WEBPACK_IMPORTED_MODULE_10__["BsDropdownDirective"]
                ],
                exports: [
                    _action_buttons_action_buttons__WEBPACK_IMPORTED_MODULE_5__["BsActionButtons"],
                    _action_menu_action_menu__WEBPACK_IMPORTED_MODULE_8__["BsActionMenu"],
                    _action_item_action_item__WEBPACK_IMPORTED_MODULE_7__["BsActionItem"],
                    _dropdown_directive__WEBPACK_IMPORTED_MODULE_10__["BsDropdownDirective"]
                ]
            }]
    }], null, null); })();


/***/ }),

/***/ "qvST":
/*!*******************************************************!*\
  !*** ../components/result/user-rating/user-rating.ts ***!
  \*******************************************************/
/*! exports provided: UserRating */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserRating", function() { return UserRating; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/web-services */ "cIYa");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/intl/message.pipe */ "X1Kh");





function UserRating_li_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "li", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](3, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](3, 1, ctx_r0.caption));
} }
function UserRating_li_2_Template(rf, ctx) { if (rf & 1) {
    const _r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "li", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "a", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function UserRating_li_2_Template_a_click_1_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r6); const i_r4 = ctx.index; const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r5.select(i_r4); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const i_r4 = ctx.index;
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("title", ctx_r1.getTitle(i_r4));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMap"](i_r4 <= ctx_r1.userRatingIndex ? "fas fa-star" : "far fa-star");
} }
function UserRating_li_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "li", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](3, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](3, 1, "msg#userRatings.average", ctx_r2.messageParams));
} }
class UserRating {
    constructor(userRatingService, changeDetector) {
        this.userRatingService = userRatingService;
        this.changeDetector = changeDetector;
        this.handleResponse = (response) => {
            this.userRatingIndex = response.rating;
            this.averageRatingIndex = response.averagerating;
            this.changeDetector.markForCheck();
        };
    }
    ngOnInit() {
        this.ensureRatingValues();
        this.handleResponse(this.userRatingService.getRecordRating(this.record, this.getCCRating()));
    }
    getCCRating() {
        return {
            ratingsColumn: this.ratingsColumn,
            averageColumn: this.averageColumn,
            updateDocWeight: this.updateDocWeight,
            ratingsDistribution: this.ratingValues
        };
    }
    get messageParams() {
        return {
            values: {
                average: this.getAverageRating()
            }
        };
    }
    getTitle(ratingIndex) {
        if (this.titles) {
            return this.titles.split(";")[ratingIndex] || "";
        }
        else {
            return "";
        }
    }
    getRating(ratingIndex) {
        return this.ratingValues[ratingIndex];
    }
    getAverageRating() {
        if (this.averageRatingIndex < 0) {
            return "";
        }
        else {
            return this.ratingValues[this.averageRatingIndex];
        }
    }
    select(selectedRatingIndex) {
        //If selected rating was already selected, remove the rating
        if (this.userRatingIndex === selectedRatingIndex) {
            this.userRatingService.deleteRating(this.record, this.getCCRating()).subscribe(this.handleResponse);
        }
        else {
            this.userRatingService.setRating(this.record, selectedRatingIndex, this.getCCRating()).subscribe(this.handleResponse);
        }
    }
    ensureRatingValues() {
        if (!this.ratingValues) {
            const count = this.count || 0;
            //Work out rating value range
            if (this.values) {
                //Use predefined values
                this.ratingValues = this.values.split(";");
                //Initialize missing values - so that ratingValues.length matches config.count
                for (let i = this.ratingValues.length; i < count; i++) {
                    this.ratingValues.push((i + 1).toString());
                }
            }
            else {
                //Generates [1, ... config.count]
                this.ratingValues = Array(count).fill(0).map((_, i) => (i + 1).toString());
            }
        }
    }
}
UserRating.ɵfac = function UserRating_Factory(t) { return new (t || UserRating)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_1__["UserRatingsWebService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"])); };
UserRating.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: UserRating, selectors: [["sq-user-rating"]], inputs: { record: "record", ratingsColumn: "ratingsColumn", averageColumn: "averageColumn", updateDocWeight: "updateDocWeight", count: "count", values: "values", titles: "titles", caption: "caption", showAverage: "showAverage" }, decls: 4, vars: 3, consts: [[1, "sq-user-rating-stars"], ["class", "sq-user-rating-caption", 4, "ngIf"], ["class", "sq-user-rating-item", 4, "ngFor", "ngForOf"], ["class", "sq-user-rating-average", 4, "ngIf"], [1, "sq-user-rating-caption"], [1, "sq-user-rating-item"], ["href", "javascript:void(0)", 1, "sq-user-rating-star", 3, "title", "click"], [1, "sq-user-rating-average"]], template: function UserRating_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "ul", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, UserRating_li_1_Template, 4, 3, "li", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, UserRating_li_2_Template, 3, 4, "li", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, UserRating_li_3_Template, 4, 4, "li", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.caption);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.ratingValues);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.showAverage && ctx.getAverageRating() !== undefined && ctx.getAverageRating() !== "");
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_2__["NgIf"], _angular_common__WEBPACK_IMPORTED_MODULE_2__["NgForOf"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_3__["MessagePipe"]], styles: [".sq-user-rating-stars[_ngcontent-%COMP%] {\n    padding: 0;\n    list-style-type: none;\n}\n\n.sq-user-rating-item[_ngcontent-%COMP%] {\n    display: inline;\n}\n\n.sq-user-rating-star[_ngcontent-%COMP%] {\n    text-decoration: none;\n}\n\n.sq-user-rating-caption[_ngcontent-%COMP%] {\n    display: inline;\n    font-size: 0.875rem;\n    margin-right: 4px;\n}\n\n.sq-user-rating-average[_ngcontent-%COMP%] {\n    display: inline;\n    font-size: 0.875rem;\n    margin-left: 4px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2plY3RzL2NvbXBvbmVudHMvcmVzdWx0L3VzZXItcmF0aW5nL3VzZXItcmF0aW5nLmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLFVBQVU7SUFDVixxQkFBcUI7QUFDekI7O0FBRUE7SUFDSSxlQUFlO0FBQ25COztBQUVBO0lBQ0kscUJBQXFCO0FBQ3pCOztBQUVBO0lBQ0ksZUFBZTtJQUNmLG1CQUFtQjtJQUNuQixpQkFBaUI7QUFDckI7O0FBRUE7SUFDSSxlQUFlO0lBQ2YsbUJBQW1CO0lBQ25CLGdCQUFnQjtBQUNwQiIsImZpbGUiOiJwcm9qZWN0cy9jb21wb25lbnRzL3Jlc3VsdC91c2VyLXJhdGluZy91c2VyLXJhdGluZy5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuc3EtdXNlci1yYXRpbmctc3RhcnMge1xuICAgIHBhZGRpbmc6IDA7XG4gICAgbGlzdC1zdHlsZS10eXBlOiBub25lO1xufVxuXG4uc3EtdXNlci1yYXRpbmctaXRlbSB7XG4gICAgZGlzcGxheTogaW5saW5lO1xufVxuXG4uc3EtdXNlci1yYXRpbmctc3RhciB7XG4gICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xufVxuXG4uc3EtdXNlci1yYXRpbmctY2FwdGlvbiB7XG4gICAgZGlzcGxheTogaW5saW5lO1xuICAgIGZvbnQtc2l6ZTogMC44NzVyZW07XG4gICAgbWFyZ2luLXJpZ2h0OiA0cHg7XG59XG5cbi5zcS11c2VyLXJhdGluZy1hdmVyYWdlIHtcbiAgICBkaXNwbGF5OiBpbmxpbmU7XG4gICAgZm9udC1zaXplOiAwLjg3NXJlbTtcbiAgICBtYXJnaW4tbGVmdDogNHB4O1xufSJdfQ== */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](UserRating, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-user-rating",
                templateUrl: "./user-rating.html",
                styleUrls: ["./user-rating.css"]
            }]
    }], function () { return [{ type: _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_1__["UserRatingsWebService"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] }]; }, { record: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], ratingsColumn: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], averageColumn: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], updateDocWeight: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], count: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], values: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], titles: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], caption: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], showAverage: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "rLnE":
/*!************************************************************************!*\
  !*** ../components/facet/bootstrap/facet-tag-cloud/facet-tag-cloud.ts ***!
  \************************************************************************/
/*! exports provided: BsFacetTagCloud */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsFacetTagCloud", function() { return BsFacetTagCloud; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _abstract_facet__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../abstract-facet */ "+Pqq");
/* harmony import */ var _sinequa_components_action__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/components/action */ "WsHA");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _facet_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../facet.service */ "mQJ4");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _utils_pipes_value_pipe__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../utils/pipes/value-pipe */ "7U+I");








function BsFacetTagCloud_li_1_i_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "i", 4);
} }
function BsFacetTagCloud_li_1_Template(rf, ctx) { if (rf & 1) {
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "li");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "a", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsFacetTagCloud_li_1_Template_a_click_1_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r4); const data_r1 = ctx.$implicit; const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r3.filterItem(data_r1, $event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, BsFacetTagCloud_li_1_i_2_Template, 1, 0, "i", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](4, "sqValue");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const data_r1 = ctx.$implicit;
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMapInterpolate1"]("sq-metadata-color-", data_r1.aggregation.column, "");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵattribute"]("data-count", data_r1.item.count)("data-weight", ctx_r0.proportionalWeight ? data_r1.weight : null);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", data_r1.item.$filtered);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind2"](4, 7, data_r1.item, data_r1.item.$column), " ");
} }
class BsFacetTagCloud extends _abstract_facet__WEBPACK_IMPORTED_MODULE_1__["AbstractFacet"] {
    constructor(facetService) {
        super();
        this.facetService = facetService;
        /** maximum number of data to be displayed in tag-cloud */
        this.limit = 50;
        /** the way data are collected from given aggregations: equal repartition between them or most relevant among all of them */
        this.uniformRepartition = false;
        /** show/hide number of occurrences of each item*/
        this.showCount = false;
        /** define the size of each displayed item: common size for all or proportional size based on their count */
        this.proportionalWeight = true;
        /** lowest count under which items will not be taken into account in tag-cloud data */
        this.countThreshold = 0;
        /** wether data are rendered following their count sorting or randomly */
        this.shuffleData = false;
        /** Isolate filtering results from other facets available in the app */
        this.isolateFacetFilters = false;
        this.aggregationsData = [];
        this.tagCloudData = [];
        this.filtered = [];
        // Default weight to be applied if proportionalWeight = false
        this.defaultWeight = 2;
        // Prefix for tag-cloud facet name to be used if isolateFacetFilters = true
        this.tagCloudFacetPrefix = "tag-cloud_";
        // Clear the current filters
        this.clearFilters = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_2__["Action"]({
            icon: "far fa-minus-square",
            title: "msg#facet.clearSelects",
            action: () => {
                if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].isArray(this.aggregations)) {
                    for (const aggregation of this.aggregations)
                        this.facetService.clearFiltersSearch(this.getName(aggregation), true);
                }
                else {
                    this.facetService.clearFiltersSearch(this.getName(this.aggregations), true);
                }
            },
        });
    }
    ngOnChanges(changes) {
        if (!!changes["results"]) {
            /* reset filtered items */
            this.filtered = [];
            /* update tag-cloud data */
            this.tagCloudData = this.getTagCloudData();
        }
    }
    /**
     * Defines the tag-cloud data according to given inputs
     */
    getTagCloudData() {
        const aggregationsData = this.getAggregationsData();
        if (aggregationsData.length === 0) {
            return [];
        }
        else {
            let tmp = [];
            if (this.uniformRepartition) {
                aggregationsData.forEach((data) => {
                    const end = Math.floor(this.limit / aggregationsData.length);
                    // Firstly, take filtered items
                    tmp.push(...data
                        .items.filter((item) => item.$filtered)
                        .sort((a, b) => b.count - a.count)
                        .slice(0, end)
                        .map((item) => ({
                        aggregation: data,
                        item: item,
                        weight: this.proportionalWeight
                            ? item.count
                            : this.defaultWeight,
                    })));
                    // add most relevant items if threshold not attenuated
                    if (tmp.length < end) {
                        tmp.push(...data
                            .items.filter((item) => item.count > this.countThreshold && !item.$filtered)
                            .sort((a, b) => b.count - a.count)
                            .slice(0, end - tmp.length)
                            .map((item) => ({
                            aggregation: data,
                            item: item,
                            weight: this.proportionalWeight
                                ? item.count
                                : this.defaultWeight,
                        })));
                    }
                });
                tmp = tmp.sort((a, b) => b.item.count - a.item.count);
            }
            else {
                aggregationsData.forEach((data) => {
                    tmp.push(...data
                        .items.filter((item) => item.count > this.countThreshold || item.$filtered)
                        .map((item) => ({
                        aggregation: data,
                        item: item,
                        weight: this.proportionalWeight
                            ? item.count
                            : this.defaultWeight,
                    })));
                });
                const filtered = tmp.filter((elem) => elem.item.$filtered);
                if (filtered.length < this.limit) {
                    const notFiltered = tmp
                        .filter((elem) => !elem.item.$filtered)
                        .sort((a, b) => b.item.count - a.item.count);
                    tmp = [...filtered];
                    tmp.push(...notFiltered.slice(0, this.limit - filtered.length));
                }
                else {
                    tmp = filtered.slice(0, this.limit);
                }
            }
            // By default, sort the whole array with respect to its counts and update its elements weight value
            tmp = tmp
                .sort((a, b) => b.item.count - a.item.count)
                .map((elem) => (Object.assign(Object.assign({}, elem), { weight: this.proportionalWeight
                    ? this.scaleItemWeight(tmp, elem.item.count)
                    : this.defaultWeight })));
            // Shuffle the array
            if (this.shuffleData) {
                tmp = this.shuffle(tmp);
            }
            return tmp;
        }
    }
    /**
     * Invoked on click on an item in order to update the query
     * @param tagCloudItem
     * @param event
     */
    filterItem(tagCloudItem, event) {
        const name = this.getName(tagCloudItem.aggregation.name);
        const aggregation = tagCloudItem.aggregation;
        const item = tagCloudItem.item;
        if (!this.isFiltered(aggregation, item)) {
            this.facetService.addFilterSearch(name, aggregation, item);
        }
        else {
            this.facetService.removeFilterSearch(name, aggregation, item);
        }
        event.preventDefault();
    }
    /**
     * Define the possible actions according to the actual context
     */
    get actions() {
        const actions = [];
        if (this.isFiltering()) {
            actions.push(this.clearFilters);
        }
        return actions;
    }
    /**
     * Map the initial aggregations names to a list of Aggregation
     */
    getAggregationsData() {
        return []
            .concat(this.aggregations)
            .filter((agg) => this.facetService.hasData(agg, this.results))
            .map((agg) => this.facetService.getAggregation(agg, this.results))
            .map((data) => this.refreshFiltered(data));
    }
    /**
     * Update aggregation's data with respect to active filters in the query & breadcrumbs
     * @param data
     */
    refreshFiltered(data) {
        const facetName = this.getName(data.name);
        if (this.facetService.hasFiltered(facetName)) {
            // refresh filters from breadcrumbs
            const items = this.facetService.getAggregationItemsFiltered(facetName, data.valuesAreExpressions);
            items.forEach((item) => {
                if (!this.isFiltered(data, item)) {
                    item.$filtered = true;
                    this.filtered.push(item);
                }
            });
            // double check filters from query and breadcrumb
            data.items.forEach((item) => {
                const indx = this.facetService.filteredIndex(data, this.filtered, item);
                if (this.facetService.itemFiltered(facetName, data, item)) {
                    item.$filtered = true;
                    if (!this.isFiltered(data, item)) {
                        this.filtered.push(item);
                    }
                }
                else if (indx !== -1) {
                    // sometime facetService.itemFiltered() could returns false but item is present in breadcrumbs
                    item.$filtered = true;
                }
            });
        }
        return data;
    }
    /**
     * Returns facets names to be used according to @input() isolateFacetFilters
     * @param aggregationName
     */
    getName(aggregationName) {
        if (!this.isolateFacetFilters) {
            return aggregationName;
        }
        return this.tagCloudFacetPrefix + aggregationName;
    }
    /**
     * Linearly map the original weight to a discrete scale from 1 to 10
     * @param weight original weight
     */
    scaleItemWeight(tagCloudData, weight) {
        return (Math.round(((weight - tagCloudData[tagCloudData.length - 1].weight) /
            (tagCloudData[0].weight -
                tagCloudData[tagCloudData.length - 1].weight)) *
            9.0) + 1);
    }
    /**
     * Returns true if the supplied item within the given aggregation is filtering the query
     * @param data
     * @param item
     */
    isFiltered(data, item) {
        return this.facetService.filteredIndex(data, this.filtered, item) !== -1;
    }
    /**
     * Shuffle items of the supplied array
     * @param arr
     */
    shuffle(arr) {
        for (let i = arr.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * i);
            const aux = arr[i];
            arr[i] = arr[j];
            arr[j] = aux;
        }
        return arr;
    }
    /**
     * Returns true if there is at least one active filter in the tag-cloud facet
     */
    isFiltering() {
        return []
            .concat(this.aggregations)
            .some((aggregationName) => this.facetService.hasFiltered(this.getName(aggregationName)));
    }
}
BsFacetTagCloud.ɵfac = function BsFacetTagCloud_Factory(t) { return new (t || BsFacetTagCloud)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_facet_service__WEBPACK_IMPORTED_MODULE_4__["FacetService"])); };
BsFacetTagCloud.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsFacetTagCloud, selectors: [["sq-facet-tag-cloud"]], inputs: { results: "results", aggregations: "aggregations", limit: "limit", uniformRepartition: "uniformRepartition", showCount: "showCount", proportionalWeight: "proportionalWeight", countThreshold: "countThreshold", shuffleData: "shuffleData", isolateFacetFilters: "isolateFacetFilters" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"], _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 2, vars: 2, consts: [[1, "cloud"], [4, "ngFor", "ngForOf"], ["href", "#", 3, "click"], ["class", "far fa-check-circle filtered", 4, "ngIf"], [1, "far", "fa-check-circle", "filtered"]], template: function BsFacetTagCloud_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "ul", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsFacetTagCloud_li_1_Template, 5, 10, "li", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵattribute"]("data-show-count", ctx.showCount ? "" : null);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.tagCloudData);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_5__["NgForOf"], _angular_common__WEBPACK_IMPORTED_MODULE_5__["NgIf"]], pipes: [_utils_pipes_value_pipe__WEBPACK_IMPORTED_MODULE_6__["ValuePipe"]], styles: ["ul.cloud[_ngcontent-%COMP%] {\n  list-style: none;\n  padding-left: 0;\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  justify-content: center;\n  overflow-wrap: anywhere;\n}\n\n\n\nul.cloud[_ngcontent-%COMP%]   a[data-weight=\"1\"][_ngcontent-%COMP%] {\n  --size: 1;\n}\n\nul.cloud[_ngcontent-%COMP%]   a[data-weight=\"2\"][_ngcontent-%COMP%] {\n  --size: 2;\n}\n\nul.cloud[_ngcontent-%COMP%]   a[data-weight=\"3\"][_ngcontent-%COMP%] {\n  --size: 3;\n}\n\nul.cloud[_ngcontent-%COMP%]   a[data-weight=\"4\"][_ngcontent-%COMP%] {\n  --size: 4;\n}\n\nul.cloud[_ngcontent-%COMP%]   a[data-weight=\"5\"][_ngcontent-%COMP%] {\n  --size: 5;\n}\n\nul.cloud[_ngcontent-%COMP%]   a[data-weight=\"6\"][_ngcontent-%COMP%] {\n  --size: 6;\n}\n\nul.cloud[_ngcontent-%COMP%]   a[data-weight=\"7\"][_ngcontent-%COMP%] {\n  --size: 7;\n}\n\nul.cloud[_ngcontent-%COMP%]   a[data-weight=\"8\"][_ngcontent-%COMP%] {\n  --size: 8;\n}\n\nul.cloud[_ngcontent-%COMP%]   a[data-weight=\"9\"][_ngcontent-%COMP%] {\n  --size: 9;\n}\n\nul.cloud[_ngcontent-%COMP%]   a[data-weight=\"10\"][_ngcontent-%COMP%] {\n  --size: 10;\n}\n\nul.cloud[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\n  --size: 2;\n  --color: #a33;\n  color: var(--color);\n  font-size: calc(var(--size) * 0.25rem + 0.5rem);\n  padding: 0.125rem 0.25rem;\n  position: relative;\n  text-decoration: none;\n  display: block;\n}\n\nul[data-show-count][_ngcontent-%COMP%]   a[_ngcontent-%COMP%]::after {\n  content: \" (\" attr(data-count) \")\";\n  font-size: calc(var(--size) * 0.125rem + 0.5rem);\n}\n\nul.cloud[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]::before {\n  content: \"\";\n  position: absolute;\n  top: 0;\n  left: 50%;\n  width: 0;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.03);\n  transform: translate(-50%, 0);\n  transition: width 0.25s;\n}\n\nul.cloud[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus::before, ul.cloud[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover::before {\n  width: 100%;\n}\n\n.filtered[_ngcontent-%COMP%] {\n  font-size: calc(var(--size) * 0.125rem + 0.5rem);\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2plY3RzL2NvbXBvbmVudHMvZmFjZXQvYm9vdHN0cmFwL2ZhY2V0LXRhZy1jbG91ZC9mYWNldC10YWctY2xvdWQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGdCQUFBO0VBQ0EsZUFBQTtFQUNBLGFBQUE7RUFDQSxlQUFBO0VBQ0EsbUJBQUE7RUFDQSx1QkFBQTtFQUNBLHVCQUFBO0FBQ0Y7O0FBRUEsZUFBQTs7QUFDQTtFQUNFLFNBQUE7QUFDRjs7QUFFQTtFQUNFLFNBQUE7QUFDRjs7QUFFQTtFQUNFLFNBQUE7QUFDRjs7QUFFQTtFQUNFLFNBQUE7QUFDRjs7QUFFQTtFQUNFLFNBQUE7QUFDRjs7QUFFQTtFQUNFLFNBQUE7QUFDRjs7QUFFQTtFQUNFLFNBQUE7QUFDRjs7QUFFQTtFQUNFLFNBQUE7QUFDRjs7QUFFQTtFQUNFLFNBQUE7QUFDRjs7QUFFQTtFQUNFLFVBQUE7QUFDRjs7QUFFQTtFQUNFLFNBQUE7RUFDQSxhQUFBO0VBQ0EsbUJBQUE7RUFDQSwrQ0FBQTtFQUNBLHlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxxQkFBQTtFQUNBLGNBQUE7QUFDRjs7QUFFQTtFQUNFLGtDQUFBO0VBQ0EsZ0RBQUE7QUFDRjs7QUFFQTtFQUNFLFdBQUE7RUFDQSxrQkFBQTtFQUNBLE1BQUE7RUFDQSxTQUFBO0VBQ0EsUUFBQTtFQUNBLFlBQUE7RUFDQSwrQkFBQTtFQUNBLDZCQUFBO0VBQ0EsdUJBQUE7QUFDRjs7QUFFQTs7RUFFRSxXQUFBO0FBQ0Y7O0FBRUE7RUFDRSxnREFBQTtBQUNGIiwiZmlsZSI6InByb2plY3RzL2NvbXBvbmVudHMvZmFjZXQvYm9vdHN0cmFwL2ZhY2V0LXRhZy1jbG91ZC9mYWNldC10YWctY2xvdWQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbInVsLmNsb3VkIHtcbiAgbGlzdC1zdHlsZTogbm9uZTtcbiAgcGFkZGluZy1sZWZ0OiAwO1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LXdyYXA6IHdyYXA7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICBvdmVyZmxvdy13cmFwOiBhbnl3aGVyZTtcbn1cblxuLyogRm9udHMgc2l6ZSAqL1xudWwuY2xvdWQgYVtkYXRhLXdlaWdodD1cIjFcIl0ge1xuICAtLXNpemU6IDE7XG59XG5cbnVsLmNsb3VkIGFbZGF0YS13ZWlnaHQ9XCIyXCJdIHtcbiAgLS1zaXplOiAyO1xufVxuXG51bC5jbG91ZCBhW2RhdGEtd2VpZ2h0PVwiM1wiXSB7XG4gIC0tc2l6ZTogMztcbn1cblxudWwuY2xvdWQgYVtkYXRhLXdlaWdodD1cIjRcIl0ge1xuICAtLXNpemU6IDQ7XG59XG5cbnVsLmNsb3VkIGFbZGF0YS13ZWlnaHQ9XCI1XCJdIHtcbiAgLS1zaXplOiA1O1xufVxuXG51bC5jbG91ZCBhW2RhdGEtd2VpZ2h0PVwiNlwiXSB7XG4gIC0tc2l6ZTogNjtcbn1cblxudWwuY2xvdWQgYVtkYXRhLXdlaWdodD1cIjdcIl0ge1xuICAtLXNpemU6IDc7XG59XG5cbnVsLmNsb3VkIGFbZGF0YS13ZWlnaHQ9XCI4XCJdIHtcbiAgLS1zaXplOiA4O1xufVxuXG51bC5jbG91ZCBhW2RhdGEtd2VpZ2h0PVwiOVwiXSB7XG4gIC0tc2l6ZTogOTtcbn1cblxudWwuY2xvdWQgYVtkYXRhLXdlaWdodD1cIjEwXCJdIHtcbiAgLS1zaXplOiAxMDtcbn1cblxudWwuY2xvdWQgYSB7XG4gIC0tc2l6ZTogMjtcbiAgLS1jb2xvcjogI2EzMztcbiAgY29sb3I6IHZhcigtLWNvbG9yKTtcbiAgZm9udC1zaXplOiBjYWxjKHZhcigtLXNpemUpICogMC4yNXJlbSArIDAuNXJlbSk7XG4gIHBhZGRpbmc6IDAuMTI1cmVtIDAuMjVyZW07XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICBkaXNwbGF5OiBibG9jaztcbn1cblxudWxbZGF0YS1zaG93LWNvdW50XSBhOjphZnRlciB7XG4gIGNvbnRlbnQ6IFwiIChcIiBhdHRyKGRhdGEtY291bnQpIFwiKVwiO1xuICBmb250LXNpemU6IGNhbGModmFyKC0tc2l6ZSkgKiAwLjEyNXJlbSArIDAuNXJlbSk7XG59XG5cbnVsLmNsb3VkIGE6OmJlZm9yZSB7XG4gIGNvbnRlbnQ6IFwiXCI7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAwO1xuICBsZWZ0OiA1MCU7XG4gIHdpZHRoOiAwO1xuICBoZWlnaHQ6IDEwMCU7XG4gIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC4wMyk7XG4gIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIDApO1xuICB0cmFuc2l0aW9uOiB3aWR0aCAwLjI1cztcbn1cblxudWwuY2xvdWQgYTpmb2N1czo6YmVmb3JlLFxudWwuY2xvdWQgYTpob3Zlcjo6YmVmb3JlIHtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbi5maWx0ZXJlZCB7XG4gIGZvbnQtc2l6ZTogY2FsYyh2YXIoLS1zaXplKSAqIDAuMTI1cmVtICsgMC41cmVtKTtcbn0iXX0= */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsFacetTagCloud, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-facet-tag-cloud",
                templateUrl: "./facet-tag-cloud.html",
                styleUrls: ["./facet-tag-cloud.scss"],
            }]
    }], function () { return [{ type: _facet_service__WEBPACK_IMPORTED_MODULE_4__["FacetService"] }]; }, { results: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], aggregations: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], limit: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], uniformRepartition: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], showCount: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], proportionalWeight: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], countThreshold: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], shuffleData: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], isolateFacetFilters: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "rVRG":
/*!****************************************************!*\
  !*** ../components/collapse/collapse.component.ts ***!
  \****************************************************/
/*! exports provided: collapseAnimations, Collapse */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "collapseAnimations", function() { return collapseAnimations; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Collapse", function() { return Collapse; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_animations__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/animations */ "f7+R");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "2kYt");




function Collapse_div_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainer"](1, 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("@show", !ctx_r0.collapsed && ctx_r0.afterViewInit);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngTemplateOutlet", ctx_r0.template);
} }
function collapseAnimations(timings) {
    return [
        Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["trigger"])('show', [
            Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["state"])('void', Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["style"])({ height: 0 })),
            Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["transition"])('void <=> 1', [
                Object(_angular_animations__WEBPACK_IMPORTED_MODULE_1__["animate"])(timings)
            ])
        ])
    ];
}
class Collapse {
    constructor() {
        this.collapsed = true;
    }
    ngAfterViewInit() {
        setTimeout(() => this.afterViewInit = true, 0); // Value can switch synchronously => this can cause "Expression has changed" error
    }
}
Collapse.ɵfac = function Collapse_Factory(t) { return new (t || Collapse)(); };
Collapse.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: Collapse, selectors: [["sq-collapse"]], contentQueries: function Collapse_ContentQueries(rf, ctx, dirIndex) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵcontentQuery"](dirIndex, _angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"], true);
    } if (rf & 2) {
        let _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.template = _t.first);
    } }, inputs: { collapsed: "collapsed" }, decls: 1, vars: 1, consts: [["class", "sq-collapse", 4, "ngIf"], [1, "sq-collapse"], [3, "ngTemplateOutlet"]], template: function Collapse_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, Collapse_div_0_Template, 2, 2, "div", 0);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.collapsed);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_2__["NgIf"], _angular_common__WEBPACK_IMPORTED_MODULE_2__["NgTemplateOutlet"]], styles: [".sq-collapse.ng-animating[_ngcontent-%COMP%] { overflow: hidden; }"], data: { animation: collapseAnimations(".15s ease-in-out") } });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](Collapse, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-collapse",
                template: `
        <div *ngIf="!collapsed" class="sq-collapse" [@show]="!collapsed && afterViewInit">
            <ng-container [ngTemplateOutlet]="template"></ng-container>
        </div>
    `,
                styles: [".sq-collapse.ng-animating { overflow: hidden; }"],
                animations: collapseAnimations(".15s ease-in-out")
            }]
    }], function () { return []; }, { collapsed: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], template: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"],
            args: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["TemplateRef"], { static: false }]
        }] }); })();


/***/ }),

/***/ "rccd":
/*!****************************************************************************!*\
  !*** ../components/autocomplete/bootstrap/field-search-items.component.ts ***!
  \****************************************************************************/
/*! exports provided: BsFieldSearchItemsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsFieldSearchItemsComponent", function() { return BsFieldSearchItemsComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "2kYt");



function BsFieldSearchItemsComponent_span_0_Template(rf, ctx) { if (rf & 1) {
    const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "span", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsFieldSearchItemsComponent_span_0_Template_span_click_2_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r3); const item_r1 = ctx.$implicit; const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r2.removeItem(item_r1); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const item_r1 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", item_r1.category);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", item_r1.display, " ");
} }
class BsFieldSearchItemsComponent {
    constructor(changeDetectorRef) {
        this.changeDetectorRef = changeDetectorRef;
        this.itemRemoved = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.items = [];
    }
    update(items) {
        this.items = items;
        this.changeDetectorRef.markForCheck();
    }
    removeItem(item) {
        this.itemRemoved.next(item);
        this.changeDetectorRef.markForCheck();
    }
}
BsFieldSearchItemsComponent.ɵfac = function BsFieldSearchItemsComponent_Factory(t) { return new (t || BsFieldSearchItemsComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"])); };
BsFieldSearchItemsComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsFieldSearchItemsComponent, selectors: [["sq-field-search-items"]], outputs: { itemRemoved: "itemRemoved" }, decls: 1, vars: 1, consts: [["class", "badge badge-pill badge-info align-self-center mr-1", 3, "ngClass", 4, "ngFor", "ngForOf"], [1, "badge", "badge-pill", "badge-info", "align-self-center", "mr-1", 3, "ngClass"], [1, "fas", "fa-times-circle", "clickable", 3, "click"]], template: function BsFieldSearchItemsComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, BsFieldSearchItemsComponent_span_0_Template, 3, 2, "span", 0);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.items);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["NgForOf"], _angular_common__WEBPACK_IMPORTED_MODULE_1__["NgClass"]], styles: ["[_nghost-%COMP%] {\n    display: flex;\n}\n.clickable[_ngcontent-%COMP%] {\n    cursor: pointer;\n}\n.clickable[_ngcontent-%COMP%]:hover {\n    opacity: 85%;\n}"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsFieldSearchItemsComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-field-search-items",
                template: `
<span *ngFor="let item of items" class="badge badge-pill badge-info align-self-center mr-1" [ngClass]="item.category">
    {{item.display}} <span class="fas fa-times-circle clickable" (click)="removeItem(item)"></span>
</span>
`,
                styles: [`
:host {
    display: flex;
}
.clickable {
    cursor: pointer;
}
.clickable:hover {
    opacity: 85%;
}
`]
            }]
    }], function () { return [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] }]; }, { itemRemoved: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }] }); })();


/***/ }),

/***/ "reLj":
/*!******************************!*\
  !*** ../core/base/map-of.ts ***!
  \******************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);



/***/ }),

/***/ "rijt":
/*!***********************************************!*\
  !*** ../components/preview/messages/index.ts ***!
  \***********************************************/
/*! exports provided: enPreview, frPreview, dePreview */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "enPreview", function() { return enPreview; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "frPreview", function() { return frPreview; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "dePreview", function() { return dePreview; });
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_components_search__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/components/search */ "7+c1");
/* harmony import */ var _sinequa_components_collapse__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/components/collapse */ "niHV");
/* harmony import */ var _sinequa_components_metadata__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/components/metadata */ "l9Gu");
/* harmony import */ var _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/components/modal */ "mOpA");
/* harmony import */ var _sinequa_components_facet__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sinequa/components/facet */ "vbgc");
/* harmony import */ var _sinequa_components_result__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @sinequa/components/result */ "fMrC");
/* harmony import */ var _en__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./en */ "aCMx");
/* harmony import */ var _fr__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./fr */ "03la");
/* harmony import */ var _de__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./de */ "UkvF");










const enPreview = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].merge({}, _en__WEBPACK_IMPORTED_MODULE_7__["default"], _sinequa_components_search__WEBPACK_IMPORTED_MODULE_1__["enSearch"], _sinequa_components_collapse__WEBPACK_IMPORTED_MODULE_2__["enCollapse"], _sinequa_components_metadata__WEBPACK_IMPORTED_MODULE_3__["enMetadata"], _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_4__["enModal"], _sinequa_components_facet__WEBPACK_IMPORTED_MODULE_5__["enFacet"], _sinequa_components_result__WEBPACK_IMPORTED_MODULE_6__["enResult"]);
const frPreview = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].merge({}, _fr__WEBPACK_IMPORTED_MODULE_8__["default"], _sinequa_components_search__WEBPACK_IMPORTED_MODULE_1__["frSearch"], _sinequa_components_collapse__WEBPACK_IMPORTED_MODULE_2__["frCollapse"], _sinequa_components_metadata__WEBPACK_IMPORTED_MODULE_3__["frMetadata"], _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_4__["frModal"], _sinequa_components_facet__WEBPACK_IMPORTED_MODULE_5__["frFacet"], _sinequa_components_result__WEBPACK_IMPORTED_MODULE_6__["frResult"]);
const dePreview = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].merge({}, _de__WEBPACK_IMPORTED_MODULE_9__["default"], _sinequa_components_search__WEBPACK_IMPORTED_MODULE_1__["deSearch"], _sinequa_components_collapse__WEBPACK_IMPORTED_MODULE_2__["deCollapse"], _sinequa_components_metadata__WEBPACK_IMPORTED_MODULE_3__["deMetadata"], _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_4__["deModal"], _sinequa_components_facet__WEBPACK_IMPORTED_MODULE_5__["deFacet"], _sinequa_components_result__WEBPACK_IMPORTED_MODULE_6__["deResult"]);



/***/ }),

/***/ "rlG2":
/*!*****************************************!*\
  !*** ../components/facet/public-api.ts ***!
  \*****************************************/
/*! exports provided: FACET_CHANGE_EVENTS, ALL_FACETS, DEFAULT_FACETS, FacetService, AbstractFacet, BsFacetBar, BsFacetCard, BsFacetFilters, BsFacetList, BsFacetModule, BsMySearch, RoundTarget, RoundType, BsFacetRange, BsRefine, BsFacetTree, BsFacetMultiComponent, BsFacetTagCloud, enFacet, frFacet, deFacet */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _facet_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./facet.service */ "mQJ4");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "FACET_CHANGE_EVENTS", function() { return _facet_service__WEBPACK_IMPORTED_MODULE_0__["FACET_CHANGE_EVENTS"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ALL_FACETS", function() { return _facet_service__WEBPACK_IMPORTED_MODULE_0__["ALL_FACETS"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "DEFAULT_FACETS", function() { return _facet_service__WEBPACK_IMPORTED_MODULE_0__["DEFAULT_FACETS"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "FacetService", function() { return _facet_service__WEBPACK_IMPORTED_MODULE_0__["FacetService"]; });

/* harmony import */ var _abstract_facet__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./abstract-facet */ "+Pqq");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AbstractFacet", function() { return _abstract_facet__WEBPACK_IMPORTED_MODULE_1__["AbstractFacet"]; });

/* harmony import */ var _bootstrap_index__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./bootstrap/index */ "8QOD");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFacetBar", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_2__["BsFacetBar"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFacetCard", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_2__["BsFacetCard"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFacetFilters", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_2__["BsFacetFilters"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFacetList", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_2__["BsFacetList"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFacetModule", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_2__["BsFacetModule"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsMySearch", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_2__["BsMySearch"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RoundTarget", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_2__["RoundTarget"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RoundType", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_2__["RoundType"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFacetRange", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_2__["BsFacetRange"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsRefine", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_2__["BsRefine"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFacetTree", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_2__["BsFacetTree"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFacetMultiComponent", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_2__["BsFacetMultiComponent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFacetTagCloud", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_2__["BsFacetTagCloud"]; });

/* harmony import */ var _messages_index__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./messages/index */ "dR9X");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "enFacet", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_3__["enFacet"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "frFacet", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_3__["frFacet"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "deFacet", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_3__["deFacet"]; });







/***/ }),

/***/ "ruY2":
/*!******************************************!*\
  !*** ../components/modal/messages/de.ts ***!
  \******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    "help": {
        "title": "Online-Hilfe"
    },
    "overrideUser": {
        "title": "Benutzer wechseln",
        "userName": "Benutzername",
        "domain": "Domäne"
    },
    "btnClose": {
        "text": "Schließen"
    }
});


/***/ }),

/***/ "sUkJ":
/*!******************************************************************!*\
  !*** ../components/preview/preview-document-iframe.component.ts ***!
  \******************************************************************/
/*! exports provided: PreviewDocumentIframe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "PreviewDocumentIframe", function() { return PreviewDocumentIframe; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _preview_document__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./preview-document */ "4uMq");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/platform-browser */ "e4iD");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ "2kYt");






const _c0 = ["tooltip"];
const _c1 = ["documentFrame"];
const _c2 = function (a0) { return { "-ms-zoom": a0, "-moz-transform": "scale(var(--factor))", "-o-transform": "scale(var(--factor))", "-webkit-transform": "scale(var(--factor))" }; };
/**
 * This component manages the iframe containing the document's preview.
 * The main input is the URL of the document's preview.
 * The main output is an event emitter providing an instance of PreviewDocument.
 *
 * PreviewDocument is a wrapper around the HTML Document, allowing to interact with
 * the HTML of the preview (for example to highlight some entities)
 *
 * It is possible to insert a tooltip in the preview via transclusion.
 * Example:
    <sq-preview-document-iframe
        [downloadUrl]="downloadUrl"
        (onPreviewReady)="onPreviewReady($event)">
        <sq-preview-tooltip #tooltip
            [previewDocument]="previewDocument"
            [previewData]="previewDocument">
        </sq-preview-tooltip>
    </sq-preview-document-iframe>
 */
class PreviewDocumentIframe {
    constructor(cdr, sanitizer) {
        this.cdr = cdr;
        this.sanitizer = sanitizer;
        this.defaultSandbox = "allow-forms allow-modals allow-orientation-lock allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-presentation allow-same-origin allow-scripts";
        this.scalingFactor = 1.0;
        this.onPreviewReady = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        // page could change when location.href change or when user click on a tab (sheet case)
        // when URL a string is sent otherwise a PreviewDocument
        this.pageChange = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.previewDocLoadHandler = this.onPreviewDocLoad.bind(this);
    }
    onPreviewDocLoad() {
        if (this.downloadUrl === undefined)
            return;
        // previewDocument must be created here when document is fully loaded
        // because in case of sheet, PreviewDocument constructor change.
        this.previewDocument = new _preview_document__WEBPACK_IMPORTED_MODULE_2__["PreviewDocument"](this.documentFrame);
        // SVG highlight:
        //   background rectangle (highlight) were added to the SVG by the HTML generator (C#), but html generation is
        //   not able to know the geometry of the text. It is up to the browser to compute the position and size of the
        //   background. That needs to be done now that the iFrame is loaded.
        try {
            this.previewDocument.setSvgBackgroundPositionAndSize();
        }
        catch (error) {
            console.error(error);
        }
        /* To catch tab's sheet changes
         * Sheet structure:
         * <iframe #preview>
         *      #document
         *          ...
         *          <frameset>
         *              <iframe name="frSheet"> // current sheet displayed
         *              <iframe name="frTabs">  // contains all sheet's tabs
         *          </frameset>
         *          ...
         * </iframe>
         */
        const sheetFrame = this.documentFrame.nativeElement.contentDocument.getElementsByName("frSheet");
        if (sheetFrame.length > 0) {
            sheetFrame[0].removeEventListener("load", () => { });
            sheetFrame[0].addEventListener("load", () => {
                this.previewDocument = new _preview_document__WEBPACK_IMPORTED_MODULE_2__["PreviewDocument"](this.documentFrame);
                this.pageChange.next(this.previewDocument);
                this.cdr.markForCheck();
            }, true);
        }
        if (this.tooltip)
            this.addTooltip(this.previewDocument);
        // Let upstream component know document is now ready
        this.onPreviewReady.next(this.previewDocument);
        this.cdr.markForCheck();
    }
    addTooltip(previewDocument) {
        previewDocument.insertComponent(this.tooltip.nativeElement);
    }
    ngOnInit() {
        this.documentFrame.nativeElement.addEventListener("load", this.previewDocLoadHandler, true);
    }
    ngOnDestroy() {
        this.documentFrame.nativeElement.removeEventListener("load", this.previewDocLoadHandler);
    }
    ngOnChanges(simpleChanges) {
        if (simpleChanges.scalingFactor && !simpleChanges.scalingFactor.firstChange) {
            return;
        }
        this.resetContent();
        if (simpleChanges.downloadUrl && simpleChanges.downloadUrl.currentValue !== undefined) {
            // set sandbox attribute only when downloadUrl is defined, so iframe is created without sandbox attribute
            // if sandbox is null, keep sandbox attribute to undefined
            // otherwise put sanbox value in the sanbox attribute or default sandbox value
            this._sandbox = (this.sandbox === null) ? undefined : _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].isString(this.sandbox) ? this.sandbox : this.defaultSandbox;
            this.sanitizedUrlSrc = this.sanitizer.bypassSecurityTrustResourceUrl(this.downloadUrl);
        }
    }
    ngAfterViewInit() {
        this.resetContent();
        this.iframeURLChange(this.documentFrame.nativeElement, (newURL) => {
            this.previewDocument = new _preview_document__WEBPACK_IMPORTED_MODULE_2__["PreviewDocument"](this.documentFrame);
            this.pageChange.next(newURL);
        });
    }
    iframeURLChange(iframe, callback) {
        let lastDispatched = null;
        const dispatchChange = function () {
            if (iframe.contentWindow) {
                const newHref = iframe.contentWindow.location.href;
                if (newHref === "about:blank")
                    return;
                if (newHref !== lastDispatched) {
                    callback(newHref);
                    lastDispatched = newHref;
                }
            }
        };
        const unloadHandler = function (e) {
            setTimeout(dispatchChange, 0);
        };
        function attachUnload() {
            // Remove the unloadHandler in case it was already attached.
            // Otherwise, there will be two handlers, which is unnecessary.
            if (iframe.contentWindow) {
                iframe.contentWindow.removeEventListener("unload", unloadHandler);
                iframe.contentWindow.addEventListener("unload", unloadHandler);
            }
        }
        iframe.addEventListener("load", function () {
            attachUnload();
            // Just in case the change wasn't dispatched during the unload event...
            dispatchChange();
        });
        attachUnload();
    }
    resetContent() {
        this.sanitizedUrlSrc = this.sanitizer.bypassSecurityTrustResourceUrl('about:blank');
    }
}
PreviewDocumentIframe.ɵfac = function PreviewDocumentIframe_Factory(t) { return new (t || PreviewDocumentIframe)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_platform_browser__WEBPACK_IMPORTED_MODULE_3__["DomSanitizer"])); };
PreviewDocumentIframe.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: PreviewDocumentIframe, selectors: [["sq-preview-document-iframe"]], contentQueries: function PreviewDocumentIframe_ContentQueries(rf, ctx, dirIndex) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵcontentQuery"](dirIndex, _c0, true, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"]);
    } if (rf & 2) {
        let _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.tooltip = _t.first);
    } }, viewQuery: function PreviewDocumentIframe_Query(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵstaticViewQuery"](_c1, true);
    } if (rf & 2) {
        let _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.documentFrame = _t.first);
    } }, inputs: { sandbox: "sandbox", downloadUrl: "downloadUrl", scalingFactor: "scalingFactor" }, outputs: { onPreviewReady: "onPreviewReady", pageChange: "pageChange" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 2, vars: 7, consts: [[3, "src", "ngStyle"], ["documentFrame", ""]], template: function PreviewDocumentIframe_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "iframe", 0, 1);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵstyleProp"]("--factor", ctx.scalingFactor);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("src", ctx.sanitizedUrlSrc, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeResourceUrl"])("ngStyle", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](5, _c2, ctx.scalingFactor));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵattribute"]("sandbox", ctx._sandbox);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_4__["NgStyle"]], styles: ["[_nghost-%COMP%]{\n    flex: 1;\n}\n\n\niframe[_ngcontent-%COMP%] {\n    background-color: white;\n    flex: 1;\n    position: relative;\n    display: block;\n    top: 0;\n    left: 0;\n    bottom: 0;\n    height: calc(100% / var(--factor));\n    width: calc(100% / var(--factor));\n    border: 0;\n\n    -moz-transform-origin: 0 0;\n    -o-transform-origin: 0 0;\n    -webkit-transform-origin: 0 0;\n}\n\n.spinner-grow[_ngcontent-%COMP%] {\n    width: 3rem;\n    height: 3rem\n}"], changeDetection: 0 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](PreviewDocumentIframe, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-preview-document-iframe",
                template: `
                <iframe #documentFrame
                    [attr.sandbox]="_sandbox"
                    [src]="sanitizedUrlSrc"
                    [style.--factor]="scalingFactor"
                    [ngStyle]="{'-ms-zoom': scalingFactor, '-moz-transform': 'scale(var(--factor))', '-o-transform': 'scale(var(--factor))', '-webkit-transform': 'scale(var(--factor))'}">
                </iframe>`,
                changeDetection: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectionStrategy"].OnPush,
                styles: [`
:host{
    flex: 1;
}


iframe {
    background-color: white;
    flex: 1;
    position: relative;
    display: block;
    top: 0;
    left: 0;
    bottom: 0;
    height: calc(100% / var(--factor));
    width: calc(100% / var(--factor));
    border: 0;

    -moz-transform-origin: 0 0;
    -o-transform-origin: 0 0;
    -webkit-transform-origin: 0 0;
}

.spinner-grow {
    width: 3rem;
    height: 3rem
}
    `]
            }]
    }], function () { return [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] }, { type: _angular_platform_browser__WEBPACK_IMPORTED_MODULE_3__["DomSanitizer"] }]; }, { sandbox: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], downloadUrl: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], scalingFactor: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], onPreviewReady: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }], pageChange: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }], documentFrame: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"],
            args: ['documentFrame', { static: true }]
        }], tooltip: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"],
            args: ['tooltip', { read: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"], static: false }]
        }] }); })();


/***/ }),

/***/ "sZXJ":
/*!**************************************!*\
  !*** ../core/modal/modal.service.ts ***!
  \**************************************/
/*! exports provided: MODAL_MODEL, ModalButton, MODAL_CONFIRM, MODAL_PROMPT, ModalService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MODAL_MODEL", function() { return MODAL_MODEL; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ModalButton", function() { return ModalButton; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MODAL_CONFIRM", function() { return MODAL_CONFIRM; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MODAL_PROMPT", function() { return MODAL_PROMPT; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ModalService", function() { return ModalService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_cdk_overlay__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/cdk/overlay */ "HYj3");
/* harmony import */ var _angular_cdk_portal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/cdk/portal */ "Sv/w");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _modal_ref__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./modal-ref */ "Mvhk");







const DEFAULT_CONFIG = {
    hasBackdrop: true,
    backdropClass: ["cdk-overlay-dark-backdrop", "sq-modal-backdrop"],
    panelClass: "sq-modal-pane",
    model: null,
    closeOnBackdropClick: true
};
/**
 * The `MODAL_MODEL` injection token can be used to access the modal's model in
 * the the modal component. The value is `provided` from the value set in the
 * {@link ModalConfig} options when the modal is opened.
 */
const MODAL_MODEL = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["InjectionToken"]('MODAL_MODEL');
/**
 * A class representing a button displayed in a modal.
 */
class ModalButton {
    constructor(options) {
        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].extend(this, { visible: true, anchor: false }, options);
    }
    /**
     * Get the button text. Buttons with non-custom result types
     * have default text depending on their result type -
     * `msg#modal.buttons.ok`, `msg#modal.buttons.cancel` etc
     */
    getText() {
        if (this.text) {
            return this.text;
        }
        switch (this.result) {
            case -1 /* OK */:
                return "msg#modal.buttons.ok";
            case -2 /* Cancel */:
                return "msg#modal.buttons.cancel";
            case -3 /* Yes */:
                return "msg#modal.buttons.yes";
            case -4 /* No */:
                return "msg#modal.buttons.no";
            case -5 /* Abort */:
                return "msg#modal.buttons.abort";
            case -6 /* Retry */:
                return "msg#modal.buttons.retry";
            case -7 /* Ignore */:
                return "msg#modal.buttons.ignore";
            default:
                return "";
        }
    }
    /**
     * Perform a click on a button. The button's explicit action is performed if set and
     * the modal closed with the button's modal result if the `result` type is non-`Custom`.
     * If the validation status not `valid` this method returns without performing any action.
     *
     * @param closer An object with a `close` method. If the result type is non-custom then
     * the `close` method of this object is called.
     */
    click(closer) {
        if (this.validation && !this.validation.valid) {
            return;
        }
        if (this.action) {
            this.action(this);
        }
        if (this.result !== 0 /* Custom */) {
            closer.close(this.result);
        }
    }
}
/**
 * An injection token to set the component to use for the `confirm` modal displayed
 * by the [ModalService.confirm]{@link ModalService#confirm} method.
 */
const MODAL_CONFIRM = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["InjectionToken"]('MODAL_CONFIRM');
/**
 * An injection token to set the component to use for the `prompt` modal displayed
 * by the [ModalService.prompt]{@link ModalService#confirm} method.
 */
const MODAL_PROMPT = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["InjectionToken"]('MODAL_PROMPT');
/**
 * A service to open modal dialogs.
 */
class ModalService {
    constructor(injector, overlay, confirmModal, promptModal) {
        this.injector = injector;
        this.overlay = overlay;
        this.confirmModal = confirmModal;
        this.promptModal = promptModal;
    }
    /**
     * Open a modal dialog using the passed configuration options.
     *
     * @param component The type of the component to use for the modal.
     * @param config Configuration options for the modal.
     * @retuns An `IModalRef` object that can be used to close the modal.
     */
    openRef(component, config = {}) {
        // Override default configuration
        const modalConfig = Object.assign(Object.assign({}, DEFAULT_CONFIG), config);
        if (modalConfig.fullscreen) {
            modalConfig.width = "100%";
            modalConfig.height = "100%";
            if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].isString(modalConfig.panelClass)) {
                modalConfig.panelClass = [modalConfig.panelClass, "sq-modal-fullscreen"];
            }
            else if (modalConfig.panelClass) {
                modalConfig.panelClass.push("sq-modal-fullscreen");
            }
            else {
                modalConfig.panelClass = "sq-modal-fullscreen";
            }
        }
        // Returns an OverlayRef which is a PortalHost
        const overlayRef = this.createOverlay(modalConfig);
        // Instantiate remote control
        const modalRef = new _modal_ref__WEBPACK_IMPORTED_MODULE_4__["ModalRef"](overlayRef);
        const overlayComponent = this.attachDialogContainer(component, overlayRef, modalConfig, modalRef);
        modalRef.componentInstance = overlayComponent;
        overlayRef.hostElement.classList.add("sq-modal-host");
        if (modalConfig.closeOnBackdropClick) {
            // NB backdropClick will not fire if pointer-events are enabled on modal-host
            overlayRef.backdropClick().subscribe(() => modalRef.close());
            // Provide support for a scrollable sq-modal-host (overlay wrapper)
            // The standard cdk styling disables pointer-events at this level which means that scrolling
            // won't work. We can enable pointer-events in css but then the backdrop will not receive the
            // click event. So, we handle the click event directly on sq-modal-host also and if the
            // click target === sq-modal-host then we initiate modal closing here
            overlayRef.hostElement.addEventListener("click", (event) => {
                if (event.target === overlayRef.hostElement) {
                    modalRef.close();
                }
            });
        }
        overlayRef.keydownEvents().subscribe((event) => {
            if (event.keyCode === _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Keys"].esc) {
                modalRef.close();
            }
        });
        modalRef.disableSubmit();
        return modalRef;
    }
    /**
     * A wrapper around the {@link #openRef} method which returns a `Promise` that resolves
     * with the `ModalResult` when the modal is closed.
     *
     * @param component The type of the component to use for the modal.
     * @param config Configuration options for the modal.
     * @retuns The `ModalResult` when the modal is closed.
     */
    open(component, config = {}) {
        const modalRef = this.openRef(component, config);
        return modalRef.afterClosed().toPromise();
    }
    createOverlay(config) {
        const overlayConfig = this.getOverlayConfig(config);
        return this.overlay.create(overlayConfig);
    }
    attachDialogContainer(component, overlayRef, config, modalRef) {
        // PortalInjector() is deprecated
        const injector = _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"].create({
            providers: [
                { provide: _modal_ref__WEBPACK_IMPORTED_MODULE_4__["ModalRef"], useValue: modalRef },
                { provide: MODAL_MODEL, useValue: config.model }
            ],
            parent: this.injector
        });
        const containerPortal = new _angular_cdk_portal__WEBPACK_IMPORTED_MODULE_2__["ComponentPortal"](component, null, injector);
        const containerRef = overlayRef.attach(containerPortal);
        return containerRef.instance;
    }
    getOverlayConfig(config) {
        const positionStrategy = this.overlay.position()
            .global()
            .centerHorizontally()
            .centerVertically();
        const overlayConfig = new _angular_cdk_overlay__WEBPACK_IMPORTED_MODULE_1__["OverlayConfig"]({
            hasBackdrop: config.hasBackdrop,
            backdropClass: config.backdropClass,
            panelClass: config.panelClass,
            scrollStrategy: this.overlay.scrollStrategies.block(),
            positionStrategy
        });
        return overlayConfig;
    }
    /**
     * Open a confirmation modal dialog displaying a message and a set buttons. This is similar to the Javacsript
     * `Window.alert` method but renders a modal.
     *
     * @param options The options used to open the confirm modal. These are set as the `MODAL_MODEL`  of the modal.
     */
    confirm(options) {
        return this.open(this.confirmModal, { model: options });
    }
    /**
     * Open a prompt modal dialog displaying a message, an input and OK/Cancel buttons.
     *
     * @param options The options used to open the prompt modal. These are set as the `MODAL_MODEL`  of the modal.
     */
    prompt(options) {
        return this.open(this.promptModal, { model: options });
    }
    /**
     * Open a confirm modal that has an `OK` button.
     *
     * @param message The message to display in the modal.
     * @param messageParams The parameters for the message.
     * @param title The confirm modal's title.
     * @param confirmType The type of the confirm modal.
     */
    oK(message, messageParams, title, confirmType = 0 /* Success */) {
        return this.confirm({
            title,
            message,
            messageParams,
            confirmType,
            buttons: [
                new ModalButton({ visible: true, result: -1 /* OK */, primary: true })
            ]
        });
    }
    /**
     * Open a confirm modal that has `OK` and `Cancel` buttons.
     *
     * @param message The message to display in the modal.
     * @param messageParams The parameters for the message.
     * @param title The confirm modal's title.
     * @param confirmType The type of the confirm modal.
     * @param primaryButton The result type of the button which should be primary.
     */
    oKCancel(message, messageParams, title, confirmType = 1 /* Info */, primaryButton = -1 /* OK */) {
        return this.confirm({
            title,
            message,
            messageParams,
            confirmType,
            buttons: [
                new ModalButton({ visible: true, result: -1 /* OK */, primary: primaryButton === -1 /* OK */ }),
                new ModalButton({ visible: true, result: -2 /* Cancel */, primary: primaryButton === -2 /* Cancel */ })
            ]
        });
    }
    /**
     * Open a confirm modal that has `Yes` and `No` buttons.
     *
     * @param message The message to display in the modal.
     * @param messageParams The parameters for the message.
     * @param title The confirm modal's title.
     * @param confirmType The type of the confirm modal.
     * @param primaryButton The result type of the button which should be primary.
     */
    yesNo(message, messageParams, title, confirmType = 1 /* Info */, primaryButton = -3 /* Yes */) {
        return this.confirm({
            title,
            message,
            messageParams,
            confirmType,
            buttons: [
                new ModalButton({ visible: true, result: -3 /* Yes */, primary: primaryButton === -3 /* Yes */ }),
                new ModalButton({ visible: true, result: -4 /* No */, primary: primaryButton === -4 /* No */ })
            ]
        });
    }
}
ModalService.ɵfac = function ModalService_Factory(t) { return new (t || ModalService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_angular_cdk_overlay__WEBPACK_IMPORTED_MODULE_1__["Overlay"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](MODAL_CONFIRM), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](MODAL_PROMPT)); };
ModalService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: ModalService, factory: ModalService.ɵfac, providedIn: "root" });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](ModalService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: "root"
            }]
    }], function () { return [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injector"] }, { type: _angular_cdk_overlay__WEBPACK_IMPORTED_MODULE_1__["Overlay"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Type"], decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [MODAL_CONFIRM]
            }] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Type"], decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [MODAL_PROMPT]
            }] }]; }, null); })();


/***/ }),

/***/ "sa9V":
/*!****************************************!*\
  !*** ../core/intl/module.providers.ts ***!
  \****************************************/
/*! exports provided: INTL_MODULE_PROVIDERS */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "INTL_MODULE_PROVIDERS", function() { return INTL_MODULE_PROVIDERS; });
const INTL_MODULE_PROVIDERS = [];



/***/ }),

/***/ "srWR":
/*!**********************************************!*\
  !*** ../components/search/messages/index.ts ***!
  \**********************************************/
/*! exports provided: enSearch, frSearch, deSearch */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _en__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./en */ "CvOW");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "enSearch", function() { return _en__WEBPACK_IMPORTED_MODULE_0__["default"]; });

/* harmony import */ var _fr__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./fr */ "Kmd7");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "frSearch", function() { return _fr__WEBPACK_IMPORTED_MODULE_1__["default"]; });

/* harmony import */ var _de__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./de */ "pj29");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "deSearch", function() { return _de__WEBPACK_IMPORTED_MODULE_2__["default"]; });







/***/ }),

/***/ "szUJ":
/*!**********************************************************************!*\
  !*** ../components/preview/bootstrap/preview-panel/preview-panel.ts ***!
  \**********************************************************************/
/*! exports provided: BsPreviewPanel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsPreviewPanel", function() { return BsPreviewPanel; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _preview_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../preview.service */ "lGAU");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _preview_links_preview_links__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../preview-links/preview-links */ "tD4Y");
/* harmony import */ var _preview_highlights_preview_highlights__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../preview-highlights/preview-highlights */ "4Ncj");
/* harmony import */ var _facet_bootstrap_facet_card_facet_card__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../facet/bootstrap/facet-card/facet-card */ "wL8g");
/* harmony import */ var _preview_document_iframe_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../preview-document-iframe.component */ "sUkJ");
/* harmony import */ var _preview_tooltip_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../preview-tooltip.component */ "n+UL");
/* harmony import */ var _metadata_metadata_metadata__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../metadata/metadata/metadata */ "dxkz");
/* harmony import */ var _similar_documents_similar_documents__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../similar-documents/similar-documents */ "qI9m");











function BsPreviewPanel_div_0_sq_metadata_8_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "sq-metadata", 14);
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("record", ctx_r1.previewData.record)("items", ctx_r1.metadata)("showTitles", false)("showIcons", true)("clickable", false);
} }
function BsPreviewPanel_div_0_sq_similar_documents_9_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "sq-similar-documents", 15);
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("sourceDocumentId", ctx_r2.previewData.record.id)("query", ctx_r2.query);
} }
function BsPreviewPanel_div_0_Template(rf, ctx) { if (rf & 1) {
    const _r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](4, "sq-preview-links", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](5, "sq-preview-highlights", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "sq-facet-card", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](8, BsPreviewPanel_div_0_sq_metadata_8_Template, 1, 5, "sq-metadata", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](9, BsPreviewPanel_div_0_sq_similar_documents_9_Template, 1, 2, "sq-similar-documents", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](10, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](11, "sq-preview-document-iframe", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("onPreviewReady", function BsPreviewPanel_div_0_Template_sq_preview_document_iframe_onPreviewReady_11_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r5); const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r4.onPreviewReady($event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](12, "sq-preview-tooltip", 12, 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMapInterpolate1"]("col-lg-3 sq-col ", ctx_r0.leftPaneAdditionalClasses, "");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("record", ctx_r0.previewData.record)("resultId", ctx_r0.previewData.resultId);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("previewDocument", ctx_r0.previewDocument)("previewData", ctx_r0.previewData);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("title", "msg#preview.documentPropertiesTitle");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r0.previewData.record);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r0.displaySimilarDocuments);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("sandbox", ctx_r0.sandbox)("downloadUrl", ctx_r0.downloadUrl);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("previewDocument", ctx_r0.previewDocument)("previewData", ctx_r0.previewDocument);
} }
class BsPreviewPanel {
    constructor(previewService, changeDetectorRef) {
        this.previewService = previewService;
        this.changeDetectorRef = changeDetectorRef;
    }
    ngOnChanges(changes) {
        if (changes["previewData"]) {
            this.downloadUrl = this.previewData ? this.previewService.makeDownloadUrl(this.previewData.documentCachedContentUrl) : undefined;
        }
    }
    onPreviewReady(previewDocument) {
        this.previewDocument = previewDocument;
        this.changeDetectorRef.markForCheck();
    }
}
BsPreviewPanel.ɵfac = function BsPreviewPanel_Factory(t) { return new (t || BsPreviewPanel)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_preview_service__WEBPACK_IMPORTED_MODULE_1__["PreviewService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"])); };
BsPreviewPanel.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsPreviewPanel, selectors: [["sq-preview-panel"]], inputs: { query: "query", previewData: "previewData", sandbox: "sandbox", displaySimilarDocuments: "displaySimilarDocuments", metadata: "metadata", leftPaneAdditionalClasses: "leftPaneAdditionalClasses" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 1, vars: 1, consts: [["class", "container-fluid sq-preview", 4, "ngIf"], [1, "container-fluid", "sq-preview"], [1, "row", "sq-row"], [1, "sq-preview-bar"], [1, "d-block", "mb-3", 3, "record", "resultId"], [1, "d-block", "mb-3", 3, "previewDocument", "previewData"], [1, "d-block", "mb-3", 3, "title"], ["id", "documentPropertiesBody", 1, "card-body", "collapse", "show"], [3, "record", "items", "showTitles", "showIcons", "clickable", 4, "ngIf"], ["class", "d-block mb-3", 3, "sourceDocumentId", "query", 4, "ngIf"], [1, "col-lg-9", "sq-col", "d-flex", "flex-column"], [3, "sandbox", "downloadUrl", "onPreviewReady"], [3, "previewDocument", "previewData"], ["tooltip", ""], [3, "record", "items", "showTitles", "showIcons", "clickable"], [1, "d-block", "mb-3", 3, "sourceDocumentId", "query"]], template: function BsPreviewPanel_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, BsPreviewPanel_div_0_Template, 14, 14, "div", 0);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !!ctx.previewData);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_2__["NgIf"], _preview_links_preview_links__WEBPACK_IMPORTED_MODULE_3__["BsPreviewLinks"], _preview_highlights_preview_highlights__WEBPACK_IMPORTED_MODULE_4__["BsPreviewHighlights"], _facet_bootstrap_facet_card_facet_card__WEBPACK_IMPORTED_MODULE_5__["BsFacetCard"], _preview_document_iframe_component__WEBPACK_IMPORTED_MODULE_6__["PreviewDocumentIframe"], _preview_tooltip_component__WEBPACK_IMPORTED_MODULE_7__["PreviewTooltip"], _metadata_metadata_metadata__WEBPACK_IMPORTED_MODULE_8__["Metadata"], _similar_documents_similar_documents__WEBPACK_IMPORTED_MODULE_9__["BsSimilarDocuments"]], styles: [".sq-preview-document-properties[_ngcontent-%COMP%] {\n  margin-top: 0.5em;\n}\n\n.collapseButton[_ngcontent-%COMP%] {\n  float: right;\n}\n\n.sq-preview-bar[_ngcontent-%COMP%] {\n  overflow-x: hidden;\n  min-height: 100%;\n}\n\n.sq-preview[_ngcontent-%COMP%] {\n  height: 100%;\n}\n\n.sq-preview[_ngcontent-%COMP%]    > .row[_ngcontent-%COMP%] {\n  flex-wrap: nowrap;\n  height: 100%;\n}\n\n.sq-preview[_ngcontent-%COMP%]    > .row[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%] {\n  overflow-x: hidden;\n  overflow-y: auto;\n  height: 100%;\n  -webkit-overflow-scrolling: touch;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2plY3RzL2NvbXBvbmVudHMvcHJldmlldy9ib290c3RyYXAvcHJldmlldy1wYW5lbC9wcmV2aWV3LXBhbmVsLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxpQkFBQTtBQUNGOztBQUVBO0VBQ0UsWUFBQTtBQUNGOztBQUVBO0VBQ0Usa0JBQUE7RUFDQSxnQkFBQTtBQUNGOztBQUVBO0VBQ0UsWUFBQTtBQUNGOztBQUNBO0VBQ0UsaUJBQUE7RUFDQSxZQUFBO0FBRUY7O0FBQUE7RUFDRSxrQkFBQTtFQUNBLGdCQUFBO0VBQ0EsWUFBQTtFQUNBLGlDQUFBO0FBR0YiLCJmaWxlIjoicHJvamVjdHMvY29tcG9uZW50cy9wcmV2aWV3L2Jvb3RzdHJhcC9wcmV2aWV3LXBhbmVsL3ByZXZpZXctcGFuZWwuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5zcS1wcmV2aWV3LWRvY3VtZW50LXByb3BlcnRpZXMge1xuICBtYXJnaW4tdG9wOiAwLjVlbTtcbn1cblxuLmNvbGxhcHNlQnV0dG9uIHtcbiAgZmxvYXQ6IHJpZ2h0O1xufVxuXG4uc3EtcHJldmlldy1iYXIge1xuICBvdmVyZmxvdy14OiBoaWRkZW47XG4gIG1pbi1oZWlnaHQ6IDEwMCU7XG59XG5cbi5zcS1wcmV2aWV3IHtcbiAgaGVpZ2h0OiAxMDAlO1xufVxuLnNxLXByZXZpZXcgPiAucm93IHtcbiAgZmxleC13cmFwOiBub3dyYXA7XG4gIGhlaWdodDogMTAwJTtcbn1cbi5zcS1wcmV2aWV3ID4gLnJvdyA+IGRpdiB7XG4gIG92ZXJmbG93LXg6IGhpZGRlbjtcbiAgb3ZlcmZsb3cteTogYXV0bztcbiAgaGVpZ2h0OiAxMDAlO1xuICAtd2Via2l0LW92ZXJmbG93LXNjcm9sbGluZzogdG91Y2g7XG59Il19 */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsPreviewPanel, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-preview-panel",
                templateUrl: "./preview-panel.html",
                styleUrls: ["./preview-panel.scss"]
            }]
    }], function () { return [{ type: _preview_service__WEBPACK_IMPORTED_MODULE_1__["PreviewService"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] }]; }, { query: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], previewData: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], sandbox: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], displaySimilarDocuments: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], metadata: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], leftPaneAdditionalClasses: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "t6Vy":
/*!*****************************************************!*\
  !*** ../components/saved-queries/messages/index.ts ***!
  \*****************************************************/
/*! exports provided: enSavedQueries, frSavedQueries, deSavedQueries */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "enSavedQueries", function() { return enSavedQueries; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "frSavedQueries", function() { return frSavedQueries; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "deSavedQueries", function() { return deSavedQueries; });
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_components_search__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/components/search */ "7+c1");
/* harmony import */ var _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/components/selection */ "8GPZ");
/* harmony import */ var _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/components/modal */ "mOpA");
/* harmony import */ var _en__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./en */ "uWcm");
/* harmony import */ var _fr__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./fr */ "2mFK");
/* harmony import */ var _de__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./de */ "AG1b");







const enSavedQueries = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].merge({}, _en__WEBPACK_IMPORTED_MODULE_4__["default"], _sinequa_components_search__WEBPACK_IMPORTED_MODULE_1__["enSearch"], _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_2__["enSelection"], _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_3__["enModal"]);
const frSavedQueries = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].merge({}, _fr__WEBPACK_IMPORTED_MODULE_5__["default"], _sinequa_components_search__WEBPACK_IMPORTED_MODULE_1__["frSearch"], _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_2__["frSelection"], _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_3__["frModal"]);
const deSavedQueries = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_0__["Utils"].merge({}, _de__WEBPACK_IMPORTED_MODULE_6__["default"], _sinequa_components_search__WEBPACK_IMPORTED_MODULE_1__["deSearch"], _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_2__["deSelection"], _sinequa_components_modal__WEBPACK_IMPORTED_MODULE_3__["deModal"]);



/***/ }),

/***/ "t6nX":
/*!*****************************!*\
  !*** ../core/base/utils.ts ***!
  \*****************************/
/*! exports provided: Timer, Utils */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Timer", function() { return Timer; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Utils", function() { return Utils; });
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/common/http */ "vobO");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! moment */ "wgY5");
/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var diacritics__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! diacritics */ "+xsc");
/* harmony import */ var diacritics__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(diacritics__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var jssha__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jssha */ "2GPy");
/* harmony import */ var jssha__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(jssha__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var lodash_kebabCase__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash/kebabCase */ "s2Gj");
/* harmony import */ var lodash_kebabCase__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_kebabCase__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var lodash_snakeCase__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lodash/snakeCase */ "CzFL");
/* harmony import */ var lodash_snakeCase__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(lodash_snakeCase__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var lodash_camelCase__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lodash/camelCase */ "S0cN");
/* harmony import */ var lodash_camelCase__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(lodash_camelCase__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var lodash_escape__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! lodash/escape */ "7uJl");
/* harmony import */ var lodash_escape__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(lodash_escape__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var lodash_unescape__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! lodash/unescape */ "KjBU");
/* harmony import */ var lodash_unescape__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(lodash_unescape__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var lodash_isEqual__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! lodash/isEqual */ "nnRT");
/* harmony import */ var lodash_isEqual__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(lodash_isEqual__WEBPACK_IMPORTED_MODULE_9__);










// Because of: https://github.com/angular/angular/issues/18261
class SqHttpParameterCodec {
    encodeKey(key) {
        return encodeURIComponent(key);
    }
    encodeValue(value) {
        return encodeURIComponent(value);
    }
    decodeKey(key) {
        return decodeURIComponent(key);
    }
    decodeValue(value) {
        return decodeURIComponent(value);
    }
}
class FrameTask {
    constructor(callback, params) {
        this.callback = callback;
        this.params = params;
    }
    call() {
        return this.callback(...this.params);
    }
}
/**
 * A utility class to log execution durations
 */
class Timer {
    constructor(name) {
        this.name = name;
        /**
         * Contains the timestamp of when the `Timer` object was instantiated
         */
        this.start = performance.now();
        /**
         * Contains the current durartion in milliseconds of the `Timer` object
         */
        this.duration = 0;
    }
    /**
     * Updates the `duration` of the `Timer` object
     */
    stop() {
        this.duration = performance.now() - this.start;
        console.log(`Timer: ${this.name} finished in ${Math.round(this.duration)} ms`);
    }
}
/**
 * A utility class containing a variety of static methods and properties
 */
// @dynamic
class Utils {
    static baseExtend(dst, objs, deep, sort) {
        for (let i = 0, ii = objs.length; i < ii; ++i) {
            const obj = objs[i];
            if (!Utils.isObject(obj) && !Utils.isFunction(obj)) {
                continue;
            }
            let keys = Object.keys(obj);
            if (sort) {
                if (Utils.isFunction(sort)) {
                    keys = keys.sort(sort);
                }
                else {
                    keys = keys.sort();
                }
            }
            for (let j = 0, jj = keys.length; j < jj; j++) {
                const key = keys[j];
                const src = obj[key];
                if (deep && Utils.isObject(src)) {
                    if (Utils.isDate(src)) {
                        dst[key] = new Date(src.valueOf());
                    }
                    else if (Utils.isRegExp(src)) {
                        dst[key] = new RegExp(src);
                    }
                    else if (src.nodeName) {
                        dst[key] = src.cloneNode(true);
                    }
                    else {
                        if (!Utils.isObject(dst[key])) {
                            dst[key] = Utils.isArray(src) ? [] : {};
                        }
                        Utils.baseExtend(dst[key], [src], true);
                    }
                }
                else {
                    dst[key] = src;
                }
            }
        }
        return dst;
    }
    /**
     * Shallowly copy the properties in the source objects to the destination object.
     * Any nested objects or arrays will be copied by reference, not duplicated.
     * The source objects are treated in order so properties in later
     * objects will override properties in earlier ones.
     *
     * @param destination The object to which properties are copied
     * @param sources Objects from which properties are copied
     * @return the destination object
     */
    static extend(destination, ...sources) {
        return Utils.baseExtend(destination, sources, false);
    }
    /**
     * Deeply copy the properties in the source objects to the destination object.
     * Any nested objects or arrays will be duplicated.
     * The source objects are treated in order so properties in later
     * objects will override properties in earlier ones.
     *
     * @param destination The object to which properties are copied
     * @param sources Objects from which properties are copied
     * @return the destination object
     */
    static merge(destination, ...sources) {
        return Utils.baseExtend(destination, sources, true);
    }
    /**
     * Deeply copy the properties in the source objects to the destination object.
     * Any nested objects or arrays will be duplicated.
     * The source objects are treated in order so properties in later
     * objects will override properties in earlier ones.
     * The properties of the source objects are sorted in ascending, ASCII character order
     * before they are copied to ensure a consistent insertion order in the destination
     * object.
     *
     * @param destination The object to which properties are copied
     * @param sources Objects from which properties are copied
     * @return the destination object
     */
    static mergeAndSort(destination, ...sources) {
        return Utils.baseExtend(destination, sources, true, true);
    }
    static forEach(obj, iterator, context) {
        let key, length;
        if (obj) {
            if (Utils.isFunction(obj)) {
                for (key in obj) {
                    // Need to check if hasOwnProperty exists,
                    // as on IE8 the result of querySelectorAll is an object without a hasOwnProperty function
                    if (key !== 'prototype' && key !== 'length' && key !== 'name' && (!obj.hasOwnProperty || obj.hasOwnProperty(key))) {
                        iterator.call(context, obj[key], key, obj);
                    }
                }
            }
            else if (Utils.isArray(obj) || Utils.isArrayLike(obj)) {
                const isPrimitive = typeof obj !== 'object';
                for (key = 0, length = obj.length; key < length; key++) {
                    if (isPrimitive || key in obj) {
                        iterator.call(context, obj[key], key, obj);
                    }
                }
            }
            else if (obj.forEach && obj.forEach !== Utils.forEach) {
                obj.forEach(iterator, context, obj);
            }
            else if (Utils.isBlankObject(obj)) {
                // createMap() fast path --- Safe to avoid hasOwnProperty check because prototype chain is empty
                for (key in obj) {
                    iterator.call(context, obj[key], key, obj);
                }
            }
            else if (typeof obj.hasOwnProperty === 'function') {
                // Slow path for objects inheriting Object.prototype, hasOwnProperty check needed
                for (key in obj) {
                    if (obj.hasOwnProperty(key)) {
                        iterator.call(context, obj[key], key, obj);
                    }
                }
            }
            else {
                // Slow path for objects which do not have a method `hasOwnProperty`
                for (key in obj) {
                    if (Object.prototype.hasOwnProperty.call(obj, key)) {
                        iterator.call(context, obj[key], key, obj);
                    }
                }
            }
        }
        return obj;
    }
    /**
     * Makes a deep copy of the passed object or array and returns it.
     * Copies of source objects of the following types: `TypedArray`, `Date`, `RegExp` `Node` are
     * made using the appropriate constructor. Arrays are created using `[]`. Other objects are created
     * using `Object.create` passing the source object's protptype, if any.
     *
     * @param source The source item to copy (`Object`, `Array`, `TypedArray`, `Date`, `RegExp`, `Node`)
     * @param destination An optional item to use as the destination. If passed, the item is cleared
     * before the source is copied to it. The destination cannot be a `TypedArray` and cannot be the same
     * as the source
     * @return The copied item
     */
    static copy(source, destination) {
        const stackSource = [];
        const stackDest = [];
        if (destination) {
            if (Utils.isTypedArray(destination)) {
                throw new Error("Can't copy! TypedArray destination cannot be mutated.");
            }
            if (source === destination) {
                throw new Error("Can't copy! Source and destination are identical.");
            }
            // Empty the destination object
            if (Utils.isArray(destination)) {
                destination.length = 0;
            }
            else {
                Utils.forEach(destination, (value, key) => {
                    if (!source.hasOwnProperty(key)) {
                        delete destination[key];
                    }
                });
            }
            stackSource.push(source);
            stackDest.push(destination);
            return copyRecurse(source, destination);
        }
        return copyElement(source);
        function copyRecurse(source, destination) {
            let key;
            if (Utils.isArray(source)) {
                for (let i = 0, ii = source.length; i < ii; i++) {
                    destination.push(copyElement(source[i]));
                }
            }
            else if (Utils.isBlankObject(source)) {
                // createMap() fast path --- Safe to avoid hasOwnProperty check because prototype chain is empty
                for (key in source) {
                    destination[key] = copyElement(source[key]);
                }
            }
            else if (source && typeof source.hasOwnProperty === 'function') {
                // Slow path, which must rely on hasOwnProperty
                for (key in source) {
                    if (source.hasOwnProperty(key)) {
                        destination[key] = copyElement(source[key]);
                    }
                }
            }
            else {
                // Slowest path --- hasOwnProperty can't be called as a method
                for (key in source) {
                    if (Object.prototype.hasOwnProperty.call(source, key)) {
                        destination[key] = copyElement(source[key]);
                    }
                }
            }
            return destination;
        }
        function copyElement(source) {
            // Simple values
            if (!Utils.isObject(source)) {
                return source;
            }
            // Already copied values
            const index = stackSource.indexOf(source);
            if (index !== -1) {
                return stackDest[index];
            }
            if (Utils.isWindow(source)) {
                throw new Error("Can't copy! Making copies of Window instances is not supported.");
            }
            let needsRecurse = false;
            let destination;
            if (Utils.isArray(source)) {
                destination = [];
                needsRecurse = true;
            }
            else if (Utils.isTypedArray(source)) {
                destination = new source.constructor(source);
            }
            else if (Utils.isDate(source)) {
                destination = new Date(source.getTime());
            }
            else if (Utils.isRegExp(source)) {
                const matches = source.toString().match(/[^\/]*$/);
                destination = new RegExp(source.source, matches ? matches[0] : "");
                destination.lastIndex = source.lastIndex;
            }
            else if (Utils.isFunction(source.cloneNode)) {
                destination = source.cloneNode(true);
            }
            else {
                destination = Object.create(Object.getPrototypeOf(source));
                needsRecurse = true;
            }
            stackSource.push(source);
            stackDest.push(destination);
            return needsRecurse ? copyRecurse(source, destination) : destination;
        }
    }
    // Not currently used
    static copyWithoutNullOrEmpty(dst, src) {
        const keys = Object.keys(src);
        for (let j = 0, jj = keys.length; j < jj; j++) {
            const key = keys[j];
            const value = src[key];
            if (value === null || Utils.isEmpty(null)) {
                continue;
            }
            else if (Utils.isObject(value)) {
                if (Utils.isDate(value)) {
                    dst[key] = new Date(value.valueOf());
                }
                else if (Utils.isRegExp(value)) {
                    dst[key] = new RegExp(value);
                }
                else {
                    if (!Utils.isObject(dst[key])) {
                        dst[key] = Utils.isArray(value) ? [] : {};
                    }
                    dst[key] = Utils.copyWithoutNullOrEmpty(dst[key], value);
                }
            }
            else {
                dst[key] = value;
            }
        }
        return dst;
    }
    /**
     * Makes a shallow copy of the passed object. Empty string values are removed from the copied object.
     * A string value containing `""` is copied as an empty string.
     *
     * @param defaults The object to copy
     * @return The copied object
     */
    static copyDefaults(defaults) {
        const _defaults = Utils.copy(defaults);
        if (_defaults) {
            Object.keys(_defaults).forEach(key => {
                // Unset parameters will come through as empty strings (regardless of type)
                // Filter these out (to not hide defaults on the server) and accept "" as a way of explicitly
                // setting a parameter to be an empty string
                const value = _defaults[key];
                if (value === "") {
                    delete _defaults[key];
                }
                if (value === "\"\"") {
                    _defaults[key] = "";
                }
            });
        }
        return _defaults;
    }
    /**
     * Performs an optimized deep comparison between two objects to determine if they should be considered equal
     * @param o1 The first object to be compared
     * @param o2 The second object to be compared
     */
    static equals(o1, o2) {
        return lodash_isEqual__WEBPACK_IMPORTED_MODULE_9___default()(o1, o2);
    }
    /**
     * Converts a string to an integer value using `parseInt` with radix = 10.
     * If the string cannot be converted or contains additional characters then the
     * passed default value is returned
     * @param str The string to convert
     * @param _default The default value to use if the string cannot be converted
     */
    static toInt(str, _default = 0) {
        let value = parseInt(str, 10);
        if (isNaN(value) || (value + "" !== str)) {
            value = _default;
        }
        return value;
    }
    /**
     * Converts a string to a floating point value using `parseFloat`.
     * If the string cannot be converted then the passed default value is returned
     * @param str The string to convert
     * @param _default The default value to use if the string cannot be converted
     */
    static toNumber(str, _default = 0) {
        let value = parseFloat(str);
        if (isNaN(value)) {
            value = _default;
        }
        return value;
    }
    /**
     * Converts a string to a `Date` using `Date.parse`.
     * The date is returned in UTC. If the string cannot be converted then `undefined` is returned
     * @param str The string to convert
     * @return The converted `Date` in UTC or `undefined`
     */
    static toDate(str) {
        const ms = Date.parse(str);
        if (!ms && ms !== 0) {
            return undefined;
        }
        return new Date(ms + new Date(ms).getTimezoneOffset() * 60000); // get date in UTC
    }
    /**
     * Get the time component of a `Date` in milliseconds
     *
     * @param date The date
     * @return The time in milliseconds
     */
    static getTime(date) {
        if (!date) {
            return 0;
        }
        return (date.getHours() * 60 * 60 + date.getMinutes() * 60 + date.getSeconds()) * 1000 + date.getMilliseconds();
    }
    /**
     * Return the current date and time
     */
    static get now() {
        return new Date();
    }
    /**
     * Converts a `Date` to a Sinequa system date string (`dd-mm-yyyy[ hh:mm:ss]`)
     * If the time component of the date is 0 then only the date portion of the string is included
     *
     * @param date The `Date` to convert
     */
    static toSysDateStr(date) {
        if (!date) {
            return "";
        }
        const m = moment__WEBPACK_IMPORTED_MODULE_1___default()(date);
        if (Utils.getTime(date) === 0) {
            return m.format("YYYY-MM-DD");
        }
        else {
            return m.format("YYYY-MM-DD HH:mm:ss");
        }
    }
    /**
     * Converts a Sinequa system date string (`dd-mm-yyyy[ hh:mm:ss]`) to a `Date`
     * If the string cannot be converted then `undefined` is returned
     *
     * @param date The Sinequa system date string to convert
     */
    static fromSysDateStr(value) {
        const m = moment__WEBPACK_IMPORTED_MODULE_1___default()(value, "YYYY-MM-DD HH:mm:ss");
        if (m.isValid()) {
            return m.toDate();
        }
        return undefined;
    }
    static isSysDateTime(str) {
        return Utils.rxSysDateTime.test(str);
    }
    static isISO8601DateTime(str) {
        return Utils.rxISO8601DateTime.test(str);
    }
    /**
     * Converts a Javascript value to a JSON string using `JSON.stringify`.
     * Date objects are converted to Sinequa system strings
     *
     * @param value The value to convert
     * @param options Options for the conversion. The default is `{pretty: false}`
     */
    static toJson(value, options = { pretty: false }) {
        return JSON.stringify(value, function (key, value) {
            if (key && Utils.isDate(this[key])) {
                const str = Utils.toSysDateStr(this[key]);
                return str;
            }
            return value;
        }, options.pretty ? 2 : 0);
    }
    /**
     * Converts a string to an object using `JSON.parse`.
     * Strings that are either in Sinequa system date or ISO8601 format are converted to
     * `Date` objects if the `reviveDates` option is specified.
     *
     * @param str The string to convert
     * @param options Options for the conversion. The default is `{reviveDates: false}`
     */
    static fromJson(str, options = { reviveDates: false }) {
        if (!str || typeof str !== "string") {
            return {};
        }
        try {
            return JSON.parse(str, options.reviveDates ?
                (key, value) => {
                    if (options.reviveDates && typeof value === "string") {
                        if (Utils.isSysDateTime(value)) {
                            const m = moment__WEBPACK_IMPORTED_MODULE_1___default()(value, "YYYY-MM-DD HH:mm:ss");
                            if (m.isValid()) {
                                return m.toDate();
                            }
                        }
                        else if (Utils.isISO8601DateTime(value)) {
                            const m = moment__WEBPACK_IMPORTED_MODULE_1___default()(value, moment__WEBPACK_IMPORTED_MODULE_1___default.a.ISO_8601);
                            if (m.isValid()) {
                                return m.toDate();
                            }
                        }
                    }
                    return value;
                } : undefined);
        }
        catch (exception) {
            console.log("Utils.fromJson exception:", exception);
            return null;
        }
    }
    /**
     * Converts a `FieldValue` value to a string compatible with Sinequa's SQL syntax.
     * String and `Date` values are enclosed in single quotes if the quote parameter is `true`
     *
     * @param value The value to convert
     * @param quote If set, the returned string will be enclosed in single quotes for string and `Date` values
     */
    static toSqlValue(value, quote) {
        if (Utils.isNumber(value)) {
            return value + "";
        }
        if (Utils.isDate(value)) {
            if (quote) {
                return "'" + Utils.toSysDateStr(value) + "'";
            }
            else {
                return Utils.toSysDateStr(value);
            }
        }
        if (Utils.isBoolean(value)) {
            return value ? "true" : "false";
        }
        if (Utils.isArray(value)) {
            const ret = [];
            value.forEach(v => {
                if (ret.length > 0) {
                    ret.push(",");
                }
                if (!v) {
                    ret.push("null");
                }
                else if (Utils.isString(v)) {
                    ret.push(v);
                }
                else {
                    ret.push(v.display || v.value || "");
                }
            });
            ret.splice(0, 0, "[");
            ret.push("]");
            return ret.join("");
        }
        if (quote) {
            return "'" + value + "'";
        }
        else {
            return value;
        }
    }
    /**
     * Clean a string so it is compatible with values stored in a Sinequa tree type-column.
     * The following operations are performed:
     * * ensure that the string starts and ends with forward slashes
     * * replace tab characters with spaces
     * * replace semi-colons with commas
     * * replace back slashes with forward slashes
     *
     * @param s The string to clean
     */
    static treeClean(s) {
        if (Utils.isEmpty(s)) {
            return s;
        }
        return Utils.addUrl("/", Utils.replace(Utils.replace(Utils.replace(s, "\t", " "), ";", ","), "\\", "/"), "/");
    }
    /**
     * Return the first node of a Sinequa tree value enclosed in forward slashes
     *
     * @param s A Sinequa tree value
     */
    static treeFirst(s) {
        const parts = Utils.split(s, "/");
        return parts.length === 0 ? "" : `/${parts[0]}/`;
    }
    /**
     * Return the first node of a Sinequa tree value
     *
     * @param s A Sinequa tree value
     */
    static treeFirstNode(s) {
        const parts = Utils.split(s, "/");
        return parts[0];
    }
    /**
     * Return the last node of a Sinequa tree value enclosed in forward slashes
     *
     * @param s A Sinequa tree value
     */
    static treeLast(s) {
        const parts = Utils.split(s, "/");
        return parts.length === 0 ? "" : `/${parts[parts.length - 1]}/`;
    }
    /**
     * Return the last node of a Sinequa tree value
     *
     * @param s A Sinequa tree value
     */
    static treeLastNode(s) {
        const parts = Utils.split(s, "/");
        return parts[parts.length - 1];
    }
    /**
     * Return the nodes making up a Sinequa tree value
     *
     * @param s A Sinequa tree value
     */
    static treeNodes(s) {
        return Utils.split(s, "/");
    }
    /**
     * Return a Sinequa tree value, removing enclosing forward slash characters
     *
     * @param s A Sinequa tree value
     */
    static treeDisplay(s) {
        if (!!s) {
            if (s[0] === "/") {
                s = s.substr(1);
            }
            if (s[s.length - 1] === "/") {
                s = s.substr(0, s.length - 1);
            }
        }
        return s;
    }
    /**
     * Return the node count of a Sinequa tree value
     *
     * @param s A Sinequa tree value
     */
    static treeCount(s) {
        const count = Utils.count(s, "/");
        return count > 0 ? count - 1 : 0;
    }
    /**
     * Traverses a tree structure, executing a callback function at every node
     * @param nodes the nodes to traverse
     * @param callback the callback function
     */
    static traverse(nodes, callback) {
        if (!nodes || nodes.length === 0) {
            return false;
        }
        if (!callback) {
            return false;
        }
        const lineage = [];
        const stack = [];
        let _i = nodes.length;
        while (_i--) {
            stack.push(nodes[_i]);
        }
        while (stack.length) {
            const node = stack.pop();
            if (!node) {
                lineage.pop();
                callback(undefined);
            }
            else {
                lineage.push(node);
                if (callback(lineage)) {
                    return true;
                }
                stack.push(undefined);
                if (node.items && node.items.length > 0) {
                    _i = node.items.length;
                    while (_i--) {
                        stack.push(node.items[_i]);
                    }
                }
            }
        }
        return false;
    }
    /**
     * Return a pseudo-GUID value using `Math.random`
     *
     * @param withHyphens If set, the returned GUID includes hyphen separators
     */
    static guid(withHyphens = true) {
        let d = Date.now();
        const guid = (withHyphens ?
            'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx' : 'xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx').replace(/[xy]/g, (c) => {
            const r = (d + Math.random() * 16) % 16 | 0;
            d = Math.floor(d / 16);
            return (c === 'x' ? r : (r & 0x3 | 0x8)).toString(16);
        });
        return guid;
    }
    /**
     * Return `true` if the passed value is `undefined`
     */
    static isUndefined(value) {
        return typeof value === 'undefined';
    }
    /**
     * Return `true` if the passed value is an `object`
     */
    static isObject(value) {
        return value !== null && typeof value === 'object';
    }
    /**
     * Return `true` if the passed value is a `string`
     */
    static isString(value) {
        return typeof value === 'string';
    }
    /**
     * Return `true` if the passed value is a `number`
     */
    static isNumber(value) {
        return typeof value === 'number';
    }
    /**
     * Return `true` if the passed value is a `boolean`
     */
    static isBoolean(value) {
        return typeof value === 'boolean';
    }
    /**
     * Return `true` if the passed value is a `Date`
     */
    static isDate(value) {
        return Object.prototype.toString.call(value) === '[object Date]';
    }
    /**
     * Return `true` if the passed value is a scalar (`number`, `boolean` or `Date`)
     */
    static isScalar(value) {
        return Utils.isNumber(value) || Utils.isBoolean(value) || Utils.isDate(value);
    }
    /**
     * Return `true` if the passed value is an `Array`
     */
    static isArray(value) {
        return Array.isArray(value);
    }
    /**
     * Return `true` if the passed value is iterable
     */
    static isIterable(value) {
        if (value === null || value === undefined) {
            return false;
        }
        return typeof value[Symbol.iterator] === "function";
    }
    /**
     * Return `true` if the passed value is a `Map`
     */
    static isMap(value) {
        return Object.prototype.toString.call(value) === '[object Map]';
    }
    /**
     * Return `true` if the passed value is a `Function`
     */
    static isFunction(value) {
        return typeof value === 'function';
    }
    /**
     * Return `true` if the passed value is a `RegExp`
     */
    static isRegExp(value) {
        return Object.prototype.toString.call(value) === '[object RegExp]';
    }
    /**
     * Return `true` if the passed value is a `Window`
     */
    static isWindow(value) {
        return value && value.window === value;
    }
    /**
     * Return `true` if the passed value is a `File`
     */
    static isFile(value) {
        return Utils.isObject(value) && Object.prototype.toString.call(value) === "[object File]";
    }
    /**
     * Return `true` if the passed value is a `FormData`
     */
    static isFormData(value) {
        return Utils.isObject(value) && Object.prototype.toString.call(value) === "[object FormData]";
    }
    /**
     * Return `true` if the passed value is a `Blob`
     */
    static isBlob(value) {
        return Utils.isObject(value) && Object.prototype.toString.call(value) === "[object Blob]";
    }
    /**
     * Return `true` if the passed value is an `ArrayBuffer`
     */
    static isArrayBuffer(value) {
        return Utils.isObject(value) && Object.prototype.toString.call(value) === "[object ArrayBuffer]";
    }
    static isArrayLike(obj) {
        // `null`, `undefined` and `window` are not array-like
        if (obj == null || Utils.isWindow(obj))
            return false;
        // arrays, strings and jQuery/jqLite objects are array like
        // * jqLite is either the jQuery or jqLite constructor function
        // * we have to check the existance of jqLite first as this method is called
        //   via the forEach method when constructing the jqLite object in the first place
        if (Utils.isArray(obj) || Utils.isString(obj) /*|| (jqLite && obj instanceof jqLite)*/)
            return true;
        // Support: iOS 8.2 (not reproducible in simulator)
        // "length" in obj used to prevent JIT error (gh-11508)
        const length = "length" in Object(obj) && obj.length;
        // NodeList objects (with `item` method) and
        // other objects with suitable length characteristics are array-like
        return Utils.isNumber(length) &&
            (length >= 0 && (length - 1) in obj || typeof obj.item === 'function');
    }
    /**
     * Return `true` if the passed value is an `object` without a prototype
     */
    static isBlankObject(value) {
        return value !== null && typeof value === 'object' && !Object.getPrototypeOf(value);
    }
    /**
     * Return true if the passed value is a `TypedArray`
     */
    static isTypedArray(value) {
        return value && Utils.isNumber(value.length) && Utils.TYPED_ARRAY_REGEXP.test(Object.prototype.toString.call(value));
    }
    /**
     * Return a promise that is a resolved after a specified amount of time
     *
     * @param ms The time to delay in milliseconds
     */
    static delay(ms = 0) {
        return new Promise((resolve, reject) => {
            window.setTimeout(() => {
                resolve();
            }, ms);
        });
    }
    /**
     *
     * @param value
     * @param _default
     */
    static isTrue(value, _default) {
        if (typeof (value) === 'string') {
            value = value.toLowerCase();
        }
        switch (value) {
            case true:
            case "true":
            case 1:
            case "1":
            case "on":
            case "yes":
                return true;
            case "":
            case undefined:
                return !!_default;
            default:
                return false;
        }
    }
    /**
     * Compares two strings using the current locale. The return value is negative
     * if `a` comes before `b` and positive if `a` comes after `b`. If the values
     * are equal then `0` is returned
     *
     * @param a The first string
     * @param b The second string
     * @param ignoreCase If set, do a case-insensitive comparison
     */
    static compare(a, b, ignoreCase = true) {
        a = a || '';
        b = b || '';
        if (ignoreCase) {
            a = a.toLocaleUpperCase();
            b = b.toLocaleUpperCase();
        }
        return a.localeCompare(b);
    }
    /**
     * Return `true` if two strings are equal, respecting case
     *
     * @param a The first string
     * @param b The second string
     */
    static eq(a, b) {
        return Utils.compare(a, b, false) === 0;
    }
    /**
     * Return `true` if two strings are equal, ignoring case
     *
     * @param a The first string
     * @param b The second string
     */
    static eqNC(a, b) {
        return Utils.compare(a, b, true) === 0;
    }
    /**
     * Return `true` if a number of strings are equal, ignoring case
     *
     * @param a The first string
     * @param b Remaining strings
     */
    static eqNCN(a, ...b) {
        if (!b) {
            return false;
        }
        for (const s of b) {
            if (Utils.eqNC(a, s)) {
                return true;
            }
        }
        return false;
    }
    /**
     * Return the length of a string. If the string is empty (`null` or `undefined`)
     * @param s A string
     */
    static len(s) {
        return (s || '').length;
    }
    /**
     * Return `true` if a string starts with another
     *
     * @param a The string to test
     * @param b The prefix
     * @param ignoreCase If `true` then ignore case
     */
    static startsWith(a, b, ignoreCase = true) {
        a = a || '';
        b = b || '';
        if (ignoreCase) {
            a = a.toLocaleUpperCase();
            b = b.toLocaleUpperCase();
        }
        return a.startsWith(b);
    }
    /**
     * Return `true` if a string ends with another
     *
     * @param a The string to test
     * @param b The postfix
     * @param ignoreCase If `true` then ignore case
     */
    static endsWith(a, b, ignoreCase = true) {
        a = a || '';
        b = b || '';
        if (ignoreCase) {
            a = a.toLocaleUpperCase();
            b = b.toLocaleUpperCase();
        }
        return a.endsWith(b);
    }
    /**
     * Return `true` if a string is a substring of another
     * @param a The string to test
     * @param b The substring
     * @param ignoreCase If `true` then ignore case
     */
    static includes(a, b, ignoreCase = true) {
        a = a || '';
        b = b || '';
        if (ignoreCase) {
            a = a.toLocaleUpperCase();
            b = b.toLocaleUpperCase();
        }
        return a.includes(b);
    }
    /**
     * Return the upper case value of a string using the current locale
     */
    static toUpperCase(s) {
        if (s) {
            return s.toLocaleUpperCase();
        }
        return "";
    }
    /**
     * Return a string with the first character converted to upper case using the current locale
     */
    static toUpperFirst(s) {
        if (s) {
            return s[0].toLocaleUpperCase() + s.substr(1);
        }
        return "";
    }
    /**
     * Return the lower case value of a string using the current locale
     */
    static toLowerCase(s) {
        if (s) {
            return s.toLocaleLowerCase();
        }
        return "";
    }
    /**
     * Return a string with the first character converted to lower case using the current locale
     */
    static toLowerFirst(s) {
        if (s) {
            return s[0].toLocaleLowerCase() + s.substr(1);
        }
        return "";
    }
    /**
     * Return a string where the first character of each space separated word is converted to upper case.
     * However, if a word contains a full stop character the first character is left unchanged
     */
    static toStartCase(text) {
        if (text) {
            const words = text.split(/[\s]+/);
            return words.map(value => !value.includes(".") ? Utils.toUpperFirst(value) : value).join(" ");
        }
        return "";
    }
    /**
     * Return a string where any leading and trailing whitespace characters are removed
     */
    static trim(s) {
        if (s) {
            return s.trim();
        }
        return "";
    }
    /**
     * Return a string where any leading whitespace characters are removed
     */
    static trimStart(s) {
        if (s) {
            return s.trimStart();
        }
        return "";
    }
    /**
     * Return a string where any trailing whitespace characters are removed
     */
    static trimEnd(s) {
        if (s) {
            return s.trimEnd();
        }
        return "";
    }
    /**
     * Return a string truncated to a maximum length. If the length of the string is greater than `maxLength`
     * then it is truncated to `maxLength and a `suffix` appended. Otherwise the string is returned unchanged
     *
     * @param s The string to truncate
     * @param maxLength The maximum length
     * @param suffix The value to append if the string is truncated. The default is `...`
     */
    static truncate(s, maxLength, suffix) {
        if (!s) {
            return "";
        }
        suffix = suffix || "...";
        if (s.length <= maxLength) {
            return s;
        }
        return s.substring(0, maxLength - suffix.length) + suffix;
    }
    /**
     * Return a string where any regular expresion operators are escaped
     */
    static regExEscape(s) {
        if (!s) {
            return "";
        }
        return s.replace(Utils.regExEscapeRegEx, "\\$&");
    }
    /**
     * Replaces patterns in a string with a replacement string. The pattern can either a string
     * or a `RegExp`.
     *
     * @param s The string in which to search for a pattern
     * @param pattern The pattern
     * @param replacement The replacement string to replace any occurrences of the pattern in the string
     */
    static replace(s, pattern, replacement) {
        if (!s || !pattern) {
            return "";
        }
        if (Utils.isRegExp(pattern)) {
            return s.replace(pattern, replacement);
        }
        else {
            return s.replace(new RegExp(Utils.regExEscape(pattern), "g"), replacement);
        }
    }
    /**
     * Split a string into an array of substrings using the passed separators
     *
     * @param s The string to split
     * @param separators One or more separators
     * @param trim If `true` trim any leading and trailing spaces from the substrings
     * @param removeEmpty If `true` exclude any empty strings from the array of substrings
     */
    static split(s, separators, trim = true, removeEmpty = true) {
        if (!s) {
            return [];
        }
        if (!separators) {
            return [s];
        }
        let split;
        if (typeof separators === "string") {
            split = s.split(separators);
            if (trim) {
                split = split.map(value => value.trim());
            }
        }
        else {
            let rxs = separators.map((value) => Utils.regExEscape(value)).join("|");
            if (trim) {
                rxs = "(?:^\\s*)|(?:\\s*(?:" + rxs + ")\\s*)|(?:\\s*$)";
            }
            split = s.split(new RegExp(rxs));
        }
        if (removeEmpty) {
            split = split.filter((value) => {
                return !Utils.isEmpty(value);
            });
        }
        return split;
    }
    /**
     * Return a string in kebab case (`CatDog => cat-dog`)
     */
    static toKebabCase(text) {
        return lodash_kebabCase__WEBPACK_IMPORTED_MODULE_4___default()(text);
    }
    /**
     * Return a string in snake case (`CatDog => cat_dog`)
     */
    static toSnakeCase(text) {
        return lodash_snakeCase__WEBPACK_IMPORTED_MODULE_5___default()(text);
    }
    /**
     * Return a string in camel case (`CatDog => catDog`)
     */
    static toCamelCase(text) {
        return lodash_camelCase__WEBPACK_IMPORTED_MODULE_6___default()(text);
    }
    /**
     * Return a string with any diacritics removed
     */
    static removeAccents(text) {
        if (!text) {
            return "";
        }
        return Object(diacritics__WEBPACK_IMPORTED_MODULE_2__["remove"])(text);
    }
    /**
     * Return a string in normalized form which can be used to match entity values. A normalized value
     * has any diacritics removed and is converted to upper case
     */
    static normalize(text) {
        if (!text) {
            return "";
        }
        return Utils.removeAccents(text).toUpperCase();
    }
    /**
     * Return `true` if a string is valid as a simple value for the Sinequa admininistration
     */
    static isValidSimpleName(name) {
        return /^[a-zA-Z_][a-zA-Z0-9_]*$/.test(name);
    }
    /**
     * Return `true` if a string is valid as a scoped (`.` separated) simple value for the Sinequa admininistration
     */
    static isValidScopedSimpleName(name) {
        return /^[a-zA-Z_]([\.]?[a-zA-Z0-9_]+)*$/.test(name);
    }
    /**
     * Return `true` if a value is `null`, `undefined` or `""`
     */
    static isEmpty(value) {
        if (value === "") {
            return true;
        }
        if (value === null) {
            return true;
        }
        if (Utils.isUndefined(value)) {
            return true;
        }
        return false;
    }
    /**
     * Return the number of occurrences of a substring in a string
     *
     * @param text The text to test
     * @param sub The substring
     * @param ignoreCase If `true` don't respect case when matching the substring
     */
    static count(text, sub, ignoreCase = true) {
        if (!text || !sub) {
            return 0;
        }
        if (ignoreCase) {
            text = text.toLocaleUpperCase();
            sub = sub.toLocaleUpperCase();
        }
        let pos = -1;
        let count = 0;
        while (true) {
            pos = text.indexOf(sub, pos + 1);
            if (pos === -1) {
                break;
            }
            count++;
        }
        return count;
    }
    /**
     * Return a string converted to base64
     */
    static toBase64(value) {
        return btoa(encodeURIComponent(value).replace(/%([0-9A-F]{2})/g, (match, hex) => String.fromCharCode(parseInt(hex, 16))));
    }
    /**
     * Return a string converted from base64
     */
    static fromBase64(value) {
        return decodeURIComponent(atob(value).split('').map((c) => '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2)).join(''));
    }
    /**
     * Return the SHA256 hash value of string
     */
    static sha256(value) {
        const sha = new jssha__WEBPACK_IMPORTED_MODULE_3___default.a("SHA-256", "TEXT");
        sha.update(value);
        return sha.getHash("B64");
    }
    /**
     * Return the SHA512 hash value of string
     */
    static sha512(value) {
        const sha = new jssha__WEBPACK_IMPORTED_MODULE_3___default.a("SHA-512", "TEXT");
        sha.update(value);
        return sha.getHash("B64");
    }
    /**
     * Return a string where any HTML special characters are percent encoded
     */
    static encodeHTML(value) {
        return lodash_escape__WEBPACK_IMPORTED_MODULE_7___default()(value);
    }
    /**
     * Return a string where any percent encoded characters are replaced by their corresponding unencoded characters
     */
    static decodeHTML(value) {
        return lodash_unescape__WEBPACK_IMPORTED_MODULE_8___default()(value);
    }
    /**
     * Get a field with passed name from an object. The field name is matched insensitive of case
     */
    static getField(obj, name) {
        if (!Utils.isObject(obj) || Utils.isEmpty(name)) {
            return undefined;
        }
        const keys = Object.keys(obj).filter(key => Utils.eqNC(key, name));
        if (keys.length === 0) {
            return undefined;
        }
        return obj[keys[0]];
    }
    /**
     * Clear fields from an object. If the `_delete` parameter is `false` then
     * array or map fields are emptied and other fields are set to `undefined`.
     * If the `_delete` parameter is `true` then fields are deleted
     */
    static clearObject(obj, _delete = false) {
        for (const prop in obj) {
            if (obj.hasOwnProperty(prop)) {
                if (_delete) {
                    delete obj[prop];
                }
                else {
                    if (Utils.isArray(obj[prop])) {
                        obj[prop].length = 0;
                    }
                    else if (Utils.isMap(obj[prop])) {
                        obj[prop].clear();
                    }
                    else {
                        obj[prop] = undefined;
                    }
                }
            }
        }
        return obj;
    }
    /**
     * Return the non-empty fields in the `override` object that that are different to fields of the same name
     * in the `template` object
     * @param template The object to compare against
     * @param override The object defining the fields and values to be compared
     * @param ret An optional return object. If not set a new object is created
     */
    static deltas(template, override, ret) {
        if (!ret) {
            ret = {};
        }
        for (const name of Object.keys(override)) {
            if (name in template) {
                if (Utils.isObject(override[name]) && !Utils.isArray(override[name])) {
                    const diff = Utils.deltas(template[name], override[name]);
                    if (!Utils.equals(diff, {})) {
                        ret[name] = diff;
                    }
                }
                else if (!Utils.equals(template[name], override[name])) {
                    if (!Utils.isEmpty(override[name])) {
                        ret[name] = override[name];
                    }
                }
            }
            else {
                if (!Utils.isEmpty(override[name])) {
                    ret[name] = override[name];
                }
            }
        }
        return ret;
    }
    /**
     * Returns an object containing the fields in a source object whose names match one of the passed keys. The keys can either be
     * an array of strings or a callback function that is called for each field in the source object and returns `true` if a field
     * should be "picked".
     *
     * @param obj The source object
     * @param keys An array of keys or a callback function
     */
    static pick(obj, keys) {
        const ret = {};
        if (!!obj) {
            if (Utils.isFunction(keys)) {
                Object.keys(obj).forEach(key => {
                    if (keys(obj[key], key, obj)) {
                        ret[key] = obj[key];
                    }
                });
            }
            else {
                for (const key of keys) {
                    if (obj.hasOwnProperty(key)) {
                        ret[key] = obj[key];
                    }
                }
            }
        }
        return ret;
    }
    /**
     * Create a debounce function that delays invoking `func` until after `wait` millseconds have elapsed since the previous invocation.
     *
     * @param func The function to debounce
     * @param wait The delay in milliseconds to wait before calling `func`
     * @param immediate If `true` then make an initial call to `func`
     * @param every An optional callback to call without debouncing
     */
    static debounce(func, wait = 0, immediate = false, every) {
        let timeout, args, context, timestamp, result;
        const later = function () {
            const last = Date.now() - timestamp;
            if (last < wait && last >= 0) {
                timeout = setTimeout(later, wait - last);
            }
            else {
                timeout = null;
                if (!immediate) {
                    result = func.apply(context, args);
                    if (!timeout) {
                        context = args = null;
                    }
                }
            }
        };
        return function () {
            context = this;
            args = arguments;
            if (every) {
                every.apply(context, args);
            }
            timestamp = Date.now();
            const callNow = immediate && !timeout;
            if (!timeout) {
                timeout = setTimeout(later, wait);
            }
            if (callNow) {
                result = func.apply(context, args);
                context = args = null;
            }
            return result;
        };
    }
    /**
     * Create a throttled function that only invokes func at most once per every `wait` milliseconds.
     *
     * @param func The function to throttle
     * @param wait The number of milliseconds to throttle invocations to
     * @param options Options to control the throttling behaviour
     */
    static throttle(func, wait, options = {}) {
        let timeout, context, args, result;
        let previous = 0;
        const later = function () {
            previous = options.leading === false ? 0 : Date.now();
            timeout = null;
            result = func.apply(context, args);
            if (!timeout)
                context = args = null;
        };
        const throttled = function () {
            const now = Date.now();
            if (!previous && options.leading === false)
                previous = now;
            const remaining = wait - (now - previous);
            context = this;
            args = arguments;
            if (remaining <= 0 || remaining > wait) {
                if (timeout) {
                    clearTimeout(timeout);
                    timeout = null;
                }
                previous = now;
                result = func.apply(context, args);
                if (!timeout)
                    context = args = null;
            }
            else if (!timeout && options.trailing !== false) {
                timeout = setTimeout(later, remaining);
            }
            return result;
        };
        throttled["cancel"] = function () {
            clearTimeout(timeout);
            previous = 0;
            timeout = context = args = null;
        };
        return throttled;
    }
    /**
     * Create a function that calls `callback` the next time the browser next repaints
     */
    static frame(callback) {
        return (...params) => {
            if (Utils.frameTasks.size === 0) {
                requestAnimationFrame((timestamp) => {
                    Utils.frameTasks.forEach((task, key, map) => {
                        task.call();
                    });
                    Utils.frameTasks.clear();
                });
            }
            const task = Utils.frameTasks.get(callback);
            if (task) {
                // Update params
                task.params = params;
            }
            else {
                // Add new task
                Utils.frameTasks.set(callback, new FrameTask(callback, params));
            }
        };
    }
    /**
     * Create a URL object from a `url` string. If the string is a relative url then
     * `base` specifies the base to use
     */
    static makeURL(url, base) {
        if (!base) {
            base = "http://x.y.z"; // Firefox and IOS need this
        }
        return new URL(url, base);
    }
    /**
     * Add query string parameters to a url
     *
     * @param url The url to which to add the parameters
     * @param params An object whose fields should be added as parameters
     */
    static addSearchParams(url, params) {
        if (!url || !params) {
            return url;
        }
        const urlObj = Utils.makeURL(url);
        for (const param in params) {
            if (params.hasOwnProperty(param)) {
                urlObj.searchParams.set(param, params[param]);
            }
        }
        const index = url.indexOf("?");
        if (index !== -1) {
            url = url.substr(0, index);
        }
        url += "?" + urlObj.searchParams.toString();
        return url;
    }
    static _addUrl(url, path) {
        if (!path) {
            return url;
        }
        if (!url) {
            return path;
        }
        if (url[url.length - 1] === "/") {
            if (path[0] === "/") {
                return url + path.substr(1);
            }
            else {
                return url + path;
            }
        }
        else {
            if (path[0] === "/") {
                return url + path;
            }
            else {
                return url + "/" + path;
            }
        }
    }
    /**
     * Add paths to a url adding path separators as necessary
     *
     * @param url The url
     * @param paths One or more paths to add to the url
     */
    static addUrl(url, ...paths) {
        let _url = url;
        for (const path of paths) {
            _url = Utils._addUrl(_url, path);
        }
        return _url;
    }
    /**
     * Return `true` if a url is absolute
     */
    static isUrlAbsolute(url) {
        return /^(?:[a-zA-Z][a-zA-Z\d+.-]*:|\/\/)/.test(url);
    }
    /**
     * Return an `HttpParams` object containing the fields in the passed object
     */
    static makeHttpParams(params) {
        let httpParams = new _angular_common_http__WEBPACK_IMPORTED_MODULE_0__["HttpParams"]({ encoder: new SqHttpParameterCodec() });
        if (params) {
            for (const param in params) {
                if (params.hasOwnProperty(param)) {
                    const _value = params[param];
                    let value = "";
                    if (Utils.isString(_value)) {
                        value = _value;
                    }
                    else if (Utils.isBoolean(_value) || Utils.isNumber(_value)) {
                        value = _value.toString();
                    }
                    else if (Utils.isDate(_value)) {
                        value = Utils.toSysDateStr(_value);
                    }
                    else {
                        value = Utils.toJson(_value);
                    }
                    httpParams = httpParams.set(param, value);
                }
            }
        }
        return httpParams;
    }
    /**
     * Return a string with HTML special characters escaped
     *
     * @param html The string to escape
     */
    static escapeHtml(html) {
        if (!html) {
            return html;
        }
        if (!Utils.escapeDiv) {
            Utils.escapeDiv = document.createElement("div");
        }
        const textNode = Utils.escapeDiv.appendChild(document.createTextNode(html));
        const escapedHtml = Utils.escapeDiv.innerHTML;
        Utils.escapeDiv.removeChild(textNode);
        return escapedHtml;
    }
    /**
     * Move an element in an array
     *
     * @param array The array containing the element to move
     * @param from The index of the element to move
     * @param to The index that the element should be moved to
     */
    static arrayMove(array, from, to) {
        if (to === from) {
            return;
        }
        array.splice(to, 0, array.splice(from, 1)[0]);
    }
    /**
     * Set the contents of a target array to the contents of a source array
     *
     * @param target The target array
     * @param source The source array
     */
    static arraySet(target, source) {
        return target.splice.apply(target, [0, target.length].concat(source));
    }
    static genericNext(value) {
    }
    static genericError(error) {
    }
    static genericComplete() {
    }
    /**
     * A simple wrapped around `Observable.subscribe`
     */
    static subscribe(observable, next, error, complete) {
        if (!next) {
            next = Utils.genericNext;
        }
        if (!error) {
            error = Utils.genericError;
        }
        if (!complete) {
            complete = Utils.genericComplete;
        }
        return observable.subscribe(next, error, complete);
    }
    /**
     * Return a value as a `Date` converting as necessary. If the value
     * cannot be converted then `undefined` is returned
     */
    static asDate(value) {
        if (!value) {
            return undefined;
        }
        if (Utils.isDate(value)) {
            return value;
        }
        if (Utils.isString(value)) {
            return Utils.toDate(value);
        }
        return undefined;
    }
    /**
     * Return a value as a `number` converting as necessary. If the value
     * cannot be converted then `undefined` is returned.
     */
    static asNumber(value) {
        if (!value && value !== 0) {
            return undefined;
        }
        if (Utils.isNumber(value)) {
            return value;
        }
        if (Utils.isString(value)) {
            if (Utils.testInteger(value)) {
                return Utils.toInt(value);
            }
            if (Utils.testFloat(value)) {
                return Utils.toNumber(value);
            }
        }
        return undefined;
    }
    /**
     * Return a value as a `string` converting as necessary
     */
    static asString(value) {
        if (!value && value !== "") {
            return undefined;
        }
        if (Utils.isString(value)) {
            return value;
        }
        return value.toString();
    }
    /**
     * Return `true` if a string represents an integer
     */
    static testInteger(str) {
        return /^(\-|\+)?([0-9]+)$/.test(str);
    }
    /**
     * Return `true` if a string represents a floating point number
     */
    static testFloat(str) {
        return /^[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?$/.test(str);
    }
    /**
     * Round the passed number away from zero: 4.5 => 5, -4.5 => -5
     */
    static roundAway(num) {
        return num >= 0 ? Math.round(num) : Math.sign(num) * Math.round(Math.abs(num));
    }
    static matchSuffix(str, factor, ...suffixes) {
        for (const suffix of suffixes) {
            if (Utils.endsWith(str, suffix)) {
                return {
                    str: Utils.trimEnd(str.substr(0, str.length - suffix.length)),
                    factor
                };
            }
        }
        return undefined;
    }
    /**
     * Convert a size in string form to a number in bytes.
     *
     * The following units are supported: `b`, `kb`, `mb`, `gb`, `tb`, `pb`
     *
     * For example `2.5 gb` will return `2621440`.
     */
    static toSize(str, _default = 0) {
        str = Utils.trim(str);
        if (!str) {
            return _default;
        }
        let factor = 1;
        let ret = Utils.matchSuffix(str, 1024 * 1024 * 1024 * 1024 * 1024, "PB", "PO");
        if (ret === undefined) {
            ret = Utils.matchSuffix(str, 1024 * 1024 * 1024 * 1024, "TB", "TO");
        }
        if (ret === undefined) {
            ret = Utils.matchSuffix(str, 1024 * 1024 * 1024, "GB", "GO");
        }
        if (ret === undefined) {
            ret = Utils.matchSuffix(str, 1024 * 1024, "MB", "MO");
        }
        if (ret === undefined) {
            ret = Utils.matchSuffix(str, 1024, "KB", "KO");
        }
        if (ret === undefined) {
            ret = Utils.matchSuffix(str, 1, "B", "O");
        }
        if (ret !== undefined) {
            str = ret.str;
            factor = ret.factor;
        }
        if (!Utils.testFloat(str)) {
            return _default;
        }
        const value = Utils.toNumber(str, _default) * factor;
        return Math.round(value);
    }
    static calculateDuration(current, unit) {
        switch (Utils.toLowerCase(unit)) {
            case "d":
            case "j":
            case "days":
            case "jours":
            case "day":
            case "jour":
                return current * Utils.oneDay;
            case "h":
            case "hours":
            case "heures":
            case "hour":
            case "heure":
                return current * Utils.oneHour;
            case "m":
            case "minutes":
            case "minute":
            case "mins":
            case "min":
                return current * Utils.oneMinute;
            case "s":
            case "seconds":
            case "secondes":
            case "second":
            case "seconde":
            case "secs":
            case "sec":
                return current * Utils.oneSecond;
                break;
            case "ms":
            case "milliseconds":
            case "miliseconds":
            case "millisecondes":
            case "milisecondes":
            case "millisecond":
            case "milliseconde":
            case "milisecond":
            case "miliseconde":
                return current;
            default:
                return 0;
        }
    }
    /**
     * Convert a duration in string form to a number in milliseconds.
     *
     * These units are supported: `days`, `hours`, `minutes`, `seconds`, `milliseconds` (abbreviations are also supported)
     *
     * For example `3 h 2mins 4s => 10924000`
     *
     * @param defaultUnit The unit to use if no units are in the string. The default value is `ms`
     */
    static toDuration(str, defaultUnit = "ms") {
        let total = 0;
        if (str) {
            let current = 0;
            const tokens = str.match(/[0-9\.,]+|[a-zA-Z]+/g) || [];
            for (const token of tokens) {
                if (/[a-zA-Z]/.test(token)) {
                    total += Utils.calculateDuration(current, token);
                    current = 0;
                }
                else {
                    if (current) {
                        total += Utils.calculateDuration(current, defaultUnit);
                    }
                    current = Utils.toNumber(token);
                }
            }
            if (current) {
                total += Utils.calculateDuration(current, defaultUnit);
            }
        }
        return total;
    }
}
/**
 * The number of milliseconds in one day
 */
Utils.oneDay = 86400000;
/**
 * The number of milliseconds in one hour
 */
Utils.oneHour = 3600000;
/**
 * The number of milliseconds in one minute
 */
Utils.oneMinute = 60000;
/**
 * The number of milliseconds in one second
 */
Utils.oneSecond = 1000;
Utils.rxSysDateTime = /^\d{4}-(?:0[1-9]|1[012])-(?:0[1-9]|[12][0-9]|3[01])(?: (?:[01]\d|2[0-3]):[0-5]\d:[0-5]\d)?$/;
// private static rxISO8601 = /^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24\:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/;
// ISO8601 combined date and time
Utils.rxISO8601DateTime = /^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*))(?:Z|(\+|-)([\d|:]*))?$/;
Utils.TYPED_ARRAY_REGEXP = /^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/;
Utils.regExEscapeRegEx = /[-\/\\^$*+?.()|[\]{}]/g;
Utils.frameTasks = new Map();


/***/ }),

/***/ "tD4Y":
/*!**********************************************************************!*\
  !*** ../components/preview/bootstrap/preview-links/preview-links.ts ***!
  \**********************************************************************/
/*! exports provided: BsPreviewLinks */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsPreviewLinks", function() { return BsPreviewLinks; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_components_search__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/components/search */ "7+c1");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../core/intl/message.pipe */ "X1Kh");





function BsPreviewLinks_div_0_Template(rf, ctx) { if (rf & 1) {
    const _r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "nav");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "ul", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "li", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "a", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsPreviewLinks_div_0_Template_a_click_5_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r2); const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r1.click(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](6, "span");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](8, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("href", ctx_r0.originalDocumentUrl, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsanitizeUrl"]);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMapInterpolate1"]("far fa-file sq-icon-file-", ctx_r0.record.fileext, "");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](8, 5, "msg#preview.originalDocument"), " ");
} }
class BsPreviewLinks {
    constructor(searchService) {
        this.searchService = searchService;
    }
    ngOnChanges() {
        this.originalDocumentUrl = this.record.url1;
    }
    click() {
        this.searchService.notifyOpenOriginalDocument(this.record, this.resultId);
    }
}
BsPreviewLinks.ɵfac = function BsPreviewLinks_Factory(t) { return new (t || BsPreviewLinks)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_search__WEBPACK_IMPORTED_MODULE_1__["SearchService"])); };
BsPreviewLinks.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsPreviewLinks, selectors: [["sq-preview-links"]], inputs: { record: "record", resultId: "resultId" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 1, vars: 1, consts: [["class", "card sq-facet", 4, "ngIf"], [1, "card", "sq-facet"], [1, "card-body"], [1, "nav", "nav-pills", "nav-stacked"], [1, "nav-item"], ["target", "_blank", 1, "nav-link", "originalDocumentLink", 3, "href", "click"]], template: function BsPreviewLinks_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, BsPreviewLinks_div_0_Template, 9, 7, "div", 0);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !!ctx.originalDocumentUrl);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_2__["NgIf"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_3__["MessagePipe"]], styles: [".originalDocumentLink[_ngcontent-%COMP%] {\n    padding-left: 0;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2plY3RzL2NvbXBvbmVudHMvcHJldmlldy9ib290c3RyYXAvcHJldmlldy1saW5rcy9wcmV2aWV3LWxpbmtzLmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGVBQWU7QUFDbkIiLCJmaWxlIjoicHJvamVjdHMvY29tcG9uZW50cy9wcmV2aWV3L2Jvb3RzdHJhcC9wcmV2aWV3LWxpbmtzL3ByZXZpZXctbGlua3MuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm9yaWdpbmFsRG9jdW1lbnRMaW5rIHtcbiAgICBwYWRkaW5nLWxlZnQ6IDA7XG59XG4iXX0= */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsPreviewLinks, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-preview-links",
                // For highlight buttons...
                // http://stackoverflow.com/questions/21245541/min-and-max-width-mess-up-text-align-center
                templateUrl: "./preview-links.html",
                styleUrls: ["./preview-links.css"]
            }]
    }], function () { return [{ type: _sinequa_components_search__WEBPACK_IMPORTED_MODULE_1__["SearchService"] }]; }, { record: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], resultId: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "tDes":
/*!*******************************************!*\
  !*** ../analytics/heatmap/messages/fr.ts ***!
  \*******************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    "heatmap": {
        "name": "Carte de chaleur",
        "nodata": "Pas de données à afficher",
        "maxX": "Nombre maximum d'éléments sur l'axe X",
        "maxY": "Nombre maximum d'éléments sur l'axe Y",
        "rescale": "Redimensionner les axes",
        "colors": "Jeu de couleurs",
        "blue": "Bleu",
        "red": "Rouge",
        "green": "Vert",
        "diverging": "Divergent",
        "spectral": "Spectre",
        "cool": "Froid",
        "defaults": "Valeurs par défaut",
        "showing": "{shown, number} sur {total, number} éléments affichés",
        "tooltip": "{count, plural, one {# élément} other {# éléments}}"
    }
});


/***/ }),

/***/ "tG2r":
/*!************************************************!*\
  !*** ../components/notification/public-api.ts ***!
  \************************************************/
/*! exports provided: BsNotificationModule, notificationAnimations, BsNotification, BsNotifications, BsNotificationsManager, enNotification, frNotification, deNotification */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _bootstrap_index__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bootstrap/index */ "EqeW");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsNotificationModule", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_0__["BsNotificationModule"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "notificationAnimations", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_0__["notificationAnimations"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsNotification", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_0__["BsNotification"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsNotifications", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_0__["BsNotifications"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsNotificationsManager", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_0__["BsNotificationsManager"]; });

/* harmony import */ var _messages_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./messages/index */ "8Ux6");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "enNotification", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_1__["enNotification"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "frNotification", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_1__["frNotification"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "deNotification", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_1__["deNotification"]; });





/***/ }),

/***/ "tVL2":
/*!*********************************************************************!*\
  !*** ../components/alerts/bootstrap/manage-alerts/manage-alerts.ts ***!
  \*********************************************************************/
/*! exports provided: BsManageAlerts */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsManageAlerts", function() { return BsManageAlerts; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/modal */ "vMGo");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _alerts_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../alerts.service */ "hbzH");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/forms */ "nIj0");
/* harmony import */ var _modal_bootstrap_modal_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../modal/bootstrap/modal.component */ "oSLy");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _angular_cdk_drag_drop__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/cdk/drag-drop */ "oqI+");
/* harmony import */ var _alert_message_alert_message_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../alert-message/alert-message.component */ "kT2W");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../core/intl/message.pipe */ "X1Kh");











function BsManageAlerts_div_2_Template(rf, ctx) { if (rf & 1) {
    const _r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "button", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsManageAlerts_div_2_Template_button_click_1_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r4); const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r3.reorder(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](3, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](3, 1, ctx_r0.reordering ? "msg#manageAlerts.edit" : "msg#manageAlerts.reorder"));
} }
function BsManageAlerts_a_5_a_4_Template(rf, ctx) { if (rf & 1) {
    const _r11 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "a", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsManageAlerts_a_5_a_4_Template_a_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r11); const ctx_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); const alert_r5 = ctx_r10.$implicit; const $index_r6 = ctx_r10.index; const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r9.remove(alert_r5, $index_r6); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "span", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("title", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](1, 1, "msg#manageAlerts.remove"));
} }
function BsManageAlerts_a_5_span_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "span", 16);
} }
const _c0 = "list-group-item list-group-item-action d-flex w-auto-unimportant";
const _c1 = function (a1) { return [_c0, a1]; };
const _c2 = function (a0) { return { "sq-active": a0, "sq-alert-text": true }; };
function BsManageAlerts_a_5_Template(rf, ctx) { if (rf & 1) {
    const _r13 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "a", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsManageAlerts_a_5_Template_a_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r13); const alert_r5 = ctx.$implicit; const ctx_r12 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r12.editAlert(alert_r5); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, BsManageAlerts_a_5_a_4_Template, 3, 3, "a", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](5, BsManageAlerts_a_5_span_5_Template, 1, 0, "span", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const alert_r5 = ctx.$implicit;
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](5, _c1, ctx_r1.reordering ? "cursor-move" : ""));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](7, _c2, !ctx_r1.reordering));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](alert_r5.name);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx_r1.reordering);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r1.reordering);
} }
function BsManageAlerts_sq_alert_message_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "sq-alert-message", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "sqMessage");
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("message", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](1, 1, "msg#editAlert.lossDataMessage"));
} }
class BsManageAlerts {
    constructor(model, alertsService) {
        this.model = model;
        this.alertsService = alertsService;
        this.showDirtyMessage = false;
        this.reordering = false;
    }
    ngOnInit() {
        this.createButtons();
    }
    addAuditEvent(auditEvent) {
        if (!this.model.auditEvents) {
            this.model.auditEvents = [];
        }
        this.model.auditEvents.push(auditEvent);
    }
    reorder() {
        this.reordering = !this.reordering;
    }
    remove(alert, index) {
        this.model.alerts.splice(index, 1);
        this.removeAllButton.visible = this.model.alerts.length > 0;
        this.addAuditEvent({
            type: "Alert_Delete" /* Alert_Delete */,
            detail: {
                alert: alert.name
            }
        });
        return false;
    }
    editAlert(alert) {
        if (!this.reordering) {
            const alert1 = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].copy(alert);
            this.alertsService.editAlertModal(alert1, true, this.model.searchRoute)
                .then(result => {
                if (result) {
                    _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].copy(alert1, alert);
                    this.addAuditEvent({
                        type: "Alert_Edit" /* Alert_Edit */,
                        detail: {
                            alert: alert.name
                        }
                    });
                }
            });
        }
        return false;
    }
    dropped(drop) {
        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].arrayMove(this.model.alerts, drop.previousIndex, drop.currentIndex);
    }
    createButtons() {
        this.buttons = [
            this.removeAllButton = new _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_1__["ModalButton"]({
                text: "msg#manageAlerts.removeAll",
                result: 0 /* Custom */,
                action: (button) => {
                    this.model.alerts.splice(0);
                    button.visible = false;
                    this.addAuditEvent({
                        type: "Alert_DeleteAll" /* DeleteAll */
                    });
                },
                visible: this.model.alerts.length > 0
            }),
            new _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_1__["ModalButton"]({
                result: -1 /* OK */,
                primary: true
            }),
            new _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_1__["ModalButton"]({
                result: -2 /* Cancel */,
                action: (button) => {
                    var _a;
                    if (this.model.auditEvents && ((_a = this.model.auditEvents) === null || _a === void 0 ? void 0 : _a.length) > 0) {
                        button.result = 0 /* Custom */;
                        this.showDirtyMessage = true;
                        this.createYesNoButtons();
                    }
                }
            })
        ];
    }
    createYesNoButtons() {
        this.buttons = [
            new _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_1__["ModalButton"]({
                result: -3 /* Yes */,
                primary: true,
            }),
            new _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_1__["ModalButton"]({
                result: -4 /* No */,
                action: (button) => {
                    button.result = 0 /* Custom */;
                    this.showDirtyMessage = false;
                    this.createButtons();
                }
            })
        ];
    }
}
BsManageAlerts.ɵfac = function BsManageAlerts_Factory(t) { return new (t || BsManageAlerts)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_modal__WEBPACK_IMPORTED_MODULE_1__["MODAL_MODEL"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_alerts_service__WEBPACK_IMPORTED_MODULE_3__["AlertsService"])); };
BsManageAlerts.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsManageAlerts, selectors: [["sq-manage-alerts"]], decls: 7, vars: 7, consts: [["name", "manageAlerts", "novalidate", ""], [3, "title", "buttons"], ["class", "form-group clearfix", 4, "ngIf"], [1, "form-group"], ["cdkDropList", "", 1, "list-group", 3, "cdkDropListData", "cdkDropListDisabled", "cdkDropListDropped"], ["href", "#", "cdkDrag", "", 3, "ngClass", "click", 4, "ngFor", "ngForOf"], ["footer", "", 3, "message", 4, "ngIf"], [1, "form-group", "clearfix"], ["type", "button", 1, "btn", "btn-secondary", "float-right", 3, "click"], ["href", "#", "cdkDrag", "", 3, "ngClass", "click"], [3, "ngClass"], [1, "ml-auto"], ["class", "ml-2", "href", "#", 3, "title", "click", 4, "ngIf"], ["class", "ml-2 fas fa-bars sq-move", 4, "ngIf"], ["href", "#", 1, "ml-2", 3, "title", "click"], [1, "fas", "fa-times", "sq-remove"], [1, "ml-2", "fas", "fa-bars", "sq-move"], ["footer", "", 3, "message"]], template: function BsManageAlerts_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "form", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "sq-modal", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, BsManageAlerts_div_2_Template, 4, 3, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("cdkDropListDropped", function BsManageAlerts_Template_div_cdkDropListDropped_4_listener($event) { return ctx.dropped($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](5, BsManageAlerts_a_5_Template, 6, 9, "a", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](6, BsManageAlerts_sq_alert_message_6_Template, 2, 3, "sq-alert-message", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("title", "msg#manageAlerts.title")("buttons", ctx.buttons);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.model.alerts.length);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("cdkDropListData", ctx.model.alerts)("cdkDropListDisabled", !ctx.reordering);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.model.alerts);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.showDirtyMessage);
    } }, directives: [_angular_forms__WEBPACK_IMPORTED_MODULE_4__["ɵangular_packages_forms_forms_y"], _angular_forms__WEBPACK_IMPORTED_MODULE_4__["NgControlStatusGroup"], _angular_forms__WEBPACK_IMPORTED_MODULE_4__["NgForm"], _modal_bootstrap_modal_component__WEBPACK_IMPORTED_MODULE_5__["BsModal"], _angular_common__WEBPACK_IMPORTED_MODULE_6__["NgIf"], _angular_cdk_drag_drop__WEBPACK_IMPORTED_MODULE_7__["CdkDropList"], _angular_common__WEBPACK_IMPORTED_MODULE_6__["NgForOf"], _angular_cdk_drag_drop__WEBPACK_IMPORTED_MODULE_7__["CdkDrag"], _angular_common__WEBPACK_IMPORTED_MODULE_6__["NgClass"], _alert_message_alert_message_component__WEBPACK_IMPORTED_MODULE_8__["BsAlertMessageComponent"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_9__["MessagePipe"]], styles: [".list-group[_ngcontent-%COMP%] {\n  max-height: 18.5rem;\n  overflow-y: auto;\n  width: 100%;\n}\n\n.sq-alert-text[_ngcontent-%COMP%] {\n  width: 100%;\n  overflow-wrap: break-word;\n  word-wrap: break-word;\n  word-break: break-word;\n}\n\n.sq-move[_ngcontent-%COMP%] {\n  cursor: move;\n}\n\nspan.sq-move[_ngcontent-%COMP%] {\n  color: gray;\n}\n\n.sq-remove[_ngcontent-%COMP%] {\n  cursor: pointer;\n  color: lightgray;\n}\n\n.sq-remove[_ngcontent-%COMP%]:hover {\n  color: darkred;\n}\n\n.w-auto-unimportant[_ngcontent-%COMP%] {\n  width: auto;\n}\n\n.cursor-move[_ngcontent-%COMP%] {\n  cursor: move;\n}\n\n.sq-active[_ngcontent-%COMP%] {\n  color: #007bff;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2plY3RzL2NvbXBvbmVudHMvYWxlcnRzL2Jvb3RzdHJhcC9tYW5hZ2UtYWxlcnRzL21hbmFnZS1hbGVydHMuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLG1CQUFBO0VBQ0EsZ0JBQUE7RUFDQSxXQUFBO0FBQ0Y7O0FBRUE7RUFDRSxXQUFBO0VBQ0EseUJBQUE7RUFDQSxxQkFBQTtFQUNBLHNCQUFBO0FBQ0Y7O0FBRUE7RUFDRSxZQUFBO0FBQ0Y7O0FBRUE7RUFDRSxXQUFBO0FBQ0Y7O0FBRUE7RUFDRSxlQUFBO0VBQ0EsZ0JBQUE7QUFDRjs7QUFDQTtFQUNFLGNBQUE7QUFFRjs7QUFDQTtFQUNFLFdBQUE7QUFFRjs7QUFDQTtFQUNFLFlBQUE7QUFFRjs7QUFDQTtFQUNFLGNBQUE7QUFFRiIsImZpbGUiOiJwcm9qZWN0cy9jb21wb25lbnRzL2FsZXJ0cy9ib290c3RyYXAvbWFuYWdlLWFsZXJ0cy9tYW5hZ2UtYWxlcnRzLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubGlzdC1ncm91cCB7XG4gIG1heC1oZWlnaHQ6IDE4LjVyZW07XG4gIG92ZXJmbG93LXk6IGF1dG87XG4gIHdpZHRoOiAxMDAlO1xufVxuXG4uc3EtYWxlcnQtdGV4dCB7XG4gIHdpZHRoOiAxMDAlO1xuICBvdmVyZmxvdy13cmFwOiBicmVhay13b3JkO1xuICB3b3JkLXdyYXA6IGJyZWFrLXdvcmQ7XG4gIHdvcmQtYnJlYWs6IGJyZWFrLXdvcmQ7XG59XG5cbi5zcS1tb3ZlIHtcbiAgY3Vyc29yOiBtb3ZlO1xufVxuXG5zcGFuLnNxLW1vdmUge1xuICBjb2xvcjogZ3JheTtcbn1cblxuLnNxLXJlbW92ZSB7XG4gIGN1cnNvcjogcG9pbnRlcjtcbiAgY29sb3I6IGxpZ2h0Z3JheTtcbn1cbi5zcS1yZW1vdmU6aG92ZXIge1xuICBjb2xvcjogZGFya3JlZDtcbn1cblxuLnctYXV0by11bmltcG9ydGFudCB7XG4gIHdpZHRoOiBhdXRvO1xufVxuXG4uY3Vyc29yLW1vdmUge1xuICBjdXJzb3I6IG1vdmU7XG59XG5cbi5zcS1hY3RpdmUge1xuICBjb2xvcjogIzAwN2JmZjtcbn0iXX0= */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsManageAlerts, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-manage-alerts",
                templateUrl: "./manage-alerts.html",
                styleUrls: ["./manage-alerts.scss"]
            }]
    }], function () { return [{ type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [_sinequa_core_modal__WEBPACK_IMPORTED_MODULE_1__["MODAL_MODEL"]]
            }] }, { type: _alerts_service__WEBPACK_IMPORTED_MODULE_3__["AlertsService"] }]; }, null); })();


/***/ }),

/***/ "te0w":
/*!************************************************************************************************!*\
  !*** ../components/saved-queries/bootstrap/saved-queries-menu/saved-queries-menu.component.ts ***!
  \************************************************************************************************/
/*! exports provided: BsSavedQueriesMenuComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsSavedQueriesMenuComponent", function() { return BsSavedQueriesMenuComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/components/action */ "WsHA");
/* harmony import */ var _sinequa_core_login__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/login */ "7O5u");
/* harmony import */ var _saved_queries_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../saved-queries.service */ "6FzQ");
/* harmony import */ var _sinequa_components_search__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/components/search */ "7+c1");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _action_bootstrap_action_item_action_item__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../action/bootstrap/action-item/action-item */ "TE8J");








const _c0 = function (a0, a1, a2, a3) { return { item: a0, size: a1, autoAdjust: a2, autoAdjustBreakpoint: a3, inMenu: true }; };
function BsSavedQueriesMenuComponent_li_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "li", 1);
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("sq-action-item", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction4"](2, _c0, ctx_r0.menu, ctx_r0.size, ctx_r0.autoAdjust, ctx_r0.autoAdjustBreakpoint))("collapseBreakpoint", ctx_r0.collapseBreakpoint);
} }
class BsSavedQueriesMenuComponent {
    constructor(loginService, savedQueriesService, searchService) {
        this.loginService = loginService;
        this.savedQueriesService = savedQueriesService;
        this.searchService = searchService;
        this.searchRoute = "/search";
        this.icon = "far fa-save";
        this.autoAdjust = true;
        this.autoAdjustBreakpoint = 'xl';
        this.collapseBreakpoint = 'sm';
        this.saveAction = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__["Action"]({
            text: "msg#savedQueries.saveCurrentQuery",
            title: "msg#savedQueries.saveCurrentQuery",
            action: () => { this.savedQueriesService.createSavedQueryModal(); }
        });
        this.manageAction = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__["Action"]({
            text: "msg#savedQueries.manageSavedQueries",
            title: "msg#savedQueries.manageSavedQueries",
            action: () => { this.savedQueriesService.manageSavedQueriesModal(); }
        });
    }
    ngOnInit() {
        this.updateMenu();
        this._savedQueriesSubscription = this.savedQueriesService.changes.subscribe({
            next: () => { this.updateMenu(); }
        });
        this._loginSubscription = this.loginService.events.subscribe(event => {
            if (event.type === "session-changed") {
                this.updateMenu();
            }
        });
        this._searchSubscription = this.searchService.resultsStream.subscribe(results => {
            this.updateMenu();
        });
    }
    ngOnDestroy() {
        if (this._savedQueriesSubscription) {
            this._savedQueriesSubscription.unsubscribe();
        }
        if (this._loginSubscription) {
            this._loginSubscription.unsubscribe();
        }
        if (this._searchSubscription) {
            this._searchSubscription.unsubscribe();
        }
    }
    updateMenu() {
        if (!this.loginService.complete) {
            this.menu = undefined;
            return;
        }
        const savedQueriesActions = [];
        if (this.savedQueriesService.hasSavedQuery) {
            const scrollGroup = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__["Action"]({
                scrollGroup: true,
                children: this.savedQueriesService.savedqueries.map(savedQuery => new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__["Action"]({
                    text: savedQuery.name,
                    title: savedQuery.name,
                    data: savedQuery,
                    action: item => this.savedQueriesService.searchSavedQuery(item.data, this.searchRoute)
                }))
            });
            savedQueriesActions.push(scrollGroup);
        }
        if (!!this.searchService.results) {
            savedQueriesActions.push(this.saveAction);
        }
        if (this.savedQueriesService.hasSavedQuery) {
            savedQueriesActions.push(this.manageAction);
        }
        this.menu = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__["Action"]({
            icon: this.icon,
            text: "msg#savedQueries.savedQueries",
            children: savedQueriesActions
        });
    }
}
BsSavedQueriesMenuComponent.ɵfac = function BsSavedQueriesMenuComponent_Factory(t) { return new (t || BsSavedQueriesMenuComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_login__WEBPACK_IMPORTED_MODULE_2__["LoginService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_saved_queries_service__WEBPACK_IMPORTED_MODULE_3__["SavedQueriesService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_search__WEBPACK_IMPORTED_MODULE_4__["SearchService"])); };
BsSavedQueriesMenuComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsSavedQueriesMenuComponent, selectors: [["sq-saved-queries-menu"]], inputs: { searchRoute: "searchRoute", icon: "icon", autoAdjust: "autoAdjust", autoAdjustBreakpoint: "autoAdjustBreakpoint", collapseBreakpoint: "collapseBreakpoint", size: "size" }, decls: 1, vars: 1, consts: [["class", "nav-item dropdown", 3, "sq-action-item", "collapseBreakpoint", 4, "ngIf"], [1, "nav-item", "dropdown", 3, "sq-action-item", "collapseBreakpoint"]], template: function BsSavedQueriesMenuComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, BsSavedQueriesMenuComponent_li_0_Template, 1, 7, "li", 0);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !!ctx.menu && !ctx.menu.hidden);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_5__["NgIf"], _action_bootstrap_action_item_action_item__WEBPACK_IMPORTED_MODULE_6__["BsActionItem"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsSavedQueriesMenuComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'sq-saved-queries-menu',
                templateUrl: './saved-queries-menu.component.html'
            }]
    }], function () { return [{ type: _sinequa_core_login__WEBPACK_IMPORTED_MODULE_2__["LoginService"] }, { type: _saved_queries_service__WEBPACK_IMPORTED_MODULE_3__["SavedQueriesService"] }, { type: _sinequa_components_search__WEBPACK_IMPORTED_MODULE_4__["SearchService"] }]; }, { searchRoute: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], icon: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], autoAdjust: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], autoAdjustBreakpoint: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], collapseBreakpoint: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], size: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "tg+F":
/*!***********************************************!*\
  !*** ../analytics/heatmap/bootstrap/index.ts ***!
  \***********************************************/
/*! exports provided: BsHeatmapModule, BsFacetHeatmapComponent, BsHeatmapComponent, BsTooltipComponent, BsResultsHeatmapView */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _public_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./public-api */ "ADzn");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsHeatmapModule", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsHeatmapModule"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFacetHeatmapComponent", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsFacetHeatmapComponent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsHeatmapComponent", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsHeatmapComponent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsTooltipComponent", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsTooltipComponent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsResultsHeatmapView", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsResultsHeatmapView"]; });




/***/ }),

/***/ "thcF":
/*!********************************************!*\
  !*** ../core/web-services/config/ccapp.ts ***!
  \********************************************/
/*! exports provided: ExportSourceType, ExportOutputFormat, MINIMUM_COMPATIBLE_SERVER_API_VERSION */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ExportSourceType", function() { return ExportSourceType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ExportOutputFormat", function() { return ExportOutputFormat; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MINIMUM_COMPATIBLE_SERVER_API_VERSION", function() { return MINIMUM_COMPATIBLE_SERVER_API_VERSION; });
/**
 * Enum representing supported export source.
 */
var ExportSourceType;
(function (ExportSourceType) {
    ExportSourceType[ExportSourceType["None"] = 0] = "None";
    ExportSourceType[ExportSourceType["Result"] = 1] = "Result";
    ExportSourceType[ExportSourceType["Selection"] = 2] = "Selection";
    ExportSourceType[ExportSourceType["SavedQuery"] = 4] = "SavedQuery";
})(ExportSourceType || (ExportSourceType = {}));
/**
 * Enum representing supported export format.
 */
var ExportOutputFormat;
(function (ExportOutputFormat) {
    ExportOutputFormat[ExportOutputFormat["None"] = 0] = "None";
    ExportOutputFormat[ExportOutputFormat["Csv"] = 1] = "Csv";
    ExportOutputFormat[ExportOutputFormat["Xlsx"] = 2] = "Xlsx";
    ExportOutputFormat[ExportOutputFormat["Json"] = 4] = "Json";
})(ExportOutputFormat || (ExportOutputFormat = {}));
/**
 * The minimum server api version that compatible with this version of SBA.
 */
const MINIMUM_COMPATIBLE_SERVER_API_VERSION = '1.0';


/***/ }),

/***/ "tq2C":
/*!********************************************!*\
  !*** ./src/app/search/search.component.ts ***!
  \********************************************/
/*! exports provided: SearchComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SearchComponent", function() { return SearchComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/components/action */ "WsHA");
/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../config */ "1wtQ");
/* harmony import */ var _sinequa_components_preview__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/components/preview */ "XNLR");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/platform-browser */ "e4iD");
/* harmony import */ var _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sinequa/core/intl */ "EfqX");
/* harmony import */ var _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @sinequa/core/app-utils */ "SBPP");
/* harmony import */ var _sinequa_components_search__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @sinequa/components/search */ "7+c1");
/* harmony import */ var _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @sinequa/components/selection */ "8GPZ");
/* harmony import */ var _sinequa_core_login__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @sinequa/core/login */ "7O5u");
/* harmony import */ var _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @sinequa/core/web-services */ "cIYa");
/* harmony import */ var _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @sinequa/components/utils */ "DD1E");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/router */ "sEIs");
/* harmony import */ var _components_search_bootstrap_loading_bar_loading_bar__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../../../components/search/bootstrap/loading-bar/loading-bar */ "U/EC");
/* harmony import */ var _search_form_search_form_component__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../search-form/search-form.component */ "kruh");
/* harmony import */ var _components_user_settings_bootstrap_user_menu_user_menu_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../../../components/user-settings/bootstrap/user-menu/user-menu.component */ "D8t6");
/* harmony import */ var _components_baskets_bootstrap_baskets_menu_baskets_menu_component__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../../../components/baskets/bootstrap/baskets-menu/baskets-menu.component */ "G38c");
/* harmony import */ var _components_saved_queries_bootstrap_saved_queries_menu_saved_queries_menu_component__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../../../components/saved-queries/bootstrap/saved-queries-menu/saved-queries-menu.component */ "te0w");
/* harmony import */ var _components_alerts_bootstrap_alerts_menu_alerts_menu_component__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../../../components/alerts/bootstrap/alerts-menu/alerts-menu.component */ "vfzd");
/* harmony import */ var _components_labels_bootstrap_labels_menu_labels_menu_component__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../../../components/labels/bootstrap/labels-menu/labels-menu.component */ "dgxw");
/* harmony import */ var _components_feedback_bootstrap_feedback_menu_feedback_menu__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../../../../components/feedback/bootstrap/feedback-menu/feedback-menu */ "7eWH");
/* harmony import */ var _components_utils_directives_sticky__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../../../../components/utils/directives/sticky */ "n1yq");
/* harmony import */ var _components_facet_bootstrap_facet_card_facet_card__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../../../components/facet/bootstrap/facet-card/facet-card */ "wL8g");
/* harmony import */ var _components_facet_bootstrap_facet_tree_facet_tree__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../../../components/facet/bootstrap/facet-tree/facet-tree */ "JgJf");
/* harmony import */ var _components_facet_bootstrap_facet_multi_facet_multi_component__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../../../components/facet/bootstrap/facet-multi/facet-multi.component */ "bna5");
/* harmony import */ var _components_selection_bootstrap_results_selector_results_selector__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../../../components/selection/bootstrap/results-selector/results-selector */ "HNPw");
/* harmony import */ var _components_search_bootstrap_tabs_tabs__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../../../components/search/bootstrap/tabs/tabs */ "+6eA");
/* harmony import */ var _components_facet_bootstrap_facet_mysearch_facet_mysearch__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../../../components/facet/bootstrap/facet-mysearch/facet-mysearch */ "Cfzj");
/* harmony import */ var _components_result_results_counter_results_counter__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../../../components/result/results-counter/results-counter */ "fPNs");
/* harmony import */ var _components_search_bootstrap_sort_selector_sort_selector__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../../../../components/search/bootstrap/sort-selector/sort-selector */ "BWoz");
/* harmony import */ var _components_search_bootstrap_did_you_mean_did_you_mean__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ../../../../components/search/bootstrap/did-you-mean/did-you-mean */ "zj6v");
/* harmony import */ var _components_result_sponsored_results_sponsored_results__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ../../../../components/result/sponsored-results/sponsored-results */ "d4ai");
/* harmony import */ var _components_search_bootstrap_scroller_scroller__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ../../../../components/search/bootstrap/scroller/scroller */ "N5TP");
/* harmony import */ var _components_result_result_title_result_title__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ../../../../components/result/result-title/result-title */ "HBFV");
/* harmony import */ var _components_result_result_source_result_source__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ../../../../components/result/result-source/result-source */ "0UXu");
/* harmony import */ var _components_result_result_extracts_result_extracts__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ../../../../components/result/result-extracts/result-extracts */ "PM2X");
/* harmony import */ var _components_result_result_missing_terms_result_missing_terms__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ../../../../components/result/result-missing-terms/result-missing-terms */ "8LMT");
/* harmony import */ var _components_labels_labels_component__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ../../../../components/labels/labels.component */ "4yRq");
/* harmony import */ var _components_selection_bootstrap_result_selector_result_selector__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ../../../../components/selection/bootstrap/result-selector/result-selector */ "7RQc");
/* harmony import */ var _components_result_result_thumbnail_result_thumbnail__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ../../../../components/result/result-thumbnail/result-thumbnail */ "L67x");
/* harmony import */ var _components_preview_bootstrap_facet_preview_2_facet_preview_component__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ../../../../components/preview/bootstrap/facet-preview-2/facet-preview.component */ "vP33");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ../../../../core/intl/message.pipe */ "X1Kh");












































function SearchComponent_img_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "img", 13);
} }
function SearchComponent_img_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "img", 14);
} }
function SearchComponent_img_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "img", 15);
} }
function SearchComponent_img_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "img", 16);
} }
function SearchComponent_button_8_Template(rf, ctx) { if (rf & 1) {
    const _r11 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function SearchComponent_button_8_Template_button_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r11); const ctx_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r10.toggleFilters(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "i", 18);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMapInterpolate1"]("ml-2 btn btn-lg btn-", ctx_r4.isDark() ? "dark" : "light", "");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("title", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](1, 4, "msg#search.showFilters"));
} }
function SearchComponent_app_search_form_9_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "app-search-form", 19);
} }
function SearchComponent_button_10_Template(rf, ctx) { if (rf & 1) {
    const _r13 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "button", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function SearchComponent_button_10_Template_button_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r13); const ctx_r12 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r12.toggleMenu(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "i", 20);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMapInterpolate1"]("btn btn-lg btn-", ctx_r6.isDark() ? "dark" : "light", "");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("title", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](1, 4, "msg#search.showMenu"));
} }
function SearchComponent_ul_11_ng_container_1_sq_baskets_menu_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "sq-baskets-menu", 27);
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("icon", "fas fa-inbox");
} }
function SearchComponent_ul_11_ng_container_1_sq_saved_queries_menu_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "sq-saved-queries-menu");
} }
function SearchComponent_ul_11_ng_container_1_sq_alerts_menu_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "sq-alerts-menu");
} }
function SearchComponent_ul_11_ng_container_1_sq_labels_menu_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "sq-labels-menu", 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "async");
} if (rf & 2) {
    const ctx_r19 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("results", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](1, 1, ctx_r19.searchService.resultsStream));
} }
function SearchComponent_ul_11_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0, 23);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, SearchComponent_ul_11_ng_container_1_sq_baskets_menu_1_Template, 1, 1, "sq-baskets-menu", 24);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, SearchComponent_ul_11_ng_container_1_sq_saved_queries_menu_2_Template, 1, 0, "sq-saved-queries-menu", 25);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, SearchComponent_ul_11_ng_container_1_sq_alerts_menu_3_Template, 1, 0, "sq-alerts-menu", 25);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, SearchComponent_ul_11_ng_container_1_sq_labels_menu_4_Template, 2, 3, "sq-labels-menu", 26);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const feature_r15 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngSwitch", feature_r15);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngSwitchCase", "baskets");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngSwitchCase", "saved-queries");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngSwitchCase", "alerts");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngSwitchCase", "labels");
} }
const _c0 = function (a0) { return { "full-width": a0 }; };
function SearchComponent_ul_11_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "ul", 21);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, SearchComponent_ul_11_ng_container_1_Template, 5, 5, "ng-container", 22);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "sq-user-menu");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](2, _c0, ctx_r7.ui.screenSizeIsLess("sm")));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx_r7.features);
} }
function SearchComponent_sq_feedback_menu_12_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "sq-feedback-menu", 29);
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵstyleMap"]("primary");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("rightAligned", true);
} }
const _c1 = function () { return { top: 70, bottom: 80 }; };
function SearchComponent_div_14_div_1_div_1_Template(rf, ctx) { if (rf & 1) {
    const _r29 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 38);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "sq-facet-card", 39);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "sq-facet-tree", 40, 41);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "sq-facet-card", 42);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "sq-facet-multi", 43, 41);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("events", function SearchComponent_div_14_div_1_div_1_Template_sq_facet_multi_events_5_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r29); const ctx_r28 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3); return ctx_r28.facetChanged($event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const results_r21 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    const ctx_r22 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("sqSticky", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction0"](14, _c1));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("title", "msg#facet.treepath.title")("icon", "fas fa-sitemap")("collapsible", false)("buttonsStyle", ctx_r22.isDark() ? "dark" : "light");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("results", results_r21)("aggregation", "Treepath");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("title", ctx_r22.multiFacetTitle)("icon", ctx_r22.multiFacetIcon)("collapsible", false)("buttonsStyle", ctx_r22.isDark() ? "dark" : "light");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("results", results_r21)("facets", ctx_r22.facets)("showProgressBar", false);
} }
function SearchComponent_div_14_div_1_div_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 44);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 45);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "sq-results-selector");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r23 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵstyleMap"](ctx_r23.isDark() ? "dark" : "primary");
} }
function SearchComponent_div_14_div_1_div_3_div_8_sq_result_selector_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "sq-result-selector", 63);
} if (rf & 2) {
    const record_r32 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("record", record_r32);
} }
function SearchComponent_div_14_div_1_div_3_div_8_sq_result_thumbnail_11_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "sq-result-thumbnail", 64);
} if (rf & 2) {
    const record_r32 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("record", record_r32)("thumbnailColumn", "sourcevarchar4")("linkBehavior", "action");
} }
const _c2 = function (a0) { return { "selected": a0 }; };
function SearchComponent_div_14_div_1_div_3_div_8_Template(rf, ctx) { if (rf & 1) {
    const _r38 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 53);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function SearchComponent_div_14_div_1_div_3_div_8_Template_div_click_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r38); const record_r32 = ctx.$implicit; const ctx_r37 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](4); return ctx_r37.onDocumentClicked(record_r32, $event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 54);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 55);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, SearchComponent_div_14_div_1_div_3_div_8_sq_result_selector_3_Template, 1, 1, "sq-result-selector", 56);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "sq-result-title", 57);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("titleClicked", function SearchComponent_div_14_div_1_div_3_div_8_Template_sq_result_title_titleClicked_4_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r38); const record_r32 = ctx.$implicit; const ctx_r39 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](4); return ctx_r39.openPreviewIfNoUrl(record_r32, $event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](5, "sq-result-source", 58);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](6, "sq-result-extracts", 59);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](7, "sq-result-missing-terms", 59);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "div", 60);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](9, "sq-labels", 61);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](10, "sq-labels", 61);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](11, SearchComponent_div_14_div_1_div_3_div_8_sq_result_thumbnail_11_Template, 1, 3, "sq-result-thumbnail", 62);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const record_r32 = ctx.$implicit;
    const ctx_r31 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](12, _c2, record_r32.$selected || record_r32 === ctx_r31.openedDoc));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r31.ui.screenSizeIsGreaterOrEqual("md"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("record", record_r32);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("record", record_r32)("displayTreepath", true);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("record", record_r32);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("record", record_r32);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("record", record_r32)("public", true);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("record", record_r32)("public", false);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r31.ui.screenSizeIsGreater("xs"));
} }
const _c3 = function (a0, a1) { return { "col-md-7": a0, "col-md-8": a1 }; };
function SearchComponent_div_14_div_1_div_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 46);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "sq-tabs", 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 47);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](3, "sq-facet-mysearch", 48);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](4, "sq-results-counter", 49);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](5, "sq-sort-selector", 50);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](6, "sq-did-you-mean", 28);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](7, "sq-sponsored-results", 51);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](8, SearchComponent_div_14_div_1_div_3_div_8_Template, 12, 14, "div", 52);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](9, "sq-scroller");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const results_r21 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    const ctx_r24 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction2"](12, _c3, !ctx_r24.showFilters, ctx_r24.showFilters));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("results", results_r21);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("results", results_r21)("allowDeletion", true);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("rowCount", ctx_r24.searchService.rowCount);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵstyleMap"](ctx_r24.isDark() ? "dark" : "light");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("results", results_r21)("rightAligned", true);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("results", results_r21);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("query", ctx_r24.searchService.query);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", results_r21.records);
} }
function SearchComponent_div_14_div_1_sq_facet_card_5_Template(rf, ctx) { if (rf & 1) {
    const _r43 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "sq-facet-card", 65);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "sq-facet-preview-2", 66, 41);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("recordClosed", function SearchComponent_div_14_div_1_sq_facet_card_5_Template_sq_facet_preview_2_recordClosed_1_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r43); const ctx_r42 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3); return ctx_r42.closeDocument(); })("previewLoaded", function SearchComponent_div_14_div_1_sq_facet_card_5_Template_sq_facet_preview_2_previewLoaded_1_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r43); const ctx_r44 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3); return ctx_r44.previewReady($event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r25 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("collapsible", false)("buttonsStyle", ctx_r25.isDark() ? "dark" : "light")("actionsSize", "");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("record", ctx_r25.openedDoc)("query", ctx_r25.searchService.query)("height", 750)("metadata", ctx_r25.metadata)("expandModal", false)("customActions", ctx_r25.previewCustomActions);
} }
const _c4 = function () { return { top: 70, bottom: 30 }; };
function SearchComponent_div_14_div_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 32);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, SearchComponent_div_14_div_1_div_1_Template, 7, 15, "div", 33);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, SearchComponent_div_14_div_1_div_2_Template, 3, 2, "div", 34);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, SearchComponent_div_14_div_1_div_3_Template, 10, 15, "div", 35);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "div", 36);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](5, SearchComponent_div_14_div_1_sq_facet_card_5_Template, 3, 9, "sq-facet-card", 37);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r20 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r20.showFilters);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r20.ui.screenSizeIsGreater("sm"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r20.showResults);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("sqSticky", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction0"](5, _c4));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r20.openedDoc);
} }
function SearchComponent_div_14_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 30);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, SearchComponent_div_14_div_1_Template, 6, 6, "div", 31);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "async");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 1, ctx_r9.searchService.resultsStream));
} }
const _c5 = function (a0, a1) { return { "navbar-light bg-light": a0, "navbar-dark bg-dark": a1 }; };
const _c6 = function () { return ["/home"]; };
class SearchComponent {
    constructor(previewService, titleService, intlService, appService, searchService, selectionService, loginService, auditService, ui) {
        this.previewService = previewService;
        this.titleService = titleService;
        this.intlService = intlService;
        this.appService = appService;
        this.searchService = searchService;
        this.selectionService = selectionService;
        this.loginService = loginService;
        this.auditService = auditService;
        this.ui = ui;
        // Dynamic display of facets titles/icons in the multi-facet component
        this.multiFacetIcon = "fas fa-filter fa-fw";
        this.multiFacetTitle = "msg#facet.filters.title";
        // Whether the left facet bar is shown
        this._showFilters = this.ui.screenSizeIsEqual('md');
        // Whether the menu is shown on small screens
        this._showMenu = false;
        // Initialize the facet preview action (opens the preview route)
        const expandPreviewAction = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__["Action"]({
            icon: "fas fa-expand-alt",
            title: "msg#facet.preview.expandTitle",
            action: () => {
                if (this.openedDoc) {
                    this.previewService.openRoute(this.openedDoc, this.searchService.query);
                }
            }
        });
        this.previewCustomActions = [expandPreviewAction];
    }
    /**
     * Initialize the page title
     */
    ngOnInit() {
        this.titleService.setTitle(this.intlService.formatMessage("msg#search.pageTitle", { search: "" }));
        this._searchServiceSubscription = this.searchService.resultsStream
            .subscribe(results => {
            this.titleService.setTitle(this.intlService.formatMessage("msg#search.pageTitle", { search: this.searchService.query.text || "" }));
            if (!this.showResults) {
                this.openedDoc = undefined;
                this._showFilters = false;
            }
        });
    }
    /**
     * Unsubscribe from the search service
     */
    ngOnDestroy() {
        this._searchServiceSubscription.unsubscribe();
    }
    /**
     * Returns the configuration of the facets displayed in the facet-multi component.
     * The configuration from the config.ts file can be overriden by configuration from
     * the app configuration on the server
     */
    get facets() {
        var _a, _b;
        return ((_b = (_a = this.appService.app) === null || _a === void 0 ? void 0 : _a.data) === null || _b === void 0 ? void 0 : _b.facets) || _config__WEBPACK_IMPORTED_MODULE_2__["FACETS"];
    }
    /**
     * Returns the list of features activated in the top right menus.
     * The configuration from the config.ts file can be overriden by configuration from
     * the app configuration on the server
     */
    get features() {
        var _a, _b;
        return ((_b = (_a = this.appService.app) === null || _a === void 0 ? void 0 : _a.data) === null || _b === void 0 ? void 0 : _b.features) || _config__WEBPACK_IMPORTED_MODULE_2__["FEATURES"];
    }
    /**
     * Returns the configuration of the metadata displayed in the facet-preview component.
     * The configuration from the config.ts file can be overriden by configuration from
     * the app configuration on the server
     */
    get metadata() {
        var _a, _b;
        return ((_b = (_a = this.appService.app) === null || _a === void 0 ? void 0 : _a.data) === null || _b === void 0 ? void 0 : _b.metadata) || _config__WEBPACK_IMPORTED_MODULE_2__["METADATA"];
    }
    /**
     * Responds to a change of facet in the multi facet
     * @param facet
     */
    facetChanged(facet) {
        if (!facet) {
            this.multiFacetIcon = "fas fa-filter fa-fw";
            this.multiFacetTitle = "msg#facet.filters.title";
        }
        else {
            this.multiFacetIcon = facet.icon;
            this.multiFacetTitle = facet.title;
        }
    }
    /**
     * Responds to a click on a document (setting openedDoc will open the preview facet)
     * @param record
     * @param event
     */
    onDocumentClicked(record, event) {
        if (!this.isClickAction(event)) {
            this.openedDoc = record;
            if (this.ui.screenSizeIsLessOrEqual('md')) {
                this._showFilters = false; // Hide filters on small screens if a document gets opened
            }
        }
    }
    /**
     * Open the preview when this record has no url1
     * @param record
     * @param isLink
     */
    openPreviewIfNoUrl(record, isLink) {
        if (!isLink) {
            this.previewService.openRoute(record, this.searchService.query);
        }
    }
    /**
     * Responds to the preview facet being closed by a user action
     */
    closeDocument() {
        var _a;
        if (this.openedDoc) {
            this.auditService.notify({
                type: "Preview.close",
                detail: this.previewService.getAuditPreviewDetail(this.openedDoc.id, this.searchService.query, this.openedDoc, (_a = this.searchService.results) === null || _a === void 0 ? void 0 : _a.id)
            });
            this.openedDoc = undefined;
            if (this.ui.screenSizeIsEqual('md')) {
                this._showFilters = true; // Show filters on medium screen when document is closed
            }
        }
    }
    /**
     * Document is loaded and displayed on screen. It could be manipulated easily.
     *
     * eg: scroll to a specific location
     * document.getContentWindow().scrollTo(0, 3000);
     * @param document the document currently in preview
     */
    previewReady(document) {
        // document.getContentWindow().scrollTo(0, Math.random() * 4000);
    }
    // VERY SPECIFIC TO THIS APP:
    // Make sure the click is not meant to trigger an action (from sq-result-source or sq-result-title)
    isClickAction(event) {
        if (event.type !== 'click') {
            return true;
        }
        const target = event.target;
        if (!target) {
            return false;
        }
        return event.type !== 'click' ||
            target.tagName === "A" ||
            target.tagName === "INPUT" ||
            target.matches("sq-result-selector *, .sq-result-title, sq-result-source *, sq-labels *");
    }
    /**
     * Controls visibility of filters (small screen sizes)
     */
    get showFilters() {
        return this.ui.screenSizeIsGreaterOrEqual('lg') || this._showFilters;
    }
    /**
     * Show or hide the left facet bar (small screen sizes)
     */
    toggleFilters() {
        this._showFilters = !this._showFilters;
        if (this._showFilters) { // Close document if filters are displayed
            this.openedDoc = undefined;
        }
    }
    /**
     * Controls visibility of menu (small screen sizes)
     */
    get showMenu() {
        return this.ui.screenSizeIsGreaterOrEqual('sm') || (this._showMenu && !this._showFilters);
    }
    /**
     * Show or hide the user menus (small screen sizes)
     */
    toggleMenu() {
        this._showMenu = !this._showMenu;
    }
    /**
     * Determine whether to show or hide results
     */
    get showResults() {
        if (this.ui.screenSizeIsLessOrEqual('sm')) {
            return !this.showFilters && !this.openedDoc;
        }
        return true;
    }
    /**
     * On small screens only show the search form when the facets are displayed
     */
    get showForm() {
        return this.ui.screenSizeIsGreaterOrEqual('sm') || this.showFilters;
    }
    /**
     * Whether the UI is in dark or light mode
     */
    isDark() {
        return document.body.classList.contains("dark");
    }
}
SearchComponent.ɵfac = function SearchComponent_Factory(t) { return new (t || SearchComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_preview__WEBPACK_IMPORTED_MODULE_3__["PreviewService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_platform_browser__WEBPACK_IMPORTED_MODULE_4__["Title"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_intl__WEBPACK_IMPORTED_MODULE_5__["IntlService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_6__["AppService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_search__WEBPACK_IMPORTED_MODULE_7__["SearchService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_selection__WEBPACK_IMPORTED_MODULE_8__["SelectionService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_login__WEBPACK_IMPORTED_MODULE_9__["LoginService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_10__["AuditWebService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_utils__WEBPACK_IMPORTED_MODULE_11__["UIService"])); };
SearchComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: SearchComponent, selectors: [["app-search"]], decls: 15, vars: 16, consts: [[1, "nav-wrapper"], [1, "navbar", "navbar-expand-sm", 3, "ngClass"], [1, "container-xl"], ["title", "Home", 3, "routerLink"], ["id", "logo", "src", "assets/sinequa-logo-light-lg.png", "alt", "sinequa logo", "width", "180px", 4, "ngIf"], ["id", "logo", "src", "assets/sinequa-logo-light-sm.png", "alt", "sinequa logo", "width", "30px", 4, "ngIf"], ["id", "logo", "src", "assets/sinequa-logo-dark-lg.png", "alt", "sinequa logo", "width", "150px", 4, "ngIf"], ["id", "logo", "src", "assets/sinequa-logo-dark-sm.png", "alt", "sinequa logo", "width", "30px", 4, "ngIf"], [3, "class", "title", "click", 4, "ngIf"], ["class", "flex-grow-1 flex-basis-0 mx-3", 4, "ngIf"], ["class", "navbar-nav navbar-right", 3, "ngClass", 4, "ngIf"], ["class", "ml-1", 3, "style", "rightAligned", 4, "ngIf"], ["class", "container-xl main", 4, "ngIf"], ["id", "logo", "src", "assets/sinequa-logo-light-lg.png", "alt", "sinequa logo", "width", "180px"], ["id", "logo", "src", "assets/sinequa-logo-light-sm.png", "alt", "sinequa logo", "width", "30px"], ["id", "logo", "src", "assets/sinequa-logo-dark-lg.png", "alt", "sinequa logo", "width", "150px"], ["id", "logo", "src", "assets/sinequa-logo-dark-sm.png", "alt", "sinequa logo", "width", "30px"], [3, "title", "click"], [1, "fas", "fa-filter", "text-muted"], [1, "flex-grow-1", "flex-basis-0", "mx-3"], [1, "fas", "fa-bars", "text-muted"], [1, "navbar-nav", "navbar-right", 3, "ngClass"], [3, "ngSwitch", 4, "ngFor", "ngForOf"], [3, "ngSwitch"], [3, "icon", 4, "ngSwitchCase"], [4, "ngSwitchCase"], [3, "results", 4, "ngSwitchCase"], [3, "icon"], [3, "results"], [1, "ml-1", 3, "rightAligned"], [1, "container-xl", "main"], ["class", "row", 4, "ngIf"], [1, "row"], ["class", "col-md-4 col-lg-3 col-xl-2", 3, "sqSticky", 4, "ngIf"], ["class", "card text-white bg-primary position-fixed action-bar", 4, "ngIf"], ["class", "col-lg-5", 3, "ngClass", 4, "ngIf"], [1, "col-md-5", "col-lg-4", "col-xl-5", 3, "sqSticky"], ["class", "d-block mb-3 facet-preview", 3, "collapsible", "buttonsStyle", "actionsSize", 4, "ngIf"], [1, "col-md-4", "col-lg-3", "col-xl-2", 3, "sqSticky"], [3, "title", "icon", "collapsible", "buttonsStyle"], [3, "results", "aggregation"], ["facet", ""], [1, "d-block", "mt-3", 3, "title", "icon", "collapsible", "buttonsStyle"], [3, "results", "facets", "showProgressBar", "events"], [1, "card", "text-white", "bg-primary", "position-fixed", "action-bar"], [1, "card-header"], [1, "col-lg-5", 3, "ngClass"], [1, "d-flex"], [1, "flex-grow-1", "flex-basis-0", 3, "results", "allowDeletion"], [1, "mx-2", 3, "rowCount"], [3, "results", "rightAligned"], [3, "query"], ["class", "record d-flex", 3, "ngClass", "click", 4, "ngFor", "ngForOf"], [1, "record", "d-flex", 3, "ngClass", "click"], [1, "flex-grow-1", "overflow-hidden"], [1, "d-flex", "align-items-center"], ["class", "ml-1", 3, "record", 4, "ngIf"], [3, "record", "titleClicked"], [3, "record", "displayTreepath"], [3, "record"], [1, "d-inline"], [1, "d-inline", 3, "record", "public"], ["class", "align-self-center", 3, "record", "thumbnailColumn", "linkBehavior", 4, "ngIf"], [1, "ml-1", 3, "record"], [1, "align-self-center", 3, "record", "thumbnailColumn", "linkBehavior"], [1, "d-block", "mb-3", "facet-preview", 3, "collapsible", "buttonsStyle", "actionsSize"], [3, "record", "query", "height", "metadata", "expandModal", "customActions", "recordClosed", "previewLoaded"]], template: function SearchComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "nav", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "a", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, SearchComponent_img_4_Template, 1, 0, "img", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](5, SearchComponent_img_5_Template, 1, 0, "img", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](6, SearchComponent_img_6_Template, 1, 0, "img", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](7, SearchComponent_img_7_Template, 1, 0, "img", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](8, SearchComponent_button_8_Template, 3, 6, "button", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](9, SearchComponent_app_search_form_9_Template, 1, 0, "app-search-form", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](10, SearchComponent_button_10_Template, 3, 6, "button", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](11, SearchComponent_ul_11_Template, 3, 4, "ul", 10);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](12, SearchComponent_sq_feedback_menu_12_Template, 1, 3, "sq-feedback-menu", 11);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](13, "sq-loading-bar");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](14, SearchComponent_div_14_Template, 3, 3, "div", 12);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction2"](12, _c5, !ctx.isDark(), ctx.isDark()));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("routerLink", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction0"](15, _c6));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.isDark() && ctx.ui.screenSizeIsGreater("md"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.isDark() && ctx.ui.screenSizeIsLessOrEqual("md"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.isDark() && ctx.ui.screenSizeIsGreater("md"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.isDark() && ctx.ui.screenSizeIsLessOrEqual("md"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.ui.screenSizeIsLessOrEqual("md"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.showForm);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.ui.screenSizeIsLess("sm") && !ctx.showFilters);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.showMenu);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.loginService.complete);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.loginService.complete);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_12__["NgClass"], _angular_router__WEBPACK_IMPORTED_MODULE_13__["RouterLinkWithHref"], _angular_common__WEBPACK_IMPORTED_MODULE_12__["NgIf"], _components_search_bootstrap_loading_bar_loading_bar__WEBPACK_IMPORTED_MODULE_14__["BsLoadingBar"], _search_form_search_form_component__WEBPACK_IMPORTED_MODULE_15__["SearchFormComponent"], _angular_common__WEBPACK_IMPORTED_MODULE_12__["NgForOf"], _components_user_settings_bootstrap_user_menu_user_menu_component__WEBPACK_IMPORTED_MODULE_16__["BsUserMenuComponent"], _angular_common__WEBPACK_IMPORTED_MODULE_12__["NgSwitch"], _angular_common__WEBPACK_IMPORTED_MODULE_12__["NgSwitchCase"], _components_baskets_bootstrap_baskets_menu_baskets_menu_component__WEBPACK_IMPORTED_MODULE_17__["BsBasketsMenuComponent"], _components_saved_queries_bootstrap_saved_queries_menu_saved_queries_menu_component__WEBPACK_IMPORTED_MODULE_18__["BsSavedQueriesMenuComponent"], _components_alerts_bootstrap_alerts_menu_alerts_menu_component__WEBPACK_IMPORTED_MODULE_19__["BsAlertsMenuComponent"], _components_labels_bootstrap_labels_menu_labels_menu_component__WEBPACK_IMPORTED_MODULE_20__["BsLabelsMenuComponent"], _components_feedback_bootstrap_feedback_menu_feedback_menu__WEBPACK_IMPORTED_MODULE_21__["BsFeedbackMenu"], _components_utils_directives_sticky__WEBPACK_IMPORTED_MODULE_22__["StickyComponent"], _components_facet_bootstrap_facet_card_facet_card__WEBPACK_IMPORTED_MODULE_23__["BsFacetCard"], _components_facet_bootstrap_facet_tree_facet_tree__WEBPACK_IMPORTED_MODULE_24__["BsFacetTree"], _components_facet_bootstrap_facet_multi_facet_multi_component__WEBPACK_IMPORTED_MODULE_25__["BsFacetMultiComponent"], _components_selection_bootstrap_results_selector_results_selector__WEBPACK_IMPORTED_MODULE_26__["BsResultsSelector"], _components_search_bootstrap_tabs_tabs__WEBPACK_IMPORTED_MODULE_27__["BsTabs"], _components_facet_bootstrap_facet_mysearch_facet_mysearch__WEBPACK_IMPORTED_MODULE_28__["BsMySearch"], _components_result_results_counter_results_counter__WEBPACK_IMPORTED_MODULE_29__["ResultsCounter"], _components_search_bootstrap_sort_selector_sort_selector__WEBPACK_IMPORTED_MODULE_30__["BsSortSelector"], _components_search_bootstrap_did_you_mean_did_you_mean__WEBPACK_IMPORTED_MODULE_31__["BsDidYouMean"], _components_result_sponsored_results_sponsored_results__WEBPACK_IMPORTED_MODULE_32__["SponsoredResults"], _components_search_bootstrap_scroller_scroller__WEBPACK_IMPORTED_MODULE_33__["BsScroller"], _components_result_result_title_result_title__WEBPACK_IMPORTED_MODULE_34__["ResultTitle"], _components_result_result_source_result_source__WEBPACK_IMPORTED_MODULE_35__["ResultSource"], _components_result_result_extracts_result_extracts__WEBPACK_IMPORTED_MODULE_36__["ResultExtracts"], _components_result_result_missing_terms_result_missing_terms__WEBPACK_IMPORTED_MODULE_37__["ResultMissingTerms"], _components_labels_labels_component__WEBPACK_IMPORTED_MODULE_38__["Labels"], _components_selection_bootstrap_result_selector_result_selector__WEBPACK_IMPORTED_MODULE_39__["BsResultSelector"], _components_result_result_thumbnail_result_thumbnail__WEBPACK_IMPORTED_MODULE_40__["ResultThumbnail"], _components_preview_bootstrap_facet_preview_2_facet_preview_component__WEBPACK_IMPORTED_MODULE_41__["BsFacetPreviewComponent2"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_42__["MessagePipe"], _angular_common__WEBPACK_IMPORTED_MODULE_12__["AsyncPipe"]], styles: ["#logo[_ngcontent-%COMP%] {\n  height: 30px;\n}\n\n.record[_ngcontent-%COMP%] {\n  padding: 0.5em 15px;\n  margin: 0 -15px;\n  cursor: pointer;\n}\n\n.record[_ngcontent-%COMP%]:hover {\n  background-color: rgba(0, 0, 0, 0.03);\n}\n\n.record.selected[_ngcontent-%COMP%] {\n  background-color: rgba(0, 0, 0, 0.05);\n}\n\n.record[_ngcontent-%COMP%]   sq-result-source[_ngcontent-%COMP%] {\n  display: grid;\n}\n\n.record[_ngcontent-%COMP%]   sq-result-thumbnail[_ngcontent-%COMP%] {\n  margin-left: 1em;\n}\n\n.full-width[_ngcontent-%COMP%] {\n  -ms-flex-preferred-size: 100%;\n      flex-basis: 100%;\n}\n\n.nav-wrapper[_ngcontent-%COMP%] {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  z-index: 1;\n}\n\n.main[_ngcontent-%COMP%] {\n  margin-top: 70px;\n  margin-bottom: 20px;\n}\n\n.card.action-bar[_ngcontent-%COMP%] {\n  bottom: 10px;\n  margin-left: 15px;\n  z-index: 4;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2plY3RzL3ZhbmlsbGEtc2VhcmNoL3NyYy9hcHAvc2VhcmNoL3NlYXJjaC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLFlBQUE7QUFDRjs7QUFFQTtFQUNFLG1CQUFBO0VBQ0EsZUFBQTtFQUNBLGVBQUE7QUFDRjs7QUFDQTtFQUNFLHFDQUFBO0FBRUY7O0FBQUE7RUFDRSxxQ0FBQTtBQUdGOztBQURBO0VBQ0UsYUFBQTtBQUlGOztBQUZBO0VBQ0UsZ0JBQUE7QUFLRjs7QUFGQTtFQUNFLDZCQUFBO01BQUEsZ0JBQUE7QUFLRjs7QUFGQTtFQUNFLGVBQUE7RUFDQSxNQUFBO0VBQ0EsT0FBQTtFQUNBLFFBQUE7RUFDQSxVQUFBO0FBS0Y7O0FBRkE7RUFDRSxnQkFBQTtFQUNBLG1CQUFBO0FBS0Y7O0FBRkE7RUFDRSxZQUFBO0VBQ0EsaUJBQUE7RUFDQSxVQUFBO0FBS0YiLCJmaWxlIjoicHJvamVjdHMvdmFuaWxsYS1zZWFyY2gvc3JjL2FwcC9zZWFyY2gvc2VhcmNoLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiI2xvZ28ge1xuICBoZWlnaHQ6IDMwcHg7XG59XG5cbi5yZWNvcmQge1xuICBwYWRkaW5nOiAwLjVlbSAxNXB4O1xuICBtYXJnaW46IDAgLTE1cHg7XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cbi5yZWNvcmQ6aG92ZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMDMpO1xufVxuLnJlY29yZC5zZWxlY3RlZCB7XG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMC4wNSk7XG59XG4ucmVjb3JkIHNxLXJlc3VsdC1zb3VyY2Uge1xuICBkaXNwbGF5OiBncmlkO1xufVxuLnJlY29yZCBzcS1yZXN1bHQtdGh1bWJuYWlsIHtcbiAgbWFyZ2luLWxlZnQ6IDFlbTtcbn1cblxuLmZ1bGwtd2lkdGgge1xuICBmbGV4LWJhc2lzOiAxMDAlO1xufVxuXG4ubmF2LXdyYXBwZXIge1xuICBwb3NpdGlvbjogZml4ZWQ7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgcmlnaHQ6IDA7XG4gIHotaW5kZXg6IDE7XG59XG5cbi5tYWluIHtcbiAgbWFyZ2luLXRvcDogNzBweDtcbiAgbWFyZ2luLWJvdHRvbTogMjBweDtcbn1cblxuLmNhcmQuYWN0aW9uLWJhciB7XG4gIGJvdHRvbTogMTBweDtcbiAgbWFyZ2luLWxlZnQ6IDE1cHg7XG4gIHotaW5kZXg6IDQ7XG59Il19 */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](SearchComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'app-search',
                templateUrl: './search.component.html',
                styleUrls: ['./search.component.scss']
            }]
    }], function () { return [{ type: _sinequa_components_preview__WEBPACK_IMPORTED_MODULE_3__["PreviewService"] }, { type: _angular_platform_browser__WEBPACK_IMPORTED_MODULE_4__["Title"] }, { type: _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_5__["IntlService"] }, { type: _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_6__["AppService"] }, { type: _sinequa_components_search__WEBPACK_IMPORTED_MODULE_7__["SearchService"] }, { type: _sinequa_components_selection__WEBPACK_IMPORTED_MODULE_8__["SelectionService"] }, { type: _sinequa_core_login__WEBPACK_IMPORTED_MODULE_9__["LoginService"] }, { type: _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_10__["AuditWebService"] }, { type: _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_11__["UIService"] }]; }, null); })();


/***/ }),

/***/ "tr6+":
/*!******************************************!*\
  !*** ../core/notification/public-api.ts ***!
  \******************************************/
/*! exports provided: NotificationsService, NotificationsInterceptor, NotificationModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _notifications_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./notifications.service */ "BwUK");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "NotificationsService", function() { return _notifications_service__WEBPACK_IMPORTED_MODULE_0__["NotificationsService"]; });

/* harmony import */ var _notifications_interceptor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./notifications.interceptor */ "xIcm");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "NotificationsInterceptor", function() { return _notifications_interceptor__WEBPACK_IMPORTED_MODULE_1__["NotificationsInterceptor"]; });

/* harmony import */ var _notification_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./notification.module */ "Den0");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "NotificationModule", function() { return _notification_module__WEBPACK_IMPORTED_MODULE_2__["NotificationModule"]; });






/***/ }),

/***/ "uN0Q":
/*!*****************************************************!*\
  !*** ../components/autocomplete/bootstrap/index.ts ***!
  \*****************************************************/
/*! exports provided: BsAutocompleteList, BsFieldSearchItemsComponent, BsAutocompleteModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _public_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./public-api */ "7rcO");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsAutocompleteList", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsAutocompleteList"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFieldSearchItemsComponent", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsFieldSearchItemsComponent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsAutocompleteModule", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsAutocompleteModule"]; });




/***/ }),

/***/ "uOYS":
/*!**************************************!*\
  !*** ./src/locales/messages/de.json ***!
  \**************************************/
/*! exports provided: app, locale, searchForm, facet, results, home, search, preview, default */
/***/ (function(module) {

module.exports = JSON.parse("{\"app\":{\"name\":\"Vanilla Search\"},\"locale\":{\"en\":\"English (United States)\",\"en-gb\":\"English (United Kingdom)\",\"fr\":\"Français\",\"de\":\"Deutsch\"},\"searchForm\":{\"search\":\"Suche\",\"searchFor\":\"Suche nach...\",\"advanced\":\"Erweitert\",\"advancedSearch\":\"Erweiterte Suche\",\"scopeTitle\":\"Suchbereich: {name}\",\"recentQuery\":\"Letzte Suche\",\"recentDocument\":\"Letztes Dokument\",\"fieldedSearch\":\"Fielded Search\",\"off\":\"Aus\",\"simple\":\"Einfach\",\"simpleTitle\":\"Grafischer Modus, in dem ausgewählte Filter als Ausweise angezeigt werden können\",\"advancedTitle\":\"Textmodus zum Schreiben von Suchausdrücken wie \\\"geo: Paris OR company: Sinequa\\\"\",\"keepFilters\":\"Filter werden innerhalb neuer Abfragen gehalten\",\"notKeepFilters\":\"Filter werden in neuen Abfragen zurückgesetzt\",\"clearAll\":\"Alles löschen\",\"clear\":\"Löschen\",\"voiceRecognition\":\"Sprachsuche\",\"scrollLeft\":\"Bildlauf nach links\",\"scrollRight\":\"Bildlauf nach rechts\"},\"facet\":{\"filters\":{\"title\":\"Filter\"},\"preview\":{\"title\":\"Vorschau\"}},\"results\":{\"tabPeople\":\"Personen\",\"tabBusiness\":\"Firmen\",\"tabLocation\":\"Orte\"},\"home\":{\"recentDocumentsTooltip\":\"Kürzlich geöffnete Dokumente\",\"recentQueriesTooltip\":\"Letzte Suchanfragen\",\"savedQueriesTooltip\":\"Gespeicherte Suchanfragen (einschließlich Filter)\",\"basketsTooltip\":\"Ablagekörbe\",\"darkMode\":\"Dark mode\",\"lightMode\":\"Light mode\"},\"search\":{\"pageTitle\":\"Suche - {search}\"},\"preview\":{\"extracts\":\"Extrakte\",\"entities\":\"Entitäten\",\"searchText\":\"Suche \\\"{text}\\\" im Dokument\",\"pageTitle\":\"Dokument-Navigator - {title}\"}}");

/***/ }),

/***/ "uWcm":
/*!**************************************************!*\
  !*** ../components/saved-queries/messages/en.ts ***!
  \**************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    "savedQueries": {
        "savedQueries": "Saved Queries",
        "saveCurrentQuery": "Save Current Query",
        "manageSavedQueries": "Manage Saved Queries",
        "savedQueryAlreadyExists": "A saved query with that name already exists. Would you like to replace it?",
        "noSavedQuery": "You have not yet saved a search query...",
        "delete": "Delete this saved query"
    },
    "recentQueries": {
        "noRecentQuery": "You have not yet searched for something...",
        "delete": "Delete this recent query",
        "save": "Save this query"
    },
    "recentDocuments": {
        "recentDocuments": "Recent documents",
        "noRecentDocument": "You have not yet opened a document...",
        "delete": "Delete this recent document"
    },
    "editSavedQuery": {
        "title": "Saved Query",
        "name": "Name"
    },
    "exportQuery": {
        "dialogTitle": "Export",
        "dialogOutputFormat": "Output format",
        "dialogMaxCount": "Max rows",
        "dialogSourceType": "Export from",
        "dialogResult": "Current result",
        "dialogSelection": "Current selection",
        "btnTitle": "Export results",
        "exportResult": "Export result as {type}",
        "exportSelection": "Export selection as {type}",
        "btnDownload": "Download",
        "btnClose": "Close",
        "successNotification": "Download complete",
        "exportedColumns": "Columns to export",
        "exportedColumnsLabelTooltip": "Select the columns that you want to export, an empty selection means exporting all columns",
        "dialogMaxCountTooltip": "By default, the number of results is limited to {count}"
    },
    "manageSavedQueries": {
        "title": "Manage Saved Queries",
        "edit": "Edit",
        "reorder": "Reorder",
        "remove": "Remove",
        "removeAll": "Remove all",
        "export": "Export",
        "name": "Name",
        "rss": "RSS Feed"
    },
});


/***/ }),

/***/ "v6qE":
/*!*******************************************************************!*\
  !*** ../components/utils/directives/tooltip/tooltip.directive.ts ***!
  \*******************************************************************/
/*! exports provided: TooltipDirective */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TooltipDirective", function() { return TooltipDirective; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_cdk_portal__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/cdk/portal */ "Sv/w");
/* harmony import */ var _tooltip_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./tooltip.component */ "LmqU");
/* harmony import */ var _angular_cdk_overlay__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/cdk/overlay */ "HYj3");





class TooltipDirective {
    constructor(overlay, overlayPositionBuilder, elementRef) {
        this.overlay = overlay;
        this.overlayPositionBuilder = overlayPositionBuilder;
        this.elementRef = elementRef;
        this.text = "";
        this.placement = "bottom";
        this.delay = 300;
    }
    ngOnDestroy() {
        if (this.overlayRef) {
            this.overlayRef.detach();
        }
    }
    show(event) {
        event.preventDefault();
        event.stopPropagation();
        this.clearTimer();
        this.timeoutId = setTimeout(() => {
            if (this.overlayRef) {
                this.overlayRef.detach();
            }
            if (this.text.trim().length === 0) {
                return;
            }
            const positionStrategy = this.overlayPositionBuilder
                .flexibleConnectedTo(this.elementRef)
                .withPositions([this.position()]);
            const scrollStrategy = this.overlay.scrollStrategies.close();
            this.overlayRef = this.overlay.create({ positionStrategy, scrollStrategy });
            const tooltipRef = this.overlayRef.attach(new _angular_cdk_portal__WEBPACK_IMPORTED_MODULE_1__["ComponentPortal"](_tooltip_component__WEBPACK_IMPORTED_MODULE_2__["TooltipComponent"]));
            tooltipRef.instance.text = this.text;
        }, this.delay);
    }
    mouseClick(event) {
        event.preventDefault();
        event.stopPropagation();
        this.clearTimer();
    }
    hide() {
        this.clearTimer();
    }
    position() {
        switch (this.placement) {
            case "bottom":
                return {
                    originX: "center",
                    originY: "bottom",
                    overlayX: "center",
                    overlayY: "top",
                    offsetY: 8
                };
            case "right":
                return {
                    originX: "end",
                    originY: "center",
                    overlayX: "start",
                    overlayY: "center",
                    offsetX: 8
                };
            case "left":
                return {
                    originX: "start",
                    originY: "center",
                    overlayX: "end",
                    overlayY: "center",
                    offsetX: -8
                };
            default:
                return {
                    originX: "center",
                    originY: "top",
                    overlayX: "center",
                    overlayY: "bottom",
                    offsetY: -8
                };
        }
    }
    clearTimer() {
        if (this.timeoutId) {
            clearTimeout(this.timeoutId);
        }
        if (this.overlayRef) {
            this.overlayRef.detach();
        }
    }
}
TooltipDirective.ɵfac = function TooltipDirective_Factory(t) { return new (t || TooltipDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_cdk_overlay__WEBPACK_IMPORTED_MODULE_3__["Overlay"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_cdk_overlay__WEBPACK_IMPORTED_MODULE_3__["OverlayPositionBuilder"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"])); };
TooltipDirective.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({ type: TooltipDirective, selectors: [["", "sqTooltip", ""]], hostBindings: function TooltipDirective_HostBindings(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("mouseenter", function TooltipDirective_mouseenter_HostBindingHandler($event) { return ctx.show($event); })("mousedown", function TooltipDirective_mousedown_HostBindingHandler($event) { return ctx.mouseClick($event); })("mouseleave", function TooltipDirective_mouseleave_HostBindingHandler() { return ctx.hide(); });
    } }, inputs: { text: ["sqTooltip", "text"], placement: "placement", delay: "delay" } });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](TooltipDirective, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Directive"],
        args: [{ selector: "[sqTooltip]" }]
    }], function () { return [{ type: _angular_cdk_overlay__WEBPACK_IMPORTED_MODULE_3__["Overlay"] }, { type: _angular_cdk_overlay__WEBPACK_IMPORTED_MODULE_3__["OverlayPositionBuilder"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"] }]; }, { text: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"],
            args: ["sqTooltip"]
        }], placement: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], delay: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], show: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostListener"],
            args: ["mouseenter", ['$event']]
        }], mouseClick: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostListener"],
            args: ["mousedown", ['$event']]
        }], hide: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostListener"],
            args: ["mouseleave"]
        }] }); })();


/***/ }),

/***/ "vMGo":
/*!******************************!*\
  !*** ../core/modal/index.ts ***!
  \******************************/
/*! exports provided: Confirm, Prompt, ModalModule, MODAL_MODEL, ModalButton, MODAL_CONFIRM, MODAL_PROMPT, ModalService, ModalRef, enModal, frModal, deModal */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _public_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./public-api */ "y0ZT");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Confirm", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["Confirm"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Prompt", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["Prompt"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ModalModule", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["ModalModule"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MODAL_MODEL", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["MODAL_MODEL"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ModalButton", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["ModalButton"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MODAL_CONFIRM", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["MODAL_CONFIRM"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MODAL_PROMPT", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["MODAL_PROMPT"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ModalService", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["ModalService"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ModalRef", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["ModalRef"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "enModal", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["enModal"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "frModal", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["frModal"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "deModal", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["deModal"]; });




/***/ }),

/***/ "vNc4":
/*!************************************************************************!*\
  !*** ../components/baskets/bootstrap/manage-baskets/manage-baskets.ts ***!
  \************************************************************************/
/*! exports provided: BsManageBaskets */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsManageBaskets", function() { return BsManageBaskets; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ "nIj0");
/* harmony import */ var _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/modal */ "vMGo");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _modal_bootstrap_modal_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../modal/bootstrap/modal.component */ "oSLy");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _angular_cdk_drag_drop__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/cdk/drag-drop */ "oqI+");
/* harmony import */ var _modal_bootstrap_editable_editable__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../modal/bootstrap/editable/editable */ "lolS");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../core/intl/message.pipe */ "X1Kh");











function BsManageBaskets_div_2_Template(rf, ctx) { if (rf & 1) {
    const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "button", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsManageBaskets_div_2_Template_button_click_1_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r3); const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r2.reorder(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](3, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](3, 1, ctx_r0.reordering ? "msg#manageBaskets.edit" : "msg#manageBaskets.reorder"));
} }
function BsManageBaskets_div_5_div_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 14);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const basket_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](basket_r4.name);
} }
function BsManageBaskets_div_5_sq_editable_2_Template(rf, ctx) { if (rf & 1) {
    const _r13 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "sq-editable", 15);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("valueChange", function BsManageBaskets_div_5_sq_editable_2_Template_sq_editable_valueChange_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r13); const basket_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit; const ctx_r11 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r11.setName(basket_r4, $event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const basket_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", basket_r4.name)("model", basket_r4)("validators", ctx_r7.nameValidators);
} }
function BsManageBaskets_div_5_a_4_Template(rf, ctx) { if (rf & 1) {
    const _r17 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "a", 16);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsManageBaskets_div_5_a_4_Template_a_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r17); const ctx_r16 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); const basket_r4 = ctx_r16.$implicit; const $index_r5 = ctx_r16.index; const ctx_r15 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r15.remove(basket_r4, $index_r5); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](2, "span", 17);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("title", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](1, 1, "msg#manageBaskets.remove"));
} }
function BsManageBaskets_div_5_span_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "span", 18);
} }
const _c0 = "list-group-item list-group-item-action d-flex w-auto-unimportant";
const _c1 = function (a1) { return [_c0, a1]; };
function BsManageBaskets_div_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsManageBaskets_div_5_div_1_Template, 2, 1, "div", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, BsManageBaskets_div_5_sq_editable_2_Template, 1, 3, "sq-editable", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, BsManageBaskets_div_5_a_4_Template, 3, 3, "a", 12);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](5, BsManageBaskets_div_5_span_5_Template, 1, 0, "span", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngClass", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](5, _c1, ctx_r1.reordering ? "cursor-move" : ""));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r1.reordering);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx_r1.reordering);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx_r1.reordering);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r1.reordering);
} }
class BsManageBaskets {
    constructor(model) {
        this.model = model;
        this.reordering = false;
        this.nameValidators = [
            _angular_forms__WEBPACK_IMPORTED_MODULE_1__["Validators"].required,
            (control) => {
                const modelControl = control.root.get("model");
                if (modelControl) {
                    for (const item of this.model.baskets) {
                        if (modelControl.value === item) {
                            continue;
                        }
                        if (control.value === item.name) {
                            return {
                                unique: true
                            };
                        }
                    }
                }
                return null;
            }
        ];
    }
    ngOnInit() {
        this.buttons = [
            this.removeAllButton = new _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_2__["ModalButton"]({
                text: "msg#manageBaskets.removeAll",
                result: 0 /* Custom */,
                action: (button) => {
                    this.model.baskets.splice(0);
                    button.visible = false;
                    this.addAuditEvent({
                        type: "Basket_DeleteAll" /* DeleteAll */
                    });
                },
                visible: this.model.baskets.length > 0
            }),
            new _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_2__["ModalButton"]({
                result: -1 /* OK */,
                primary: true
            }),
            new _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_2__["ModalButton"]({
                result: -2 /* Cancel */
            })
        ];
    }
    addAuditEvent(auditEvent) {
        if (!this.model.auditEvents) {
            this.model.auditEvents = [];
        }
        this.model.auditEvents.push(auditEvent);
    }
    reorder() {
        this.reordering = !this.reordering;
    }
    setName(basket, name) {
        if (!_sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].eqNC(basket.name, name)) {
            this.addAuditEvent({
                type: "Basket_Rename" /* Rename */,
                detail: {
                    basket: name,
                    "old-name": basket.name
                }
            });
            basket.name = name;
        }
    }
    remove(basket, index) {
        this.model.baskets.splice(index, 1);
        this.removeAllButton.visible = this.model.baskets.length > 0;
        this.addAuditEvent({
            type: "Basket_Delete" /* Delete */,
            detail: {
                basket: basket.name
            }
        });
        return false;
    }
    dropped(drop) {
        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].arrayMove(this.model.baskets, drop.previousIndex, drop.currentIndex);
    }
}
BsManageBaskets.ɵfac = function BsManageBaskets_Factory(t) { return new (t || BsManageBaskets)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_modal__WEBPACK_IMPORTED_MODULE_2__["MODAL_MODEL"])); };
BsManageBaskets.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsManageBaskets, selectors: [["sq-manage-baskets"]], decls: 6, vars: 6, consts: [["name", "manageBaskets", "novalidate", ""], [3, "title", "buttons"], ["class", "form-group clearfix", 4, "ngIf"], [1, "form-group"], ["cdkDropList", "", 1, "list-group", 3, "cdkDropListData", "cdkDropListDisabled", "cdkDropListDropped"], ["cdkDrag", "", 3, "ngClass", 4, "ngFor", "ngForOf"], [1, "form-group", "clearfix"], ["type", "button", 1, "btn", "btn-secondary", "float-right", 3, "click"], ["cdkDrag", "", 3, "ngClass"], ["class", "sq-basket-text", 4, "ngIf"], ["name", "msg#manageBaskets.name", 3, "value", "model", "validators", "valueChange", 4, "ngIf"], [1, "ml-auto"], ["class", "ml-2", "href", "#", 3, "title", "click", 4, "ngIf"], ["class", "ml-2 fas fa-bars sq-move", 4, "ngIf"], [1, "sq-basket-text"], ["name", "msg#manageBaskets.name", 3, "value", "model", "validators", "valueChange"], ["href", "#", 1, "ml-2", 3, "title", "click"], [1, "fas", "fa-times", "sq-remove"], [1, "ml-2", "fas", "fa-bars", "sq-move"]], template: function BsManageBaskets_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "form", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "sq-modal", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, BsManageBaskets_div_2_Template, 4, 3, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](4, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("cdkDropListDropped", function BsManageBaskets_Template_div_cdkDropListDropped_4_listener($event) { return ctx.dropped($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](5, BsManageBaskets_div_5_Template, 6, 7, "div", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("title", "msg#manageBaskets.title")("buttons", ctx.buttons);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.model.baskets.length);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("cdkDropListData", ctx.model.baskets)("cdkDropListDisabled", !ctx.reordering);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.model.baskets);
    } }, directives: [_angular_forms__WEBPACK_IMPORTED_MODULE_1__["ɵangular_packages_forms_forms_y"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["NgControlStatusGroup"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["NgForm"], _modal_bootstrap_modal_component__WEBPACK_IMPORTED_MODULE_4__["BsModal"], _angular_common__WEBPACK_IMPORTED_MODULE_5__["NgIf"], _angular_cdk_drag_drop__WEBPACK_IMPORTED_MODULE_6__["CdkDropList"], _angular_common__WEBPACK_IMPORTED_MODULE_5__["NgForOf"], _angular_cdk_drag_drop__WEBPACK_IMPORTED_MODULE_6__["CdkDrag"], _angular_common__WEBPACK_IMPORTED_MODULE_5__["NgClass"], _modal_bootstrap_editable_editable__WEBPACK_IMPORTED_MODULE_7__["BsEditable"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_8__["MessagePipe"]], styles: [".list-group[_ngcontent-%COMP%] {\n  max-height: 18.5rem;\n  overflow-y: auto;\n  width: 100%;\n}\n\n.sq-basket-text[_ngcontent-%COMP%] {\n  width: 100%;\n  overflow-wrap: break-word;\n  word-wrap: break-word;\n  word-break: break-word;\n}\n\n.sq-move[_ngcontent-%COMP%] {\n  cursor: move;\n}\n\nspan.sq-move[_ngcontent-%COMP%] {\n  color: gray;\n}\n\n.sq-remove[_ngcontent-%COMP%] {\n  cursor: pointer;\n  color: lightgray;\n}\n\n.sq-remove[_ngcontent-%COMP%]:hover {\n  color: darkred;\n}\n\n.w-auto-unimportant[_ngcontent-%COMP%] {\n  width: auto;\n}\n\n.cursor-move[_ngcontent-%COMP%] {\n  cursor: move;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2plY3RzL2NvbXBvbmVudHMvYmFza2V0cy9ib290c3RyYXAvbWFuYWdlLWJhc2tldHMvbWFuYWdlLWJhc2tldHMuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLG1CQUFBO0VBQ0EsZ0JBQUE7RUFDQSxXQUFBO0FBQ0Y7O0FBRUE7RUFDRSxXQUFBO0VBQ0EseUJBQUE7RUFDQSxxQkFBQTtFQUNBLHNCQUFBO0FBQ0Y7O0FBRUE7RUFDRSxZQUFBO0FBQ0Y7O0FBRUE7RUFDRSxXQUFBO0FBQ0Y7O0FBRUE7RUFDRSxlQUFBO0VBQ0EsZ0JBQUE7QUFDRjs7QUFDQTtFQUNFLGNBQUE7QUFFRjs7QUFDQTtFQUNFLFdBQUE7QUFFRjs7QUFDQTtFQUNFLFlBQUE7QUFFRiIsImZpbGUiOiJwcm9qZWN0cy9jb21wb25lbnRzL2Jhc2tldHMvYm9vdHN0cmFwL21hbmFnZS1iYXNrZXRzL21hbmFnZS1iYXNrZXRzLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubGlzdC1ncm91cCB7XG4gIG1heC1oZWlnaHQ6IDE4LjVyZW07XG4gIG92ZXJmbG93LXk6IGF1dG87XG4gIHdpZHRoOiAxMDAlO1xufVxuXG4uc3EtYmFza2V0LXRleHQge1xuICB3aWR0aDogMTAwJTtcbiAgb3ZlcmZsb3ctd3JhcDogYnJlYWstd29yZDtcbiAgd29yZC13cmFwOiBicmVhay13b3JkO1xuICB3b3JkLWJyZWFrOiBicmVhay13b3JkO1xufVxuXG4uc3EtbW92ZSB7XG4gIGN1cnNvcjogbW92ZTtcbn1cblxuc3Bhbi5zcS1tb3ZlIHtcbiAgY29sb3I6IGdyYXk7XG59XG5cbi5zcS1yZW1vdmUge1xuICBjdXJzb3I6IHBvaW50ZXI7XG4gIGNvbG9yOiBsaWdodGdyYXk7XG59XG4uc3EtcmVtb3ZlOmhvdmVyIHtcbiAgY29sb3I6IGRhcmtyZWQ7XG59XG5cbi53LWF1dG8tdW5pbXBvcnRhbnQge1xuICB3aWR0aDogYXV0bztcbn1cblxuLmN1cnNvci1tb3ZlIHtcbiAgY3Vyc29yOiBtb3ZlO1xufSJdfQ== */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsManageBaskets, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-manage-baskets",
                templateUrl: "./manage-baskets.html",
                styleUrls: ["./manage-baskets.scss"]
            }]
    }], function () { return [{ type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [_sinequa_core_modal__WEBPACK_IMPORTED_MODULE_2__["MODAL_MODEL"]]
            }] }]; }, null); })();


/***/ }),

/***/ "vP33":
/*!**********************************************************************************!*\
  !*** ../components/preview/bootstrap/facet-preview-2/facet-preview.component.ts ***!
  \**********************************************************************************/
/*! exports provided: BsFacetPreviewComponent2 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsFacetPreviewComponent2", function() { return BsFacetPreviewComponent2; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_components_facet__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/components/facet */ "vbgc");
/* harmony import */ var _sinequa_components_action__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/components/action */ "WsHA");
/* harmony import */ var _preview_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../preview.service */ "lGAU");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _preview_document_iframe_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../preview-document-iframe.component */ "sUkJ");
/* harmony import */ var _result_result_title_result_title__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../result/result-title/result-title */ "HBFV");
/* harmony import */ var _metadata_metadata_metadata__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../metadata/metadata/metadata */ "dxkz");









function BsFacetPreviewComponent2_ng_template_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "sq-result-title", 4);
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("record", ctx_r1.record)("originalDocTarget", ctx_r1.originalDocTarget);
} }
function BsFacetPreviewComponent2_ng_template_4_sq_metadata_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "sq-metadata", 6);
} if (rf & 2) {
    const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("record", ctx_r4.record)("items", ctx_r4.metadata)("showTitles", true)("showIcons", true)("clickable", false);
} }
function BsFacetPreviewComponent2_ng_template_4_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, BsFacetPreviewComponent2_ng_template_4_sq_metadata_0_Template, 1, 5, "sq-metadata", 5);
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r3.metadata && ctx_r3.metadata.length > 0);
} }
const _c0 = function () { return { "height.%": 100 }; };
class BsFacetPreviewComponent2 extends _sinequa_components_facet__WEBPACK_IMPORTED_MODULE_1__["AbstractFacet"] {
    constructor(previewService) {
        super();
        this.previewService = previewService;
        this.height = 500;
        this.scalingFactor = 0.6;
        this.metadata = [];
        this.expandModal = true;
        this.closable = true;
        this.highlightActions = true;
        this.recordClosed = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.previewLoaded = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this._height = this.height;
        this.scaleFactorThreshold = 0.1;
        this.loaded = false;
        this.closeAction = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_2__["Action"]({
            icon: "fas fa-times",
            title: "msg#facet.preview.closeTitle",
            action: () => {
                this.recordClosed.next();
            }
        });
        this.expandModalAction = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_2__["Action"]({
            icon: "far fa-window-maximize",
            title: "msg#facet.preview.expandTitle",
            action: () => {
                this.previewService.openModal(this.record, this.query, {
                    displaySimilarDocuments: false,
                    metadata: this.metadata
                });
            }
        });
        this.toggleEntitiesAction = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_2__["Action"]({
            icon: "fas fa-lightbulb",
            title: "msg#facet.preview.toggleEntities",
            selected: true,
            action: (action) => {
                var _a;
                action.selected = !action.selected;
                if ((_a = this.data) === null || _a === void 0 ? void 0 : _a.highlightsPerCategory) {
                    Object.keys(this.data.highlightsPerCategory)
                        .filter(value => value !== "extractslocations" && value !== "matchlocations")
                        .forEach(cat => { var _a; return (_a = this.document) === null || _a === void 0 ? void 0 : _a.toggleHighlight(cat, action.selected); });
                }
            }
        });
        this.toggleExtractsAction = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_2__["Action"]({
            icon: "fas fa-highlighter",
            title: "msg#facet.preview.toggleExtracts",
            selected: true,
            action: (action) => {
                var _a, _b;
                action.selected = !action.selected;
                (_a = this.document) === null || _a === void 0 ? void 0 : _a.toggleHighlight("matchlocations", action.selected);
                (_b = this.document) === null || _b === void 0 ? void 0 : _b.toggleHighlight("extractslocations", action.selected);
            }
        });
        this.maximizeAction = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_2__["Action"]({
            icon: "fas fa-search-plus",
            title: "msg#facet.preview.maximize",
            action: () => {
                this.scalingFactor = this.scalingFactor + this.scaleFactorThreshold;
            }
        });
        this.minimizeAction = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_2__["Action"]({
            icon: "fas fa-search-minus",
            title: "msg#facet.preview.minimize",
            disabled: this.scalingFactor === 0.1,
            action: () => {
                this.scalingFactor = Math.round(Math.max(0.1, this.scalingFactor - this.scaleFactorThreshold) * 100) / 100;
            },
            updater: (action) => {
                action.disabled = this.scalingFactor === 0.1;
            }
        });
    }
    get actions() {
        const actions = [];
        if (this.customActions) {
            actions.push(...this.customActions);
        }
        if (this.highlightActions) {
            actions.push(this.toggleExtractsAction, this.toggleEntitiesAction);
        }
        this.minimizeAction.update();
        actions.push(this.minimizeAction, this.maximizeAction);
        if (this.expandModal) {
            actions.push(this.expandModalAction);
        }
        if (this.closable) {
            actions.push(this.closeAction);
        }
        return actions;
    }
    ngOnChanges(changes) {
        if (changes["record"]) {
            this.previewService.getPreviewData(this.record.id, this.query).subscribe(previewData => {
                this.data = previewData;
                this.downloadUrl = this.data ? this.previewService.makeDownloadUrl(this.data.documentCachedContentUrl) : undefined;
            });
            this.downloadUrl = undefined;
            this.data = undefined;
            this.document = undefined;
        }
        if (changes["height"] || changes["scalingFactor"]) {
            this._height = this.height;
        }
    }
    ngAfterViewChecked() {
        if (this.document && this.loaded) {
            this.loaded = false;
            // as now view is checked, emit event
            this.previewLoaded.emit(this.document);
        }
    }
    onPreviewReady(document) {
        this.document = document;
        if (this.document && this.filters) {
            this.document.filterHighlights(this.filters);
        }
        this.loaded = true;
    }
}
BsFacetPreviewComponent2.ɵfac = function BsFacetPreviewComponent2_Factory(t) { return new (t || BsFacetPreviewComponent2)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_preview_service__WEBPACK_IMPORTED_MODULE_3__["PreviewService"])); };
BsFacetPreviewComponent2.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsFacetPreviewComponent2, selectors: [["sq-facet-preview-2"]], hostVars: 2, hostBindings: function BsFacetPreviewComponent2_HostBindings(rf, ctx) { if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵstyleProp"]("height", ctx._height, "px");
    } }, inputs: { record: "record", query: "query", iframeClass: "iframeClass", sandbox: "sandbox", height: "height", scalingFactor: "scalingFactor", metadata: "metadata", expandModal: "expandModal", closable: "closable", highlightActions: "highlightActions", customActions: "customActions", filters: "filters", originalDocTarget: "originalDocTarget" }, outputs: { recordClosed: "recordClosed", previewLoaded: "previewLoaded" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"], _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 6, vars: 8, consts: [[3, "ngStyle"], [3, "sandbox", "downloadUrl", "scalingFactor", "onPreviewReady"], ["headerTpl", ""], ["subHeaderTpl", ""], ["titleLinkBehavior", "open-if-url", 1, "flex-grow-1", "flex-basis-0", 3, "record", "originalDocTarget"], [3, "record", "items", "showTitles", "showIcons", "clickable", 4, "ngIf"], [3, "record", "items", "showTitles", "showIcons", "clickable"]], template: function BsFacetPreviewComponent2_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "sq-preview-document-iframe", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("onPreviewReady", function BsFacetPreviewComponent2_Template_sq_preview_document_iframe_onPreviewReady_1_listener($event) { return ctx.onPreviewReady($event); });
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, BsFacetPreviewComponent2_ng_template_2_Template, 1, 2, "ng-template", null, 2, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplateRefExtractor"]);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, BsFacetPreviewComponent2_ng_template_4_Template, 1, 1, "ng-template", null, 3, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplateRefExtractor"]);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMapInterpolate1"]("d-flex flex-column ", ctx.iframeClass, "");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngStyle", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction0"](7, _c0));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("sandbox", ctx.sandbox)("downloadUrl", ctx.downloadUrl)("scalingFactor", ctx.scalingFactor);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_4__["NgStyle"], _preview_document_iframe_component__WEBPACK_IMPORTED_MODULE_5__["PreviewDocumentIframe"], _result_result_title_result_title__WEBPACK_IMPORTED_MODULE_6__["ResultTitle"], _angular_common__WEBPACK_IMPORTED_MODULE_4__["NgIf"], _metadata_metadata_metadata__WEBPACK_IMPORTED_MODULE_7__["Metadata"]], styles: ["[_nghost-%COMP%] {\n  display: block;\n  overflow: hidden;\n}\n\n.sq-app-loading[_ngcontent-%COMP%] {\n  position: absolute;\n  margin: auto;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2plY3RzL2NvbXBvbmVudHMvcHJldmlldy9ib290c3RyYXAvZmFjZXQtcHJldmlldy0yL2ZhY2V0LXByZXZpZXcuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxjQUFBO0VBQ0EsZ0JBQUE7QUFDRjs7QUFFQTtFQUNFLGtCQUFBO0VBQ0EsWUFBQTtFQUNBLE9BQUE7RUFDQSxRQUFBO0VBQ0EsTUFBQTtFQUNBLFNBQUE7QUFDRiIsImZpbGUiOiJwcm9qZWN0cy9jb21wb25lbnRzL3ByZXZpZXcvYm9vdHN0cmFwL2ZhY2V0LXByZXZpZXctMi9mYWNldC1wcmV2aWV3LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xuICBkaXNwbGF5OiBibG9jaztcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcbn1cblxuLnNxLWFwcC1sb2FkaW5nIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBtYXJnaW46IGF1dG87XG4gIGxlZnQ6IDA7XG4gIHJpZ2h0OiAwO1xuICB0b3A6IDA7XG4gIGJvdHRvbTogMDtcbn0iXX0= */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsFacetPreviewComponent2, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'sq-facet-preview-2',
                templateUrl: './facet-preview.component.html',
                styleUrls: ['./facet-preview.component.scss']
            }]
    }], function () { return [{ type: _preview_service__WEBPACK_IMPORTED_MODULE_3__["PreviewService"] }]; }, { record: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], query: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], iframeClass: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], sandbox: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], height: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], scalingFactor: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], metadata: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], expandModal: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], closable: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], highlightActions: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], customActions: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], filters: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], originalDocTarget: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], recordClosed: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }], previewLoaded: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }], _height: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostBinding"],
            args: ['style.height.px']
        }] }); })();


/***/ }),

/***/ "vQnv":
/*!********************************************!*\
  !*** ../components/saved-queries/index.ts ***!
  \********************************************/
/*! exports provided: SAVED_QUERIES_CHANGE_EVENTS, SAVEDQUERY_COMPONENTS, SavedQueriesService, RECENT_QUERIES_CHANGE_EVENTS, MAX_QUERIES, RecentQueriesService, RECENT_DOCUMENTS_CHANGE_EVENTS, MAX_DOCUMENTS, RecentDocumentsService, BsEditSavedQuery, BsExportQuery, BsManageSavedQueries, BsQueryExporter, BsSavedQueriesModule, BsSavedQueriesMenuComponent, BsFacetSavedQueries, BsFacetRecentQueries, BsFacetRecentDocuments, enSavedQueries, frSavedQueries, deSavedQueries */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _public_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./public-api */ "0Wug");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SAVED_QUERIES_CHANGE_EVENTS", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["SAVED_QUERIES_CHANGE_EVENTS"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SAVEDQUERY_COMPONENTS", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["SAVEDQUERY_COMPONENTS"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SavedQueriesService", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["SavedQueriesService"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RECENT_QUERIES_CHANGE_EVENTS", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["RECENT_QUERIES_CHANGE_EVENTS"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MAX_QUERIES", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["MAX_QUERIES"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RecentQueriesService", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["RecentQueriesService"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RECENT_DOCUMENTS_CHANGE_EVENTS", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["RECENT_DOCUMENTS_CHANGE_EVENTS"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MAX_DOCUMENTS", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["MAX_DOCUMENTS"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RecentDocumentsService", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["RecentDocumentsService"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsEditSavedQuery", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsEditSavedQuery"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsExportQuery", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsExportQuery"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsManageSavedQueries", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsManageSavedQueries"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsQueryExporter", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsQueryExporter"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsSavedQueriesModule", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsSavedQueriesModule"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsSavedQueriesMenuComponent", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsSavedQueriesMenuComponent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFacetSavedQueries", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsFacetSavedQueries"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFacetRecentQueries", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsFacetRecentQueries"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFacetRecentDocuments", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsFacetRecentDocuments"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "enSavedQueries", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["enSavedQueries"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "frSavedQueries", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["frSavedQueries"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "deSavedQueries", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["deSavedQueries"]; });




/***/ }),

/***/ "vbgc":
/*!************************************!*\
  !*** ../components/facet/index.ts ***!
  \************************************/
/*! exports provided: FACET_CHANGE_EVENTS, ALL_FACETS, DEFAULT_FACETS, FacetService, AbstractFacet, BsFacetBar, BsFacetCard, BsFacetFilters, BsFacetList, BsFacetModule, BsMySearch, RoundTarget, RoundType, BsFacetRange, BsRefine, BsFacetTree, BsFacetMultiComponent, BsFacetTagCloud, enFacet, frFacet, deFacet */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _public_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./public-api */ "rlG2");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "FACET_CHANGE_EVENTS", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["FACET_CHANGE_EVENTS"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ALL_FACETS", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["ALL_FACETS"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "DEFAULT_FACETS", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["DEFAULT_FACETS"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "FacetService", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["FacetService"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AbstractFacet", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["AbstractFacet"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFacetBar", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsFacetBar"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFacetCard", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsFacetCard"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFacetFilters", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsFacetFilters"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFacetList", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsFacetList"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFacetModule", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsFacetModule"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsMySearch", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsMySearch"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RoundTarget", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["RoundTarget"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RoundType", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["RoundType"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFacetRange", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsFacetRange"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsRefine", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsRefine"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFacetTree", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsFacetTree"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFacetMultiComponent", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsFacetMultiComponent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFacetTagCloud", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsFacetTagCloud"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "enFacet", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["enFacet"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "frFacet", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["frFacet"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "deFacet", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["deFacet"]; });




/***/ }),

/***/ "vf5w":
/*!*************************************************************!*\
  !*** ../components/search/bootstrap/load-more/load-more.ts ***!
  \*************************************************************/
/*! exports provided: BsLoadMore */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsLoadMore", function() { return BsLoadMore; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/components/action */ "WsHA");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "+kfY");
/* harmony import */ var _search_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../search.service */ "TJtf");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _action_bootstrap_action_buttons_action_buttons__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../action/bootstrap/action-buttons/action-buttons */ "9+ai");







const _c0 = function (a0) { return [a0]; };
const _c1 = function (a0, a1, a2) { return { items: a0, style: a1, size: a2, rightAligned: false }; };
function BsLoadMore_div_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "div", 1);
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("sq-action-buttons", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction3"](3, _c1, _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](1, _c0, ctx_r0.loadMoreAction), ctx_r0.buttonsStyle, ctx_r0.actionsSize));
} }
class BsLoadMore {
    constructor(searchService) {
        this.searchService = searchService;
        this.buttonsStyle = "outline-primary";
        this.actionsSize = "sm";
        this.subscription = new rxjs__WEBPACK_IMPORTED_MODULE_2__["Subscription"]();
        this.hasMore = false;
        this.loadMoreAction = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__["Action"]({
            text: "msg#facet.loadMore",
            title: "msg#facet.loadMore",
            action: (action) => {
                this.searchService.loadMore();
                action.update();
            },
            updater: () => {
                // hide button while fetching new data
                this.hasMore = false;
            }
        });
    }
    ngOnInit() {
        this.subscription = this.searchService.resultsStream
            .subscribe(results => {
            this.hasMore = this.searchService.hasMore();
        });
    }
    ngOnDestroy() {
        this.subscription.unsubscribe();
    }
}
BsLoadMore.ɵfac = function BsLoadMore_Factory(t) { return new (t || BsLoadMore)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_search_service__WEBPACK_IMPORTED_MODULE_3__["SearchService"])); };
BsLoadMore.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsLoadMore, selectors: [["sq-load-more"]], inputs: { buttonsStyle: "buttonsStyle", actionsSize: "actionsSize" }, decls: 1, vars: 1, consts: [["class", "btn-group", 3, "sq-action-buttons", 4, "ngIf"], [1, "btn-group", 3, "sq-action-buttons"]], template: function BsLoadMore_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, BsLoadMore_div_0_Template, 1, 7, "div", 0);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.hasMore);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_4__["NgIf"], _action_bootstrap_action_buttons_action_buttons__WEBPACK_IMPORTED_MODULE_5__["BsActionButtons"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsLoadMore, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-load-more",
                templateUrl: "./load-more.html"
            }]
    }], function () { return [{ type: _search_service__WEBPACK_IMPORTED_MODULE_3__["SearchService"] }]; }, { buttonsStyle: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], actionsSize: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "vfzd":
/*!***************************************************************************!*\
  !*** ../components/alerts/bootstrap/alerts-menu/alerts-menu.component.ts ***!
  \***************************************************************************/
/*! exports provided: BsAlertsMenuComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsAlertsMenuComponent", function() { return BsAlertsMenuComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/components/action */ "WsHA");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_core_login__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/login */ "7O5u");
/* harmony import */ var _alerts_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../alerts.service */ "hbzH");
/* harmony import */ var _sinequa_components_search__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @sinequa/components/search */ "7+c1");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _action_bootstrap_action_item_action_item__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../action/bootstrap/action-item/action-item */ "TE8J");









const _c0 = function (a0, a1, a2, a3) { return { item: a0, size: a1, autoAdjust: a2, autoAdjustBreakpoint: a3, inMenu: true }; };
function BsAlertsMenuComponent_li_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "li", 1);
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("sq-action-item", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction4"](2, _c0, ctx_r0.menu, ctx_r0.size, ctx_r0.autoAdjust, ctx_r0.autoAdjustBreakpoint))("collapseBreakpoint", ctx_r0.collapseBreakpoint);
} }
class BsAlertsMenuComponent {
    constructor(loginService, alertsService, searchService) {
        this.loginService = loginService;
        this.alertsService = alertsService;
        this.searchService = searchService;
        this.searchRoute = "/search";
        this.icon = "fas fa-bell";
        this.autoAdjust = true;
        this.autoAdjustBreakpoint = 'xl';
        this.collapseBreakpoint = 'sm';
        this.createAction = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__["Action"]({
            text: "msg#alerts.createAlert",
            title: "msg#alerts.createAlert",
            action: () => { this.alertsService.createAlertModal(); }
        });
        this.manageAction = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__["Action"]({
            text: "msg#alerts.manageAlerts",
            title: "msg#alerts.manageAlerts",
            action: () => { this.alertsService.manageAlertsModal(this.searchRoute); }
        });
    }
    ngOnInit() {
        this.updateMenu();
        this._alertsServiceSubscription = this.alertsService.changes.subscribe({
            next: () => { this.updateMenu(); }
        });
        this._loginServiceSubscription = this.loginService.events.subscribe(event => {
            if (event.type === "session-changed") {
                this.updateMenu();
            }
        });
        this._searchServiceSubscription = this.searchService.resultsStream.subscribe(results => {
            this.updateMenu();
        });
    }
    ngOnDestroy() {
        if (this._alertsServiceSubscription) {
            this._alertsServiceSubscription.unsubscribe();
        }
        if (this._loginServiceSubscription) {
            this._loginServiceSubscription.unsubscribe();
        }
        if (this._searchServiceSubscription) {
            this._searchServiceSubscription.unsubscribe();
        }
    }
    updateMenu() {
        if (!this.loginService.complete) {
            this.menu = undefined;
            return;
        }
        const alertsActions = [];
        if (this.alertsService.hasAlert) {
            const scrollGroup = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__["Action"]({
                scrollGroup: true,
                children: this.alertsService.alerts.map(alert => new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__["Action"]({
                    text: alert.name,
                    data: alert,
                    action: (item) => {
                        const alert = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Utils"].copy(item.data);
                        this.alertsService.editAlertModal(alert, undefined, this.searchRoute);
                    }
                }))
            });
            alertsActions.push(scrollGroup);
        }
        if (!!this.searchService.results) {
            alertsActions.push(this.createAction);
        }
        if (this.alertsService.hasAlert) {
            alertsActions.push(this.manageAction);
        }
        this.menu = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__["Action"]({
            icon: this.icon,
            text: "msg#alerts.alerts",
            children: alertsActions
        });
    }
}
BsAlertsMenuComponent.ɵfac = function BsAlertsMenuComponent_Factory(t) { return new (t || BsAlertsMenuComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_login__WEBPACK_IMPORTED_MODULE_3__["LoginService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_alerts_service__WEBPACK_IMPORTED_MODULE_4__["AlertsService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_search__WEBPACK_IMPORTED_MODULE_5__["SearchService"])); };
BsAlertsMenuComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsAlertsMenuComponent, selectors: [["sq-alerts-menu"]], inputs: { searchRoute: "searchRoute", icon: "icon", autoAdjust: "autoAdjust", autoAdjustBreakpoint: "autoAdjustBreakpoint", collapseBreakpoint: "collapseBreakpoint", size: "size" }, decls: 1, vars: 1, consts: [["class", "nav-item dropdown", 3, "sq-action-item", "collapseBreakpoint", 4, "ngIf"], [1, "nav-item", "dropdown", 3, "sq-action-item", "collapseBreakpoint"]], template: function BsAlertsMenuComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, BsAlertsMenuComponent_li_0_Template, 1, 7, "li", 0);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !!ctx.menu && !ctx.menu.hidden);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_6__["NgIf"], _action_bootstrap_action_item_action_item__WEBPACK_IMPORTED_MODULE_7__["BsActionItem"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsAlertsMenuComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'sq-alerts-menu',
                templateUrl: './alerts-menu.component.html'
            }]
    }], function () { return [{ type: _sinequa_core_login__WEBPACK_IMPORTED_MODULE_3__["LoginService"] }, { type: _alerts_service__WEBPACK_IMPORTED_MODULE_4__["AlertsService"] }, { type: _sinequa_components_search__WEBPACK_IMPORTED_MODULE_5__["SearchService"] }]; }, { searchRoute: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], icon: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], autoAdjust: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], autoAdjustBreakpoint: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], collapseBreakpoint: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], size: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "vvW3":
/*!******************************************!*\
  !*** ../components/search/public-api.ts ***!
  \******************************************/
/*! exports provided: Breadcrumbs, SEARCH_OPTIONS, SearchService, FIRST_PAGE_OPTIONS, FirstPageService, BsBreadcrumbs, BsDidYouMean, BsPageSizeSelector, BsPager, BsSearchModule, BsSortSelector, BsTabs, BsLoadingBar, BsScroller, BsLoadMore, enSearch, frSearch, deSearch */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _breadcrumbs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./breadcrumbs */ "2ZSg");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Breadcrumbs", function() { return _breadcrumbs__WEBPACK_IMPORTED_MODULE_0__["Breadcrumbs"]; });

/* harmony import */ var _search_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./search.service */ "TJtf");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SEARCH_OPTIONS", function() { return _search_service__WEBPACK_IMPORTED_MODULE_1__["SEARCH_OPTIONS"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SearchService", function() { return _search_service__WEBPACK_IMPORTED_MODULE_1__["SearchService"]; });

/* harmony import */ var _first_page_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./first-page.service */ "dOBX");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "FIRST_PAGE_OPTIONS", function() { return _first_page_service__WEBPACK_IMPORTED_MODULE_2__["FIRST_PAGE_OPTIONS"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "FirstPageService", function() { return _first_page_service__WEBPACK_IMPORTED_MODULE_2__["FirstPageService"]; });

/* harmony import */ var _bootstrap_index__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./bootstrap/index */ "Q/Cl");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsBreadcrumbs", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_3__["BsBreadcrumbs"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsDidYouMean", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_3__["BsDidYouMean"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsPageSizeSelector", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_3__["BsPageSizeSelector"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsPager", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_3__["BsPager"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsSearchModule", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_3__["BsSearchModule"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsSortSelector", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_3__["BsSortSelector"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsTabs", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_3__["BsTabs"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsLoadingBar", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_3__["BsLoadingBar"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsScroller", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_3__["BsScroller"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsLoadMore", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_3__["BsLoadMore"]; });

/* harmony import */ var _messages_index__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./messages/index */ "srWR");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "enSearch", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_4__["enSearch"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "frSearch", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_4__["frSearch"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "deSearch", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_4__["deSearch"]; });








/***/ }),

/***/ "vvgm":
/*!*************************************!*\
  !*** ../analytics/heatmap/index.ts ***!
  \*************************************/
/*! exports provided: BsHeatmapModule, BsFacetHeatmapComponent, BsHeatmapComponent, BsTooltipComponent, BsResultsHeatmapView, enHeatmap, frHeatmap, deHeatmap */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _public_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./public-api */ "1eSv");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsHeatmapModule", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsHeatmapModule"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsFacetHeatmapComponent", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsFacetHeatmapComponent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsHeatmapComponent", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsHeatmapComponent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsTooltipComponent", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsTooltipComponent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsResultsHeatmapView", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsResultsHeatmapView"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "enHeatmap", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["enHeatmap"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "frHeatmap", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["frHeatmap"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "deHeatmap", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["deHeatmap"]; });




/***/ }),

/***/ "vxak":
/*!***************************************!*\
  !*** ../core/load-component/index.ts ***!
  \***************************************/
/*! exports provided: LoadComponentModule, LoadComponentService, LoadComponentDirective */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _public_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./public-api */ "GPID");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "LoadComponentModule", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["LoadComponentModule"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "LoadComponentService", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["LoadComponentService"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "LoadComponentDirective", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["LoadComponentDirective"]; });




/***/ }),

/***/ "wL8g":
/*!**************************************************************!*\
  !*** ../components/facet/bootstrap/facet-card/facet-card.ts ***!
  \**************************************************************/
/*! exports provided: BsFacetCard */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsFacetCard", function() { return BsFacetCard; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/components/action */ "WsHA");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _action_bootstrap_action_buttons_action_buttons__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../action/bootstrap/action-buttons/action-buttons */ "9+ai");
/* harmony import */ var _collapse_collapse_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../collapse/collapse.component */ "rVRG");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/intl/message.pipe */ "X1Kh");







const _c0 = ["facet"];
function BsFacetCard_div_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "div", 10);
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMapInterpolate1"]("card-icon ", ctx_r0.icon, " mr-2");
} }
function BsFacetCard_div_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 1, ctx_r1.title));
} }
function BsFacetCard_ng_container_7_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainer"](0, 12);
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngTemplateOutlet", ctx_r2.facetComponent.headerTpl);
} }
function BsFacetCard_ng_container_9_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainer"](0, 12);
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngTemplateOutlet", ctx_r3.facetComponent.subHeaderTpl);
} }
function BsFacetCard_sq_collapse_10_ng_template_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵprojection"](0);
} }
function BsFacetCard_sq_collapse_10_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "sq-collapse", 13);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsFacetCard_sq_collapse_10_ng_template_1_Template, 1, 0, "ng-template");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("collapsed", ctx_r4._collapsed);
} }
function BsFacetCard_ng_container_11_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainer"](0, 12);
} if (rf & 2) {
    const ctx_r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngTemplateOutlet", ctx_r5.facetComponent.settingsTpl);
} }
function BsFacetCard_ng_container_12_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainer"](0, 14);
} if (rf & 2) {
    const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngTemplateOutlet", ctx_r6.facetComponent.footerTpl);
} }
const _c1 = function (a0, a1, a2) { return { items: a0, style: a1, size: a2, rightAligned: true }; };
const _c2 = ["*"];
class BsFacetCard {
    constructor(changeDetectorRef) {
        this.changeDetectorRef = changeDetectorRef;
        /**
         * List of custom actions for this facet (optional)
         */
        this.actions = [];
        /**
         * Whether the [actions]="..." passed by binding should be displayed before or after
         * the actions from the inner facet component
         */
        this.actionsFirst = true;
        /**
         * Size of the custom actions
         */
        this.actionsSize = "sm";
        /**
         * Whether the facet can be collapsed (default: true)
         */
        this.collapsible = true;
        /**
         * Whether the facet starts collapsed (if collapsible / default: false)
         */
        this.startCollapsed = false;
        /**
         * Whether other actions should be hidden when the facet is collapsed (default: true)
         */
        this.hideActionsCollapsed = true;
        /**
         * Whether the facet can be expanded (default: false)
         */
        this.expandable = false;
        /**
         * Whether the facet starts expanded (if expandable / default: false)
         */
        this.startExpanded = false;
        /**
         * Whether the facet starts with opened settings (default: false)
         */
        this.startSettingsOpened = false;
        /**
         * Event triggered when the facet gets expanded or reduced
         */
        this.facetExpanded = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        /**
         * Event triggered when the facet gets expanded or reduced
         */
        this.facetCollapsed = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        /**
         * Event triggered when the facet gets expanded or reduced
         */
        this.settingsOpened = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.collapseAction = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__["Action"]({
            action: (action) => {
                this._collapsed = !this._collapsed;
                this.facetCollapsed.next(this._collapsed ? "collapsed" : "expanded");
                if (!!this.facetComponent) {
                    this.facetComponent.onCollapse(this._collapsed);
                }
                action.update();
            },
            updater: (action) => {
                action.icon = this._collapsed ? "fas fa-chevron-down" : "fas fa-chevron-up";
                action.title = this._collapsed ? 'msg#facetCard.expand' : 'msg#facetCard.collapse';
            }
        });
        this.expandAction = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__["Action"]({
            action: (action) => {
                this._expanded = !this._expanded;
                this.facetExpanded.next(this._expanded ? "expanded" : "reduced");
                if (!!this.facetComponent) {
                    this.facetComponent.onExpand(this._expanded);
                }
                action.update();
            },
            updater: (action) => {
                action.icon = this._expanded ? "fas fa-compress" : "fas fa-expand";
                action.title = this._expanded ? "msg#facetCard.reduce" : "msg#facetCard.enlarge";
            }
        });
        this.settingsAction = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_1__["Action"]({
            action: (action) => {
                this._settingsOpened = !this._settingsOpened;
                this.settingsOpened.next(this._settingsOpened ? "opened" : "saved");
                if (!!this.facetComponent) {
                    this.facetComponent.onOpenSettings(this._settingsOpened);
                }
                action.update();
            },
            updater: (action) => {
                action.icon = this._settingsOpened ? "far fa-save" : "fas fa-cog";
                action.title = this._settingsOpened ? "msg#facetCard.saveSettings" : "msg#facetCard.openSettings";
            }
        });
    }
    get hidden() {
        return !!this.facetComponent && !!this.facetComponent.isHidden && this.facetComponent.isHidden();
    }
    ngOnInit() {
        // Initialize actions
        this._collapsed = this.startCollapsed;
        this._expanded = this.startExpanded;
        this._settingsOpened = this.startSettingsOpened;
        this.collapseAction.update();
        this.expandAction.update();
        this.settingsAction.update();
    }
    ngAfterContentInit() {
        if (this.facetComponent) {
            this.actionChangedSubscription = this.facetComponent.actionsChanged.subscribe((actions) => {
                this.allActions.forEach(action => action.update());
                this.changeDetectorRef.markForCheck();
            });
        }
        else {
            console.warn("No #facet component is defined in this facet card: ", this.title);
        }
    }
    ngOnDestroy() {
        if (this.actionChangedSubscription) {
            this.actionChangedSubscription.unsubscribe();
        }
    }
    get allActions() {
        if (this.hideActionsCollapsed && this._collapsed)
            return [this.collapseAction]; // Hide other actions if collapsed
        let actions = [];
        if (this.actionsFirst) {
            actions.push(...this.actions);
        }
        if (this.facetComponent)
            actions = actions.concat(this.facetComponent.actions);
        if (this.hasSettings)
            actions.push(this.settingsAction);
        if (this.expandable)
            actions.push(this.expandAction);
        if (this.collapsible)
            actions.push(this.collapseAction);
        if (!this.actionsFirst) {
            actions.push(...this.actions);
        }
        return actions;
    }
    get hasSettings() {
        return !!this.facetComponent && !!this.facetComponent.settingsTpl;
    }
}
BsFacetCard.ɵfac = function BsFacetCard_Factory(t) { return new (t || BsFacetCard)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"])); };
BsFacetCard.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsFacetCard, selectors: [["sq-facet-card"]], contentQueries: function BsFacetCard_ContentQueries(rf, ctx, dirIndex) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵcontentQuery"](dirIndex, _c0, true);
    } if (rf & 2) {
        let _t;
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵqueryRefresh"](_t = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵloadQuery"]()) && (ctx.facetComponent = _t.first);
    } }, hostVars: 7, hostBindings: function BsFacetCard_HostBindings(rf, ctx) { if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵhostProperty"]("hidden", ctx.hidden);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassProp"]("collapsed", ctx._collapsed)("expanded", ctx._expanded)("settings-opened", ctx._settingsOpened);
    } }, inputs: { title: "title", tooltip: "tooltip", icon: "icon", buttonsStyle: "buttonsStyle", actions: "actions", actionsFirst: "actionsFirst", actionsSize: "actionsSize", collapsible: "collapsible", startCollapsed: "startCollapsed", hideActionsCollapsed: "hideActionsCollapsed", expandable: "expandable", startExpanded: "startExpanded", startSettingsOpened: "startSettingsOpened" }, outputs: { facetExpanded: "facetExpanded", facetCollapsed: "facetCollapsed", settingsOpened: "settingsOpened" }, ngContentSelectors: _c2, decls: 13, vars: 15, consts: [[1, "card"], [1, "card-header", "cursor-default", "pl-3", "pr-2", "py-1"], [1, "d-flex"], [1, "d-flex", "align-items-center", "text-truncate", "mr-auto", 3, "title"], ["aria-hidden", "true", 3, "class", 4, "ngIf"], ["class", "card-title text-truncate mb-0 py-1 mr-auto", 4, "ngIf"], [3, "ngTemplateOutlet", 4, "ngIf"], [1, "btn-group", 3, "sq-action-buttons"], [3, "collapsed", 4, "ngIf"], ["class", "card-footer", 3, "ngTemplateOutlet", 4, "ngIf"], ["aria-hidden", "true"], [1, "card-title", "text-truncate", "mb-0", "py-1", "mr-auto"], [3, "ngTemplateOutlet"], [3, "collapsed"], [1, "card-footer", 3, "ngTemplateOutlet"]], template: function BsFacetCard_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵprojectionDef"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](4, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](5, BsFacetCard_div_5_Template, 1, 3, "div", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](6, BsFacetCard_div_6_Template, 3, 3, "div", 5);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](7, BsFacetCard_ng_container_7_Template, 1, 1, "ng-container", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](8, "div", 7);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](9, BsFacetCard_ng_container_9_Template, 1, 1, "ng-container", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](10, BsFacetCard_sq_collapse_10_Template, 2, 1, "sq-collapse", 8);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](11, BsFacetCard_ng_container_11_Template, 1, 1, "ng-container", 6);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](12, BsFacetCard_ng_container_12_Template, 1, 1, "ng-container", 9);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("title", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](4, 9, ctx.tooltip || ctx.title));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !!ctx.icon);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.title);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.facetComponent && ctx.facetComponent.headerTpl);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("sq-action-buttons", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction3"](11, _c1, ctx.allActions, ctx.buttonsStyle, ctx.actionsSize));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.facetComponent && ctx.facetComponent.subHeaderTpl);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx._settingsOpened);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.hasSettings && ctx._settingsOpened);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.facetComponent && ctx.facetComponent.footerTpl);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_2__["NgIf"], _action_bootstrap_action_buttons_action_buttons__WEBPACK_IMPORTED_MODULE_3__["BsActionButtons"], _angular_common__WEBPACK_IMPORTED_MODULE_2__["NgTemplateOutlet"], _collapse_collapse_component__WEBPACK_IMPORTED_MODULE_4__["Collapse"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_5__["MessagePipe"]], styles: [".cursor-default[_ngcontent-%COMP%] {cursor: default;}"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsFacetCard, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-facet-card",
                templateUrl: "./facet-card.html",
                styles: [`
        .cursor-default {cursor: default;}
    `]
            }]
    }], function () { return [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ChangeDetectorRef"] }]; }, { title: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], tooltip: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], icon: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], buttonsStyle: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], actions: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], actionsFirst: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], actionsSize: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], collapsible: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], startCollapsed: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], hideActionsCollapsed: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], expandable: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], startExpanded: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], startSettingsOpened: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], facetExpanded: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }], facetCollapsed: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }], settingsOpened: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }], facetComponent: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ContentChild"],
            args: ["facet", { static: false }]
        }], _collapsed: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostBinding"],
            args: ['class.collapsed']
        }], _expanded: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostBinding"],
            args: ['class.expanded']
        }], _settingsOpened: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostBinding"],
            args: ['class.settings-opened']
        }], hidden: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostBinding"],
            args: ['hidden']
        }] }); })();


/***/ }),

/***/ "wLz7":
/*!********************************************!*\
  !*** ../components/baskets/messages/en.ts ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    "baskets": {
        "baskets": "Baskets",
        "addToBasket": "Add to basket",
        "removeFromBasket": "Remove from basket",
        "removeFromAllBaskets": "Remove from all baskets",
        "removeFromAllBasketsConfirmation": "Are you sure you want to remove this result from these baskets: {baskets}?",
        "basketAlreadyExists": "A basket with that name already exists. Would you like to replace it?",
        "noBasket": "You have not yet added a document to a basket...",
        "createBasket": "Create Basket",
        "manageBaskets": "Manage Baskets",
        "delete": "Delete this basket"
    },
    "editBasket": {
        "title": "Basket",
        "name": "Name"
    },
    "manageBaskets": {
        "title": "Manage Baskets",
        "edit": "Edit",
        "reorder": "Reorder",
        "remove": "Remove",
        "removeAll": "Remove all",
        "name": "Name"
    },
    "selectBasket": {
        "title": "Select Basket",
        "newBasket": "New basket..."
    }
});


/***/ }),

/***/ "wg+P":
/*!*************************************!*\
  !*** ../components/alerts/index.ts ***!
  \*************************************/
/*! exports provided: Alert, ALERT_CHANGE_EVENTS, ALERT_COMPONENTS, WINDOW, AlertsService, BsAlertsModule, BsAlertsMenuComponent, BsEditAlert, BsManageAlerts, enAlerts, frAlerts, deAlerts */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _public_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./public-api */ "hrQz");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Alert", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["Alert"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ALERT_CHANGE_EVENTS", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["ALERT_CHANGE_EVENTS"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ALERT_COMPONENTS", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["ALERT_COMPONENTS"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "WINDOW", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["WINDOW"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AlertsService", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["AlertsService"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsAlertsModule", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsAlertsModule"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsAlertsMenuComponent", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsAlertsMenuComponent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsEditAlert", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsEditAlert"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsManageAlerts", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["BsManageAlerts"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "enAlerts", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["enAlerts"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "frAlerts", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["frAlerts"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "deAlerts", function() { return _public_api__WEBPACK_IMPORTED_MODULE_0__["deAlerts"]; });




/***/ }),

/***/ "wgEc":
/*!******************************************************************************************!*\
  !*** ../components/saved-queries/bootstrap/facet-recent-queries/facet-recent-queries.ts ***!
  \******************************************************************************************/
/*! exports provided: BsFacetRecentQueries */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsFacetRecentQueries", function() { return BsFacetRecentQueries; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_components_facet__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/components/facet */ "vbgc");
/* harmony import */ var _sinequa_components_action__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/components/action */ "WsHA");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_components_search__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/components/search */ "7+c1");
/* harmony import */ var _recent_queries_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../recent-queries.service */ "m7B1");
/* harmony import */ var _saved_queries_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../saved-queries.service */ "6FzQ");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/router */ "sEIs");
/* harmony import */ var _utils_pipes_date_pipe__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../utils/pipes/date-pipe */ "ZWTm");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../core/intl/message.pipe */ "X1Kh");












function BsFacetRecentQueries_a_1_span_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "span", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqDate");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const query_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 1, query_r2.date));
} }
function BsFacetRecentQueries_a_1_i_4_Template(rf, ctx) { if (rf & 1) {
    const _r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "i", 9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsFacetRecentQueries_a_1_i_4_Template_i_click_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r9); const query_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit; const ctx_r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r7.saveQuery(query_r2, $event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("title", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](1, 1, "msg#recentQueries.save"));
} }
function BsFacetRecentQueries_a_1_i_5_Template(rf, ctx) { if (rf & 1) {
    const _r12 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "i", 10);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsFacetRecentQueries_a_1_i_5_Template_i_click_0_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r12); const query_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit; const ctx_r10 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r10.deleteQuery(query_r2, $event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](1, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("title", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](1, 1, "msg#recentQueries.delete"));
} }
const _c0 = function (a0) { return [a0]; };
function BsFacetRecentQueries_a_1_Template(rf, ctx) { if (rf & 1) {
    const _r14 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "a", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsFacetRecentQueries_a_1_Template_a_click_0_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r14); const query_r2 = ctx.$implicit; const ctx_r13 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r13.openRecentQuery(query_r2); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "span", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, BsFacetRecentQueries_a_1_span_3_Template, 3, 3, "span", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, BsFacetRecentQueries_a_1_i_4_Template, 2, 3, "i", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](5, BsFacetRecentQueries_a_1_i_5_Template, 2, 3, "i", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const query_r2 = ctx.$implicit;
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("routerLink", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](8, _c0, ctx_r0.searchRoute))("queryParams", ctx_r0.getQueryParams(query_r2.query))("state", ctx_r0.getRouterState(query_r2.query));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("title", query_r2.query.text);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](query_r2.query.text);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", query_r2.date);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r0.enableSave);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r0.enableDelete);
} }
function BsFacetRecentQueries_div_3_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 11);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 1, "msg#recentQueries.noRecentQuery"), " ");
} }
class BsFacetRecentQueries extends _sinequa_components_facet__WEBPACK_IMPORTED_MODULE_1__["AbstractFacet"] {
    constructor(searchService, recentQueriesService, savedQueriesService) {
        super();
        this.searchService = searchService;
        this.recentQueriesService = recentQueriesService;
        this.savedQueriesService = savedQueriesService;
        this.searchRoute = "/search";
        this.maxQueries = 5;
        this.enableDelete = true;
        this.enableSave = true;
        this.page = 0;
        this.previousPage = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_2__["Action"]({
            icon: "fas fa-chevron-left",
            title: "msg#facet.previous",
            action: () => {
                this.page--;
            },
            updater: (action) => {
                action.disabled = this.page <= 0;
                action.hidden = this.maxPage === 0;
            }
        });
        this.nextPage = new _sinequa_components_action__WEBPACK_IMPORTED_MODULE_2__["Action"]({
            icon: "fas fa-chevron-right",
            title: "msg#facet.next",
            action: () => {
                this.page++;
            },
            updater: (action) => {
                action.disabled = this.page >= this.maxPage;
                action.hidden = this.maxPage === 0;
            }
        });
    }
    get maxPage() {
        return Math.max(0, Math.ceil(this.recentQueriesService.recentqueries.length / this.maxQueries) - 1);
    }
    get startIndex() {
        return this.page * this.maxQueries;
    }
    get endIndex() {
        return (this.page + 1) * this.maxQueries;
    }
    get actions() {
        this.previousPage.update();
        this.nextPage.update();
        return [this.previousPage, this.nextPage];
    }
    openRecentQuery(query) {
        this.recentQueriesService.notifyOpenRecentQuery(query);
        return true;
    }
    deleteQuery(query, event) {
        event.stopPropagation();
        this.recentQueriesService.deleteRecentQuery(query);
        this.page = Math.min(this.page, this.maxPage);
        return false;
    }
    saveQuery(query, event) {
        event.stopPropagation();
        const q = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].extend(this.searchService.makeQuery(), _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].copy(query.query));
        this.savedQueriesService.createSavedQueryModal(q);
        return false;
    }
    getQueryParams(recentQuery) {
        const query = this.searchService.makeQuery(recentQuery);
        const queryParams = query.toJsonForQueryString();
        return { query: queryParams };
    }
    getRouterState(recentQuery) {
        return {
            audit: {
                type: "Search_RecentQuery" /* Search */,
                detail: {
                    recentquery: recentQuery.text
                }
            }
        };
    }
}
BsFacetRecentQueries.ɵfac = function BsFacetRecentQueries_Factory(t) { return new (t || BsFacetRecentQueries)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_search__WEBPACK_IMPORTED_MODULE_4__["SearchService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_recent_queries_service__WEBPACK_IMPORTED_MODULE_5__["RecentQueriesService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_saved_queries_service__WEBPACK_IMPORTED_MODULE_6__["SavedQueriesService"])); };
BsFacetRecentQueries.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsFacetRecentQueries, selectors: [["sq-facet-recent-queries"]], inputs: { searchRoute: "searchRoute", maxQueries: "maxQueries", enableDelete: "enableDelete", enableSave: "enableSave" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"]], decls: 4, vars: 6, consts: [[1, "list-group", "list-group-flush"], ["class", "recent-query-item list-group-item list-group-item-action d-flex align-items-center", 3, "routerLink", "queryParams", "state", "click", 4, "ngFor", "ngForOf"], ["class", "list-group-item text-center text-muted font-italic small py-5", 4, "ngIf"], [1, "recent-query-item", "list-group-item", "list-group-item-action", "d-flex", "align-items-center", 3, "routerLink", "queryParams", "state", "click"], [1, "query-text", "mr-auto", "text-truncate", 3, "title"], ["class", "query-date ml-2 text-muted small text-right", 4, "ngIf"], ["class", "query-save ml-2 far fa-save", 3, "title", "click", 4, "ngIf"], ["class", "query-delete ml-2 fas fa-times", 3, "title", "click", 4, "ngIf"], [1, "query-date", "ml-2", "text-muted", "small", "text-right"], [1, "query-save", "ml-2", "far", "fa-save", 3, "title", "click"], [1, "query-delete", "ml-2", "fas", "fa-times", 3, "title", "click"], [1, "list-group-item", "text-center", "text-muted", "font-italic", "small", "py-5"]], template: function BsFacetRecentQueries_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsFacetRecentQueries_a_1_Template, 6, 10, "a", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "slice");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, BsFacetRecentQueries_div_3_Template, 3, 3, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind3"](2, 2, ctx.recentQueriesService.recentqueries, ctx.startIndex, ctx.endIndex));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.recentQueriesService.recentqueries.length == 0);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_7__["NgForOf"], _angular_common__WEBPACK_IMPORTED_MODULE_7__["NgIf"], _angular_router__WEBPACK_IMPORTED_MODULE_8__["RouterLinkWithHref"]], pipes: [_angular_common__WEBPACK_IMPORTED_MODULE_7__["SlicePipe"], _utils_pipes_date_pipe__WEBPACK_IMPORTED_MODULE_9__["DatePipe"], _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_10__["MessagePipe"]], styles: [".recent-query-item[_ngcontent-%COMP%]   .query-delete[_ngcontent-%COMP%], .recent-query-item[_ngcontent-%COMP%]   .query-save[_ngcontent-%COMP%]{\n    opacity: 0;\n}\n\n.recent-query-item[_ngcontent-%COMP%]:hover   .query-delete[_ngcontent-%COMP%], .recent-query-item[_ngcontent-%COMP%]:hover   .query-save[_ngcontent-%COMP%]{\n    opacity: 1;\n    transition: opacity 0.2s ease-in-out;\n}"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsFacetRecentQueries, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'sq-facet-recent-queries',
                templateUrl: './facet-recent-queries.html',
                styles: [`
.recent-query-item .query-delete, .recent-query-item .query-save{
    opacity: 0;
}

.recent-query-item:hover .query-delete, .recent-query-item:hover .query-save{
    opacity: 1;
    transition: opacity 0.2s ease-in-out;
}
  `]
            }]
    }], function () { return [{ type: _sinequa_components_search__WEBPACK_IMPORTED_MODULE_4__["SearchService"] }, { type: _recent_queries_service__WEBPACK_IMPORTED_MODULE_5__["RecentQueriesService"] }, { type: _saved_queries_service__WEBPACK_IMPORTED_MODULE_6__["SavedQueriesService"] }]; }, { searchRoute: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], maxQueries: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], enableDelete: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], enableSave: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "xCsv":
/*!*********************************************************!*\
  !*** ../core/web-services/suggest-query.web.service.ts ***!
  \*********************************************************/
/*! exports provided: SuggestQueryWebService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SuggestQueryWebService", function() { return SuggestQueryWebService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "+kfY");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs/operators */ "0Wlh");
/* harmony import */ var _http_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./http.service */ "3Hvy");
/* harmony import */ var _start_config_web_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./start-config.web.service */ "R3Oh");
/* harmony import */ var _http_client__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./http-client */ "j7UU");







/**
 * A service for calling the suggestquery web service
 */
class SuggestQueryWebService extends _http_service__WEBPACK_IMPORTED_MODULE_3__["HttpService"] {
    constructor(startConfig, httpClient) {
        super(startConfig);
        this.httpClient = httpClient;
    }
    /**
     * Gets suggestions for the passed text for a set of fields using the passed suggestquery web service
     *
     * @param suggestQuery The name of the suggestquery web service to use
     * @param text The text to match
     * @param query The name of the current query
     * @param fields The fields for which to return suggestions
     */
    get(suggestQuery, text, query, fields) {
        if (!suggestQuery) {
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["of"])([]);
        }
        else {
            const observable = this.httpClient.post(this.makeUrl("suggestquery"), {
                app: this.appName,
                suggestQuery: suggestQuery,
                text: text,
                query: query,
                kinds: fields
            });
            return observable.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["map"])(value => value.suggests));
        }
    }
}
SuggestQueryWebService.ɵfac = function SuggestQueryWebService_Factory(t) { return new (t || SuggestQueryWebService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_start_config_web_service__WEBPACK_IMPORTED_MODULE_4__["START_CONFIG"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_http_client__WEBPACK_IMPORTED_MODULE_5__["SqHttpClient"])); };
SuggestQueryWebService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: SuggestQueryWebService, factory: SuggestQueryWebService.ɵfac, providedIn: "root" });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](SuggestQueryWebService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: "root"
            }]
    }], function () { return [{ type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [_start_config_web_service__WEBPACK_IMPORTED_MODULE_4__["START_CONFIG"]]
            }] }, { type: _http_client__WEBPACK_IMPORTED_MODULE_5__["SqHttpClient"] }]; }, null); })();


/***/ }),

/***/ "xE+r":
/*!***********************************************************************************!*\
  !*** ../components/advanced/bootstrap/advanced-form-range/advanced-form-range.ts ***!
  \***********************************************************************************/
/*! exports provided: BsAdvancedFormRange */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsAdvancedFormRange", function() { return BsAdvancedFormRange; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/app-utils */ "SBPP");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "nIj0");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _advanced_form_validation_directive__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../advanced-form-validation.directive */ "TyST");
/* harmony import */ var _date_range_picker_date_range_picker__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./date-range-picker/date-range-picker */ "Rys7");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/intl/message.pipe */ "X1Kh");










const _c0 = function () { return { standalone: true }; };
function BsAdvancedFormRange_div_4_Template(rf, ctx) { if (rf & 1) {
    const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "input", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("ngModelChange", function BsAdvancedFormRange_div_4_Template_input_ngModelChange_2_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r3); const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r2.updateFrom($event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](5, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](6, "div", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "input", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("ngModelChange", function BsAdvancedFormRange_div_4_Template_input_ngModelChange_7_listener($event) { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r3); const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r4.updateTo($event); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("field", ctx_r0.field)("validationForm", ctx_r0.form)("id", ctx_r0.field);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("id", ctx_r0.fromName)("ngModel", ctx_r0.value[0])("ngModelOptions", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction0"](12, _c0));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](5, 10, "msg#advanced.rangeSeparator"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("id", ctx_r0.toName)("ngModel", ctx_r0.value[1])("ngModelOptions", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction0"](13, _c0));
} }
const _c1 = function (a0, a3, a4) { return { name: a0, system: false, closedRange: false, minDate: a3, maxDate: a4 }; };
function BsAdvancedFormRange_sq_date_range_picker_5_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](0, "sq-date-range-picker", 9);
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("options", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction3"](5, _c1, ctx_r1.field, ctx_r1.minDate, ctx_r1.maxDate))("formControlName", ctx_r1.field)("id", ctx_r1.field)("field", ctx_r1.field)("validationForm", ctx_r1.form);
} }
class BsAdvancedFormRange {
    constructor(appService) {
        this.appService = appService;
    }
    ngOnInit() {
        this.fromName = "from_" + this.field;
        this.toName = "to_" + this.field;
        this.forName = this.fromName;
        this.column = this.appService.getColumn(this.field);
        if (this.label === undefined) {
            this.label = this.appService.getPluralLabel(this.field);
        }
        this.isDate = !!this.column && _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_2__["AppService"].isDate(this.column);
        if (this.isDate) {
            this.minDate = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].isDate(this.min)
                ? this.min
                : undefined;
            this.maxDate = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].isDate(this.max)
                ? this.max
                : undefined;
        }
        this.control = this.form.get(this.field);
        if (this.control) {
            this.value = this.control.value;
            this._valueChangesSubscription = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].subscribe(this.control.valueChanges, (value) => {
                this.value = value;
            });
        }
        else {
            throw new Error("No form control named " + this.field);
        }
    }
    ngOnDestroy() {
        if (this._valueChangesSubscription) {
            this._valueChangesSubscription.unsubscribe();
        }
    }
    ensureValue(value) {
        if (this.isDate) {
            const value1 = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].toDate(value);
            if (value1 !== undefined) {
                return value1;
            }
        }
        else if (this.column && _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_2__["AppService"].isNumber(this.column)) {
            if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].testFloat(value)) {
                return _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].toNumber(value);
            }
        }
        return value;
    }
    updateFrom(from) {
        this.value[0] = this.ensureValue(from);
        if (this.control) {
            this.control.markAsDirty();
            this.control.setValue(this.value);
        }
    }
    updateTo(to) {
        this.value[1] = this.ensureValue(to);
        if (this.control) {
            this.control.markAsDirty();
            this.control.setValue(this.value);
        }
    }
}
BsAdvancedFormRange.ɵfac = function BsAdvancedFormRange_Factory(t) { return new (t || BsAdvancedFormRange)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_2__["AppService"])); };
BsAdvancedFormRange.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsAdvancedFormRange, selectors: [["sq-advanced-form-range"]], inputs: { form: "form", field: "field", min: "min", max: "max", label: "label" }, decls: 6, vars: 7, consts: [[1, "form-group", 3, "formGroup"], [3, "for"], ["class", "sq-advanced-form-range form-row", "sqAdvancedFormValidation", "", 3, "field", "validationForm", "id", 4, "ngIf"], ["sqAdvancedFormValidation", "", 3, "options", "formControlName", "id", "field", "validationForm", 4, "ngIf"], ["sqAdvancedFormValidation", "", 1, "sq-advanced-form-range", "form-row", 3, "field", "validationForm", "id"], [1, "col-auto", "d-flex", "flex-column"], ["type", "text", "autocomplete", "off", "spellcheck", "off", 1, "form-control", "sq-range-from", 3, "id", "ngModel", "ngModelOptions", "ngModelChange"], [1, "col-auto", "sq-separator"], ["type", "text", "autocomplete", "off", "spellcheck", "off", 1, "form-control", "sq-range-to", 3, "id", "ngModel", "ngModelOptions", "ngModelChange"], ["sqAdvancedFormValidation", "", 3, "options", "formControlName", "id", "field", "validationForm"]], template: function BsAdvancedFormRange_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "label", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](3, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](4, BsAdvancedFormRange_div_4_Template, 8, 14, "div", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](5, BsAdvancedFormRange_sq_date_range_picker_5_Template, 1, 9, "sq-date-range-picker", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("for", ctx.forName);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](3, 5, ctx.label));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !ctx.isDate);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.isDate);
    } }, directives: [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["NgControlStatusGroup"], _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormGroupDirective"], _angular_common__WEBPACK_IMPORTED_MODULE_4__["NgIf"], _advanced_form_validation_directive__WEBPACK_IMPORTED_MODULE_5__["BsAdvancedFormValidation"], _angular_forms__WEBPACK_IMPORTED_MODULE_3__["DefaultValueAccessor"], _angular_forms__WEBPACK_IMPORTED_MODULE_3__["NgControlStatus"], _angular_forms__WEBPACK_IMPORTED_MODULE_3__["NgModel"], _date_range_picker_date_range_picker__WEBPACK_IMPORTED_MODULE_6__["BsDateRangePicker"], _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormControlName"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_7__["MessagePipe"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsAdvancedFormRange, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-advanced-form-range",
                templateUrl: "./advanced-form-range.html"
            }]
    }], function () { return [{ type: _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_2__["AppService"] }]; }, { form: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], field: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], min: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], max: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], label: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "xIcm":
/*!*********************************************************!*\
  !*** ../core/notification/notifications.interceptor.ts ***!
  \*********************************************************/
/*! exports provided: NotificationsInterceptor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NotificationsInterceptor", function() { return NotificationsInterceptor; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common/http */ "vobO");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs/operators */ "0Wlh");
/* harmony import */ var _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/web-services */ "cIYa");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _notifications_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./notifications.service */ "BwUK");







/**
 * An `HttpInterceptor` to process notifications attached to the response body
 * in the `$notifications` member.
 */
class NotificationsInterceptor {
    constructor(startConfig, notificationsService) {
        this.startConfig = startConfig;
        this.notificationsService = notificationsService;
    }
    shouldIntercept(url) {
        return _sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__["Utils"].startsWith(url, this.startConfig.apiPath);
    }
    processNotifications(notifications) {
        if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__["Utils"].isArray(notifications)) {
            for (const notification of notifications) {
                let type = notification.type;
                if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__["Utils"].isUndefined(type)) {
                    type = 1 /* Info */;
                }
                const text = notification.text;
                if (text) {
                    const params = notification.params;
                    const title = notification.title;
                    let autoClose = notification.autoClose;
                    if (_sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__["Utils"].isUndefined(autoClose)) {
                        autoClose = (type === 0 /* Success */) || (type === 1 /* Info */);
                    }
                    this.notificationsService.notify(type, text, params, title, autoClose);
                }
            }
        }
    }
    intercept(request, next) {
        if (!this.shouldIntercept(request.url)) {
            return next.handle(request);
        }
        return next.handle(request).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_2__["tap"])(event => {
            if (event instanceof _angular_common_http__WEBPACK_IMPORTED_MODULE_1__["HttpResponse"]) {
                if (request.responseType === "json" && _sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__["Utils"].isObject(event.body)) {
                    this.processNotifications(event.body.$notifications);
                }
            }
        }));
    }
}
NotificationsInterceptor.ɵfac = function NotificationsInterceptor_Factory(t) { return new (t || NotificationsInterceptor)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_3__["START_CONFIG"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_notifications_service__WEBPACK_IMPORTED_MODULE_5__["NotificationsService"])); };
NotificationsInterceptor.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: NotificationsInterceptor, factory: NotificationsInterceptor.ɵfac, providedIn: "root" });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](NotificationsInterceptor, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: "root"
            }]
    }], function () { return [{ type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_3__["START_CONFIG"]]
            }] }, { type: _notifications_service__WEBPACK_IMPORTED_MODULE_5__["NotificationsService"] }]; }, null); })();


/***/ }),

/***/ "xOGb":
/*!**************************************************!*\
  !*** ../core/web-services/suggest/suggestion.ts ***!
  \**************************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);



/***/ }),

/***/ "xnWB":
/*!****************************************************************************************!*\
  !*** ../components/preview/bootstrap/preview-page-form/preview-page-form.component.ts ***!
  \****************************************************************************************/
/*! exports provided: BsPreviewPageFormComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsPreviewPageFormComponent", function() { return BsPreviewPageFormComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/forms */ "nIj0");
/* harmony import */ var _sinequa_core_validation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/validation */ "BovW");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _core_validation_validation_directive__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../core/validation/validation.directive */ "FRsM");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/intl/message.pipe */ "X1Kh");








const _c0 = function (a0) { return { form: a0, controlName: "page" }; };
function BsPreviewPageFormComponent_form_0_Template(rf, ctx) { if (rf & 1) {
    const _r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "form", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "div", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "label", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](5, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](6, "input", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](8, "button", 7);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsPreviewPageFormComponent_form_0_Template_button_click_8_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r2); const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](); return ctx_r1.submit(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](9, "i", 8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("formGroup", ctx_r0.form);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("sqValidation", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpureFunction1"](5, _c0, ctx_r0.form));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](5, 3, "msg#preview.gotopage"));
} }
class BsPreviewPageFormComponent {
    constructor(formBuilder, validationService) {
        this.gotopage = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.pageControl = new _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControl"]('', [validationService.integerValidator(), validationService.minValidator(1)]);
        this.form = formBuilder.group({
            page: this.pageControl
        });
    }
    ngOnChanges() {
        this.pageControl.setValue(this.pageNumber);
    }
    submit() {
        const page = parseInt(this.pageControl.value, 10);
        if (!isNaN(page) && page !== this.pageNumber) {
            // remember the page number submitted
            // this allow us to submit again the previous page 
            // when page not exists and/or an error is triggered
            this.pageNumber = page;
            this.gotopage.next(page);
        }
    }
}
BsPreviewPageFormComponent.ɵfac = function BsPreviewPageFormComponent_Factory(t) { return new (t || BsPreviewPageFormComponent)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormBuilder"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_validation__WEBPACK_IMPORTED_MODULE_2__["ValidationService"])); };
BsPreviewPageFormComponent.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsPreviewPageFormComponent, selectors: [["sq-preview-page-form"]], inputs: { pageNumber: "pageNumber" }, outputs: { gotopage: "gotopage" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 1, vars: 1, consts: [["novalidate", "", "class", "mb-2", 3, "formGroup", 4, "ngIf"], ["novalidate", "", 1, "mb-2", 3, "formGroup"], [1, "input-group", "mb-1", 3, "sqValidation"], [1, "input-group-prepend"], ["for", "page-input", 1, "input-group-text"], ["id", "page-input", "type", "text", "placeholder", "page", "formControlName", "page", "autocomplete", "off", "spellcheck", "off", 1, "form-control"], [1, "input-group-append"], ["type", "submit", 1, "btn", "btn-primary", 3, "click"], [1, "fas", "fa-fw", "fa-arrow-right"]], template: function BsPreviewPageFormComponent_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, BsPreviewPageFormComponent_form_0_Template, 10, 7, "form", 0);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx.pageNumber);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_3__["NgIf"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["ɵangular_packages_forms_forms_y"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["NgControlStatusGroup"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormGroupDirective"], _core_validation_validation_directive__WEBPACK_IMPORTED_MODULE_4__["ValidationDirective"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["DefaultValueAccessor"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["NgControlStatus"], _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormControlName"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_5__["MessagePipe"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsPreviewPageFormComponent, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'sq-preview-page-form',
                templateUrl: './preview-page-form.component.html'
            }]
    }], function () { return [{ type: _angular_forms__WEBPACK_IMPORTED_MODULE_1__["FormBuilder"] }, { type: _sinequa_core_validation__WEBPACK_IMPORTED_MODULE_2__["ValidationService"] }]; }, { pageNumber: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], gotopage: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }] }); })();


/***/ }),

/***/ "xqzj":
/*!************************************************************!*\
  !*** ../components/autocomplete/autocomplete.directive.ts ***!
  \************************************************************/
/*! exports provided: AutocompleteState, Autocomplete */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AutocompleteState", function() { return AutocompleteState; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Autocomplete", function() { return Autocomplete; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _suggest_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./suggest.service */ "9VEG");
/* harmony import */ var _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/app-utils */ "SBPP");
/* harmony import */ var _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/components/utils */ "DD1E");






/**
 * States in which the autocomplete component can be
 */
var AutocompleteState;
(function (AutocompleteState) {
    AutocompleteState["OFF"] = "OFF";
    AutocompleteState["INIT"] = "INIT";
    AutocompleteState["START"] = "START";
    AutocompleteState["ACTIVE"] = "ACTIVE";
    AutocompleteState["OPENED"] = "OPENED";
    AutocompleteState["SELECTED"] = "SELECTED"; // Input is focused, an input from the dropdown was selected
})(AutocompleteState || (AutocompleteState = {}));
class Autocomplete {
    // Initialization
    constructor(elementRef, suggestService, appService, uiService) {
        this.suggestService = suggestService;
        this.appService = appService;
        this.uiService = uiService;
        /** Debounce delay between autocomplete queries */
        this.suggestDelay = 200;
        /** Custom placeholder */
        this.placeholder = '';
        // Event emitters
        this.stateChange = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.submit = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this._state = AutocompleteState.INIT;
        /**
         * Use the suggest service to retrieve suggestions given the input text.
         * The suggest (autocomplete) query is debounded to avoid flooding the server.
         */
        this.debounceSuggest = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].debounce(() => {
            this.getSuggests();
        }, this.suggestDelay);
        this.inputElement = elementRef.nativeElement;
    }
    /**
     * On initialization, we listen to the autocomplete component for
     * selection events
     */
    ngOnInit() {
        this._dropdownSubscription = this.dropdown.clicked.subscribe(item => {
            this.select(item, true); // An item was selected from the autocomplete => take the value
        });
        this._placeholder = this.placeholder;
        this.inputElement.focus();
        this.start();
    }
    /**
     * If the off input changes state, react accordingly
     * @param changes
     */
    ngOnChanges(changes) {
        // Turn on the autocomplete
        if (changes["off"] && !this.off) {
            this.start();
        }
    }
    /**
     * Unsubscribe when destroying the component
     */
    ngOnDestroy() {
        if (this._dropdownSubscription) {
            this._dropdownSubscription.unsubscribe();
        }
    }
    // Getters and Setters
    /**
     * Return the current state of the autocomplete
     */
    getState() {
        return this._state;
    }
    /**
     * Set the current state of the autocomplete
     */
    setState(state) {
        if (this.off) {
            if (this._state !== AutocompleteState.OFF) {
                this._state = AutocompleteState.OFF;
                this.stateChange.next(this.getState());
            }
            // ignore state change if Autocomplete is off
        }
        else if (!!state && this._state !== state) {
            this._state = state;
            //console.log("STATE: ", this._state);
            this.stateChange.next(this.getState());
        }
    }
    /**
     * Get the current text value of the HTML <input>
     * to which this directive is attached
     */
    getInputValue() {
        return this.inputElement.value;
    }
    /**
     * Set the current text value of the HTML <input>
     * to which this directive is attached
     */
    setInputValue(value) {
        // Using setCaret() allows to properly update the underlying form
        this.uiService.setCaret(this.inputElement, 0, -1, value); // 0, -1 erases the current value and writes the new one
    }
    /**
     * Sets the content of the <input> based on the given
     * Autocomplete Item (various implementations are possible,
     * depending on the item content and nature).
     * This would be the right method to override to implement
     * fielded search autocomplete.
     * @returns true if this autocomplete item should be searched
     */
    setAutocompleteItem(item) {
        if (item) {
            this.setInputValue(item.display);
            return true;
        }
        return false;
    }
    // Methods triggering state changes
    /**
     * INIT state (Input is not focused, dropdown is closed)
     */
    init() {
        this.setState(AutocompleteState.INIT);
        this.dropdown.update(false); // If the dropdown was active
    }
    /**
     * START state (Input is focused, no text typed in, dropdown is closed)
     */
    start() {
        this.setState(AutocompleteState.START);
        this.dropdown.update(false); // If the dropdown was active
    }
    /**
     * START state and if the <input> has content, immediately switch to ACTIVE
     */
    startOrActive() {
        if (this.getState() !== AutocompleteState.ACTIVE && this.getState() !== AutocompleteState.OPENED) { // Avoid flickering
            this.start();
            if (!!this.getInputValue()) {
                this.active();
            }
        }
    }
    /**
     * ACTIVE state (Input is focused, text is typed, suggests are being queried, dropdown is closed)
     */
    active() {
        if (this.getState() === AutocompleteState.START || this.getState() === AutocompleteState.ACTIVE || this.getState() === AutocompleteState.OPENED) {
            this.setState(AutocompleteState.ACTIVE);
            this.dropdown.update(false); // If the dropdown was active
            this.suggest();
        }
    }
    /**
     * Select the given autocomplete suggestion for search
     * @param submit if, true also trigger a submit
     * @param item a specific item to submit
     */
    select(item, submit) {
        this.setState(AutocompleteState.SELECTED); // Change state BEFORE setting input value, so the event is correctly processed
        const searchable = this.setAutocompleteItem(item);
        this.dropdown.update(false); // Close dropdown
        if (submit && searchable)
            this.submit.next();
    }
    /**
     * Switch to OPENED state (from ACTIVE only)
     */
    open() {
        if (this.getState() === AutocompleteState.ACTIVE) {
            this.setState(AutocompleteState.OPENED);
        }
    }
    /**
     * Request suggestions from the server, and update the dropdown contents
     * and autocomplete state asynchronously.
     * Override this method for a synchronous implementation.
     */
    suggest() {
        this.debounceSuggest();
    }
    /**
     * Actually makes the API call to the suggestService to retrieve suggestions
     * and process them.
     */
    getSuggests() {
        const value = this.getInputValue();
        if (value) { // If there is text, make a call to the suggest API
            this.processSuggests(this.getSuggestsObs(value));
        }
        else { // If empty input, restart autocomplete
            this.start();
        }
    }
    /**
     * Returns an observable of Suggestions, given some input text
     * @param value input text for which to return suggestions
     */
    getSuggestsObs(value, fields) {
        return this.suggestService.get(this.suggestQuery, value, fields);
    }
    /**
     * Process suggestions obtained (from whatever mean):
     * - If data available, filter out fields
     * - update the dropdown content
     * - Switch between OPEN and ACTIVE states
     * - Use changeDetectorRef to update display
     * @param obs an observable of AutocompleteItem suggestions
     */
    processSuggests(obs) {
        obs.subscribe(suggests => {
            if (this.getState() === AutocompleteState.ACTIVE || this.getState() === AutocompleteState.OPENED) {
                this.dropdown.update(true, suggests
                    .filter(item => item.category !== "$field$") // Filter out fields
                    .map(item => {
                    if (!item.label) {
                        item.label = this.appService.getLabel(item.category);
                    }
                    return item;
                }));
            }
        }, err => {
            this.dropdown.update(false);
        }, () => {
            if (this.dropdown.hasItems && this.getState() === AutocompleteState.ACTIVE) {
                this.open(); // Switch from ACTIVE to OPENED (if not already)
            }
            else if (!this.dropdown.hasItems && this.getState() === AutocompleteState.OPENED) { // No data
                this.active(); // Switch from OPENED to ACTIVE (if not already)
            }
        });
    }
    /**
     * Returns the caret position within the input
     */
    getInputPosition() {
        // Come back before trailing spaces so the preceding value is still seen as the input value
        // (needed for ExprParser to stop autocomplete being cancelled on entering trailing spaces)
        const position = this.uiService.getCaret(this.inputElement).start;
        const length = _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].len(_sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].trimEnd(this.getInputValue()));
        return Math.min(position, length);
    }
    /**
     * The following are event listeners applied to the <input> host component
     * onto which this directive is applied.
     * The events affect the state of the autocomplete, which triggers
     * various actions (call to suggest API, etc.).
     */
    /**
     * Listens to click events on the <input> host
     */
    click() {
        //console.log("input clicked");
        this.startOrActive();
    }
    /**
     * Listens to touchstart events (mobile clicks) on the <input> host
     */
    touchstart() {
        //console.log("input touchstart");
        this.startOrActive();
    }
    /**
     * Listens to focus events on the <input> host
     */
    focus() {
        //console.log("input focus gained");
        this.start();
    }
    /**
     * Listens to blur events (out of focus) on the <input> host
     */
    blur(event) {
        //console.log("input focus lost");
        this.init();
    }
    /**
     * Listen to any change in the <input> content and react
     * according to the current state of the autocomplete
     * @param event
     */
    inputChanged(event) {
        //console.log("input value changed");
        switch (this.getState()) {
            case AutocompleteState.OPENED:
                this.suggest(); // Just request more data, but no state change
                break;
            case AutocompleteState.START:
            case AutocompleteState.ACTIVE:
                this.active(); // get more data, and change state if not already ACTIVE
                break;
            case AutocompleteState.SELECTED:
                this.start(); // The model changed because we selected a value ==> we restart in case the user keeps typing
                break;
            case AutocompleteState.INIT:
                console.error("Should not be in INIT state if the form changes");
                break;
        }
    }
    /**
     * Listen to user's keyboard actions in the <input>, in order to navigate
     * and select the autocomplete suggestions.
     * @param event the keyboard
     */
    keydown(event) {
        // Navigation in the opened dropdown
        if (this.getState() === AutocompleteState.OPENED) {
            switch (event.keyCode) {
                case _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Keys"].up:
                    this.dropdown.selectPrevious();
                    return false; // prevent default
                case _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Keys"].down:
                    this.dropdown.selectNext();
                    return false; // prevent default
                case _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Keys"].tab:
                    if (!!this.dropdown.selectedValue) {
                        this.select(this.dropdown.selectedValue);
                    }
                    else {
                        this.dropdown.selectNext();
                    }
                    return false; // prevent default (change focus)
                case _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Keys"].esc:
                    this.start(); // Just restart the autocomplete
                    //event.stopPropagation(); // needed?
                    return false; // prevent default
                case _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Keys"].enter:
                    if (!!this.dropdown.selectedValue) {
                        this.select(this.dropdown.selectedValue, true);
                        //event.stopPropagation(); // needed?
                        return false; // prevent default action (auto submit)
                    }
            }
        }
        // If a search was triggered, restart the autocomplete
        if (event.keyCode === _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Keys"].enter) {
            this.submit.next();
            this.start();
        }
        return undefined;
    }
}
Autocomplete.ɵfac = function Autocomplete_Factory(t) { return new (t || Autocomplete)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_suggest_service__WEBPACK_IMPORTED_MODULE_2__["SuggestService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__["AppService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_components_utils__WEBPACK_IMPORTED_MODULE_4__["UIService"])); };
Autocomplete.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({ type: Autocomplete, selectors: [["", "sqAutocomplete", ""]], hostVars: 1, hostBindings: function Autocomplete_HostBindings(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function Autocomplete_click_HostBindingHandler() { return ctx.click(); })("touchstart", function Autocomplete_touchstart_HostBindingHandler() { return ctx.touchstart(); })("focus", function Autocomplete_focus_HostBindingHandler() { return ctx.focus(); })("blur", function Autocomplete_blur_HostBindingHandler($event) { return ctx.blur($event); })("input", function Autocomplete_input_HostBindingHandler($event) { return ctx.inputChanged($event); })("keydown", function Autocomplete_keydown_HostBindingHandler($event) { return ctx.keydown($event); });
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵattribute"]("placeholder", ctx._placeholder);
    } }, inputs: { dropdown: "dropdown", off: "off", suggestDelay: "suggestDelay", suggestQuery: "suggestQuery", placeholder: "placeholder" }, outputs: { stateChange: "stateChange", submit: "submit" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](Autocomplete, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Directive"],
        args: [{
                selector: "[sqAutocomplete]"
            }]
    }], function () { return [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"] }, { type: _suggest_service__WEBPACK_IMPORTED_MODULE_2__["SuggestService"] }, { type: _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_3__["AppService"] }, { type: _sinequa_components_utils__WEBPACK_IMPORTED_MODULE_4__["UIService"] }]; }, { dropdown: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], off: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], suggestDelay: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], suggestQuery: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], placeholder: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], _placeholder: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostBinding"],
            args: ['attr.placeholder']
        }], stateChange: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }], submit: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }], click: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostListener"],
            args: ["click"]
        }], touchstart: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostListener"],
            args: ["touchstart"]
        }], focus: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostListener"],
            args: ["focus"]
        }], blur: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostListener"],
            args: ["blur", ["$event"]]
        }], inputChanged: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostListener"],
            args: ["input", ["$event"]]
        }], keydown: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostListener"],
            args: ["keydown", ["$event"]]
        }] }); })();


/***/ }),

/***/ "xwCo":
/*!**********************************************************************************************************************!*\
  !*** ../components/advanced/bootstrap/advanced-form-multi-input/advanced-form-autocomplete-multi-input.directive.ts ***!
  \**********************************************************************************************************************/
/*! exports provided: BsAdvancedFormAutocompleteMultiInput */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsAdvancedFormAutocompleteMultiInput", function() { return BsAdvancedFormAutocompleteMultiInput; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _advanced_form_autocomplete_directive__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../advanced-form-autocomplete.directive */ "EF9c");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");




class BsAdvancedFormAutocompleteMultiInput extends _advanced_form_autocomplete_directive__WEBPACK_IMPORTED_MODULE_1__["BsAdvancedFormAutocomplete"] {
    constructor() {
        super(...arguments);
        /** Event synchronizing the list of search terms in the parent component */
        this.itemsUpdate = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        /** Stores the selected search terms selected via Tab */
        this.items = [];
    }
    /**
     * The setAutocompleteItem() method from the original directive is overriden to
     * Sets the content of the <input> based on the given
     * Autocomplete Item.
     * @returns false since we don't need trigger search at this point of time
     */
    setAutocompleteItem(item) {
        if (item) {
            // Store the autocomplete items that will be used to create a selection
            this.items.push(item);
            this.itemsUpdate.next(this.items);
            this.setInputValue("");
        }
        return false;
    }
    /**
     * Listen to user's keyboard actions in the <input>, in order to navigate
     * and select the autocomplete suggestions.
     * Overrides the parent keydown method, adds the management of the backspace key
     * to remove items, enhance the enter key to support adding new items.
     * @param event the keyboard
     */
    keydown(event) {
        const keydown = super.keydown(event);
        if (keydown === undefined) {
            /** We can remove selections by typing <backspace> when the input is empty */
            if (event.keyCode === _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Keys"].backspace) {
                if (this.getInputValue() === "") {
                    this.items.pop();
                    this.itemsUpdate.next(this.items);
                }
            }
            /** Allow the selection one of new item */
            if (event.keyCode === _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Keys"].enter) {
                this._manageSetAutocompleteItem();
            }
        }
        return keydown;
    }
    /**
     * Listens to blur events (out of focus) on the <input> host and overrides the parent blur events
     */
    blur(event) {
        this._manageSetAutocompleteItem();
        this.init();
    }
    _manageSetAutocompleteItem() {
        /** Always consider if there is text in the <input> and that it is not yet added in items  */
        if (!!this.getInputValue() && this.getInputValue() !== "") {
            this.setAutocompleteItem({
                display: this.getInputValue(),
                normalized: this.getInputValue(),
                category: "",
            });
        }
    }
}
BsAdvancedFormAutocompleteMultiInput.ɵfac = function BsAdvancedFormAutocompleteMultiInput_Factory(t) { return ɵBsAdvancedFormAutocompleteMultiInput_BaseFactory(t || BsAdvancedFormAutocompleteMultiInput); };
BsAdvancedFormAutocompleteMultiInput.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({ type: BsAdvancedFormAutocompleteMultiInput, selectors: [["", "sqAdvancedFormAutocompleteMultiInput", ""]], hostBindings: function BsAdvancedFormAutocompleteMultiInput_HostBindings(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("blur", function BsAdvancedFormAutocompleteMultiInput_blur_HostBindingHandler($event) { return ctx.blur($event); });
    } }, inputs: { items: "items" }, outputs: { itemsUpdate: "itemsUpdate" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵInheritDefinitionFeature"]] });
const ɵBsAdvancedFormAutocompleteMultiInput_BaseFactory = /*@__PURE__*/ _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetInheritedFactory"](BsAdvancedFormAutocompleteMultiInput);
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsAdvancedFormAutocompleteMultiInput, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Directive"],
        args: [{
                selector: "[sqAdvancedFormAutocompleteMultiInput]",
            }]
    }], null, { itemsUpdate: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"]
        }], items: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], blur: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostListener"],
            args: ["blur", ["$event"]]
        }] }); })();


/***/ }),

/***/ "xyZx":
/*!******************************************************************************************!*\
  !*** ../components/user-settings/bootstrap/user-settings-editor/user-settings-editor.ts ***!
  \******************************************************************************************/
/*! exports provided: BsUserSettingsEditor */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsUserSettingsEditor", function() { return BsUserSettingsEditor; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/app-utils */ "SBPP");
/* harmony import */ var _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/intl */ "EfqX");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/forms */ "nIj0");
/* harmony import */ var _utils_directives_autofocus__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../utils/directives/autofocus */ "1ak2");
/* harmony import */ var _core_validation_validation_directive__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/validation/validation.directive */ "FRsM");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../core/intl/message.pipe */ "X1Kh");









function BsUserSettingsEditor_option_6_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "option", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const locale_r1 = ctx.$implicit;
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("value", locale_r1.name);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 2, locale_r1.display));
} }
/**
 * Editor for User settings.
 * <p>
 * This component can add form control for modifiable settings which are not shown by JsonEditor component.
 *
 */
class BsUserSettingsEditor {
    constructor(appService, intlService, formBuilder) {
        this.appService = appService;
        this.intlService = intlService;
        this.formBuilder = formBuilder;
    }
    ngOnInit() {
        if (!this.appService.app) {
            return; // logout
        }
        // Locale is treated separately because it is not really stored in the user settings.
        this.locales = [];
        if (this.intlService.locales.length > 0) {
            for (const locale of this.intlService.locales) {
                this.locales.push(locale);
            }
        }
        this.model['language'] = this.intlService.currentLocale.name;
        this.form.addControl('selectedLocale', this.formBuilder.control(this.intlService.currentLocale.name));
        /*
                if (this.config && this.config.items) {
                    this.config.items.forEach(item => {
                        if (item.active && JsonEditor.isInputComponent(item)) {
                            const entry = <JsonInfo.Entry>item;
                            const paths = Utils.split(entry.path, '.');
                            const pathLength = paths.length;
                            const currentValue = this.userSettingsService.readUserSetting(paths)
                            const entryKey = paths[pathLength - 1];
        
                            // Add model value
                            this.setModelValue(paths, currentValue);
        
                            // Add layout
                            this.layout[entryKey] = entry;
        
                            // Add form control
                            this.form.addControl(
                                entryKey,
                                this.formBuilder.control(currentValue, Validators.compose(JsonEditor.makeValidatorFunctions(entry, this.validationService))));
                        }
                    });
                }
                */
    }
    /**
     * Sets the current value of an entry to our JSON model.
     *
     * @param paths The paths to the entry in the JSON model.
     * @param value The value to set.
     */
    /*private setModelValue(paths: string[], value: any): void {
        const nbPaths = paths.length;
        let json = this.model;
        if (nbPaths > 1) {
            for (let i = 0; i < nbPaths - 1; ++i) {
                const path = paths[i];
                if (!json[path]) {
                    json[path] = {};
                }
                json = json[path];
            }
        }

        const key = paths[nbPaths - 1];
        json[key] = value;
    }*/
    /**
     * Indicates if the UI language selector is shown in the User settings editor dialog.
     * By default, returns true.
     *
     * @returns true if the UI language selector is shown in the User settings editor dialog.
     */
    showLanguageSelector() {
        return this.showUILanguageSelector;
    }
}
BsUserSettingsEditor.ɵfac = function BsUserSettingsEditor_Factory(t) { return new (t || BsUserSettingsEditor)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_1__["AppService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_sinequa_core_intl__WEBPACK_IMPORTED_MODULE_2__["IntlService"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormBuilder"])); };
BsUserSettingsEditor.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsUserSettingsEditor, selectors: [["sq-user-settings-editor"]], inputs: { form: "form", model: "model", layout: "layout", showUILanguageSelector: "showUILanguageSelector" }, decls: 7, vars: 7, consts: [[3, "formGroup"], [1, "form-group", 2, "margin-bottom", "0", 3, "hidden"], ["for", "locales"], ["formControlName", "selectedLocale", "id", "selectedLocale", "sqAutofocus", "", 1, "form-control", "custom-select", 3, "sqValidation"], [3, "value", 4, "ngFor", "ngForOf"], [3, "value"]], template: function BsUserSettingsEditor_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 0);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](1, "div", 1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](2, "label", 2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](4, "sqMessage");
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](5, "select", 3);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](6, BsUserSettingsEditor_option_6_Template, 3, 4, "option", 4);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("formGroup", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("hidden", !ctx.showLanguageSelector());
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](4, 5, "msg#editUserSettings.language"));
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](2);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("sqValidation", ctx.form);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.locales);
    } }, directives: [_angular_forms__WEBPACK_IMPORTED_MODULE_3__["NgControlStatusGroup"], _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormGroupDirective"], _angular_forms__WEBPACK_IMPORTED_MODULE_3__["SelectControlValueAccessor"], _angular_forms__WEBPACK_IMPORTED_MODULE_3__["NgControlStatus"], _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormControlName"], _utils_directives_autofocus__WEBPACK_IMPORTED_MODULE_4__["Autofocus"], _core_validation_validation_directive__WEBPACK_IMPORTED_MODULE_5__["ValidationDirective"], _angular_common__WEBPACK_IMPORTED_MODULE_6__["NgForOf"], _angular_forms__WEBPACK_IMPORTED_MODULE_3__["NgSelectOption"], _angular_forms__WEBPACK_IMPORTED_MODULE_3__["ɵangular_packages_forms_forms_x"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_7__["MessagePipe"]], encapsulation: 2 });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsUserSettingsEditor, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: 'sq-user-settings-editor',
                templateUrl: './user-settings-editor.html'
            }]
    }], function () { return [{ type: _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_1__["AppService"] }, { type: _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_2__["IntlService"] }, { type: _angular_forms__WEBPACK_IMPORTED_MODULE_3__["FormBuilder"] }]; }, { form: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], model: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], layout: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], showUILanguageSelector: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "y0ZT":
/*!***********************************!*\
  !*** ../core/modal/public-api.ts ***!
  \***********************************/
/*! exports provided: Confirm, Prompt, ModalModule, MODAL_MODEL, ModalButton, MODAL_CONFIRM, MODAL_PROMPT, ModalService, ModalRef, enModal, frModal, deModal */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _confirm_component__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./confirm.component */ "5bmX");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Confirm", function() { return _confirm_component__WEBPACK_IMPORTED_MODULE_0__["Confirm"]; });

/* harmony import */ var _prompt_component__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./prompt.component */ "C3rY");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Prompt", function() { return _prompt_component__WEBPACK_IMPORTED_MODULE_1__["Prompt"]; });

/* harmony import */ var _modal_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./modal.module */ "E2wZ");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ModalModule", function() { return _modal_module__WEBPACK_IMPORTED_MODULE_2__["ModalModule"]; });

/* harmony import */ var _modal_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./modal.service */ "sZXJ");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MODAL_MODEL", function() { return _modal_service__WEBPACK_IMPORTED_MODULE_3__["MODAL_MODEL"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ModalButton", function() { return _modal_service__WEBPACK_IMPORTED_MODULE_3__["ModalButton"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MODAL_CONFIRM", function() { return _modal_service__WEBPACK_IMPORTED_MODULE_3__["MODAL_CONFIRM"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MODAL_PROMPT", function() { return _modal_service__WEBPACK_IMPORTED_MODULE_3__["MODAL_PROMPT"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ModalService", function() { return _modal_service__WEBPACK_IMPORTED_MODULE_3__["ModalService"]; });

/* harmony import */ var _modal_ref__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./modal-ref */ "Mvhk");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ModalRef", function() { return _modal_ref__WEBPACK_IMPORTED_MODULE_4__["ModalRef"]; });

/* harmony import */ var _messages_index__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./messages/index */ "ci8K");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "enModal", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_5__["enModal"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "frModal", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_5__["frModal"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "deModal", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_5__["deModal"]; });









/***/ }),

/***/ "yMts":
/*!*************************************************!*\
  !*** ../core/web-services/query.web.service.ts ***!
  \*************************************************/
/*! exports provided: DidYouMeanKind, RFMDisplay, QueryWebService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DidYouMeanKind", function() { return DidYouMeanKind; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RFMDisplay", function() { return RFMDisplay; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "QueryWebService", function() { return QueryWebService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "+kfY");
/* harmony import */ var _http_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./http.service */ "3Hvy");
/* harmony import */ var _start_config_web_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./start-config.web.service */ "R3Oh");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _http_client__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./http-client */ "j7UU");







/**
 * Used to inform whether a query is being executed using original or corrected search terms
 */
var DidYouMeanKind;
(function (DidYouMeanKind) {
    DidYouMeanKind[DidYouMeanKind["Original"] = 0] = "Original";
    DidYouMeanKind[DidYouMeanKind["Corrected"] = 1] = "Corrected";
})(DidYouMeanKind || (DidYouMeanKind = {}));
/**
 * Display kinds for RFM
 */
var RFMDisplay;
(function (RFMDisplay) {
    // Must be in par with C# RFMDisplay enum (RFM.cs)
    RFMDisplay[RFMDisplay["none"] = 0] = "none";
    RFMDisplay[RFMDisplay["positiveRate"] = 1] = "positiveRate";
    RFMDisplay[RFMDisplay["mainlyPosRate"] = 2] = "mainlyPosRate";
    RFMDisplay[RFMDisplay["unrate"] = 4] = "unrate";
    RFMDisplay[RFMDisplay["mainlyNegRate"] = 8] = "mainlyNegRate";
    RFMDisplay[RFMDisplay["negativeRate"] = 16] = "negativeRate";
    RFMDisplay[RFMDisplay["all"] = 31] = "all";
    RFMDisplay[RFMDisplay["positiveOnly"] = 7] = "positiveOnly";
    RFMDisplay[RFMDisplay["negativeOnly"] = 28] = "negativeOnly";
    RFMDisplay[RFMDisplay["personalAll"] = 21] = "personalAll";
    RFMDisplay[RFMDisplay["personalPosOnly"] = 5] = "personalPosOnly";
    RFMDisplay[RFMDisplay["personalNegOnly"] = 20] = "personalNegOnly";
})(RFMDisplay || (RFMDisplay = {}));
/**
 * A service to call the query web service
 */
class QueryWebService extends _http_service__WEBPACK_IMPORTED_MODULE_2__["HttpService"] {
    constructor(startConfig, httpClient) {
        super(startConfig);
        this.httpClient = httpClient;
        this.endPoint = "query";
    }
    /**
     * Get the results for the passed query
     *
     * @param query The query to execute
     * @param auditEvents Any audit events to store on the server
     * @param queryIntentData Any accompanying query intent data
     */
    getResults(query, auditEvents, queryIntentData) {
        if (!query) {
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["throwError"])({ error: "no query" });
        }
        const observable = this.httpClient.post(this.makeUrl(this.endPoint), {
            app: this.appName,
            query,
            $auditRecord: auditEvents,
            queryIntentData
        });
        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_4__["Utils"].subscribe(observable, (response) => {
            console.log("queryService.getResults success - data: ", response);
            return response;
        }, (error) => {
            console.log("queryService.getResults failure - error: ", error);
        });
        return observable;
    }
    /**
     * Get the results for a set of queries
     *
     * @param queries The queries to execute
     * @param auditEvents Any audit events to store on the server
     */
    getMultipleResults(queries, auditEvents) {
        if (!queries || queries.length === 0) {
            return Object(rxjs__WEBPACK_IMPORTED_MODULE_1__["throwError"])({ error: "no queries" });
        }
        const data = {
            methods: [],
            propagateErrors: true,
            $auditRecord: auditEvents
        };
        for (const query of queries) {
            data.methods.push({
                method: this.endPoint,
                app: this.appName,
                query
            });
        }
        return this.httpClient.post(this.makeUrl("multi"), data);
    }
}
QueryWebService.ɵfac = function QueryWebService_Factory(t) { return new (t || QueryWebService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_start_config_web_service__WEBPACK_IMPORTED_MODULE_3__["START_CONFIG"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_http_client__WEBPACK_IMPORTED_MODULE_5__["SqHttpClient"])); };
QueryWebService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: QueryWebService, factory: QueryWebService.ɵfac, providedIn: "root" });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](QueryWebService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: "root"
            }]
    }], function () { return [{ type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [_start_config_web_service__WEBPACK_IMPORTED_MODULE_3__["START_CONFIG"]]
            }] }, { type: _http_client__WEBPACK_IMPORTED_MODULE_5__["SqHttpClient"] }]; }, null); })();


/***/ }),

/***/ "yabr":
/*!***********************************************!*\
  !*** ../components/status-bar/messages/en.ts ***!
  \***********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony default export */ __webpack_exports__["default"] = ({
    "statusBar": {
        "fullscreenTitleEnter": "Fullscreen",
        "fullscreenTitleExit": "Exit fullscreen",
        "networkActivity": "Network activity"
    }
});


/***/ }),

/***/ "yfgI":
/*!************************************************************!*\
  !*** ../components/action/bootstrap/dropdown.directive.ts ***!
  \************************************************************/
/*! exports provided: BsDropdownDirective */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsDropdownDirective", function() { return BsDropdownDirective; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var popper_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! popper.js */ "35H0");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _dropdown_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./dropdown.service */ "Krhb");






// Based on  Bootstrap (v4.4.1): dropdown.js
function noop() { }
const gConfig = {
    offset: 0,
    flip: true,
    boundary: 'scrollParent',
    reference: 'toggle',
    display: 'dynamic',
    popperConfig: null
};
class BsDropdownDirective {
    constructor(elementRef, dropdownService) {
        this.elementRef = elementRef;
        this.dropdownService = dropdownService;
    }
    get dropdownMenu() {
        if (!this._dropdownMenu && this.dropdown) {
            this._dropdownMenu = this.dropdown.querySelector(_dropdown_service__WEBPACK_IMPORTED_MODULE_3__["gSelector"].MENU);
        }
        return this._dropdownMenu;
    }
    ngOnInit() {
        this.subscription = this.dropdownService.events.subscribe((event) => {
            if (event.type === "clear") {
                this.clear(event.sourceEvent);
            }
            else if (event.type === "toggle") {
                this.toggle(event.element);
            }
        });
    }
    ngAfterViewInit() {
        this.dropdownToggle = this.elementRef.nativeElement;
        this.dropdown = this.dropdownService.getParentFromElement(this.dropdownToggle);
        this.inNavbar = !!this.dropdownToggle.closest('.navbar');
    }
    ngOnDestroy() {
        this.subscription.unsubscribe();
    }
    clickHandler(event) {
        // before event.stopPropagation() 
        // needed to avoid dropdown menu list to stay opened,
        // bubble event to his root parent first and once
        const isActive = this.dropdownMenu && this.dropdownMenu.classList.contains(_dropdown_service__WEBPACK_IMPORTED_MODULE_3__["gClassName"].SHOW);
        if (!isActive)
            this.dropdown.dispatchEvent(new Event('click', { bubbles: true, cancelable: false }));
        event.preventDefault();
        event.stopPropagation();
        this.toggle(this.dropdownToggle);
    }
    toggle(element) {
        if (!element || this.dropdownToggle !== element || !this.dropdownMenu || !this.dropdown) {
            return;
        }
        if ( /*TODO element.disabled || */element.classList.contains(_dropdown_service__WEBPACK_IMPORTED_MODULE_3__["gClassName"].DISABLED)) {
            return;
        }
        const isActive = this.dropdownMenu && this.dropdownMenu.classList.contains(_dropdown_service__WEBPACK_IMPORTED_MODULE_3__["gClassName"].SHOW);
        this.dropdownService.raiseClear();
        if (isActive) {
            return;
        }
        this.show(true);
    }
    getPlacement() {
        let placement = _dropdown_service__WEBPACK_IMPORTED_MODULE_3__["gAttachmentMap"].BOTTOM;
        // Handle dropup
        if (this.dropdown.classList.contains(_dropdown_service__WEBPACK_IMPORTED_MODULE_3__["gClassName"].DROPUP)) {
            placement = _dropdown_service__WEBPACK_IMPORTED_MODULE_3__["gAttachmentMap"].TOP;
            if (this.dropdownMenu && this.dropdownMenu.classList.contains(_dropdown_service__WEBPACK_IMPORTED_MODULE_3__["gClassName"].MENURIGHT)) {
                placement = _dropdown_service__WEBPACK_IMPORTED_MODULE_3__["gAttachmentMap"].TOPEND;
            }
        }
        else if (this.dropdown.classList.contains(_dropdown_service__WEBPACK_IMPORTED_MODULE_3__["gClassName"].DROPRIGHT)) {
            placement = _dropdown_service__WEBPACK_IMPORTED_MODULE_3__["gAttachmentMap"].RIGHT;
        }
        else if (this.dropdown.classList.contains(_dropdown_service__WEBPACK_IMPORTED_MODULE_3__["gClassName"].DROPLEFT)) {
            placement = _dropdown_service__WEBPACK_IMPORTED_MODULE_3__["gAttachmentMap"].LEFT;
        }
        else if (this.dropdownMenu && this.dropdownMenu.classList.contains(_dropdown_service__WEBPACK_IMPORTED_MODULE_3__["gClassName"].MENURIGHT)) {
            placement = _dropdown_service__WEBPACK_IMPORTED_MODULE_3__["gAttachmentMap"].BOTTOMEND;
        }
        return placement;
    }
    getOffset() {
        return {
            offset: gConfig.offset
        };
    }
    getPopperConfig() {
        const popperConfig = {
            placement: this.getPlacement(),
            modifiers: {
                offset: this.getOffset(),
                flip: {
                    enabled: gConfig.flip
                },
                preventOverflow: {
                    boundariesElement: gConfig.boundary
                }
            }
        };
        // Disable Popper.js if we have a static display
        if (gConfig.display === 'static') {
            popperConfig.modifiers.applyStyle = {
                enabled: false
            };
        }
        return popperConfig;
    }
    show(usePopper = false) {
        if (!this.dropdownToggle || !this.dropdownMenu || !this.dropdown) {
            return;
        }
        if ( /*TODO element.disabled || */this.dropdownToggle.classList.contains(_dropdown_service__WEBPACK_IMPORTED_MODULE_3__["gClassName"].DISABLED) ||
            this.dropdownMenu.classList.contains(_dropdown_service__WEBPACK_IMPORTED_MODULE_3__["gClassName"].SHOW)) {
            return;
        }
        const parent = this.dropdown;
        // Disable totally Popper.js for Dropdown in Navbar
        if (!this.inNavbar && usePopper) {
            /**
             * Check for Popper dependency
             * Popper - https://popper.js.org
             */
            if (typeof popper_js__WEBPACK_IMPORTED_MODULE_1__["default"] === 'undefined') {
                throw new TypeError('Bootstrap\'s dropdowns require Popper.js (https://popper.js.org/)');
            }
            let referenceElement = this.dropdownToggle;
            if (gConfig.reference === 'parent') {
                referenceElement = parent;
            }
            // If boundary is not `scrollParent`, then set position to `static`
            // to allow the menu to "escape" the scroll parent's boundaries
            // https://github.com/twbs/bootstrap/issues/24251
            if (gConfig.boundary !== 'scrollParent') {
                parent.classList.add(_dropdown_service__WEBPACK_IMPORTED_MODULE_3__["gClassName"].POSITION_STATIC);
            }
            this.popper = new popper_js__WEBPACK_IMPORTED_MODULE_1__["default"](referenceElement, this.dropdownMenu, this.getPopperConfig());
        }
        // If this is a touch-enabled device we add extra
        // empty mouseover listeners to the body's immediate children;
        // only needed because of broken event delegation on iOS
        // https://www.quirksmode.org/blog/archives/2014/02/mouse_event_bub.html
        if ('ontouchstart' in document.documentElement &&
            !parent.closest(_dropdown_service__WEBPACK_IMPORTED_MODULE_3__["gSelector"].NAVBAR_NAV)) {
            Array.from(document.body.children).forEach((element) => element.addEventListener('mouseover', noop));
        }
        this.dropdownToggle.focus();
        this.dropdownToggle.setAttribute('aria-expanded', "true");
        this.dropdownMenu.classList.toggle(_dropdown_service__WEBPACK_IMPORTED_MODULE_3__["gClassName"].SHOW);
        parent.classList.toggle(_dropdown_service__WEBPACK_IMPORTED_MODULE_3__["gClassName"].SHOW);
    }
    clear(event) {
        if (!this.dropdownToggle || !this.dropdownMenu || !this.dropdown) {
            return;
        }
        const parent = this.dropdown;
        if (!parent.classList.contains(_dropdown_service__WEBPACK_IMPORTED_MODULE_3__["gClassName"].SHOW)) {
            return;
        }
        if (event && (event.type === 'click' &&
            /input|textarea/i.test(event.target.tagName) || event.type === 'keyup' && event.which === _sinequa_core_base__WEBPACK_IMPORTED_MODULE_2__["Keys"].tab) &&
            parent.contains(event.target)) {
            return;
        }
        // If this is a touch-enabled device we remove the extra
        // empty mouseover listeners we added for iOS support
        if ('ontouchstart' in document.documentElement) {
            Array.from(document.body.children).forEach((element) => element.removeEventListener('mouseover', noop));
        }
        this.dropdownToggle.setAttribute('aria-expanded', 'false');
        if (this.popper) {
            this.popper.destroy();
        }
        this.dropdownMenu.classList.remove(_dropdown_service__WEBPACK_IMPORTED_MODULE_3__["gClassName"].SHOW);
        parent.classList.remove(_dropdown_service__WEBPACK_IMPORTED_MODULE_3__["gClassName"].SHOW);
    }
}
BsDropdownDirective.ɵfac = function BsDropdownDirective_Factory(t) { return new (t || BsDropdownDirective)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_dropdown_service__WEBPACK_IMPORTED_MODULE_3__["BsDropdownService"])); };
BsDropdownDirective.ɵdir = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineDirective"]({ type: BsDropdownDirective, selectors: [["", "data-toggle", "dropdown"]], hostBindings: function BsDropdownDirective_HostBindings(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsDropdownDirective_click_HostBindingHandler($event) { return ctx.clickHandler($event); });
    } } });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsDropdownDirective, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Directive"],
        args: [{
                selector: _dropdown_service__WEBPACK_IMPORTED_MODULE_3__["gSelector"].DATA_TOGGLE
            }]
    }], function () { return [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"] }, { type: _dropdown_service__WEBPACK_IMPORTED_MODULE_3__["BsDropdownService"] }]; }, { clickHandler: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["HostListener"],
            args: ["click", ["$event"]]
        }] }); })();


/***/ }),

/***/ "yhAZ":
/*!**********************************************************!*\
  !*** ../core/web-services/recent-queries.web.service.ts ***!
  \**********************************************************/
/*! exports provided: RecentQueriesList, RecentQueries, RecentQueriesWebService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RecentQueriesList", function() { return RecentQueriesList; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RecentQueries", function() { return RecentQueries; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RecentQueriesWebService", function() { return RecentQueriesWebService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _http_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./http.service */ "3Hvy");
/* harmony import */ var _start_config_web_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./start-config.web.service */ "R3Oh");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _http_client__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./http-client */ "j7UU");






class RecentQueriesList {
    constructor(name) {
        this.name = name;
        this.queries = []; // Make sure to have at least a valid "queries" member, to simplify tests in GUI code.
    }
}
class RecentQueries {
}
class RecentQueriesWebService extends _http_service__WEBPACK_IMPORTED_MODULE_1__["HttpService"] {
    constructor(startConfig, httpClient) {
        super(startConfig);
        this.httpClient = httpClient;
    }
    load() {
        const observable = this.httpClient.get(this.makeUrl("recentqueries"), {
            params: this.makeParams({
                app: this.appName,
                action: "load"
            })
        });
        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_3__["Utils"].subscribe(observable, (response) => {
            this.recentQueries = response;
            if (!this.recentQueries)
                this.recentQueries = new RecentQueries();
            if (this.recentQueries) {
                if (!this.recentQueries.app)
                    this.recentQueries.app = new RecentQueriesList(this.appName);
                if (!this.recentQueries.user)
                    this.recentQueries.user = new RecentQueriesList("currentuser");
            }
            console.log("recentQueriesService.load success - data: ", response);
            return response;
        }, (error) => {
            console.log("recentQueriesService.load failure - error: ", error);
        });
        return observable;
    }
    // No save/patch action for the recent queries: MRU lists are generated server side when the query is executed.
    appRecentQueries() {
        if (this.recentQueries && this.recentQueries.app && this.recentQueries.app.queries)
            return this.recentQueries.app.queries;
        else {
            return [];
        }
    }
    appRecentQueriesLength() {
        if (this.recentQueries && this.recentQueries.app && this.recentQueries.app.queries)
            return this.recentQueries.app.queries.length;
        else
            return 0;
    }
    userRecentQueries() {
        if (this.recentQueries && this.recentQueries.user && this.recentQueries.user.queries)
            return this.recentQueries.user.queries;
        else {
            return [];
        }
    }
    userRecentQueriesLength() {
        if (this.recentQueries && this.recentQueries.user && this.recentQueries.user.queries)
            return this.recentQueries.user.queries.length;
        else
            return 0;
    }
}
RecentQueriesWebService.ɵfac = function RecentQueriesWebService_Factory(t) { return new (t || RecentQueriesWebService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_start_config_web_service__WEBPACK_IMPORTED_MODULE_2__["START_CONFIG"]), _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_http_client__WEBPACK_IMPORTED_MODULE_4__["SqHttpClient"])); };
RecentQueriesWebService.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: RecentQueriesWebService, factory: RecentQueriesWebService.ɵfac, providedIn: "root" });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](RecentQueriesWebService, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: "root"
            }]
    }], function () { return [{ type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [_start_config_web_service__WEBPACK_IMPORTED_MODULE_2__["START_CONFIG"]]
            }] }, { type: _http_client__WEBPACK_IMPORTED_MODULE_4__["SqHttpClient"] }]; }, null); })();


/***/ }),

/***/ "yte1":
/*!********************************************!*\
  !*** ../components/advanced/public-api.ts ***!
  \********************************************/
/*! exports provided: AdvancedService, BsAdvancedFormCheckbox, BsAdvancedFormInput, BsAdvancedFormMultiInput, BsAdvancedFormRange, BsAdvancedFormSelect, BsAdvancedModule, BsSelectComponent, DATE_PICKER_VALUE_ACCESSOR, BsDatePicker, DATE_RANGE_PICKER_VALUE_ACCESSOR, BsDateRangePicker, BsAdvancedFormAutocomplete, BsAdvancedFormValidation, BsAdvancedFormAutocompleteMultiInput, enAdvanced, frAdvanced, deAdvanced */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _advanced_service__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./advanced.service */ "8nAe");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AdvancedService", function() { return _advanced_service__WEBPACK_IMPORTED_MODULE_0__["AdvancedService"]; });

/* harmony import */ var _bootstrap_index__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./bootstrap/index */ "Am17");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsAdvancedFormCheckbox", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_1__["BsAdvancedFormCheckbox"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsAdvancedFormInput", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_1__["BsAdvancedFormInput"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsAdvancedFormMultiInput", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_1__["BsAdvancedFormMultiInput"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsAdvancedFormRange", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_1__["BsAdvancedFormRange"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsAdvancedFormSelect", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_1__["BsAdvancedFormSelect"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsAdvancedModule", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_1__["BsAdvancedModule"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsSelectComponent", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_1__["BsSelectComponent"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "DATE_PICKER_VALUE_ACCESSOR", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_1__["DATE_PICKER_VALUE_ACCESSOR"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsDatePicker", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_1__["BsDatePicker"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "DATE_RANGE_PICKER_VALUE_ACCESSOR", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_1__["DATE_RANGE_PICKER_VALUE_ACCESSOR"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsDateRangePicker", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_1__["BsDateRangePicker"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsAdvancedFormAutocomplete", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_1__["BsAdvancedFormAutocomplete"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsAdvancedFormValidation", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_1__["BsAdvancedFormValidation"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "BsAdvancedFormAutocompleteMultiInput", function() { return _bootstrap_index__WEBPACK_IMPORTED_MODULE_1__["BsAdvancedFormAutocompleteMultiInput"]; });

/* harmony import */ var _messages_index__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./messages/index */ "/6aK");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "enAdvanced", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_2__["enAdvanced"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "frAdvanced", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_2__["frAdvanced"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "deAdvanced", function() { return _messages_index__WEBPACK_IMPORTED_MODULE_2__["deAdvanced"]; });






/***/ }),

/***/ "ywvT":
/*!*****************************************!*\
  !*** ../components/utils/public-api.ts ***!
  \*****************************************/
/*! exports provided: Autofocus, ClickOutside, MediaIf, ScrollIntoView, FocusKeyListDirective, FocusKeyListItemDirective, ResizeEventDirective, StickyComponent, TooltipDirective, TooltipComponent, DatePipe, ExprPipe, MemorySizePipe, MomentPipe, NumberPipe, RelativeTimePipe, TimePipe, ValuePipe, defaultScreenSizeRules, UtilsModule, SCREEN_SIZE_RULES, UIService, VoiceRecognitionService, enUtils, frUtils, deUtils */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _directives_autofocus__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./directives/autofocus */ "1ak2");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Autofocus", function() { return _directives_autofocus__WEBPACK_IMPORTED_MODULE_0__["Autofocus"]; });

/* harmony import */ var _directives_click_outside__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./directives/click-outside */ "VDPn");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ClickOutside", function() { return _directives_click_outside__WEBPACK_IMPORTED_MODULE_1__["ClickOutside"]; });

/* harmony import */ var _directives_media_if__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./directives/media-if */ "nqav");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MediaIf", function() { return _directives_media_if__WEBPACK_IMPORTED_MODULE_2__["MediaIf"]; });

/* harmony import */ var _directives_scroll_into_view__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./directives/scroll-into-view */ "Sc2F");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ScrollIntoView", function() { return _directives_scroll_into_view__WEBPACK_IMPORTED_MODULE_3__["ScrollIntoView"]; });

/* harmony import */ var _directives_focus_key_list_directive__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./directives/focus-key-list.directive */ "Cef8");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "FocusKeyListDirective", function() { return _directives_focus_key_list_directive__WEBPACK_IMPORTED_MODULE_4__["FocusKeyListDirective"]; });

/* harmony import */ var _directives_focus_key_list_item_directive__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./directives/focus-key-list-item.directive */ "1q26");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "FocusKeyListItemDirective", function() { return _directives_focus_key_list_item_directive__WEBPACK_IMPORTED_MODULE_5__["FocusKeyListItemDirective"]; });

/* harmony import */ var _directives_resize_event_directive__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./directives/resize-event.directive */ "ambZ");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ResizeEventDirective", function() { return _directives_resize_event_directive__WEBPACK_IMPORTED_MODULE_6__["ResizeEventDirective"]; });

/* harmony import */ var _directives_sticky__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./directives/sticky */ "n1yq");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "StickyComponent", function() { return _directives_sticky__WEBPACK_IMPORTED_MODULE_7__["StickyComponent"]; });

/* harmony import */ var _directives_tooltip_tooltip_directive__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./directives/tooltip/tooltip.directive */ "v6qE");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TooltipDirective", function() { return _directives_tooltip_tooltip_directive__WEBPACK_IMPORTED_MODULE_8__["TooltipDirective"]; });

/* harmony import */ var _directives_tooltip_tooltip_component__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./directives/tooltip/tooltip.component */ "LmqU");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TooltipComponent", function() { return _directives_tooltip_tooltip_component__WEBPACK_IMPORTED_MODULE_9__["TooltipComponent"]; });

/* harmony import */ var _pipes_date_pipe__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./pipes/date-pipe */ "ZWTm");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "DatePipe", function() { return _pipes_date_pipe__WEBPACK_IMPORTED_MODULE_10__["DatePipe"]; });

/* harmony import */ var _pipes_expr_pipe__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./pipes/expr-pipe */ "MaBy");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ExprPipe", function() { return _pipes_expr_pipe__WEBPACK_IMPORTED_MODULE_11__["ExprPipe"]; });

/* harmony import */ var _pipes_memory_size_pipe__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./pipes/memory-size-pipe */ "+RqA");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MemorySizePipe", function() { return _pipes_memory_size_pipe__WEBPACK_IMPORTED_MODULE_12__["MemorySizePipe"]; });

/* harmony import */ var _pipes_moment_pipe__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./pipes/moment-pipe */ "VIZk");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "MomentPipe", function() { return _pipes_moment_pipe__WEBPACK_IMPORTED_MODULE_13__["MomentPipe"]; });

/* harmony import */ var _pipes_number_pipe__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./pipes/number-pipe */ "FbeZ");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "NumberPipe", function() { return _pipes_number_pipe__WEBPACK_IMPORTED_MODULE_14__["NumberPipe"]; });

/* harmony import */ var _pipes_relative_time_pipe__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./pipes/relative-time-pipe */ "Pkfx");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "RelativeTimePipe", function() { return _pipes_relative_time_pipe__WEBPACK_IMPORTED_MODULE_15__["RelativeTimePipe"]; });

/* harmony import */ var _pipes_time_pipe__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./pipes/time-pipe */ "d8oQ");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "TimePipe", function() { return _pipes_time_pipe__WEBPACK_IMPORTED_MODULE_16__["TimePipe"]; });

/* harmony import */ var _pipes_value_pipe__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./pipes/value-pipe */ "7U+I");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ValuePipe", function() { return _pipes_value_pipe__WEBPACK_IMPORTED_MODULE_17__["ValuePipe"]; });

/* harmony import */ var _utils_module__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./utils.module */ "KZka");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "defaultScreenSizeRules", function() { return _utils_module__WEBPACK_IMPORTED_MODULE_18__["defaultScreenSizeRules"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "UtilsModule", function() { return _utils_module__WEBPACK_IMPORTED_MODULE_18__["UtilsModule"]; });

/* harmony import */ var _ui_service__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./ui.service */ "ijWO");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "SCREEN_SIZE_RULES", function() { return _ui_service__WEBPACK_IMPORTED_MODULE_19__["SCREEN_SIZE_RULES"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "UIService", function() { return _ui_service__WEBPACK_IMPORTED_MODULE_19__["UIService"]; });

/* harmony import */ var _voice_recognition_voice_recongnition_service__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./voice-recognition/voice-recongnition.service */ "KH29");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "VoiceRecognitionService", function() { return _voice_recognition_voice_recongnition_service__WEBPACK_IMPORTED_MODULE_20__["VoiceRecognitionService"]; });

/* harmony import */ var _messages__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./messages */ "FRj5");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "enUtils", function() { return _messages__WEBPACK_IMPORTED_MODULE_21__["enUtils"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "frUtils", function() { return _messages__WEBPACK_IMPORTED_MODULE_21__["frUtils"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "deUtils", function() { return _messages__WEBPACK_IMPORTED_MODULE_21__["deUtils"]; });

























/***/ }),

/***/ "z+Zl":
/*!*******************************************!*\
  !*** ../core/web-services/query/query.ts ***!
  \*******************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);



/***/ }),

/***/ "zUnb":
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var hammerjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! hammerjs */ "9HG0");
/* harmony import */ var hammerjs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(hammerjs__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./environments/environment */ "AytR");
/* harmony import */ var _app_app_module__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/app.module */ "ZAI4");
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/platform-browser */ "e4iD");





if (_environments_environment__WEBPACK_IMPORTED_MODULE_2__["environment"].production) {
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["enableProdMode"])();
}
_angular_platform_browser__WEBPACK_IMPORTED_MODULE_4__["platformBrowser"]().bootstrapModule(_app_app_module__WEBPACK_IMPORTED_MODULE_3__["AppModule"], { preserveWhitespaces: true })
    .catch(err => console.error(err));


/***/ }),

/***/ "zhgx":
/*!***************************************************************************************!*\
  !*** ../components/metadata/metadata-access-lists-item/metadata-access-lists-item.ts ***!
  \***************************************************************************************/
/*! exports provided: MetadataAccessListsItem */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MetadataAccessListsItem", function() { return MetadataAccessListsItem; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _metadata_access_lists_item_single_access_list_metadata_access_lists_item_single_access_list__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../metadata-access-lists-item-single-access-list/metadata-access-lists-item-single-access-list */ "PrpF");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../core/intl/message.pipe */ "X1Kh");





function MetadataAccessListsItem_ng_container_0_div_1_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "div", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](4, "sq-metadata-access-lists-item-single-access-list", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const i_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("title", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 4, "msg#metadata.accessLists.authorizedListTitleText"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("authorized", true)("index", i_r1)("accessList", ctx_r2.accessLists.authorizedLists[i_r1]);
} }
function MetadataAccessListsItem_ng_container_0_div_2_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](1, "div", 6);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "div", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelement"](4, "sq-metadata-access-lists-item-single-access-list", 5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const i_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]().$implicit;
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpropertyInterpolate"]("title", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 4, "msg#metadata.accessLists.deniedListTitleText"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("authorized", false)("index", i_r1)("accessList", ctx_r3.accessLists.deniedLists[i_r1]);
} }
function MetadataAccessListsItem_ng_container_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, MetadataAccessListsItem_ng_container_0_div_1_Template, 5, 6, "div", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, MetadataAccessListsItem_ng_container_0_div_2_Template, 5, 6, "div", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const i_r1 = ctx.$implicit;
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r0.accessLists.authorizedLists[i_r1]);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", ctx_r0.accessLists.deniedLists[i_r1]);
} }
class MetadataAccessListsItem {
}
MetadataAccessListsItem.ɵfac = function MetadataAccessListsItem_Factory(t) { return new (t || MetadataAccessListsItem)(); };
MetadataAccessListsItem.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: MetadataAccessListsItem, selectors: [["sq-metadata-access-lists-item"]], inputs: { accessLists: "accessLists" }, decls: 1, vars: 1, consts: [[4, "ngFor", "ngForOf"], ["class", "accessList", 4, "ngIf"], [1, "accessList"], [1, "accessListIcon", "authorizedListIcon", "far", "fa-check-circle", 3, "title"], [1, "accessListValue"], [3, "authorized", "index", "accessList"], [1, "accessListIcon", "deniedListIcon", "fas", "fa-minus-circle", 3, "title"]], template: function MetadataAccessListsItem_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, MetadataAccessListsItem_ng_container_0_Template, 3, 2, "ng-container", 0);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngForOf", ctx.accessLists.accessListIndices);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["NgForOf"], _angular_common__WEBPACK_IMPORTED_MODULE_1__["NgIf"], _metadata_access_lists_item_single_access_list_metadata_access_lists_item_single_access_list__WEBPACK_IMPORTED_MODULE_2__["MetadataAccessListsItemSingleAccessList"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_3__["MessagePipe"]], styles: [".accessList[_ngcontent-%COMP%] {\n    display: table-row;\n}\n\n.accessListIcon[_ngcontent-%COMP%], .accessListValue[_ngcontent-%COMP%] {\n    display: table-cell;\n}\n\n.accessListValue[_ngcontent-%COMP%] {\n    width: 99%;\n    padding-left: 0.5em;\n}\n\n.authorizedListIcon[_ngcontent-%COMP%] {\n    color: green;\n}\n\n.deniedListIcon[_ngcontent-%COMP%] {\n    color: red;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2plY3RzL2NvbXBvbmVudHMvbWV0YWRhdGEvbWV0YWRhdGEtYWNjZXNzLWxpc3RzLWl0ZW0vbWV0YWRhdGEtYWNjZXNzLWxpc3RzLWl0ZW0uY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksVUFBVTtJQUNWLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLFlBQVk7QUFDaEI7O0FBRUE7SUFDSSxVQUFVO0FBQ2QiLCJmaWxlIjoicHJvamVjdHMvY29tcG9uZW50cy9tZXRhZGF0YS9tZXRhZGF0YS1hY2Nlc3MtbGlzdHMtaXRlbS9tZXRhZGF0YS1hY2Nlc3MtbGlzdHMtaXRlbS5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYWNjZXNzTGlzdCB7XG4gICAgZGlzcGxheTogdGFibGUtcm93O1xufVxuXG4uYWNjZXNzTGlzdEljb24sIC5hY2Nlc3NMaXN0VmFsdWUge1xuICAgIGRpc3BsYXk6IHRhYmxlLWNlbGw7XG59XG5cbi5hY2Nlc3NMaXN0VmFsdWUge1xuICAgIHdpZHRoOiA5OSU7XG4gICAgcGFkZGluZy1sZWZ0OiAwLjVlbTtcbn1cblxuLmF1dGhvcml6ZWRMaXN0SWNvbiB7XG4gICAgY29sb3I6IGdyZWVuO1xufVxuXG4uZGVuaWVkTGlzdEljb24ge1xuICAgIGNvbG9yOiByZWQ7XG59Il19 */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](MetadataAccessListsItem, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-metadata-access-lists-item",
                templateUrl: "./metadata-access-lists-item.html",
                styleUrls: ["./metadata-access-lists-item.css"]
            }]
    }], null, { accessLists: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "zj6v":
/*!*******************************************************************!*\
  !*** ../components/search/bootstrap/did-you-mean/did-you-mean.ts ***!
  \*******************************************************************/
/*! exports provided: BsDidYouMean */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BsDidYouMean", function() { return BsDidYouMean; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @sinequa/core/web-services */ "cIYa");
/* harmony import */ var _search_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../search.service */ "TJtf");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../core/intl/message.pipe */ "X1Kh");







function BsDidYouMean_div_0_ng_container_1_Template(rf, ctx) { if (rf & 1) {
    const _r5 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "a", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsDidYouMean_div_0_ng_container_1_Template_a_click_3_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r5); const ctx_r4 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r4.selectCorrected(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](6, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r1 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 3, "msg#didYouMean.dymonlyBeforeCorrected"), "");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r1.item.corrected);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"]("", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](6, 5, "msg#didYouMean.dymonlyAfterCorrected"), " ");
} }
function BsDidYouMean_div_0_ng_container_2_Template(rf, ctx) { if (rf & 1) {
    const _r7 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "a", 3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsDidYouMean_div_0_ng_container_2_Template_a_click_3_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r7); const ctx_r6 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r6.selectCorrected(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](6, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "a", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsDidYouMean_div_0_ng_container_2_Template_a_click_7_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r7); const ctx_r8 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r8.selectOriginal(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](10, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r2 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 5, "msg#didYouMean.correctBeforeCorrected"), "");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r2.item.corrected);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](6, 7, "msg#didYouMean.correctBeforeOriginal"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r2.item.original);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"]("", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](10, 9, "msg#didYouMean.correctAfterOriginal"), " ");
} }
function BsDidYouMean_div_0_ng_container_3_Template(rf, ctx) { if (rf & 1) {
    const _r10 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵgetCurrentView"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerStart"](0);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](2, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](3, "a", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsDidYouMean_div_0_ng_container_3_Template_a_click_3_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r10); const ctx_r9 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r9.selectOriginal(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](5);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](6, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](7, "a", 4);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵlistener"]("click", function BsDidYouMean_div_0_ng_container_3_Template_a_click_7_listener() { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵrestoreView"](_r10); const ctx_r11 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2); return ctx_r11.selectCorrected(); });
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](8);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtext"](9);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipe"](10, "sqMessage");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementContainerEnd"]();
} if (rf & 2) {
    const ctx_r3 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"](2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"](" ", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](2, 5, "msg#didYouMean.smartBeforeOriginal"), "");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r3.item.original);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](6, 7, "msg#didYouMean.smartBeforeCorrected"));
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](3);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate"](ctx_r3.item.corrected);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtextInterpolate1"]("", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵpipeBind1"](10, 9, "msg#didYouMean.smartAfterCorrected"), " ");
} }
function BsDidYouMean_div_0_Template(rf, ctx) { if (rf & 1) {
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementStart"](0, "div", 1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](1, BsDidYouMean_div_0_ng_container_1_Template, 7, 7, "ng-container", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](2, BsDidYouMean_div_0_ng_container_2_Template, 11, 11, "ng-container", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](3, BsDidYouMean_div_0_ng_container_3_Template, 11, 11, "ng-container", 2);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵelementEnd"]();
} if (rf & 2) {
    const ctx_r0 = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵnextContext"]();
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵclassMapInterpolate1"]("sq-did-you-mean sq-text ", "sq-" + ctx_r0.context, "");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngSwitch", ctx_r0.results.didYouMean.spellingCorrectionMode);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngSwitchCase", "DYMOnly");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngSwitchCase", "Correct");
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵadvance"](1);
    _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngSwitchCase", "Smart");
} }
class BsDidYouMean {
    constructor(searchService) {
        this.searchService = searchService;
        this.context = "search";
    }
    handleResults() {
        this.item = undefined;
        if (this.results && this.results.didYouMean) {
            if (this.context === "search") {
                const item = this.results.didYouMean.text;
                if (item && item.corrected) {
                    this.item = item;
                }
            }
            else {
                const refineSelect = this.searchService.query.findSelect("refine");
                if (refineSelect && _sinequa_core_base__WEBPACK_IMPORTED_MODULE_1__["Utils"].startsWith(refineSelect.expression, "refine:") && !!this.results.didYouMean.refine) {
                    const dymItem = this.results.didYouMean.refine[this.results.didYouMean.refine.length - 1];
                    if (dymItem.corrected) {
                        this.item = dymItem;
                    }
                }
            }
        }
    }
    ngOnChanges(changes) {
        if (!!changes["results"]) {
            this.handleResults();
        }
    }
    selectOriginal() {
        if (this.item) {
            this.searchService.didYouMean(this.item.original, this.context, _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_2__["DidYouMeanKind"].Original);
        }
        return false;
    }
    selectCorrected() {
        if (this.item) {
            this.searchService.didYouMean(this.item.corrected, this.context, _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_2__["DidYouMeanKind"].Corrected);
        }
        return false;
    }
}
BsDidYouMean.ɵfac = function BsDidYouMean_Factory(t) { return new (t || BsDidYouMean)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdirectiveInject"](_search_service__WEBPACK_IMPORTED_MODULE_3__["SearchService"])); };
BsDidYouMean.ɵcmp = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineComponent"]({ type: BsDidYouMean, selectors: [["sq-did-you-mean"]], inputs: { results: "results", context: "context" }, features: [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵNgOnChangesFeature"]], decls: 1, vars: 1, consts: [[3, "class", "ngSwitch", 4, "ngIf"], [3, "ngSwitch"], [4, "ngSwitchCase"], ["href", "#", 1, "sq-did-you-mean-corrected", 3, "click"], ["href", "#", 1, "sq-did-you-mean-original", 3, "click"]], template: function BsDidYouMean_Template(rf, ctx) { if (rf & 1) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵtemplate"](0, BsDidYouMean_div_0_Template, 4, 7, "div", 0);
    } if (rf & 2) {
        _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵproperty"]("ngIf", !!ctx.item);
    } }, directives: [_angular_common__WEBPACK_IMPORTED_MODULE_4__["NgIf"], _angular_common__WEBPACK_IMPORTED_MODULE_4__["NgSwitch"], _angular_common__WEBPACK_IMPORTED_MODULE_4__["NgSwitchCase"]], pipes: [_core_intl_message_pipe__WEBPACK_IMPORTED_MODULE_5__["MessagePipe"]], styles: [".sq-did-you-mean[_ngcontent-%COMP%]   .sq-did-you-mean-original[_ngcontent-%COMP%], .sq-did-you-mean[_ngcontent-%COMP%]   .sq-did-you-mean-corrected[_ngcontent-%COMP%] {\n    font-style: italic;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2plY3RzL2NvbXBvbmVudHMvc2VhcmNoL2Jvb3RzdHJhcC9kaWQteW91LW1lYW4vZGlkLXlvdS1tZWFuLmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7SUFFSSxrQkFBa0I7QUFDdEIiLCJmaWxlIjoicHJvamVjdHMvY29tcG9uZW50cy9zZWFyY2gvYm9vdHN0cmFwL2RpZC15b3UtbWVhbi9kaWQteW91LW1lYW4uY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnNxLWRpZC15b3UtbWVhbiAuc3EtZGlkLXlvdS1tZWFuLW9yaWdpbmFsLFxuLnNxLWRpZC15b3UtbWVhbiAuc3EtZGlkLXlvdS1tZWFuLWNvcnJlY3RlZCB7XG4gICAgZm9udC1zdHlsZTogaXRhbGljO1xufSJdfQ== */"] });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](BsDidYouMean, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"],
        args: [{
                selector: "sq-did-you-mean",
                templateUrl: "./did-you-mean.html",
                styleUrls: ["./did-you-mean.css"]
            }]
    }], function () { return [{ type: _search_service__WEBPACK_IMPORTED_MODULE_3__["SearchService"] }]; }, { results: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }], context: [{
            type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"]
        }] }); })();


/***/ }),

/***/ "zkag":
/*!*************************************!*\
  !*** ../core/login/login.module.ts ***!
  \*************************************/
/*! exports provided: AuthConfig, LoginModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthConfig", function() { return AuthConfig; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LoginModule", function() { return LoginModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "EM62");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "2kYt");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "nIj0");
/* harmony import */ var ng2_ui_auth__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ng2-ui-auth */ "ygqg");
/* harmony import */ var _angular_cdk_a11y__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/cdk/a11y */ "sg/T");
/* harmony import */ var _angular_cdk_overlay__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/cdk/overlay */ "HYj3");
/* harmony import */ var _authentication_oauth_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./authentication-oauth.service */ "4Oqr");
/* harmony import */ var _authentication_popup_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./authentication-popup.service */ "ZFuU");
/* harmony import */ var _sinequa_core_base__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @sinequa/core/base */ "QseT");
/* harmony import */ var _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @sinequa/core/web-services */ "cIYa");
/* harmony import */ var _sinequa_core_validation__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @sinequa/core/validation */ "BovW");
/* harmony import */ var _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @sinequa/core/intl */ "EfqX");
/* harmony import */ var _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @sinequa/core/modal */ "vMGo");
/* harmony import */ var _sinequa_core_notification__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @sinequa/core/notification */ "mkLw");
/* harmony import */ var _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @sinequa/core/app-utils */ "SBPP");
/* harmony import */ var _login_service__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./login.service */ "Kghj");
/* harmony import */ var _login_component__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./login.component */ "aN6H");
/* harmony import */ var _module_providers__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./module.providers */ "nOge");
/* harmony import */ var _modal_modal_module__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../modal/modal.module */ "E2wZ");








// Sinequa modules







// Login






/**
 * Configuration for the ng2-ui-auth library
 */
class AuthConfig {
    constructor(startConfig) {
        this.storageType = "memory";
        this.providers = startConfig.providers || {};
    }
}
AuthConfig.ɵfac = function AuthConfig_Factory(t) { return new (t || AuthConfig)(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵinject"](_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_9__["START_CONFIG"])); };
AuthConfig.ɵprov = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjectable"]({ token: AuthConfig, factory: AuthConfig.ɵfac, providedIn: "root" });
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](AuthConfig, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"],
        args: [{
                providedIn: "root"
            }]
    }], function () { return [{ type: undefined, decorators: [{
                type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"],
                args: [_sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_9__["START_CONFIG"]]
            }] }]; }, null); })();
/**
 * This module provides support for user authentication in the {@link AuthenticationService}. This authentication can be
 * automatic (OAuth/SAML), if configured in the Sinequa administration, or manual where the user name and password are
 * entered in a modal dialog box and transmitted in clear text. There is also support for the ng2-ui-auth library where the
 * authentication process occurs in a browser popup window. Authentication is instigated by the handling of HTTP 401 errors
 * in an `HttpInterceptor` so all web service calls requiring authentication are automatically protected. This module will
 * not be used for authentication when the web server is configured for Windows authentication.
 *
 * A higher level {@link LoginService} groups the successful retrieval of the current `application configuration` ({@link AppService}),
 * `principal` ({@link PrincipalWebService}), and `user settings` ({@link UserSettingsWebService}) all of which require the user
 * to be authenticated. This can be used as a "gatekeeper" to protect access to the main, often routed, component(s).
 *
 * The {@link LoginInterceptor} in this module must be registered using `HTTP_INTERCEPTORS` in your app module.
 */
class LoginModule {
    static forRoot(loginModal = _login_component__WEBPACK_IMPORTED_MODULE_16__["Login"]) {
        return {
            ngModule: LoginModule,
            providers: [
                // Login
                { provide: _login_service__WEBPACK_IMPORTED_MODULE_15__["MODAL_LOGIN"], useValue: loginModal },
            ]
        };
    }
}
LoginModule.ɵmod = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineNgModule"]({ type: LoginModule });
LoginModule.ɵinj = _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵdefineInjector"]({ factory: function LoginModule_Factory(t) { return new (t || LoginModule)(); }, providers: [
        // Auth module dependencies
        { provide: ng2_ui_auth__WEBPACK_IMPORTED_MODULE_3__["CONFIG_OPTIONS"], useClass: AuthConfig },
        { provide: ng2_ui_auth__WEBPACK_IMPORTED_MODULE_3__["OauthService"], useExisting: _authentication_oauth_service__WEBPACK_IMPORTED_MODULE_6__["AuthenticationOauthService"] },
        { provide: ng2_ui_auth__WEBPACK_IMPORTED_MODULE_3__["PopupService"], useExisting: _authentication_popup_service__WEBPACK_IMPORTED_MODULE_7__["AuthenticationPopupService"] },
        ..._module_providers__WEBPACK_IMPORTED_MODULE_17__["LOGIN_MODULE_PROVIDERS"]
    ], imports: [[
            _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_2__["ReactiveFormsModule"],
            ng2_ui_auth__WEBPACK_IMPORTED_MODULE_3__["Ng2UiAuthModule"].forRoot(undefined, false),
            _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_12__["ModalModule"].forRoot(),
            // CDK
            _angular_cdk_overlay__WEBPACK_IMPORTED_MODULE_5__["OverlayModule"],
            _angular_cdk_a11y__WEBPACK_IMPORTED_MODULE_4__["A11yModule"],
            // Sinequa modules
            _sinequa_core_base__WEBPACK_IMPORTED_MODULE_8__["BaseModule"],
            _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_14__["AppUtilsModule"],
            _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_9__["WebServicesModule"],
            _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_11__["IntlModule"],
            _sinequa_core_validation__WEBPACK_IMPORTED_MODULE_10__["ValidationModule"],
            _sinequa_core_notification__WEBPACK_IMPORTED_MODULE_13__["NotificationModule"]
        ]] });
(function () { (typeof ngJitMode === "undefined" || ngJitMode) && _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵɵsetNgModuleScope"](LoginModule, { declarations: [_login_component__WEBPACK_IMPORTED_MODULE_16__["Login"]], imports: [_angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
        _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"],
        _angular_forms__WEBPACK_IMPORTED_MODULE_2__["ReactiveFormsModule"], ng2_ui_auth__WEBPACK_IMPORTED_MODULE_3__["Ng2UiAuthModule"], _modal_modal_module__WEBPACK_IMPORTED_MODULE_18__["ModalModule"], 
        // CDK
        _angular_cdk_overlay__WEBPACK_IMPORTED_MODULE_5__["OverlayModule"],
        _angular_cdk_a11y__WEBPACK_IMPORTED_MODULE_4__["A11yModule"],
        // Sinequa modules
        _sinequa_core_base__WEBPACK_IMPORTED_MODULE_8__["BaseModule"],
        _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_14__["AppUtilsModule"],
        _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_9__["WebServicesModule"],
        _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_11__["IntlModule"],
        _sinequa_core_validation__WEBPACK_IMPORTED_MODULE_10__["ValidationModule"],
        _sinequa_core_notification__WEBPACK_IMPORTED_MODULE_13__["NotificationModule"]] }); })();
/*@__PURE__*/ (function () { _angular_core__WEBPACK_IMPORTED_MODULE_0__["ɵsetClassMetadata"](LoginModule, [{
        type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"],
        args: [{
                imports: [
                    _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
                    _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"],
                    _angular_forms__WEBPACK_IMPORTED_MODULE_2__["ReactiveFormsModule"],
                    ng2_ui_auth__WEBPACK_IMPORTED_MODULE_3__["Ng2UiAuthModule"].forRoot(undefined, false),
                    _sinequa_core_modal__WEBPACK_IMPORTED_MODULE_12__["ModalModule"].forRoot(),
                    // CDK
                    _angular_cdk_overlay__WEBPACK_IMPORTED_MODULE_5__["OverlayModule"],
                    _angular_cdk_a11y__WEBPACK_IMPORTED_MODULE_4__["A11yModule"],
                    // Sinequa modules
                    _sinequa_core_base__WEBPACK_IMPORTED_MODULE_8__["BaseModule"],
                    _sinequa_core_app_utils__WEBPACK_IMPORTED_MODULE_14__["AppUtilsModule"],
                    _sinequa_core_web_services__WEBPACK_IMPORTED_MODULE_9__["WebServicesModule"],
                    _sinequa_core_intl__WEBPACK_IMPORTED_MODULE_11__["IntlModule"],
                    _sinequa_core_validation__WEBPACK_IMPORTED_MODULE_10__["ValidationModule"],
                    _sinequa_core_notification__WEBPACK_IMPORTED_MODULE_13__["NotificationModule"]
                ],
                declarations: [
                    _login_component__WEBPACK_IMPORTED_MODULE_16__["Login"],
                ],
                exports: [],
                providers: [
                    // Auth module dependencies
                    { provide: ng2_ui_auth__WEBPACK_IMPORTED_MODULE_3__["CONFIG_OPTIONS"], useClass: AuthConfig },
                    { provide: ng2_ui_auth__WEBPACK_IMPORTED_MODULE_3__["OauthService"], useExisting: _authentication_oauth_service__WEBPACK_IMPORTED_MODULE_6__["AuthenticationOauthService"] },
                    { provide: ng2_ui_auth__WEBPACK_IMPORTED_MODULE_3__["PopupService"], useExisting: _authentication_popup_service__WEBPACK_IMPORTED_MODULE_7__["AuthenticationPopupService"] },
                    ..._module_providers__WEBPACK_IMPORTED_MODULE_17__["LOGIN_MODULE_PROVIDERS"]
                ]
            }]
    }], null, null); })();


/***/ }),

/***/ "zn8P":
/*!******************************************************!*\
  !*** ./$$_lazy_route_resource lazy namespace object ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function webpackEmptyAsyncContext(req) {
	// Here Promise.resolve().then() is used instead of new Promise() to prevent
	// uncaught exception popping up in devtools
	return Promise.resolve().then(function() {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	});
}
webpackEmptyAsyncContext.keys = function() { return []; };
webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
module.exports = webpackEmptyAsyncContext;
webpackEmptyAsyncContext.id = "zn8P";

/***/ }),

/***/ "zp34":
/*!***************************************!*\
  !*** ../core/app-utils/public-api.ts ***!
  \***************************************/
/*! exports provided: Expr, ExprParserOperator, ExprParser, ExprBuilder, advancedFacetPrefix, Query, AppService, FormatService, AuditInterceptor, AppUtilsModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _query_expr_parser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./query/expr-parser */ "PyBi");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Expr", function() { return _query_expr_parser__WEBPACK_IMPORTED_MODULE_0__["Expr"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ExprParserOperator", function() { return _query_expr_parser__WEBPACK_IMPORTED_MODULE_0__["ExprParserOperator"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ExprParser", function() { return _query_expr_parser__WEBPACK_IMPORTED_MODULE_0__["ExprParser"]; });

/* harmony import */ var _query_expr_builder__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./query/expr-builder */ "7Dk4");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "ExprBuilder", function() { return _query_expr_builder__WEBPACK_IMPORTED_MODULE_1__["ExprBuilder"]; });

/* harmony import */ var _query_query__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./query/query */ "kO/h");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "advancedFacetPrefix", function() { return _query_query__WEBPACK_IMPORTED_MODULE_2__["advancedFacetPrefix"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "Query", function() { return _query_query__WEBPACK_IMPORTED_MODULE_2__["Query"]; });

/* harmony import */ var _app_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app.service */ "qdRX");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AppService", function() { return _app_service__WEBPACK_IMPORTED_MODULE_3__["AppService"]; });

/* harmony import */ var _format_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./format.service */ "X8K3");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "FormatService", function() { return _format_service__WEBPACK_IMPORTED_MODULE_4__["FormatService"]; });

/* harmony import */ var _audit_interceptor__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./audit.interceptor */ "SV+Y");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AuditInterceptor", function() { return _audit_interceptor__WEBPACK_IMPORTED_MODULE_5__["AuditInterceptor"]; });

/* harmony import */ var _app_utils_module__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./app-utils.module */ "FMre");
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "AppUtilsModule", function() { return _app_utils_module__WEBPACK_IMPORTED_MODULE_6__["AppUtilsModule"]; });










/***/ })

},[[0,"runtime","vendor"]]]);
//# sourceMappingURL=main-es2015.js.map