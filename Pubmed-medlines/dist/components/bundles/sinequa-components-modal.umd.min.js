!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common"),require("@angular/forms"),require("@sinequa/core/modal"),require("@sinequa/core/login"),require("@sinequa/core/intl"),require("@sinequa/core/validation"),require("@sinequa/components/utils"),require("@angular/cdk/a11y"),require("@sinequa/core/web-services"),require("@sinequa/core/base"),require("@angular/platform-browser"),require("rxjs/operators"),require("@angular/cdk/overlay")):"function"==typeof define&&define.amd?define("@sinequa/components/modal",["exports","@angular/core","@angular/common","@angular/forms","@sinequa/core/modal","@sinequa/core/login","@sinequa/core/intl","@sinequa/core/validation","@sinequa/components/utils","@angular/cdk/a11y","@sinequa/core/web-services","@sinequa/core/base","@angular/platform-browser","rxjs/operators","@angular/cdk/overlay"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self).sinequa=e.sinequa||{},e.sinequa.components=e.sinequa.components||{},e.sinequa.components.modal={}),e.ng.core,e.ng.common,e.ng.forms,e.sinequa.core.modal,e.sinequa.core.login,e.sinequa.core.intl,e.sinequa.core.validation,e.sinequa.components.utils,e.ng.cdk.a11y,e.sinequa.core["web-services"],e.sinequa.core.base,e.ng.platformBrowser,e.rxjs.operators,e.ng.cdk.overlay)}(this,(function(e,t,n,o,r,i,a,s,l,d,c,u,m,p,f){"use strict";function g(e,n){if(1&e&&(t.ɵɵelementStart(0,"h5",3),t.ɵɵtext(1),t.ɵɵpipe(2,"sqMessage"),t.ɵɵelementEnd()),2&e){var o=t.ɵɵnextContext();t.ɵɵadvance(1),t.ɵɵtextInterpolate(t.ɵɵpipeBind1(2,1,o.title))}}var v=function(){function e(e,t){this.modalRef=e,this.injector=t}return Object.defineProperty(e.prototype,"modalService",{get:function(){return this.injector.get(r.ModalService)},enumerable:!1,configurable:!0}),e.prototype.cancel=function(){this.modalRef.close(-2)},e}();v.ɵfac=function(e){return new(e||v)(t.ɵɵdirectiveInject(r.ModalRef),t.ɵɵdirectiveInject(t.Injector))},v.ɵcmp=t.ɵɵdefineComponent({type:v,selectors:[["sq-modal-header"]],hostVars:2,hostBindings:function(e,n){2&e&&t.ɵɵclassProp("sq-modal-header",!0)},inputs:{title:"title"},ngContentSelectors:["*"],decls:5,vars:1,consts:[[1,"modal-header"],["class","modal-title",4,"ngIf"],["type","button","data-dismiss","modal","aria-hidden","true",1,"close",3,"click"],[1,"modal-title"]],template:function(e,n){1&e&&(t.ɵɵprojectionDef(),t.ɵɵelementStart(0,"div",0),t.ɵɵtemplate(1,g,3,3,"h5",1),t.ɵɵprojection(2),t.ɵɵelementStart(3,"button",2),t.ɵɵlistener("click",(function(){return n.cancel()})),t.ɵɵtext(4,"×"),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(1),t.ɵɵproperty("ngIf",n.title))},directives:[n.NgIf],pipes:[a.MessagePipe],encapsulation:2});Object.create;function h(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}Object.create;function y(e,n){if(1&e){var o=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"button",5),t.ɵɵlistener("click",(function(){t.ɵɵrestoreView(o);var e=t.ɵɵnextContext().$implicit;return t.ɵɵnextContext(2).buttonClick(e)})),t.ɵɵtext(1),t.ɵɵpipe(2,"sqMessage"),t.ɵɵelementEnd()}if(2&e){var r=t.ɵɵnextContext().$implicit;t.ɵɵclassMapInterpolate1("btn ",r.primary?"btn-primary":r.result<0?"":"btn-secondary",""),t.ɵɵpropertyInterpolate("type",r.primary?"submit":"button"),t.ɵɵadvance(1),t.ɵɵtextInterpolate(t.ɵɵpipeBind1(2,5,r.getText()))}}function b(e,n){if(1&e){var o=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"a",6),t.ɵɵlistener("click",(function(){t.ɵɵrestoreView(o);var e=t.ɵɵnextContext().$implicit;return t.ɵɵnextContext(2).buttonClick(e)})),t.ɵɵtext(1),t.ɵɵpipe(2,"sqMessage"),t.ɵɵelementEnd()}if(2&e){var r=t.ɵɵnextContext().$implicit;t.ɵɵclassMapInterpolate1("btn ",r.primary?"btn-primary":r.result<0?"sq-anchor-btn":"btn-secondary",""),t.ɵɵadvance(1),t.ɵɵtextInterpolate(t.ɵɵpipeBind1(2,4,r.getText()))}}function C(e,n){if(1&e&&(t.ɵɵelementStart(0,"section"),t.ɵɵtemplate(1,y,3,7,"button",3),t.ɵɵtemplate(2,b,3,6,"a",4),t.ɵɵelementEnd()),2&e){var o=n.$implicit;t.ɵɵadvance(1),t.ɵɵproperty("ngIf",o.visible&&!o.anchor),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",o.visible&&o.anchor)}}function q(e,n){if(1&e&&(t.ɵɵelementContainerStart(0),t.ɵɵtemplate(1,C,3,2,"section",2),t.ɵɵelementContainerEnd()),2&e){var o=t.ɵɵnextContext();t.ɵɵadvance(1),t.ɵɵproperty("ngForOf",o.buttons)}}function x(e,n){if(1&e){var o=t.ɵɵgetCurrentView();t.ɵɵelementContainerStart(0),t.ɵɵelement(1,"span",7),t.ɵɵelementStart(2,"button",8),t.ɵɵlistener("click",(function(){return t.ɵɵrestoreView(o),t.ɵɵnextContext().close()})),t.ɵɵtext(3),t.ɵɵpipe(4,"sqMessage"),t.ɵɵelementEnd(),t.ɵɵelementContainerEnd()}2&e&&(t.ɵɵadvance(3),t.ɵɵtextInterpolate(t.ɵɵpipeBind1(4,1,"msg#btnClose.text")))}var w=function(){function e(e,t){this.modalRef=e,this.injector=t,this.buttons=[]}return e.prototype.ngOnChanges=function(e){e.isProcessingState&&(this.isProcessingState=e.isProcessingState.currentValue)},e.prototype.buttonClick=function(e){var t,n;if(e.validation&&e.validation.controls)try{for(var o=h(Object.keys(e.validation.controls)),r=o.next();!r.done;r=o.next()){var i=r.value;e.validation.controls[i].markAsDirty()}}catch(e){t={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return e.click(this.modalRef),!1},e.prototype.close=function(){this.modalRef.close(-2)},e}();function M(e,n){if(1&e&&(t.ɵɵelementStart(0,"sq-modal-header",5),t.ɵɵprojection(1,1),t.ɵɵelementEnd()),2&e){var o=t.ɵɵnextContext();t.ɵɵproperty("title",o.title)}}function S(e,n){if(1&e&&(t.ɵɵelementStart(0,"sq-modal-footer",6),t.ɵɵprojection(1,2),t.ɵɵelementEnd()),2&e){var o=t.ɵɵnextContext();t.ɵɵproperty("buttons",o.buttons)("isProcessingState",o.isProcessingState)}}w.ɵfac=function(e){return new(e||w)(t.ɵɵdirectiveInject(r.ModalRef),t.ɵɵdirectiveInject(t.Injector))},w.ɵcmp=t.ɵɵdefineComponent({type:w,selectors:[["sq-modal-footer"]],hostVars:2,hostBindings:function(e,n){2&e&&t.ɵɵclassProp("sq-modal-footer",!0)},inputs:{buttons:"buttons",isProcessingState:"isProcessingState"},features:[t.ɵɵNgOnChangesFeature],ngContentSelectors:["*"],decls:4,vars:2,consts:[[1,"modal-footer"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"type","class","click",4,"ngIf"],["href","#",3,"class","click",4,"ngIf"],[3,"type","click"],["href","#",3,"click"],[1,"loader"],["type","button",1,"btn",3,"click"]],template:function(e,n){1&e&&(t.ɵɵprojectionDef(),t.ɵɵelementStart(0,"div",0),t.ɵɵtemplate(1,q,2,1,"ng-container",1),t.ɵɵtemplate(2,x,5,3,"ng-container",1),t.ɵɵelementEnd(),t.ɵɵprojection(3)),2&e&&(t.ɵɵadvance(1),t.ɵɵproperty("ngIf",!n.isProcessingState),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",n.isProcessingState))},directives:[n.NgIf,n.NgForOf],pipes:[a.MessagePipe],styles:[".loader[_ngcontent-%COMP%]{-webkit-animation:spin 2s linear infinite;animation:spin 2s linear infinite;border:.6rem solid #f3f3f3;border-radius:50%;border-top-color:#3498db;height:2.5rem;width:2.5rem}@-webkit-keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}"]});var I=["*",[["","header",""]],[["","footer",""]]],E=function(){this.showHeader=!0,this.showFooter=!0,this.isProcessingState=!1};function N(e,n){if(1&e&&(t.ɵɵelementStart(0,"option",11),t.ɵɵtext(1),t.ɵɵpipe(2,"sqMessage"),t.ɵɵelementEnd()),2&e){var o=n.$implicit;t.ɵɵproperty("value",o.name)("hidden",!o.name)("disabled",!o.name),t.ɵɵadvance(1),t.ɵɵtextInterpolate(t.ɵɵpipeBind1(2,4,o.displayName||o.name))}}function k(e,n){if(1&e){var o=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"div",2),t.ɵɵelementStart(1,"label",8),t.ɵɵtext(2),t.ɵɵpipe(3,"sqMessage"),t.ɵɵelementEnd(),t.ɵɵelementStart(4,"select",9),t.ɵɵlistener("change",(function(){return t.ɵɵrestoreView(o),t.ɵɵnextContext().authenticate()})),t.ɵɵtemplate(5,N,3,6,"option",10),t.ɵɵelementEnd(),t.ɵɵelementEnd()}if(2&e){var r=t.ɵɵnextContext();t.ɵɵadvance(2),t.ɵɵtextInterpolate(t.ɵɵpipeBind1(3,2,"msg#modal.login.singleSignOn")),t.ɵɵadvance(3),t.ɵɵproperty("ngForOf",r.providers)}}E.ɵfac=function(e){return new(e||E)},E.ɵcmp=t.ɵɵdefineComponent({type:E,selectors:[["sq-modal"]],hostVars:2,hostBindings:function(e,n){2&e&&t.ɵɵclassProp("sq-modal",!0)},inputs:{title:"title",buttons:"buttons",showHeader:"showHeader",showFooter:"showFooter",isProcessingState:"isProcessingState"},ngContentSelectors:["*","[header]","[footer]"],decls:6,vars:3,consts:[["cdkTrapFocus","",1,"modal-dialog",3,"cdkTrapFocusAutoCapture"],[1,"modal-content"],[3,"title",4,"ngIf"],[1,"modal-body"],[3,"buttons","isProcessingState",4,"ngIf"],[3,"title"],[3,"buttons","isProcessingState"]],template:function(e,n){1&e&&(t.ɵɵprojectionDef(I),t.ɵɵelementStart(0,"div",0),t.ɵɵelementStart(1,"div",1),t.ɵɵtemplate(2,M,2,1,"sq-modal-header",2),t.ɵɵelementStart(3,"div",3),t.ɵɵprojection(4),t.ɵɵelementEnd(),t.ɵɵtemplate(5,S,2,2,"sq-modal-footer",4),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e&&(t.ɵɵproperty("cdkTrapFocusAutoCapture",!0),t.ɵɵadvance(2),t.ɵɵproperty("ngIf",n.showHeader),t.ɵɵadvance(3),t.ɵɵproperty("ngIf",n.showFooter))},directives:[d.CdkTrapFocus,n.NgIf,v,w],styles:[".cdk-global-overlay-wrapper,.cdk-overlay-backdrop,.cdk-overlay-container{z-index:1040}.sq-modal-host{display:block;overflow:auto;pointer-events:auto}.sq-modal-pane{display:block;height:100%;padding:30px;pointer-events:none!important}.sq-modal-fullscreen *>form,.sq-modal-fullscreen .modal-content,.sq-modal-fullscreen .modal-dialog{height:100%}.sq-modal-fullscreen .modal-dialog{margin:0;max-width:none}"],encapsulation:2});var O=function(){function e(e,t,n,o,r,i){this.model=e,this.modalService=t,this.modalRef=n,this.formBuilder=o,this.startConfig=r,this.authenticationService=i}return e.prototype.ngOnInit=function(){var e=this;this.userNameControl=new o.FormControl(this.model.userName,o.Validators.required),this.passwordControl=new o.FormControl(this.model.password,o.Validators.required),this.providerNameControl=new o.FormControl,this.form=this.formBuilder.group({userName:this.userNameControl,password:this.passwordControl,providerName:this.providerNameControl}),this.formChanges=u.Utils.subscribe(this.form.valueChanges,(function(t){e.model.userName=e.userNameControl.value,e.model.password=e.passwordControl.value,e.providerName=e.providerNameControl.value})),this.buttons=[new r.ModalButton({result:-1,primary:!0,validation:this.form}),new r.ModalButton({result:-2})],this.startConfig.providers&&Object.keys(this.startConfig.providers).forEach((function(t){e.providers||(e.providerName="",e.providers=[{displayName:"msg#modal.login.signInWith",name:""}]),e.providers.push(e.startConfig.providers[t])}))},e.prototype.ngOnDestroy=function(){this.formChanges.unsubscribe()},e.prototype.yes=function(){this.modalRef.close(-3)},e.prototype.authenticate=function(){var e=this;u.Utils.subscribe(this.authenticationService.authenticateWithProvider(this.providerName),(function(t){e.yes()}),(function(e){console.log("login.authenticate cancelled: ",e)}))},e}();O.ɵfac=function(e){return new(e||O)(t.ɵɵdirectiveInject(r.MODAL_MODEL),t.ɵɵdirectiveInject(r.ModalService),t.ɵɵdirectiveInject(r.ModalRef),t.ɵɵdirectiveInject(o.FormBuilder),t.ɵɵdirectiveInject(c.START_CONFIG),t.ɵɵdirectiveInject(i.AuthenticationService))},O.ɵcmp=t.ɵɵdefineComponent({type:O,selectors:[["sq-login"]],hostVars:2,hostBindings:function(e,n){2&e&&t.ɵɵclassProp("sq-login",!0)},decls:13,vars:12,consts:[["novalidate","",3,"formGroup"],[3,"title","buttons"],[1,"form-group","sq-form-group"],["for","userName"],["type","text","id","userName","formControlName","userName","spellcheck","off","cdkFocusInitial","",1,"form-control",3,"sqValidation"],["for","password"],["type","password","id","password","formControlName","password","autocomplete","off","spellcheck","off",1,"form-control",3,"sqValidation"],["class","form-group sq-form-group",4,"ngIf"],["for","providerName"],["id","providerName","formControlName","providerName",1,"form-control","custom-select",3,"change"],[3,"value","hidden","disabled",4,"ngFor","ngForOf"],[3,"value","hidden","disabled"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"form",0),t.ɵɵelementStart(1,"sq-modal",1),t.ɵɵelementStart(2,"div",2),t.ɵɵelementStart(3,"label",3),t.ɵɵtext(4),t.ɵɵpipe(5,"sqMessage"),t.ɵɵelementEnd(),t.ɵɵelement(6,"input",4),t.ɵɵelementEnd(),t.ɵɵelementStart(7,"div",2),t.ɵɵelementStart(8,"label",5),t.ɵɵtext(9),t.ɵɵpipe(10,"sqMessage"),t.ɵɵelementEnd(),t.ɵɵelement(11,"input",6),t.ɵɵelementEnd(),t.ɵɵtemplate(12,k,6,4,"div",7),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e&&(t.ɵɵproperty("formGroup",n.form),t.ɵɵadvance(1),t.ɵɵproperty("title","msg#modal.login.title")("buttons",n.buttons),t.ɵɵadvance(3),t.ɵɵtextInterpolate(t.ɵɵpipeBind1(5,8,"msg#modal.login.userName")),t.ɵɵadvance(2),t.ɵɵproperty("sqValidation",n.form),t.ɵɵadvance(3),t.ɵɵtextInterpolate(t.ɵɵpipeBind1(10,10,"msg#modal.login.password")),t.ɵɵadvance(2),t.ɵɵproperty("sqValidation",n.form),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",!!n.providers))},directives:[o.ɵangular_packages_forms_forms_y,o.NgControlStatusGroup,o.FormGroupDirective,E,o.DefaultValueAccessor,o.NgControlStatus,o.FormControlName,s.ValidationDirective,n.NgIf,o.SelectControlValueAccessor,n.NgForOf,o.NgSelectOption,o.ɵangular_packages_forms_forms_x],pipes:[a.MessagePipe],encapsulation:2});var V=function(){function e(e,t){this.model=e,this.modalRef=t}return Object.defineProperty(e.prototype,"title",{get:function(){return this.model.title?this.model.title:"msg#modal.confirm.title"},enumerable:!1,configurable:!0}),e.prototype.getMessageClass=function(e){switch(e){case 1:return"alert-info";case 0:return"alert-sucess";case 2:return"alert-warning";case 3:return"alert-danger";default:return""}},e}();function B(e,n){if(1&e&&t.ɵɵelement(0,"input",6),2&e){var o=t.ɵɵnextContext();t.ɵɵproperty("sqValidation",o.form)}}function P(e,n){if(1&e&&(t.ɵɵelementStart(0,"textarea",7),t.ɵɵtext(1,"                    "),t.ɵɵelementEnd()),2&e){var o=t.ɵɵnextContext();t.ɵɵpropertyInterpolate("rows",o.model.rowCount),t.ɵɵproperty("sqValidation",o.form)}}V.ɵfac=function(e){return new(e||V)(t.ɵɵdirectiveInject(r.MODAL_MODEL),t.ɵɵdirectiveInject(r.ModalRef))},V.ɵcmp=t.ɵɵdefineComponent({type:V,selectors:[["sq-confirm"]],hostVars:2,hostBindings:function(e,n){2&e&&t.ɵɵclassProp("sq-confirm",!0)},decls:4,vars:9,consts:[[3,"title","buttons"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"sq-modal",0),t.ɵɵelementStart(1,"div"),t.ɵɵtext(2),t.ɵɵpipe(3,"sqMessage"),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e&&(t.ɵɵproperty("title",n.title)("buttons",n.model.buttons),t.ɵɵadvance(1),t.ɵɵclassMapInterpolate1("alert ",n.getMessageClass(n.model.confirmType),""),t.ɵɵadvance(1),t.ɵɵtextInterpolate(t.ɵɵpipeBind2(3,6,n.model.message,n.model.messageParams)))},directives:[E],pipes:[a.MessagePipe],encapsulation:2});var j=function(){function e(e,t,n){this.model=e,this.modalRef=t,this.formBuilder=n}return e.prototype.ngOnInit=function(){var e=this;this.inputControl=new o.FormControl(this.model.output,this.model.validators||o.Validators.required),this.form=this.formBuilder.group({input:this.inputControl}),this.formChanges=u.Utils.subscribe(this.form.valueChanges,(function(t){e.model.output=e.inputControl.value})),this.buttons=[new r.ModalButton({result:-1,primary:!0,validation:this.form}),new r.ModalButton({result:-2})]},e.prototype.ngOnDestroy=function(){this.formChanges.unsubscribe()},Object.defineProperty(e.prototype,"title",{get:function(){return this.model.title?this.model.title:"msg#modal.prompt.title"},enumerable:!1,configurable:!0}),e}();j.ɵfac=function(e){return new(e||j)(t.ɵɵdirectiveInject(r.MODAL_MODEL),t.ɵɵdirectiveInject(r.ModalRef),t.ɵɵdirectiveInject(o.FormBuilder))},j.ɵcmp=t.ɵɵdefineComponent({type:j,selectors:[["sq-prompt"]],decls:8,vars:9,consts:[["name","prompt","novalidate","",3,"formGroup"],[3,"title","buttons"],[1,"form-group","sq-form-group"],["for","input"],["type","text","class","form-control","id","input","formControlName","input","spellcheck","off","sqAutofocus","",3,"sqValidation",4,"ngIf"],["type","text","class","form-control","id","input","formControlName","input","spellcheck","on","sqAutofocus","",3,"sqValidation","rows",4,"ngIf"],["type","text","id","input","formControlName","input","spellcheck","off","sqAutofocus","",1,"form-control",3,"sqValidation"],["type","text","id","input","formControlName","input","spellcheck","on","sqAutofocus","",1,"form-control",3,"sqValidation","rows"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"form",0),t.ɵɵelementStart(1,"sq-modal",1),t.ɵɵelementStart(2,"div",2),t.ɵɵelementStart(3,"label",3),t.ɵɵtext(4),t.ɵɵpipe(5,"sqMessage"),t.ɵɵelementEnd(),t.ɵɵtemplate(6,B,1,1,"input",4),t.ɵɵtemplate(7,P,2,2,"textarea",5),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e&&(t.ɵɵproperty("formGroup",n.form),t.ɵɵadvance(1),t.ɵɵproperty("title",n.title)("buttons",n.buttons),t.ɵɵadvance(3),t.ɵɵtextInterpolate(t.ɵɵpipeBind2(5,6,n.model.message,n.model.messageParams)),t.ɵɵadvance(2),t.ɵɵproperty("ngIf",!n.model.rowCount),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",!!n.model.rowCount))},directives:[o.ɵangular_packages_forms_forms_y,o.NgControlStatusGroup,o.FormGroupDirective,E,n.NgIf,o.DefaultValueAccessor,o.NgControlStatus,o.FormControlName,l.Autofocus,s.ValidationDirective],pipes:[a.MessagePipe],encapsulation:2});var F=function(){function e(e,t){this.startConfig=e,this.sanitizer=t}return e.prototype.ngOnInit=function(){var e=this.startConfig.helpUrl||"assets/help/index.html";this.url=this.sanitizer.bypassSecurityTrustResourceUrl(e)},e}();F.ɵfac=function(e){return new(e||F)(t.ɵɵdirectiveInject(c.START_CONFIG),t.ɵɵdirectiveInject(m.DomSanitizer))},F.ɵcmp=t.ɵɵdefineComponent({type:F,selectors:[["sq-help"]],hostVars:2,hostBindings:function(e,n){2&e&&t.ɵɵclassProp("modal-content",!0)},decls:3,vars:2,consts:[[3,"title"],[1,"d-flex","flex-column"],[3,"src"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"sq-modal",0),t.ɵɵelementStart(1,"div",1),t.ɵɵelement(2,"iframe",2),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e&&(t.ɵɵproperty("title","msg#help.title"),t.ɵɵadvance(2),t.ɵɵproperty("src",n.url,t.ɵɵsanitizeResourceUrl))},directives:[E],encapsulation:2});var _=function(){function e(e,t){this.model=e,this.formBuilder=t}return e.prototype.ngOnInit=function(){var e=this;this.form=this.formBuilder.group({userName:[this.model.userName,o.Validators.required],domain:[this.model.domain,o.Validators.required]}),this.formChanges=u.Utils.subscribe(this.form.valueChanges.pipe(p.debounceTime(100)),(function(t){u.Utils.merge(e.model,t)})),this.buttons=[new r.ModalButton({result:-1,primary:!0,validation:this.form}),new r.ModalButton({result:-2})]},e.prototype.ngOnDestroy=function(){this.formChanges.unsubscribe()},e}();function D(e,n){if(1&e&&(t.ɵɵelementStart(0,"div",2),t.ɵɵtext(1),t.ɵɵelementEnd()),2&e){var o=t.ɵɵnextContext();t.ɵɵadvance(1),t.ɵɵtextInterpolate(o.value)}}function A(e,n){if(1&e){var o=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"form",3),t.ɵɵelementStart(1,"div",4),t.ɵɵelementStart(2,"label",5),t.ɵɵtext(3),t.ɵɵpipe(4,"sqMessage"),t.ɵɵelementEnd(),t.ɵɵelementStart(5,"input",6),t.ɵɵlistener("keydown",(function(e){return t.ɵɵrestoreView(o),t.ɵɵnextContext().inputKeydown(e)}))("blur",(function(){return t.ɵɵrestoreView(o),t.ɵɵnextContext().stopEditing()})),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd()}if(2&e){var r=t.ɵɵnextContext();t.ɵɵproperty("formGroup",r.form),t.ɵɵadvance(3),t.ɵɵtextInterpolate(t.ɵɵpipeBind1(4,3,r.name)),t.ɵɵadvance(2),t.ɵɵproperty("sqValidation",r.form)}}_.ɵfac=function(e){return new(e||_)(t.ɵɵdirectiveInject(r.MODAL_MODEL),t.ɵɵdirectiveInject(o.FormBuilder))},_.ɵcmp=t.ɵɵdefineComponent({type:_,selectors:[["sq-override-user"]],decls:12,vars:11,consts:[["name","overrideUser","novalidate","",3,"formGroup"],[3,"title","buttons"],[1,"form-group","sq-form-group"],["for","userName"],["type","text","id","userName","formControlName","userName","spellcheck","off","sqAutofocus","",1,"form-control",3,"sqValidation"],["for","domain"],["type","text","id","domain","formControlName","domain","spellcheck","off",1,"form-control",3,"sqValidation"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"form",0),t.ɵɵelementStart(1,"sq-modal",1),t.ɵɵelementStart(2,"div",2),t.ɵɵelementStart(3,"label",3),t.ɵɵtext(4),t.ɵɵpipe(5,"sqMessage"),t.ɵɵelementEnd(),t.ɵɵelement(6,"input",4),t.ɵɵelementEnd(),t.ɵɵelementStart(7,"div",2),t.ɵɵelementStart(8,"label",5),t.ɵɵtext(9),t.ɵɵpipe(10,"sqMessage"),t.ɵɵelementEnd(),t.ɵɵelement(11,"input",6),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e&&(t.ɵɵproperty("formGroup",n.form),t.ɵɵadvance(1),t.ɵɵproperty("title","msg#overrideUser.title")("buttons",n.buttons),t.ɵɵadvance(3),t.ɵɵtextInterpolate(t.ɵɵpipeBind1(5,7,"msg#overrideUser.userName")),t.ɵɵadvance(2),t.ɵɵproperty("sqValidation",n.form),t.ɵɵadvance(3),t.ɵɵtextInterpolate(t.ɵɵpipeBind1(10,9,"msg#overrideUser.domain")),t.ɵɵadvance(2),t.ɵɵproperty("sqValidation",n.form))},directives:[o.ɵangular_packages_forms_forms_y,o.NgControlStatusGroup,o.FormGroupDirective,E,o.DefaultValueAccessor,o.NgControlStatus,o.FormControlName,l.Autofocus,s.ValidationDirective],pipes:[a.MessagePipe],encapsulation:2});var R=function(){function e(e,n){this.formBuilder=e,this.elementRef=n,this.tabindex="0",this.valueChange=new t.EventEmitter}return e.prototype.ngOnInit=function(){var e=this;this.editableControl=new o.FormControl(this.value,this.validators),this.modelControl=new o.FormControl(this.model),this.form=this.formBuilder.group({editable:this.editableControl,model:this.modelControl}),this.formChanges=u.Utils.subscribe(this.form.valueChanges,(function(t){e.value=e.editableControl.value}))},e.prototype.ngOnDestroy=function(){this.valueChange.unsubscribe(),this.formChanges.unsubscribe()},e.prototype.startEditing=function(){this.editing||(this.previousValue=this.value,this.editableControl._touched=!1,this.editableControl._pristine=!0,this.editing=!0)},e.prototype.stopEditing=function(e){void 0===e&&(e=!1),this.editing&&(this.editing=!1,this.focusAfterEdit&&this.elementRef&&this.elementRef.nativeElement.focus(),this.focusAfterEdit=!1,e&&(this.value=this.previousValue),this.valueChange.emit(this.value))},e.prototype.inputKeydown=function(e){switch(e.keyCode){case u.Keys.enter:return e.stopPropagation(),this.stopEditing(),!1;case u.Keys.esc:return e.stopPropagation(),this.stopEditing(!0),!1}},e.prototype.hostKeydown=function(e){if(e.keyCode===u.Keys.enter)return this.focusAfterEdit=!0,this.startEditing(),!1},e}();R.ɵfac=function(e){return new(e||R)(t.ɵɵdirectiveInject(o.FormBuilder),t.ɵɵdirectiveInject(t.ElementRef))},R.ɵcmp=t.ɵɵdefineComponent({type:R,selectors:[["sq-editable"]],hostVars:1,hostBindings:function(e,n){1&e&&t.ɵɵlistener("mousedown",(function(){return n.startEditing()}))("touchstart",(function(){return n.startEditing()}))("keydown",(function(e){return n.hostKeydown(e)})),2&e&&t.ɵɵattribute("tabindex",n.tabindex)},inputs:{name:"name",value:"value",model:"model",validators:"validators"},outputs:{valueChange:"valueChange"},decls:2,vars:2,consts:[["class","editable-text",4,"ngIf"],["class","form-inline","role","form","novalidate","",3,"formGroup",4,"ngIf"],[1,"editable-text"],["role","form","novalidate","",1,"form-inline",3,"formGroup"],[1,"form-group"],["for","editable",1,"sr-only"],["type","text","id","editable","formControlName","editable","spellcheck","false","sqAutofocus","",1,"form-control",3,"sqValidation","keydown","blur"]],template:function(e,n){1&e&&(t.ɵɵtemplate(0,D,2,1,"div",0),t.ɵɵtemplate(1,A,6,5,"form",1)),2&e&&(t.ɵɵproperty("ngIf",!n.editing),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",n.editing))},directives:[n.NgIf,o.ɵangular_packages_forms_forms_y,o.NgControlStatusGroup,o.FormGroupDirective,o.DefaultValueAccessor,o.NgControlStatus,o.FormControlName,l.Autofocus,s.ValidationDirective],pipes:[a.MessagePipe],styles:["[_nghost-%COMP%]{display:block;flex:1 1 0px}[_nghost-%COMP%]   .editable-text[_ngcontent-%COMP%]{min-width:4rem;overflow-wrap:break-word;word-break:break-word;word-wrap:break-word}[_nghost-%COMP%]   form[_ngcontent-%COMP%]{display:inline-block;margin:0;white-space:nowrap;width:90%}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%!important}"]});var U=function(){};U.ɵmod=t.ɵɵdefineNgModule({type:U}),U.ɵinj=t.ɵɵdefineInjector({factory:function(e){return new(e||U)},imports:[[n.CommonModule,o.FormsModule,o.ReactiveFormsModule,f.OverlayModule,d.A11yModule,a.IntlModule,s.ValidationModule,r.ModalModule.forRoot(V,j),i.LoginModule.forRoot(O),l.UtilsModule]]}),("undefined"==typeof ngJitMode||ngJitMode)&&t.ɵɵsetNgModuleScope(U,{declarations:[E,v,w,O,V,F,_,R,j],imports:[n.CommonModule,o.FormsModule,o.ReactiveFormsModule,f.OverlayModule,d.A11yModule,a.IntlModule,s.ValidationModule,r.ModalModule,i.LoginModule,l.UtilsModule],exports:[E,v,w,O,V,F,_,R,j]});e.BsConfirm=V,e.BsEditable=R,e.BsHelp=F,e.BsLogin=O,e.BsModal=E,e.BsModalFooter=w,e.BsModalHeader=v,e.BsModalModule=U,e.BsOverrideUser=_,e.BsPrompt=j,e.deModal={help:{title:"Online-Hilfe"},overrideUser:{title:"Benutzer wechseln",userName:"Benutzername",domain:"Domäne"},btnClose:{text:"Schließen"}},e.enModal={help:{title:"Online Help"},overrideUser:{title:"Override User",userName:"User name",domain:"Domain"},btnClose:{text:"Close"}},e.frModal={help:{title:"Aide en ligne"},overrideUser:{title:"Emprunt d'identité",userName:"Identifiant",domain:"Domaine"},btnClose:{text:"Fermer"}},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=sinequa-components-modal.umd.min.js.map