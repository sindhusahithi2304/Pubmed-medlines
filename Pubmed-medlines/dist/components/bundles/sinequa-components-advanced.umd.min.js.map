{"version":3,"sources":["../../../projects/components/advanced/advanced.service.ts","../../../node_modules/tslib/tslib.es6.js","../../projects/components/advanced/bootstrap/advanced-form-validation.directive.ts","../projects/components/advanced/bootstrap/advanced-form-checkbox/advanced-form-checkbox.ts","../projects/components/advanced/bootstrap/advanced-form-checkbox/advanced-form-checkbox.html","../../projects/components/advanced/bootstrap/advanced-form-autocomplete.directive.ts","../projects/components/advanced/bootstrap/advanced-form-input/advanced-form-input.html","../projects/components/advanced/bootstrap/advanced-form-input/advanced-form-input.ts","../projects/components/advanced/bootstrap/advanced-form-multi-input/advanced-form-autocomplete-multi-input.directive.ts","../projects/components/advanced/bootstrap/advanced-form-multi-input/advanced-form-multi-input.html","../projects/components/advanced/bootstrap/advanced-form-multi-input/advanced-form-multi-input.ts","../esm2015/projects/components/advanced/bootstrap/advanced-form-range/date-range-picker/date-range-picker.ts","../projects/components/advanced/bootstrap/advanced-form-range/advanced-form-range.html","../projects/components/advanced/bootstrap/advanced-form-range/advanced-form-range.ts","../esm2015/projects/components/advanced/bootstrap/advanced-form-select/select/select.html","../esm2015/projects/components/advanced/bootstrap/advanced-form-select/select/select.ts","../projects/components/advanced/bootstrap/advanced-form-select/advanced-form-select.ts","../projects/components/advanced/bootstrap/advanced-form-select/advanced-form-select.html","../esm2015/projects/components/advanced/bootstrap/advanced-form-range/date-picker/date-picker.ts","../../projects/components/advanced/bootstrap/advanced.module.ts","../../projects/components/advanced/messages/en.ts","../../projects/components/advanced/messages/index.ts","../../projects/components/advanced/messages/fr.ts","../../projects/components/advanced/messages/de.ts"],"names":["AdvancedService","appService","searchService","validationService","formatService","exprBuilder","_this","this","validators","min","field","minValidator","_parser","max","maxValidator","required","Validators","email","pattern","integer","integerValidator","number","numberValidator","date","dateValidator","range","rangeValidator","_rangeType","prototype","createSelectControl","asyncValidators","query","value","getValue","createControl","createRangeControl","getRangeValue","createInputControl","createMultiInputControl","createCheckboxControl","getBooleanValue","resetControl","control","reset","setValue","undefined","resetRangeControl","expr","getAdvancedExpr","getValueFromExpr","formatValueItems","formatAdvancedValue","Utils","isArray","map","e","_value","operator","expression","_a","findSelect","advancedFacetPrefix","parseExpr","Expr","isString","indexOf","JSON","parse","replace","display","operands","length","values","setSelect","combineWithAnd","asValueItems","makeAndExpr","makeOrExpr","setAdvancedSelect","setBooleanSelect","allowFalsy","makeBooleanExpr","setNumericalSelect","_isValueItem","makeNumericalExpr","setRangeSelect","from","to","makeRangeExpr","removeSelect","addSelect","removeAdvancedValue","search","setQuery","resetAdvancedValues","toStandard","_isValueItemArray","val","formatValueItem","column","getColumn","formatBaseAdvancedValue","toString","column_1","v","castAdvancedValue","formatter","formatValue","AppService","isDate","toDate","isInteger","testInteger","toInt","isDouble","testFloat","toNumber","isBoolean","isTrue","FormControl","disabled","updateOn","parser","parseValue","Date","every","element","isObject","hasOwnProperty","i0","ɵɵinject","i1","i2$1","SearchService","i3","ValidationService","FormatService","ExprBuilder","factory","ɵfac","providedIn","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","__extends","__","constructor","create","__read","o","n","m","Symbol","iterator","r","i","call","ar","next","done","push","error","__spread","arguments","concat","BsAdvancedFormValidation","_super","ngOnInit","options","form","validationForm","controlName","ValidationDirective","selectors","inputs","features","ɵɵInheritDefinitionFeature","BsAdvancedFormCheckbox","ngOnChanges","label","getLabel","ɵɵdirectiveInject","ɵɵNgOnChangesFeature","decls","vars","consts","template","rf","ctx","i0.ɵɵelementStart","i0.ɵɵelement","i0.ɵɵtext","i0.ɵɵelementEnd","i0.ɵɵproperty","i0.ɵɵadvance","i0.ɵɵtextInterpolate","BsAdvancedFormAutocomplete","elementRef","suggestService","uiService","UpdateItem","EventEmitter","_dropdownSubscription","dropdown","clicked","subscribe","item","select","start","getSuggests","getInputValue","processSuggests","getSuggestsObs","obs","suggests","getState","AutocompleteState","ACTIVE","OPENED","update","filter","category","normalized","err","hasItems","open","active","setAutocompleteItem","setInputValue","assign","blur","event","SELECTED","init","inputChanged","suggest","START","INIT","Autocomplete","ElementRef","i1$2","SuggestService","i3$1","UIService","hostBindings","$event","BsAdvancedFormInput","get","Error","viewValue","_valueChangesSubscription","valueChanges","ngOnDestroy","unsubscribe","onItemChange","_updateControl","markAsDirty","_b","emitEvent","suggestQuery","i0.ɵɵlistener","i0.ɵɵtemplate","i0.ɵɵpropertyInterpolate","_r0","BsAdvancedFormAutocompleteMultiInput","apply","itemsUpdate","items","keydown","keyCode","Keys","backspace","pop","enter","_manageSetAutocompleteItem","i0.ɵɵtextInterpolate1","BsAdvancedFormMultiInput","getPluralLabel","removeItem","splice","onItemsChanged","tab","dropdownItem","_getDropdownItem","focus","preventDefault","keypress","current","nativeElement","classList","contains","parentElement","_r1","ctx_r0","dateFormat","ctx_r1","bsFromConfig","bsToConfig","DATE_RANGE_PICKER_VALUE_ACCESSOR","provide","NG_VALUE_ACCESSOR","useExisting","forwardRef","BsDateRangePicker","multi","intlService","SystemFormat","onChangeCallback","fromName","name","toName","defineProperty","system","moment","localeData","longDateFormat","setLocale","fromToPicker","isOpen","hide","show","fromPicker","toPicker","ngAfterViewInit","localeChange","events","bsFromToConfig","minDate","maxDate","containerClass","showWeekNumbers","rangeInputFormat","updateFromTo","fromTo","dateInputFormat","setMinMaxDate","resetMinMaxDate","updateFrom","updateTo","zeroTimes","setHours","setMinutes","setSeconds","setMilliseconds","equals","closedRange","writeValue","registerOnChange","fn","registerOnTouched","i1$1","IntlService","viewQuery","ɵɵpureFunction0","_c0$1","BsAdvancedFormRange","forName","ensureValue","value1","isNumber","ɵɵrestoreView","_r6_1","ɵɵnextContext","i0.ɵɵclassMapInterpolate1","i0.ɵɵstyleProp","BsSelectComponent","opened","activeItem","cancelBlur","clearSelected","names","forEach","setOpen","mousedown","delay","then","stopImmediatePropagation","buttonElement","toggleOpen","down","stopPropagation","up","space","toggleItemSelected","esc","selectedItems","countSelected","isItemSelected","itemIndex","includes","idx","multiple","triggerOnChange","count","selectCount","index","sort","join","asArray_1","find","el","BsAdvancedFormSelect","firstPageService","getItems","firstPage","condition","aggr","eqNC","aggregation","aggregations","FirstPageService","DATE_PICKER_VALUE_ACCESSOR","BsDatePicker","picker","bsConfig","updateValue","input","BsAdvancedModule","imports","CommonModule","FormsModule","ReactiveFormsModule","IntlModule","BsDatepickerModule","forRoot","UtilsModule","BsAutocompleteModule","declarations","i3$3","exports","enAdvanced","merge","advanced","rangeSeparator","dateRangePicker","separator","rangeInput","nItems","allItems","noItems","enSearch","frAdvanced","frSearch","deAdvanced","deSearch"],"mappings":"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","sourcesContent":["/* Dépendences fonctionnelles internes d'Angular */\nimport { Injectable } from \"@angular/core\";\nimport {\n    FormControl,\n    ValidatorFn,\n    AsyncValidatorFn,\n    Validators,\n    AbstractControl,\n} from \"@angular/forms\";\n\n/* Services */\nimport { Utils } from \"@sinequa/core/base\";\nimport { SearchService } from \"@sinequa/components/search\";\nimport {\n    AppService,\n    Expr,\n    ExprOperator,\n    FormatService,\n    Query,\n    advancedFacetPrefix,\n    ExprBuilder,\n    ValueItem,\n} from \"@sinequa/core/app-utils\";\nimport { ValidationService } from \"@sinequa/core/validation\";\nimport { CCColumn } from \"@sinequa/core/web-services\";\n\n/**\n * Defines the possible basic types of an advanced value\n */\nexport type BaseAdvancedValue = string | number | Date | boolean | undefined;\n\n/**\n * Defines an advanced value type as either a single basic advanced value or an array of basic advanced values\n */\nexport type AdvancedValue = BaseAdvancedValue | BaseAdvancedValue[];\n\nexport interface AdvancedFormValidators {\n    min: (min: string | number | Date, field: string) => ValidatorFn;\n    max: (max: string | number | Date, field: string) => ValidatorFn;\n    required: ValidatorFn;\n    email: ValidatorFn;\n    pattern: (pattern: string | RegExp) => ValidatorFn;\n    integer: (field: string) => ValidatorFn;\n    number: (field: string) => ValidatorFn;\n    date: (field: string) => ValidatorFn;\n    range: (field: string) => ValidatorFn;\n}\n\n@Injectable({\n    providedIn: \"root\",\n})\nexport class AdvancedService {\n    /**\n     * Default form validators packaged within SBA to standardize advanced-search validation\n     */\n    public readonly validators: AdvancedFormValidators = {\n        min: (min, field) =>\n            this.validationService.minValidator(min, this._parser(field)),\n        max: (max, field) =>\n            this.validationService.maxValidator(max, this._parser(field)),\n        required: Validators.required,\n        email: Validators.email,\n        pattern: (pattern: string | RegExp) => Validators.pattern(pattern),\n        integer: (field) =>\n            this.validationService.integerValidator(this._parser(field)),\n        number: (field) =>\n            this.validationService.numberValidator(this._parser(field)),\n        date: (field) =>\n            this.validationService.dateValidator(this._parser(field)),\n        range: (field) =>\n            this.validationService.rangeValidator(\n                this._rangeType(field),\n                this._parser(field)\n            ),\n    };\n\n    constructor(\n        public appService: AppService,\n        public searchService: SearchService,\n        public validationService: ValidationService,\n        public formatService: FormatService,\n        public exprBuilder: ExprBuilder\n    ) {}\n\n    /**\n     * Return a standard FormControl compatible with a select component\n     * @param field\n     * @param validators optional validators to be added to the returned FormControl\n     * @param asyncValidators optional asyncValidators to be added to the returned FormControl\n     * @param query Query where to fetch advanced values, if omitted, use searchService.query\n     */\n    public createSelectControl(\n        field: string,\n        validators?: ValidatorFn[],\n        asyncValidators?: AsyncValidatorFn[],\n        query = this.searchService.query\n    ): FormControl {\n        const value = this.getValue(field, query);\n        return this.createControl(value, validators, asyncValidators);\n    }\n\n    /**\n     * Return a standard FormControl compatible with a range-input component\n     * @param field\n     * @param validators optional validators to be added to the returned FormControl\n     * @param asyncValidators optional asyncValidators to be added to the returned FormControl\n     * @param query Query where to fetch advanced values, if omitted, use searchService.query\n     */\n    public createRangeControl(\n        field: string,\n        validators?: ValidatorFn[],\n        asyncValidators?: AsyncValidatorFn[],\n        query = this.searchService.query\n    ): FormControl {\n        const value = this.getRangeValue(field, query);\n        return this.createControl(value, validators, asyncValidators);\n    }\n\n    /**\n     * Return a standard FormControl compatible with a text input component\n     * @param field\n     * @param validators optional validators to be added to the returned FormControl\n     * @param asyncValidators optional asyncValidators to be added to the returned FormControl\n     * @param query Query where to fetch advanced values, if omitted, use searchService.query\n     */\n    public createInputControl(\n        field: string,\n        validators?: ValidatorFn[],\n        asyncValidators?: AsyncValidatorFn[],\n        query = this.searchService.query\n    ): FormControl {\n        const value = this.getValue(field, query);\n        return this.createControl(value, validators, asyncValidators);\n    }\n\n    /**\n     * Return a standard FormControl compatible with a multi-value text input component\n     * @param field\n     * @param validators optional validators to be added to the returned FormControl\n     * @param asyncValidators optional asyncValidators to be added to the returned FormControl\n     * @param query Query where to fetch advanced values, if omitted, use searchService.query\n     */\n    public createMultiInputControl(\n        field: string,\n        validators?: ValidatorFn[],\n        asyncValidators?: AsyncValidatorFn[],\n        query = this.searchService.query\n    ): FormControl {\n        const value = this.getValue(field, query);\n        return this.createControl(value, validators, asyncValidators);\n    }\n\n    /**\n     * Return a standard FormControl compatible with a checkbox component\n     * @param field\n     * @param validators optional validators to be added to the returned FormControl\n     * @param asyncValidators optional asyncValidators to be added to the returned FormControl\n     * @param query Query where to fetch advanced values, if omitted, use searchService.query\n     */\n    public createCheckboxControl(\n        field: string,\n        validators?: ValidatorFn[],\n        asyncValidators?: AsyncValidatorFn[],\n        query = this.searchService.query\n    ): FormControl {\n        const value = this.getBooleanValue(field, query);\n        return this.createControl(value, validators, asyncValidators);\n    }\n\n    /**\n     * Reset the supplied AbstractControl (and its validation) and sets its value to undefined\n     * @param control\n     */\n    public resetControl(control: AbstractControl) {\n        control.reset();\n        control.setValue(undefined);\n    }\n\n    /**\n     * Reset the supplied AbstractControl (and its validation) and sets its value to [undefined, undefined]\n     * @param control\n     */\n    public resetRangeControl(control: AbstractControl) {\n        control.reset();\n        control.setValue([undefined, undefined]);\n    }\n\n    /**\n     * Retrieve the value (ValueItem | ValueItem[] | undefined) to be set to the FormControl from the Query\n     * @param field\n     * @param query Query where to fetch advanced values, if omitted, use searchService.query\n     */\n    public getValue(\n        field: string,\n        query = this.searchService.query\n    ): ValueItem | ValueItem[] | undefined {\n        const expr = this.getAdvancedExpr(field, query);\n        if (expr) {\n            const value = this.getValueFromExpr(expr);\n            return this.formatValueItems(field, value);\n        }\n        return undefined;\n    }\n\n    /**\n     * Retrieve the boolean value to be set to the FormControl from the Query\n     * @param field\n     * @param query Query where to fetch advanced values, if omitted, use searchService.query\n     */\n    public getBooleanValue(\n        field: string,\n        query = this.searchService.query\n    ): boolean | undefined {\n        const expr = this.getAdvancedExpr(field, query);\n        if (expr) {\n            const value = this.getValueFromExpr(expr) as ValueItem;\n            return this.formatAdvancedValue(field, value.value as boolean) as boolean;\n        }\n        return undefined;\n    }\n\n    /**\n     * Retrieve the range value to be set to the FormControl from the Query\n     * @param field\n     * @param query Query where to fetch advanced values, if omitted, use searchService.query\n     */\n    public getRangeValue(\n        field: string,\n        query = this.searchService.query\n    ): AdvancedValue {\n        const expr = this.getAdvancedExpr(field, query);\n        if (expr) {\n            const value = this.getValueFromExpr(expr);\n            if (Utils.isArray(value)) {\n                return value.map((e) =>\n                    this.formatAdvancedValue(\n                        field,\n                        e.value as string | Date | number\n                    )\n                ) as AdvancedValue;\n            } else {\n                const _value = this.formatAdvancedValue(\n                    field,\n                    value.value as string | Date | number\n                ) as BaseAdvancedValue;\n                if (expr.operator === ExprOperator.gte) {\n                    return [_value, undefined];\n                } else if (expr.operator === ExprOperator.lte) {\n                    return [undefined, _value];\n                }\n            }\n        }\n        return [undefined, undefined];\n    }\n\n    /**\n     * Return the select expression of an advanced filter\n     * @param field\n     * @param query Query where to fetch advanced values, if omitted, use searchService.query\n     */\n    protected getAdvancedExpr(\n        field: string,\n        query = this.searchService.query\n    ): Expr | undefined {\n        let expr: Expr | string;\n        const expression = query.findSelect(advancedFacetPrefix + field)\n            ?.expression;\n        if (expression) {\n            expr = this.appService.parseExpr(expression);\n            if (expr instanceof Expr) {\n                return expr;\n            }\n        }\n        return undefined;\n    }\n\n    /**\n     * Extract values from an expression\n     * @param expr\n     */\n    protected getValueFromExpr(expr: Expr): ValueItem | ValueItem[] {\n        let value: ValueItem | ValueItem[] | undefined;\n        if (Utils.isString(expr.value) && expr.value.indexOf(\"[\") > -1) {\n            value = JSON.parse(expr.value.replace(/`/g, '\"')).map((e) => ({\n                value: e.value!,\n                display: !!e.display ? e.display : e.value,\n            }));\n        } else if (expr.operands?.length > 0) {\n            value = expr.operands.map((e) => ({\n                value: e.value!,\n                display: !!e.display ? e.display : e.value,\n            }));\n        }\n        if (!value) {\n            if (expr.values && expr.values.length > 1) {\n                value = expr.values.map((e) => ({ value: e, display: e }));\n            } else {\n                value = {\n                    value: expr.value!,\n                    display: !!expr.display ? expr.display : expr.value,\n                };\n            }\n        }\n        return value;\n    }\n\n    /**\n     * Sets a select on a query (defaults to searchService.query) for a given\n     * field and value(s)\n     * @param field\n     * @param value\n     * @param query Query where to fetch advanced values, if omitted, use searchService.query\n     * @param combineWithAnd\n     */\n    public setSelect(\n        field: string,\n        value: ValueItem | ValueItem[] | undefined,\n        query?: Query,\n        combineWithAnd?: boolean\n    ) {\n        let expr;\n        if (value !== undefined) {\n            const _value = this.asValueItems(value, field);\n            if (combineWithAnd) {\n                expr = this.exprBuilder.makeAndExpr(field, _value);\n            } else {\n                expr = this.exprBuilder.makeOrExpr(field, _value);\n            }\n        }\n        // When expr is not defined, this simply removes the selection\n        this.setAdvancedSelect(field, expr, query);\n    }\n\n    /**\n     * Sets a select on a query (defaults to searchService.query) for a given\n     * field and a boolean value\n     * @param field\n     * @param value\n     * @param discardFalsy by default it is 'false', so a false value is used to be undefined\n     * @param query\n     */\n    public setBooleanSelect(\n        field: string,\n        value: boolean | undefined,\n        allowFalsy: boolean = false,\n        query?: Query\n    ) {\n        let expr;\n        if (value === true || (value === false && allowFalsy)) {\n            expr = this.exprBuilder.makeBooleanExpr(field, value);\n        }\n        // When expr is not defined, this simply removes the selection\n        this.setAdvancedSelect(field, expr, query);\n    }\n\n    /**\n     * Sets a select on a query (defaults to searchService.query) for a given\n     * field, operator and value\n     * @param field\n     * @param value\n     * @param operator\n     * @param query\n     */\n    public setNumericalSelect(\n        field: string,\n        value: string | Date | number | ValueItem | undefined,\n        operator: \">\" | \">=\" | \"<\" | \"<=\" | \"=\" | \"<>\",\n        query?: Query\n    ) {\n        let expr;\n        if (value !== undefined) {\n            if (this._isValueItem(value)) {\n                value = value.value as string | Date | number;\n            }\n            value = this.parse(value, field);\n            expr = this.exprBuilder.makeNumericalExpr(field, operator, value);\n        }\n        // When expr is not defined, this simply removes the selection\n        this.setAdvancedSelect(field, expr, query);\n    }\n\n    /**\n     * Sets a select on a query (defaults to searchService.query) for a given\n     * field and range of values\n     * @param field\n     * @param range\n     * @param query\n     */\n    public setRangeSelect(\n        field: string,\n        range: (string | Date | number)[] | undefined,\n        query?: Query\n    ) {\n        let expr: string | undefined;\n        if (range && range.length === 2) {\n            const from = this.parse(range[0] || undefined, field);\n            const to = this.parse(range[1] || undefined, field);\n            if (from && to) {\n                expr = this.exprBuilder.makeRangeExpr(field, from, to);\n            } else if (from) {\n                expr = this.exprBuilder.makeNumericalExpr(field, \">=\", from);\n            } else if (to) {\n                expr = this.exprBuilder.makeNumericalExpr(field, \"<=\", to);\n            }\n        }\n        // When expr is not defined, this simply removes the selection\n        this.setAdvancedSelect(field, expr, query);\n    }\n\n    /**\n     * Sets a select for a given field and expression on the query (defaults to searchService.query)\n     * @param query Query where to fetch advanced values, if omitted, use searchService.query\n     * @param field\n     * @param expr\n     */\n    protected setAdvancedSelect(\n        field: string,\n        expr: string | undefined,\n        query = this.searchService.query\n    ) {\n        query.removeSelect(advancedFacetPrefix + field);\n        if (expr) {\n            query.addSelect(expr, advancedFacetPrefix + field);\n        }\n    }\n\n    /**\n     * Remove a specific advanced value by its field name.\n     * By default, Trigger search() action\n     * @param field\n     * @param query Query from which will remove the specific advanced value, if omitted, use searchService.query\n     * @param search\n     */\n    public removeAdvancedValue(\n        field: string,\n        search: boolean = true,\n        query: Query = this.searchService.query\n    ): void {\n        if (field) {\n            query.removeSelect(advancedFacetPrefix + field);\n            this.searchService.setQuery(query, false);\n            if (search) {\n                this.searchService.search();\n            }\n        }\n    }\n\n    /**\n     * Remove all related advanced-search select(s) from a given query and update searchService.query accordingly\n     * By default, Trigger search() action\n     * @param query Query from which will remove all advanced values, if omitted, use searchService.query\n     * @param search\n     */\n    public resetAdvancedValues(\n        search: boolean = true,\n        query: Query = this.searchService.query\n    ): void {\n        this.searchService.setQuery(query.toStandard(), false);\n        if (search) {\n            this.searchService.search();\n        }\n    }\n\n    /**\n     * Transforms a value to a parsed ValueItem[]\n     * @param value\n     * @param field\n     */\n    protected asValueItems(\n        value: ValueItem | ValueItem[],\n        field: string\n    ): ValueItem[] {\n        if (this._isValueItemArray(value)) {\n            return value.map((val) => ({\n                value: this.parse(val.value, field) as\n                    | string\n                    | Date\n                    | number\n                    | boolean,\n                display: val.display,\n            }));\n        }\n        return [\n            {\n                value: this.parse(value.value, field) as\n                    | string\n                    | Date\n                    | number\n                    | boolean,\n                display: value.display,\n            },\n        ];\n    }\n\n    public formatValueItems(\n        field: string,\n        value: ValueItem | ValueItem[]\n    ): ValueItem | ValueItem[] {\n        if (this._isValueItemArray(value)) {\n            return value.map((val) => this.formatValueItem(field, val));\n        }\n        return this.formatValueItem(field, value);\n    }\n\n    /**\n     * Format the display property of the ValueItem according its related column definition\n     * @param field\n     * @param value\n     */\n    protected formatValueItem(field: string, value: ValueItem): ValueItem {\n        const column = this.appService.getColumn(field);\n        if (column) {\n            value.display = (this.formatBaseAdvancedValue(\n                value.display!,\n                column\n            ) as string | Date | number | boolean).toString();\n        }\n        return value;\n    }\n\n    /**\n     * Format a given advanced value according to its column definition\n     * @param field\n     * @param value\n     */\n    public formatAdvancedValue(\n        field: string,\n        value: AdvancedValue\n    ): AdvancedValue {\n        if (value) {\n            const column = this.appService.getColumn(field);\n            if (column) {\n                if (Utils.isArray(value)) {\n                    return value.map((v) =>\n                        v ? this.formatBaseAdvancedValue(v, column) : v\n                    );\n                }\n                return this.formatBaseAdvancedValue(value, column);\n            }\n        }\n        return value;\n    }\n\n    protected formatBaseAdvancedValue(\n        value: BaseAdvancedValue,\n        column: CCColumn\n    ): BaseAdvancedValue {\n        if (value) {\n            value = this.castAdvancedValue(value, column);\n            return column.formatter ? this.formatService.formatValue(value!, column) : value;\n        }\n        return value;\n    }\n\n    /**\n     * Cast a given value as per its column definition\n     * @param value\n     * @param column\n     */\n    public castAdvancedValue(\n        value: BaseAdvancedValue,\n        column: CCColumn | undefined\n    ): BaseAdvancedValue {\n        if (column) {\n            if (Utils.isString(value)) {\n                if (AppService.isDate(column)) {\n                    value = Utils.toDate(value);\n                } else if (AppService.isInteger(column)) {\n                    if (Utils.testInteger(value)) {\n                        value = Utils.toInt(value);\n                    }\n                } else if (AppService.isDouble(column)) {\n                    if (Utils.testFloat(value)) {\n                        value = Utils.toNumber(value);\n                    }\n                } else if (AppService.isBoolean(column)) {\n                    value = Utils.isTrue(value);\n                }\n            }\n        }\n        return value;\n    }\n\n    /**\n     * Create a generic FormControl\n     * @param value value of the FormControl\n     * @param validators optional validators to be added to the returned FormControl\n     * @param asyncValidators optional asyncValidators to be added to the returned FormControl\n     */\n    protected createControl(\n        value: AdvancedValue | ValueItem | ValueItem[],\n        validators?: ValidatorFn[],\n        asyncValidators?: AsyncValidatorFn[]\n    ): FormControl {\n        return new FormControl(\n            {\n                value,\n                disabled: false,\n            },\n            {\n                validators: !!validators ? validators : [],\n                asyncValidators: !!asyncValidators ? asyncValidators : [],\n                updateOn: \"change\",\n            }\n        );\n    }\n\n    /**\n     * Parse a value according to its column definition\n     * @param value\n     * @param field\n     */\n    protected parse<T>(value: T, field: string): T | string {\n        const parser = this._parser(field);\n        if (parser && Utils.isString(value)) {\n            return this.formatService.parseValue(value, parser);\n        }\n        return value;\n    }\n\n    /**\n     * Return the parser if existing in the given field\n     * @param field\n     */\n    protected _parser(field: string): string | undefined {\n        const column = this.appService.getColumn(field);\n        return column ? column.parser : undefined;\n    }\n\n    protected _rangeType(field: string): string | number | Date {\n        const column = this.appService.getColumn(field);\n        let rangeType;\n        if (\n            column &&\n            (AppService.isInteger(column) || AppService.isDouble(column))\n        ) {\n            rangeType = 0;\n        } else if (column && AppService.isDate(column)) {\n            rangeType = new Date();\n        } else {\n            rangeType = \"\";\n        }\n        return rangeType;\n    }\n\n    /**\n     * Return `true` if the passed value is an `ValueItem[]`\n     */\n    protected _isValueItemArray(value: any): value is ValueItem[] {\n        if (Utils.isArray(value)) {\n            const condition = (element) => this._isValueItem(element);\n            return value.every(condition);\n        }\n        return false;\n    }\n\n    /**\n     * Return `true` if the passed value is an `ValueItem`\n     */\n    protected _isValueItem(value: any): value is ValueItem {\n        if (\n            Utils.isObject(value) &&\n            !Utils.isArray(value) &&\n            !Utils.isDate(value)\n        ) {\n            if (value.hasOwnProperty(\"value\")) {\n                return true;\n            }\n        }\n        return false;\n    }\n}\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import { Directive, Input, OnInit } from \"@angular/core\";\nimport { FormGroup } from \"@angular/forms\";\nimport { ValidationDirective } from \"@sinequa/core/validation\";\n\n@Directive({\n    selector: \"[sqAdvancedFormValidation]\",\n})\nexport class BsAdvancedFormValidation extends ValidationDirective implements OnInit {\n    @Input() field: string;\n    @Input() validationForm: FormGroup;\n    \n    ngOnInit() {\n        this.options = {\n            form: this.validationForm,\n            controlName: this.field,\n        };\n        super.ngOnInit();\n    }\n}\n","import { Component, Input, OnChanges } from \"@angular/core\";\nimport { FormGroup } from \"@angular/forms\";\nimport { AppService } from '@sinequa/core/app-utils';\n\n@Component({\n    selector: \"sq-advanced-form-checkbox\",\n    templateUrl: \"./advanced-form-checkbox.html\",\n})\nexport class BsAdvancedFormCheckbox implements OnChanges {\n    @Input() form: FormGroup;\n    @Input() field: string;\n    @Input() label: string;\n\n    constructor(public appService: AppService) {}\n\n    ngOnChanges() {\n        if(this.label === undefined) {\n            this.label = this.appService.getLabel(this.field);\n        }\n    }\n}\n","<div class=\"form-group\" [formGroup]=\"form\">\n    <div class=\"form-check\">\n        <label class=\"custom-control custom-checkbox\">\n            <input\n                class=\"custom-control-input\"\n                type=\"checkbox\"\n                sqAdvancedFormValidation\n                [field]=\"field\"\n                [validationForm]=\"form\"\n                [formControlName]=\"field\">\n            <span class=\"custom-control-label\">{{label | sqMessage}}</span>\n        </label>\n    </div>\n</div>\n","import { Directive, Input, ElementRef, HostListener, Output, EventEmitter, OnInit } from \"@angular/core\";\nimport { Autocomplete, SuggestService, AutocompleteItem, AutocompleteState } from \"@sinequa/components/autocomplete\";\nimport { UIService } from \"@sinequa/components/utils\";\nimport { AppService } from \"@sinequa/core/app-utils\";\nimport { Observable } from 'rxjs';\n\n@Directive({\n    selector: \"[sqAdvancedFormAutocomplete]\",\n})\nexport class BsAdvancedFormAutocomplete extends Autocomplete implements OnInit {\n    @Output() UpdateItem = new EventEmitter<AutocompleteItem | undefined>();\n    @Input() field : string;\n\n    constructor(\n        elementRef: ElementRef,\n        suggestService: SuggestService,\n        appService: AppService,\n        uiService: UIService\n    ) {\n        super(elementRef, suggestService, appService, uiService);\n    }\n\n    /**\n     * The ngOnInit() method from the original directive is overriden\n     * On initialization, we listen to the autocomplete component for\n     * selection events\n     */\n    ngOnInit() {\n        this._dropdownSubscription = this.dropdown.clicked.subscribe((item) => {\n            this.select(item, false); // An item was selected from the autocomplete => take the value\n        });\n        this.start();\n    }\n\n    protected getSuggests() {\n        const value = this.getInputValue();\n        if (value) {\n            // If there is text, make a call to the suggest API\n            this.processSuggests(\n                this.getSuggestsObs(value, [this.field])\n            );\n        } else {\n            // If empty input, restart autocomplete\n            this.start();\n        }\n    }\n\n    protected processSuggests(obs: Observable<AutocompleteItem[]>){\n        obs.subscribe(\n            suggests => {\n                if(this.getState() === AutocompleteState.ACTIVE || this.getState() === AutocompleteState.OPENED){\n                    this.dropdown.update(true, suggests\n                        .filter(item => item.category !== \"$field$\")  // Filter out fields\n                        .map(item => {\n                            if(!item.label){\n                                item.label = this.appService.getLabel(item.category);\n                            }\n                            if (!item.normalized) {\n                                item.normalized = item.display;\n                            }\n                            return item;\n                        }));\n                }\n            },\n            err => {\n                this.dropdown.update(false);\n            },\n            () => {\n                if(this.dropdown.hasItems && this.getState() === AutocompleteState.ACTIVE){\n                    this.open();    // Switch from ACTIVE to OPENED (if not already)\n                }\n                else if(!this.dropdown.hasItems && this.getState() === AutocompleteState.OPENED){   // No data\n                    this.active();  // Switch from OPENED to ACTIVE (if not already)\n                }\n            });\n    }\n\n    protected setAutocompleteItem(item: AutocompleteItem): boolean {\n        if(item) {\n            this.setInputValue(item.display);\n            this.UpdateItem.next({\n                ...item,\n                normalized: item.normalized ? item.normalized : item.display\n            });\n            return true;\n        }\n        return false;\n    }\n\n    /**\n     * Listen to blur events on the <input> host and overrides the autocomplete blur events\n     */\n    @HostListener(\"blur\", [\"$event\"]) blur(event: FocusEvent) {\n        /** If there is text in the <input/> and not selected from the dropdown ==> set the item manually */\n        if (this.getState() !== AutocompleteState.SELECTED) {\n            if (!!this.getInputValue() && this.getInputValue() !== \"\") {\n                const item = {\n                    display: this.getInputValue(),\n                    normalized: this.getInputValue(),\n                    category: \"\",\n                }\n                this.setAutocompleteItem(item);\n            } else {\n                this.UpdateItem.next(undefined);\n            }\n        }\n        this.init();\n    }\n\n    /**\n     * Overrides the parent inputChanged method, so that it is possible to reinitialize the autocomplete\n     * @param event\n     */\n    @HostListener(\"input\", [\"$event\"]) inputChanged(event: Event) {\n        switch (this.getState()) {\n            case AutocompleteState.OPENED:\n                this.suggest(); // Just request more data, but no state change\n                break;\n            case AutocompleteState.START:\n            case AutocompleteState.ACTIVE:\n                this.active(); // get more data, and change state if not already ACTIVE\n                break;\n            case AutocompleteState.SELECTED:\n                this.start(); // The model changed because we selected a value ==> we restart in case the user keeps typing\n                this.active();\n                break;\n            case AutocompleteState.INIT:\n                break;\n        }\n    }\n}\n","<div class=\"form-group\">\n    <label for=\"{{field}}\">{{label | sqMessage}}</label>\n    <div class=\"d-flex flex-column\">\n        <input\n            sqAdvancedFormAutocomplete\n            [off]=\"!suggestQuery\"\n            [suggestQuery]=\"suggestQuery\"\n            [dropdown]=\"dropdown\"\n            sqAdvancedFormValidation\n            [validationForm]=\"form\"\n            [field]=\"field\"\n            type=\"text\"\n            class=\"form-control\"\n            [id]=\"field\"\n            autocomplete=\"off\"\n            spellcheck=\"off\"\n            [(ngModel)]=\"viewValue\"\n            (UpdateItem)=\"onItemChange($event)\">\n        <sq-autocomplete-list #dropdown>\n            <ng-template #itemTpl let-item>\n                <div class=\"py-2\">{{item.display}}</div>\n            </ng-template>\n        </sq-autocomplete-list>\n    </div>\n</div>\n","import { Component, Input, OnChanges, OnDestroy } from \"@angular/core\";\nimport { FormGroup, AbstractControl } from \"@angular/forms\";\nimport { AppService } from \"@sinequa/core/app-utils\";\nimport { Utils } from '@sinequa/core/base';\nimport { Subscription } from 'rxjs';\nimport { AutocompleteItem } from '@sinequa/components/autocomplete';\n\n@Component({\n    selector: \"sq-advanced-form-input\",\n    templateUrl: \"./advanced-form-input.html\"\n})\nexport class BsAdvancedFormInput implements OnChanges, OnDestroy {\n    @Input() form: FormGroup;\n    @Input() field: string;\n    @Input() suggestQuery: string;\n    @Input() label: string;\n\n    control: AbstractControl | null;\n    viewValue: string | number | undefined | null;\n\n    private _valueChangesSubscription: Subscription;\n\n    constructor(public appService: AppService) {}\n\n    ngOnChanges() {\n        if(this.label === undefined) {\n            this.label = this.appService.getLabel(this.field);\n        }\n        this.control = this.form.get(this.field);\n        if (this.control) {\n            if (this.control.value) {\n                this.viewValue = this.control.value.display\n                    ? this.control.value.display\n                    : this.control.value.value.toString();\n            }\n\n            this._valueChangesSubscription = Utils.subscribe(\n                this.control.valueChanges,\n                (val) => {\n                  if (val) {\n                      this.viewValue = val.display ? val.display : val.value.toString();\n                  }\n                }\n            );\n        }\n        else {\n            throw new Error(\"No form control named \"+this.field);\n        }\n    }\n\n    ngOnDestroy() {\n        if (this._valueChangesSubscription) {\n            this._valueChangesSubscription.unsubscribe();\n        }\n    }\n\n    onItemChange(item: AutocompleteItem) {\n        this.viewValue = item?.display;\n        this._updateControl(item);\n    }\n\n    private _updateControl(item: AutocompleteItem): void {\n        const value = item\n        ? {\n            value: item.normalized!,\n            display: item.display\n        } : undefined;\n        this.control?.markAsDirty();\n        this.control?.setValue(value, {emitEvent: false});\n    }\n}\n","import {\n    Directive,\n    Input,\n    Output,\n    EventEmitter,\n    HostListener,\n} from \"@angular/core\";\nimport { AutocompleteItem } from \"@sinequa/components/autocomplete\";\nimport { BsAdvancedFormAutocomplete } from \"../advanced-form-autocomplete.directive\";\nimport { Keys } from \"@sinequa/core/base\";\n\n@Directive({\n    selector: \"[sqAdvancedFormAutocompleteMultiInput]\",\n})\nexport class BsAdvancedFormAutocompleteMultiInput extends BsAdvancedFormAutocomplete {\n    /** Event synchronizing the list of search terms in the parent component */\n    @Output() itemsUpdate = new EventEmitter<AutocompleteItem[]>();\n\n    /** Stores the selected search terms selected via Tab */\n    @Input() items: AutocompleteItem[] = [];\n\n    /**\n     * The setAutocompleteItem() method from the original directive is overriden to\n     * Sets the content of the <input> based on the given\n     * Autocomplete Item.\n     * @returns false since we don't need trigger search at this point of time\n     */\n    protected setAutocompleteItem(item: AutocompleteItem): boolean {\n        if (item) {\n            // Store the autocomplete items that will be used to create a selection\n            this.items.push(item);\n            this.itemsUpdate.next(this.items);\n            this.setInputValue(\"\");\n        }\n        return false;\n    }\n\n    /**\n     * Listen to user's keyboard actions in the <input>, in order to navigate\n     * and select the autocomplete suggestions.\n     * Overrides the parent keydown method, adds the management of the backspace key\n     * to remove items, enhance the enter key to support adding new items.\n     * @param event the keyboard\n     */\n    keydown(event: KeyboardEvent) {\n        const keydown = super.keydown(event);\n\n        if (keydown === undefined) {\n            /** We can remove selections by typing <backspace> when the input is empty */\n            if (event.keyCode === Keys.backspace) {\n                if (this.getInputValue() === \"\") {\n                    this.items.pop();\n                    this.itemsUpdate.next(this.items);\n                }\n            }\n            /** Allow the selection one of new item */\n            if (event.keyCode === Keys.enter) {\n                this._manageSetAutocompleteItem();\n            }\n        }\n        return keydown;\n    }\n\n    /**\n     * Listens to blur events (out of focus) on the <input> host and overrides the parent blur events\n     */\n    @HostListener(\"blur\", [\"$event\"]) blur(event: FocusEvent) {\n        this._manageSetAutocompleteItem();\n        this.init();\n    }\n\n    private _manageSetAutocompleteItem(): void {\n        /** Always consider if there is text in the <input> and that it is not yet added in items  */\n        if (!!this.getInputValue() && this.getInputValue() !== \"\") {\n            this.setAutocompleteItem({\n                display: this.getInputValue(),\n                normalized: this.getInputValue(),\n                category: \"\",\n            });\n        }\n    }\n}\n","<div class=\"d-inline\">\n    <label>{{label | sqMessage}}</label>\n    <section class=\"sq-dropdown-form\">\n        <div class=\"form-control multi-entry\"\n            sqAdvancedFormValidation\n            [field]=\"field\"\n            [validationForm]=\"form\">\n            <span\n                *ngFor=\"let item of items\"\n                class=\"badge badge-pill badge-secondary align-self-center mr-1\">\n                {{ item.display }}\n                <span class=\"fas fa-times-circle clickable\" (click)=\"removeItem(item)\"></span>\n            </span>\n            <input\n                class=\"input-autocomplete flex-grow-1\"\n                type=\"text\"\n                autocomplete=\"off\"\n                spellcheck=\"off\"\n                sqAdvancedFormAutocompleteMultiInput\n                [field]=\"field\"\n                [off]=\"!suggestQuery\"\n                [suggestQuery]=\"suggestQuery\"\n                (itemsUpdate)=\"onItemsChanged($event)\"\n                [items]=\"items\"\n                [dropdown]=\"dropdown\"\n                (keydown)=\"keydown($event)\"\n                (keypress)=\"keypress($event)\">\n        </div>\n        <sq-autocomplete-list #dropdown>\n            <ng-template #itemTpl let-item>\n                <div class=\"autocomplete-item p-2\">{{item.display}}\n                </div>\n            </ng-template>\n        </sq-autocomplete-list>\n    </section>\n</div>\n","import { Component, Input, OnChanges, ElementRef, OnDestroy } from \"@angular/core\";\nimport { FormGroup, AbstractControl } from \"@angular/forms\";\nimport { Keys, Utils } from \"@sinequa/core/base\";\nimport { AutocompleteItem } from \"@sinequa/components/autocomplete\";\nimport { Subscription } from \"rxjs\";\nimport { AppService, ValueItem } from '@sinequa/core/app-utils';\n\n/**\n * Component representing a text input that accepts multiple entries.\n * This component also performs value validation on each entry.\n *\n */\n@Component({\n    selector: \"sq-advanced-form-multi-input\",\n    templateUrl: \"./advanced-form-multi-input.html\",\n    styleUrls: [\"./advanced-form-multi-input.scss\"],\n})\nexport class BsAdvancedFormMultiInput implements OnChanges, OnDestroy {\n    @Input() form: FormGroup;\n    @Input() field: string;\n    @Input() suggestQuery: string;\n    @Input() label: string;\n\n    items: AutocompleteItem[] = []; /** List of items already existing in the advanced search */\n    private _valueChangesSubscription: Subscription;\n\n    control: AbstractControl | null;\n\n    constructor(\n        private elementRef: ElementRef,\n        public appService: AppService) {}\n\n    ngOnChanges(): void {\n        if(this.label === undefined) {\n            this.label = this.appService.getPluralLabel(this.field);\n        }\n        this.control = this.form.get(this.field);\n        if (this.control) {\n            this.items = this.control.value\n                ? (Utils.isArray(this.control.value)\n                        ? this.control.value\n                        : [this.control.value]\n                    ).map((item: ValueItem) => {\n                        return {\n                            display: item.display ? item.display : item.value.toString(),\n                            normalized: item.value.toString(),\n                            category: \"\",\n                        };\n                    })\n                : [];\n\n            this._valueChangesSubscription = Utils.subscribe(\n                this.control.valueChanges,\n                (value) => {\n                    if(value && !Utils.isArray(value)) {\n                        value = [value];\n                    }\n                    this.items = value\n                        ? value.map((item: ValueItem) => {\n                                return {\n                                    display: item.display ? item.display : item.value.toString(),\n                                    normalized: item.value.toString(),\n                                    category: \"\",\n                                };\n                            })\n                        : [];\n                }\n            );\n        }\n        else {\n            throw new Error(\"No form control named \"+this.field);\n        }\n    }\n\n    ngOnDestroy() {\n        if (this._valueChangesSubscription) {\n            this._valueChangesSubscription.unsubscribe();\n        }\n    }\n\n    removeItem(item: AutocompleteItem) {\n        this.items.splice(this.items.indexOf(item), 1);\n        this._updateControl();\n    }\n\n    onItemsChanged(items: AutocompleteItem[]) {\n        this.items = items;\n        this._updateControl();\n    }\n\n    keydown(event: KeyboardEvent) {\n        // Intercept tab and set focus to surrounding dropdown-item\n        if (event.keyCode === Keys.tab) {\n            const dropdownItem = this._getDropdownItem();\n            if (dropdownItem) {\n                dropdownItem.focus();\n                event.preventDefault();\n                return false;\n            }\n        }\n        return undefined;\n    }\n\n    keypress(event: KeyboardEvent) {\n        if (event.keyCode === Keys.enter) {\n            // Stop click event firing on surrounding anchor (Firefox)\n            event.preventDefault();\n            return false;\n        }\n        return undefined;\n    }\n\n    private _updateControl(): void {\n        const value = this.items.length > 0\n            ? this.items.map((item) => (\n                {\n                    value: item.normalized!,\n                    display: item.display\n                }\n            ))\n            : undefined\n        this.control?.markAsDirty();\n        this.control?.setValue(value, {emitEvent: false});\n    }\n\n    private _getDropdownItem(): HTMLElement | null {\n        if (this.elementRef) {\n            let current: HTMLElement | null = this.elementRef\n                .nativeElement as HTMLElement;\n            while (current && !current.classList.contains(\"dropdown-item\")) {\n                current = current.parentElement;\n            }\n            return current;\n        }\n        return null;\n    }\n}\n","import {Component, Input, OnInit, AfterViewInit, OnDestroy, ViewChild, forwardRef} from \"@angular/core\";\nimport {ControlValueAccessor, NG_VALUE_ACCESSOR} from \"@angular/forms\";\nimport {Subscription} from \"rxjs\";\nimport {Utils} from \"@sinequa/core/base\";\nimport {IntlService} from \"@sinequa/core/intl\";\nimport {BsDaterangepickerDirective, BsDaterangepickerConfig, BsDatepickerDirective, BsDatepickerConfig} from \"ngx-bootstrap/datepicker\";\nimport moment from \"moment\";\nimport { DatePickerOptions } from '../date-picker/date-picker';\n\nexport const DATE_RANGE_PICKER_VALUE_ACCESSOR: any = {\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => BsDateRangePicker),\n    multi: true\n};\n\nexport interface DateRangePickerOptions extends DatePickerOptions {\n    closedRange?: boolean;\n}\n\n@Component({\n    selector: \"sq-date-range-picker\",\n    template: `\n        <div *ngIf=\"options.closedRange\" class=\"sq-date-range-picker form-row\">\n            <div class=\"col\">\n                <input type=\"text\" autocomplete=\"off\" class=\"form-control\" bsDaterangepicker triggers=\"click\" #fromTo=\"bsDaterangepicker\" [bsConfig]=\"bsFromToConfig()\" [ngModel]=\"value\" (ngModelChange)=\"updateFromTo($event)\" [placeholder]=\"dateFormat\"/>\n            </div>\n        </div>\n        <div *ngIf=\"!options.closedRange\" class=\"sq-date-range-picker form-row\">\n            <div class=\"col-auto\">\n                <input type=\"text\" autocomplete=\"off\" [id]=\"fromName\" class=\"form-control sq-range-from\" bsDatepicker triggers=\"click\" #from=\"bsDatepicker\" [bsConfig]=\"bsFromConfig()\" [ngModel]=\"value[0]\" (ngModelChange)=\"updateFrom($event)\" [placeholder]=\"dateFormat\"/>\n            </div>\n            <div class=\"col-auto sq-separator\">{{'msg#advanced.dateRangePicker.separator' | sqMessage}}</div>\n            <div class=\"col-auto\">\n                <input type=\"text\" autocomplete=\"off\" [id]=\"toName\" class=\"form-control sq-range-to\" bsDatepicker triggers=\"click\" #to=\"bsDatepicker\" [bsConfig]=\"bsToConfig()\" [ngModel]=\"value[1]\" (ngModelChange)=\"updateTo($event)\" [placeholder]=\"dateFormat\"/>\n            </div>\n        </div>\n    `,\n    providers: [DATE_RANGE_PICKER_VALUE_ACCESSOR]\n})\nexport class BsDateRangePicker implements OnInit, AfterViewInit, OnDestroy, ControlValueAccessor {\n\n    private readonly SystemFormat: string = 'YYYY-MM-DD';\n\n    @Input() options: DateRangePickerOptions;\n    value: (Date | undefined)[];\n    private onChangeCallback: (_: any) => void = () => {};\n    private localeChange: Subscription;\n    @ViewChild(\"fromTo\", {static: false}) fromToPicker: BsDaterangepickerDirective;\n    @ViewChild(\"from\", {static: false}) fromPicker: BsDatepickerDirective;\n    @ViewChild(\"to\", {static: false}) toPicker: BsDatepickerDirective;\n    fromName: string;\n    toName: string;\n\n    constructor(\n        public intlService: IntlService) {\n    }\n\n    ngOnInit() {\n        if (!this.options) {\n            this.options = {};\n        }\n        this.fromName = \"from_\" + this.options.name;\n        this.toName = \"to_\" + this.options.name;\n\n        if (!this.value) {\n            this.value = [undefined, undefined];\n        }\n    }\n\n    public get dateFormat(): string {\n        return this.options.system ? this.SystemFormat : moment.localeData().longDateFormat('L');\n    }\n\n    setLocale() {\n        if (!!this.fromToPicker && this.fromToPicker.isOpen) {\n            this.fromToPicker.hide();\n            this.fromToPicker.show();\n        }\n        if (!!this.fromPicker && this.fromPicker.isOpen) {\n            this.fromPicker.hide();\n            this.fromPicker.show();\n        }\n        if (!!this.toPicker && this.toPicker.isOpen) {\n            this.toPicker.hide();\n            this.toPicker.show();\n        }\n    }\n\n    ngAfterViewInit() {\n        this.setLocale();\n        this.localeChange = Utils.subscribe(this.intlService.events,\n            (value) => {\n                this.setLocale();\n            });\n    }\n\n    ngOnDestroy() {\n        if (this.localeChange) {\n            this.localeChange.unsubscribe();\n        }\n    }\n\n    //#region closedRange\n    bsFromToConfig(): BsDaterangepickerConfig {\n        return <any>{\n            minDate: this.options.minDate,\n            maxDate: this.options.maxDate,\n            containerClass:'theme-default',\n            showWeekNumbers: false,\n            rangeInputFormat: this.options.system ? this.SystemFormat : moment.localeData().longDateFormat('L')\n        };\n    }\n\n    updateFromTo(fromTo: Date[]) {\n        this.setValue([!!fromTo ? fromTo[0] : undefined, !!fromTo ? fromTo[1] : undefined]);\n        this.onChangeCallback(this.value);\n    }\n    //#endregion closedRange\n\n    //#region !closedRange\n    maxDate: Date | undefined;\n    minDate: Date | undefined;\n    bsFromConfig(): BsDatepickerConfig {\n        return <any>{\n            minDate: this.options.minDate,\n            maxDate: this.maxDate,\n            containerClass:'theme-default',\n            showWeekNumbers: false,\n            dateInputFormat: this.options.system ? this.SystemFormat : moment.localeData().longDateFormat('L'),\n        };\n    }\n\n    bsToConfig(): BsDatepickerConfig {\n        return <any>{\n            minDate: this.minDate,\n            maxDate: this.options.maxDate,\n            containerClass:'theme-default',\n            showWeekNumbers: false,\n            dateInputFormat: this.options.system ? this.SystemFormat : moment.localeData().longDateFormat('L'),\n        };\n    }\n\n    setMinMaxDate() {\n        this.maxDate = this.value[1] || this.options.maxDate;\n        this.minDate = this.value[0] || this.options.minDate;\n    }\n\n    resetMinMaxDate() {\n        this.maxDate = this.options.maxDate;\n        this.minDate = this.options.minDate;\n    }\n\n    updateFrom(from: Date) {\n        this.setValue([from, this.value[1]]);\n        this.onChangeCallback(this.value);\n    }\n\n    updateTo(to: Date) {\n        this.setValue([this.value[0], to]);\n        this.onChangeCallback(this.value);\n    }\n    //#endregion !closedRange\n\n    zeroTimes() {\n        if (this.value) {\n            if (Utils.isDate(this.value[0])) {\n                const date = this.value[0];\n                date.setHours(0);\n                date.setMinutes(0);\n                date.setSeconds(0);\n                date.setMilliseconds(0);\n            }\n            if (Utils.isDate(this.value[1])) {\n                const date = this.value[1];\n                date.setHours(0);\n                date.setMinutes(0);\n                date.setSeconds(0);\n                date.setMilliseconds(0);\n            }\n        }\n    }\n\n    setValue(value: (Date | undefined)[] | undefined) {\n        if (!this.value || !value || !Utils.equals(this.value[0], value[0]) || !Utils.equals(this.value[1], value[1])) {\n            if (!value) {\n                value = [undefined, undefined];\n            } else {\n                value[0] = !!value[0] ? new Date(value[0]) : value[0];\n                value[1] = !!value[1] ? new Date(value[1]) : value[1];\n            }\n            if (this.options.closedRange) {\n                this.value = value;\n                this.zeroTimes();\n            } else {\n                this.resetMinMaxDate();\n                this.value = value;\n                this.zeroTimes();\n                this.setMinMaxDate();\n            }\n        }\n    }\n\n    //#region ControlValueAccessor\n    writeValue(value: Date[]): void {\n        this.setValue(value);\n    }\n\n    registerOnChange(fn: any): void {\n        this.onChangeCallback = fn;\n    }\n\n    registerOnTouched(fn: any): void {\n    }\n    //#endregion\n}\n","<div class=\"form-group\" [formGroup]=\"form\">\n    <label for=\"{{forName}}\">{{label | sqMessage}}</label>\n    <div *ngIf=\"!isDate\"\n        class=\"sq-advanced-form-range form-row\"\n        sqAdvancedFormValidation\n        [field]=\"field\"\n        [validationForm]=\"form\"\n        [id]=\"field\">\n        <div class=\"col-auto d-flex flex-column\">\n            <input\n                type=\"text\"\n                autocomplete=\"off\"\n                spellcheck=\"off\"\n                class=\"form-control sq-range-from\"\n                [id]=\"fromName\"\n                [ngModel]=\"value[0]\"\n                (ngModelChange)=\"updateFrom($event)\"\n                [ngModelOptions]=\"{standalone: true}\"/>\n        </div>\n        <div class=\"col-auto sq-separator\">{{'msg#advanced.rangeSeparator' | sqMessage}}</div>\n        <div class=\"col-auto d-flex flex-column\">\n            <input\n                type=\"text\"\n                autocomplete=\"off\"\n                spellcheck=\"off\"\n                class=\"form-control sq-range-to\"\n                [id]=\"toName\"\n                [ngModel]=\"value[1]\"\n                (ngModelChange)=\"updateTo($event)\"\n                [ngModelOptions]=\"{standalone: true}\"/>\n        </div>\n    </div>\n    <sq-date-range-picker *ngIf=\"isDate\"\n        [options]=\"{name: field, system: false, closedRange: false, minDate: minDate, maxDate: maxDate}\"\n        [formControlName]=\"field\"\n        [id]=\"field\"\n        sqAdvancedFormValidation\n        [field]=\"field\"\n        [validationForm]=\"form\">\n    </sq-date-range-picker>\n</div>\n","import {\n    Component,\n    Input,\n    OnInit,\n    OnDestroy,\n} from \"@angular/core\";\nimport { FormGroup, AbstractControl } from \"@angular/forms\";\nimport { Subscription } from \"rxjs\";\nimport { Utils } from \"@sinequa/core/base\";\nimport { CCColumn } from \"@sinequa/core/web-services\";\nimport { AppService } from \"@sinequa/core/app-utils\";\n\n@Component({\n    selector: \"sq-advanced-form-range\",\n    templateUrl: \"./advanced-form-range.html\"\n})\nexport class BsAdvancedFormRange implements OnInit, OnDestroy {\n    @Input() form: FormGroup;\n    @Input() field: string;\n    @Input() min: Date | number | string;\n    @Input() max: Date | number | string;\n    @Input() label: string;\n\n    fromName: string;\n    toName: string;\n    forName: string;\n    column: CCColumn | undefined;\n    minDate: Date | undefined;\n    maxDate: Date | undefined;\n    control: AbstractControl | null;\n    value: (string | number | Date)[];\n    isDate: boolean;\n    private _valueChangesSubscription: Subscription;\n\n    constructor(private appService: AppService) {}\n\n    ngOnInit() {\n        this.fromName = \"from_\" + this.field;\n        this.toName = \"to_\" + this.field;\n        this.forName = this.fromName;\n        this.column = this.appService.getColumn(this.field);\n        if(this.label === undefined) {\n            this.label = this.appService.getPluralLabel(this.field);\n        }\n        this.isDate = !!this.column && AppService.isDate(this.column);\n        if (this.isDate) {\n            this.minDate = Utils.isDate(this.min)\n                ? this.min\n                : undefined;\n            this.maxDate = Utils.isDate(this.max)\n                ? this.max\n                : undefined;\n        }\n        this.control = this.form.get(this.field);\n        if (this.control) {\n            this.value = this.control.value;\n            this._valueChangesSubscription = Utils.subscribe(\n                this.control.valueChanges,\n                (value) => {\n                    this.value = value;\n                }\n            );\n        }\n        else {\n            throw new Error(\"No form control named \"+this.field);\n        }\n    }\n\n    ngOnDestroy() {\n        if (this._valueChangesSubscription) {\n            this._valueChangesSubscription.unsubscribe();\n        }\n    }\n\n    ensureValue(value: string): string | number | Date {\n        if (this.isDate) {\n            const value1 = Utils.toDate(value);\n            if (value1 !== undefined) {\n                return value1;\n            }\n        } else if (this.column && AppService.isNumber(this.column)) {\n            if (Utils.testFloat(value)) {\n                return Utils.toNumber(value);\n            }\n        }\n        return value;\n    }\n\n    updateFrom(from: string) {\n        this.value[0] = this.ensureValue(from);\n        if (this.control) {\n            this.control.markAsDirty();\n            this.control.setValue(this.value);\n        }\n    }\n\n    updateTo(to: string) {\n        this.value[1] = this.ensureValue(to);\n        if (this.control) {\n            this.control.markAsDirty();\n            this.control.setValue(this.value);\n        }\n    }\n}\n","<div class=\"dropdown\">\n    <!-- item-list toggle -->\n    <button #button class=\"btn btn-light {{disabled ? ' disabled' : ''}} dropdown-toggle form-control\" data-toggle=\"dropdown\" type=\"button\" role=\"button\" (click)=\"toggleOpen()\" (blur)=\"blur($event)\" (keydown)=\"keydown($event)\" tabindex=\"0\"><span class=\"sq-button-text\">{{buttonTitle | sqMessage:buttonTitleMessageParams}}</span></button>\n    <!-- item-list view -->\n    <div *ngIf=\"opened\" [hidden]=\"!isOpen\" class=\"dropdown-menu dropdown-menu-left show\" [style.max-height]=\"itemListHeight\" role=\"combobox\" (mousedown)=\"mousedown($event)\">\n        <!-- items -->\n        <a *ngFor=\"let itemName of names; let i = index\" class=\"dropdown-item{{activeItem === i ? ' active' : ''}}\"\n            (click)=\"toggleItemSelected(i)\" (keydown)=\"keydown($event)\" tabindex=\"-1\"\n            [sqScrollIntoView]=\"{active: i === activeItem, first: i === 0}\">\n            <span class=\"fas fa-check {{isItemSelected(i) ? '' : ' invisible'}} left\"></span>\n            <span>{{itemName}}</span>\n        </a>\n    </div>\n</div>\n","import { Component, forwardRef, Input, OnInit, ViewChild, ElementRef } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { Utils, Keys } from \"@sinequa/core/base\";\nimport { ValueItem } from '@sinequa/core/app-utils';\n\n@Component({\n    selector: \"sq-select\",\n    templateUrl: \"./select.html\",\n    providers: [{\n        provide: NG_VALUE_ACCESSOR,\n        multi: true,\n        useExisting: forwardRef(() => BsSelectComponent),\n        }]\n})\nexport class BsSelectComponent implements ControlValueAccessor, OnInit {\n    @Input() items: ValueItem[];\n    @Input() disabled: boolean;\n    @Input() multiple: boolean;\n    @ViewChild(\"button\", {static: false}) buttonElement: ElementRef;\n    opened: boolean = false;\n    isOpen: boolean = false;\n    activeItem: number = -1;\n    private cancelBlur: boolean = false; // For IE which takes focus when clicking on dropdown scrollbar despite the mousedown handling\n    public names: string[];\n    private selectedItems: number[]; //stores indices of selected items\n    private onChangeCallback: (_: any) => void = () => {};\n\n    ngOnInit() {\n        this.clearSelected();\n        if (this.items.length === 0) {\n          this.disabled = false;\n        }\n        this.names = [];\n        this.items.forEach(item => this.names.push(item.display!));\n    }\n\n    setOpen(value: boolean): void {\n        if (!this.opened) {\n            if (this.disabled || !value) {\n                return;\n            }\n            this.opened = true;\n        }\n        this.isOpen = value;\n        if (!value) {\n            this.activeItem = -1;\n        }\n    }\n\n    mousedown(event: Event): void {\n        event.preventDefault();\n        this.cancelBlur = true;\n        Utils.delay().then(() => this.cancelBlur = false);\n    }\n\n    blur(event: FocusEvent): void {\n        if (this.cancelBlur) {\n            event.preventDefault();\n            event.stopImmediatePropagation();\n            Utils.delay().then(() => {\n                this.buttonElement.nativeElement.focus();\n            });\n            return;\n        }\n        this.setOpen(false);\n    }\n\n    toggleOpen(): void {\n        if (this.disabled) {\n            return;\n        }\n        this.setOpen(!this.isOpen);\n    }\n\n    keydown($event: KeyboardEvent): void {\n        if (this.disabled) {\n            return;\n        }\n        // arrow down\n        if ($event.keyCode === Keys.down) {\n            if (!this.isOpen) {\n                this.setOpen(true);\n            }\n            this.activeItem++;\n            if (this.activeItem >= this.items.length) {\n                this.activeItem = 0;\n            }\n            $event.preventDefault();\n            $event.stopPropagation();\n        }\n        // arrow up\n        else if ($event.keyCode === Keys.up) {\n            if (!this.isOpen) {\n                this.setOpen(true);\n            }\n            this.activeItem--;\n            if (this.activeItem < 0) {\n                this.activeItem = this.items.length - 1;\n            }\n            $event.preventDefault();\n            $event.stopPropagation();\n        }\n        // enter or space\n        else if (($event.keyCode === Keys.enter || $event.keyCode === Keys.space) &&\n            this.activeItem >= 0 && this.activeItem < this.items.length) {\n            this.toggleItemSelected(this.activeItem);\n            $event.preventDefault();\n            $event.stopPropagation();\n        }\n        // escape\n        else if ($event.keyCode === Keys.esc && this.isOpen) {\n            this.setOpen(false);\n            $event.preventDefault();\n            $event.stopPropagation();\n        }\n    }\n\n    private clearSelected() {\n        this.selectedItems = [];\n    }\n\n    private countSelected(): number {\n        return this.selectedItems.length;\n    }\n\n    isItemSelected(itemIndex: number) : boolean {\n        return this.selectedItems.includes(itemIndex);\n    }\n\n    toggleItemSelected(itemIndex: number): void {\n        const idx: number = this.selectedItems.indexOf(itemIndex);\n        // Remove item if it was already selected\n        if (idx > -1) {\n            this.selectedItems.splice(idx, 1);\n        }\n        // regular case: just add the index, and update the active item if it exists\n        else if (this.multiple) {\n            this.selectedItems.push(itemIndex);\n            if (this.activeItem >= 0)\n                this.activeItem = itemIndex;\n        }\n        // single-item case: ensure there is only one selected item, and close the menu\n        else {\n            this.selectedItems = [itemIndex];\n            this.setOpen(false);\n        }\n        this.triggerOnChange();\n    }\n\n    /* Template properties */\n    get buttonTitleMessageParams(): any {\n        return {\n            values: {\n                count: this.countSelected()\n            }\n        };\n    }\n\n    get buttonTitle(): string {\n        const selectCount = this.countSelected();\n\n        if (selectCount === 0) {\n            return \"msg#advanced.select.noItems\";\n        }\n        if (!this.multiple) {\n            return this.items[this.selectedItems[0]].display!;\n        }\n        if (selectCount === this.items.length) {\n            return \"msg#advanced.select.allItems\";\n        }\n\n        //Get list of items names corresponding to selected indices\n        return this.selectedItems\n            .map(index => this.items[index].display!)\n            .sort()\n            .join(\", \");\n    }\n\n    get itemListHeight(): string {\n        // use 10 as default\n        return (10 * 4) + \"ex\";\n    }\n    /* End Template properties */\n\n    /* Change event */\n    private triggerOnChange() {\n        // Gather selected item values\n        let values: ValueItem | ValueItem[] | undefined;\n        // We can not pass an empty array, when empty use undefined instead\n        if (this.selectedItems.length === 0) {\n            values = undefined;\n        }\n        // return an array if multiple\n        else if (this.multiple) {\n            values = this.selectedItems.map(index => this.items[index]);\n        }\n        // directly pass the value if not multiple\n        else {\n            values = this.items[this.selectedItems[0]];\n        }\n\n        this.onChangeCallback(values);\n    }\n    /* End Change event */\n\n    /* ControlValueAccessor methods */\n    writeValue(value: ValueItem | ValueItem[]): void {\n        this.clearSelected();\n        if (value) {\n            // the value may not be an array if this select is not multiple\n            const asArray = Array.isArray(value) ? value : [value];\n            //Mark items as selected based on input values\n            this.items.forEach((item, index) => {\n                if (asArray.find((el) => el.value === item.value) && index !== undefined) {\n                    this.selectedItems.push(index);\n                }\n            });\n        }\n    }\n\n    registerOnChange(fn: any): void {\n        this.onChangeCallback = fn;\n    }\n\n    registerOnTouched(fn: any): void {\n    }\n    /* End ControlValueAccessor methods */\n}\n","import {Component, Input, OnInit, OnDestroy} from \"@angular/core\";\nimport {FormGroup} from \"@angular/forms\";\nimport {AppService, ValueItem} from \"@sinequa/core/app-utils\";\nimport {CCColumn, Aggregation, AggregationItem} from \"@sinequa/core/web-services\";\nimport {Utils} from \"@sinequa/core/base\";\nimport {Subscription} from \"rxjs\";\nimport {FirstPageService} from \"@sinequa/components/search\";\n\n@Component({\n    selector: \"sq-advanced-form-select\",\n    templateUrl: \"./advanced-form-select.html\",\n})\nexport class BsAdvancedFormSelect implements OnInit, OnDestroy {\n    @Input() form: FormGroup;\n    @Input() field: string;\n    /** Optional label: the component looks for the label in the Query web service configuration for the given field */\n    @Input() label: string;\n    /** Whether the component supports multiple selection */\n    @Input() multiple: boolean;\n    /** Optional input. The component automatically looks for an aggregation with the name equal to the field */\n    @Input() aggregation: string;\n\n    column: CCColumn | undefined;\n    items: ValueItem[];\n\n    private _valueChangesSubscription: Subscription;\n\n    constructor(\n        private appService: AppService,\n        private firstPageService: FirstPageService) {\n    }\n\n    ngOnInit() {\n        const control = this.form.get(this.field);\n        if(!control) {\n            throw new Error(\"No control in search-form named \"+this.field);\n        }\n        this.column = this.appService.getColumn(this.field);\n        this.items = this.getItems();\n        if(this.label === undefined) {\n            if(this.multiple) {\n                this.label = this.appService.getPluralLabel(this.field);\n            }\n            else {\n                this.label = this.appService.getLabel(this.field);\n            }\n        }\n    }\n\n    ngOnDestroy() {\n        if (this._valueChangesSubscription) {\n            this._valueChangesSubscription.unsubscribe();\n        }\n    }\n\n    private getItems(): ValueItem[] {\n        const firstPage = this.firstPageService.firstPage;\n        if (firstPage) {\n            // Find aggregation for field\n            const condition = (this.aggregation) ?\n                (aggr: Aggregation) => Utils.eqNC(aggr.name, this.aggregation) :\n                (aggr: Aggregation) => this.column && Utils.eqNC(aggr.column, this.column.name);\n            const aggregation = firstPage.aggregations.find(condition);\n\n            if (aggregation && aggregation.items) {\n                return aggregation.items\n                .filter(\n                    (item) => !Utils.isArray(item.value) && !!item.value\n                )\n                .map(\n                    (item: AggregationItem) => (\n                        {\n                            value: item.value,\n                            display: item.display ? item.display : item.value.toString()\n                        }\n                    )\n                );\n            }\n        }\n        return [];\n    }\n}\n","<div class=\"form-group\" [formGroup]=\"form\">\n    <label for=\"{{field}}\">{{label | sqMessage}}</label>\n    <sq-select\n        [items]=\"items\"\n        [multiple]=\"multiple\"\n        [formControlName]=\"field\"\n        [id]=\"field\"\n        sqAdvancedFormValidation\n        [field]=\"field\"\n        [validationForm]=\"form\">\n    </sq-select>\n</div>\n","import {Component, Input, OnInit, AfterViewInit, OnDestroy, ViewChild, forwardRef, ElementRef} from \"@angular/core\";\nimport {ControlValueAccessor, NG_VALUE_ACCESSOR} from \"@angular/forms\";\nimport {Subscription} from \"rxjs\";\nimport {Utils} from \"@sinequa/core/base\";\nimport {IntlService} from \"@sinequa/core/intl\";\nimport {BsDatepickerDirective, BsDatepickerConfig} from \"ngx-bootstrap/datepicker\";\nimport moment from \"moment\";\n\nexport const DATE_PICKER_VALUE_ACCESSOR: any = {\n    provide: NG_VALUE_ACCESSOR,\n    useExisting: forwardRef(() => BsDatePicker),\n    multi: true\n};\n\nexport interface DatePickerOptions {\n    name?: string;\n    system?: boolean; // default false\n    minDate?: Date;\n    maxDate?: Date;\n}\n\n@Component({\n    selector: \"sq-date-picker\",\n    template: `\n        <div class=\"sq-date-picker form-row\">\n            <div class=\"col\">\n                <input type=\"text\" #input class=\"form-control\" autocomplete=\"off\" bsDatepicker triggers=\"click\" #picker=\"bsDatepicker\" [bsConfig]=\"bsConfig()\" [ngModel]=\"value\" (ngModelChange)=\"updateValue($event)\" [placeholder]=\"dateFormat\" />\n            </div>\n        </div>\n    `,\n    providers: [DATE_PICKER_VALUE_ACCESSOR]\n})\nexport class BsDatePicker implements OnInit, AfterViewInit, OnDestroy, ControlValueAccessor {\n\n    private readonly SystemFormat: string = 'YYYY-MM-DD';\n\n    @Input() options: DatePickerOptions;\n    value: Date;\n    private onChangeCallback: (_: any) => void = () => {};\n    private localeChange: Subscription;\n    @ViewChild(\"picker\", {static: false}) picker: BsDatepickerDirective;\n    @ViewChild('input', {static: false}) input: ElementRef;\n\n    constructor(\n        public intlService: IntlService) {\n    }\n\n    ngOnInit() {\n        if (!this.options) {\n            this.options = {};\n        }\n    }\n\n    public get dateFormat(): string {\n        return this.options.system ? this.SystemFormat : moment.localeData().longDateFormat('L');\n    }\n\n    setLocale() {\n        if (!!this.picker && this.picker.isOpen) {\n            this.picker.hide();\n            this.picker.show();\n        }\n    }\n\n    ngAfterViewInit() {\n        this.setLocale();\n        this.localeChange = Utils.subscribe(this.intlService.events,\n            (value) => {\n                this.setLocale();\n            });\n    }\n\n    ngOnDestroy() {\n        if (this.localeChange) {\n            this.localeChange.unsubscribe();\n        }\n    }\n\n    bsConfig(): BsDatepickerConfig {\n        return <any>{\n            minDate: this.options.minDate,\n            maxDate: this.options.maxDate,\n            containerClass:'theme-default',\n            showWeekNumbers: false,\n            dateInputFormat: this.options.system ? this.SystemFormat : moment.localeData().longDateFormat('L')\n        };\n    }\n\n    updateValue(value: Date) {\n        this.value = value;\n        this.zeroTimes(this.value);\n        this.onChangeCallback(this.value);\n        this.focus();\n    }\n\n    private zeroTimes(value: Date): void {\n        if (Utils.isDate(value)) { // includes null checking\n            value.setHours(0, 0, 0, 0);\n        }\n    }\n\n    public focus(): void {\n        if (this.input) {\n            this.input.nativeElement.focus();\n        }\n    }\n\n    //#region ControlValueAccessor\n    writeValue(value: Date): void {\n        this.value = value;\n    }\n\n    registerOnChange(fn: any): void {\n        this.onChangeCallback = fn;\n    }\n\n    registerOnTouched(fn: any): void {\n    }\n    //#endregion\n}\n","import {NgModule} from \"@angular/core\";\nimport {CommonModule} from \"@angular/common\";\nimport {FormsModule, ReactiveFormsModule} from \"@angular/forms\";\n\nimport {IntlModule} from \"@sinequa/core/intl\";\n\nimport {BsDatepickerModule} from \"ngx-bootstrap/datepicker\";\n\nimport {UtilsModule} from \"@sinequa/components/utils\";\nimport {BsAutocompleteModule} from \"@sinequa/components/autocomplete\";\n\nimport {BsAdvancedFormCheckbox} from \"./advanced-form-checkbox/advanced-form-checkbox\";\nimport {BsAdvancedFormRange} from \"./advanced-form-range/advanced-form-range\";\nimport {BsAdvancedFormSelect} from \"./advanced-form-select/advanced-form-select\";\nimport { BsAdvancedFormMultiInput } from './advanced-form-multi-input/advanced-form-multi-input';\nimport { BsAdvancedFormInput } from './advanced-form-input/advanced-form-input';\nimport { BsDatePicker } from './advanced-form-range/date-picker/date-picker';\nimport { BsDateRangePicker } from './advanced-form-range/date-range-picker/date-range-picker';\nimport { BsSelectComponent } from './advanced-form-select/select/select';\n\n// Directives\nimport {BsAdvancedFormAutocomplete} from \"./advanced-form-autocomplete.directive\";\nimport {BsAdvancedFormValidation} from \"./advanced-form-validation.directive\";\nimport { BsAdvancedFormAutocompleteMultiInput } from './advanced-form-multi-input/advanced-form-autocomplete-multi-input.directive';\n\n\n@NgModule({\n    imports: [\n        CommonModule,\n        FormsModule,\n        ReactiveFormsModule,\n\n        IntlModule,\n\n        // ngx-bootstrap\n        BsDatepickerModule.forRoot(),\n\n        UtilsModule,\n        BsAutocompleteModule\n    ],\n    declarations: [\n        BsAdvancedFormCheckbox,\n        BsAdvancedFormInput,\n        BsAdvancedFormRange,\n        BsAdvancedFormSelect,\n        BsAdvancedFormMultiInput,\n        BsDatePicker,\n        BsDateRangePicker,\n        BsSelectComponent,\n\n        BsAdvancedFormAutocompleteMultiInput,\n        BsAdvancedFormAutocomplete,\n        BsAdvancedFormValidation,\n    ],\n    exports: [\n        BsAdvancedFormCheckbox,\n        BsAdvancedFormInput,\n        BsAdvancedFormRange,\n        BsAdvancedFormSelect,\n        BsAdvancedFormMultiInput,\n        BsDatePicker,\n        BsDateRangePicker,\n        BsSelectComponent,\n\n        BsAdvancedFormAutocompleteMultiInput,\n        BsAdvancedFormAutocomplete,\n        BsAdvancedFormValidation,\n    ]\n})\nexport class BsAdvancedModule {\n}\n","export default {\n    \"advanced\": {\n        \"rangeSeparator\": \" / \",\n        \"dateRangePicker\": {\n            \"separator\": \" / \"\n        },\n        \"rangeInput\": {\n            \"separator\": \"/\"\n        },\n        \"select\": {\n            \"nItems\": \"{count} items selected\",\n            \"allItems\": \"All items selected\",\n            \"noItems\": \"No items selected\"\n        }\n    }\n};\n","import {Utils} from \"@sinequa/core/base\";\nimport {enSearch, frSearch, deSearch} from \"@sinequa/components/search\";\nimport _enAdvanced from \"./en\";\nimport _frAdvanced from \"./fr\";\nimport _deAdvanced from \"./de\";\n\nconst enAdvanced = Utils.merge({}, _enAdvanced, enSearch);\nconst frAdvanced = Utils.merge({}, _frAdvanced, frSearch);\nconst deAdvanced = Utils.merge({}, _deAdvanced, deSearch);\n\nexport {enAdvanced, frAdvanced, deAdvanced};\n\n","export default {\n    \"advanced\": {\n        \"rangeSeparator\": \" / \",\n        \"dateRangePicker\": {\n            \"separator\": \" / \"\n        },\n        \"rangeInput\": {\n            \"separator\": \"/\"\n        },\n        \"select\": {\n            \"nItems\": \"{count} éléments sélectionnés\",\n            \"allItems\": \"Tous les éléments\",\n            \"noItems\": \"Aucun élément\"\n        }\n    }\n};\n","export default {\n    \"advanced\": {\n        \"rangeSeparator\": \" / \",\n        \"dateRangePicker\": {\n            \"separator\": \" / \"\n        },\n        \"rangeInput\": {\n            \"separator\": \"/\"\n        },\n        \"select\": {\n            \"nItems\": \"{count} Elemente ausgewählt\",\n            \"allItems\": \"Alle Elemenente ausgewählt\",\n            \"noItems\": \"Keine Elemente ausgewählt\"\n        }\n    }\n};\n"]}