!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common"),require("@angular/forms"),require("@sinequa/core/intl"),require("@sinequa/core/validation"),require("@sinequa/components/utils"),require("@sinequa/components/modal"),require("@sinequa/components/autocomplete"),require("rxjs"),require("@sinequa/core/base"),require("@sinequa/components/action"),require("@sinequa/core/web-services"),require("@sinequa/core/app-utils"),require("@sinequa/components/search"),require("@sinequa/core/modal"),require("@sinequa/core/notification"),require("@sinequa/components/selection"),require("@sinequa/core/login")):"function"==typeof define&&define.amd?define("@sinequa/components/labels",["exports","@angular/core","@angular/common","@angular/forms","@sinequa/core/intl","@sinequa/core/validation","@sinequa/components/utils","@sinequa/components/modal","@sinequa/components/autocomplete","rxjs","@sinequa/core/base","@sinequa/components/action","@sinequa/core/web-services","@sinequa/core/app-utils","@sinequa/components/search","@sinequa/core/modal","@sinequa/core/notification","@sinequa/components/selection","@sinequa/core/login"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self).sinequa=e.sinequa||{},e.sinequa.components=e.sinequa.components||{},e.sinequa.components.labels={}),e.ng.core,e.ng.common,e.ng.forms,e.sinequa.core.intl,e.sinequa.core.validation,e.sinequa.components.utils,e.sinequa.components.modal,e.sinequa.components.autocomplete,e.rxjs,e.sinequa.core.base,e.sinequa.components.action,e.sinequa.core["web-services"],e.sinequa.core["app-utils"],e.sinequa.components.search,e.sinequa.core.modal,e.sinequa.core.notification,e.sinequa.components.selection,e.sinequa.core.login)}(this,(function(e,t,l,i,n,a,s,r,o,c,u,d,p,b,m,f,v,h,g){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var L=function(e,t){return(L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var l in t)t.hasOwnProperty(l)&&(e[l]=t[l])})(e,t)};function S(e,t){function l(){this.constructor=e}L(e,t),e.prototype=null===t?Object.create(t):(l.prototype=t.prototype,new l)}Object.create;function y(e){var t="function"==typeof Symbol&&Symbol.iterator,l=t&&e[t],i=0;if(l)return l.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function k(e,t){var l="function"==typeof Symbol&&e[Symbol.iterator];if(!l)return e;var i,n,a=l.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=a.next()).done;)s.push(i.value)}catch(e){n={error:e}}finally{try{i&&!i.done&&(l=a.return)&&l.call(a)}finally{if(n)throw n.error}}return s}function w(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(k(arguments[t]));return e}Object.create;var x=new t.InjectionToken("LABELS_COMPONENTS"),P=function(){function e(e,t,l,i,n,a,s,r,o){var c=this;this.labelsWebService=e,this.appService=t,this.searchService=l,this.modalService=i,this.principalWebService=n,this.intlService=a,this.notificationService=s,this.selectionService=r,this.labelsComponents=o,this.principalWebService.events.subscribe((function(e){switch(e.type){case"changed":c._privateLabelsPrefix=void 0,c.labelsRights=void 0,c.labelsRightsSubscription=void 0}}))}return Object.defineProperty(e.prototype,"publicLabelsField",{get:function(){return this.appService.cclabels?this.appService.cclabels.publicLabelsField:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"privateLabelsField",{get:function(){return this.appService.cclabels?this.appService.cclabels.privateLabelsField:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"labelsAutoSuggestWildcard",{get:function(){return this.appService.cclabels?this.appService.cclabels.labelsAutoSuggestWildcard:void 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"allowPublicLabelsManagement",{get:function(){return!!this.appService.cclabels&&this.appService.cclabels.allowPublicLabelsCreation},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"allowPublicLabelsEdition",{get:function(){return!!this.appService.cclabels&&this.appService.cclabels.allowPublicLabelsModification},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLabelsRights",{get:function(){var t;if(!this.labelsRights){if(this.labelsRightsSubscription)t=e.defaultLabelsRights;else{var l=this.labelsWebService.getUserRights();this.labelsRightsSubscription=u.Utils.subscribe(l,(function(e){return t=e}))}this.labelsRights=t||e.defaultLabelsRights}return this.labelsRights},enumerable:!1,configurable:!0}),e.prototype.ngOnDestroy=function(){this.labelsRightsSubscription&&this.labelsRightsSubscription.unsubscribe()},e.prototype.renameLabelModal=function(){var e={oldValues:[],newValue:"",properties:this._modalProperties(2)};return this.modalService.open(this.labelsComponents.renameModal,{model:e})},e.prototype.deleteLabelModal=function(){var e={values:[],properties:this._modalProperties(3)};return this.modalService.open(this.labelsComponents.deleteModal,{model:e})},e.prototype.bulkAddLabelModal=function(){var e={values:[],properties:this._modalProperties(4)};return this.modalService.open(this.labelsComponents.addModal,{model:e})},e.prototype.bulkRemoveLabelModal=function(){var e={values:[],properties:this._modalProperties(5)};return this.modalService.open(this.labelsComponents.deleteModal,{model:e})},e.prototype._modalProperties=function(e){var t,l=this.allowPublicLabelsManagement&&this.userLabelsRights&&this.userLabelsRights.canManagePublicLabels,i=this.allowPublicLabelsEdition&&this.userLabelsRights&&this.userLabelsRights.canEditPublicLabels,n=!1;switch(e){case 2:case 1:case 3:case 5:n=!1;break;case 0:case 4:case 6:n=!0}switch(e){case 2:case 3:t=this._getModalRadioButtonsConf(l);break;case 0:case 4:case 1:case 5:case 6:t=this._getModalRadioButtonsConf(l||i)}return Object.assign({allowEditPublicLabels:i,allowManagePublicLabels:l,allowNewLabels:n,action:e},t)},e.prototype._getModalRadioButtonsConf=function(e){var t=!0,l=!1,i=[],n={id:"publicLabel",name:"msg#labels.public",value:!0,disabled:!1,checked:!0},a={id:"privateLabel",name:"msg#labels.private",value:!1,disabled:!1,checked:!1};return this.publicLabelsField&&this.privateLabelsField?e?(t=!0,i=[n,a]):(t=!1,i=[n=Object.assign(Object.assign({},n),{disabled:!0,checked:!1}),a=Object.assign(Object.assign({},a),{disabled:!0,checked:!0})]):this.publicLabelsField?e?(t=!0,i=[n=Object.assign(Object.assign({},n),{disabled:!0,checked:!0})]):(t=!1,l=!0,i=[n=Object.assign(Object.assign({},n),{disabled:!0,checked:!1})]):this.privateLabelsField&&(t=!1,i=[a=Object.assign(Object.assign({},a),{disabled:!0,checked:!0})]),{public:t,disableAutocomplete:l,radioButtons:i}},e.prototype.buildSelectionAction=function(){var e=this;if(this.publicLabelsField||this.privateLabelsField){var t=new d.Action({icon:"fas fa-tags",title:"msg#labels.labels",action:function(){e.editLabelModal()}});return t&&(t.updater=function(t){t.hidden=!e.selectionService.haveSelectedRecords},t.hidden=!0),t}},e.prototype.editLabelModal=function(){var e={valuesToBeAdded:[],valuesToBeRemoved:[],properties:this._modalProperties(6)};return this.modalService.open(this.labelsComponents.editModal,{model:e})},e.prototype.addLabels=function(e,t,l){return e&&0!==e.length&&t&&0!==t.length?this.labelsWebService.add(e,t,l):c.of()},e.prototype.removeLabels=function(e,t,l){return e&&0!==e.length&&t&&0!==t.length?this.labelsWebService.remove(e,t,l):c.of()},e.prototype.selectLabels=function(e,t){var l,i,n=this.appService.cclabels&&(t?this.appService.cclabels.publicLabelsField:this.appService.cclabels.privateLabelsField);if(!n)return Promise.resolve(!1);var a=[],s=this.getSelectedLabels(n);try{for(var r=y(e),o=r.next();!o.done;o=r.next()){var c=o.value,u=c;t||(c=this.addPrivatePrefix(c)),-1===s.indexOf(c)&&a.push({value:c,display:u})}}catch(e){l={error:e}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(l)throw l.error}}return this.searchService.addFieldSelect(n,a),this.searchService.search(void 0,{type:"Label_Open",detail:{label:e?e.toString():null,public:t}})},e.prototype.getSelectedLabels=function(e){var t,l,i,n=[];if(e&&(null===(i=this.searchService.breadcrumbs)||void 0===i?void 0:i.activeSelects))try{for(var a=y(this.searchService.breadcrumbs.activeSelects),s=a.next();!s.done;s=a.next()){var r=s.value;if(r.expr)r.expr.getValues(e).forEach((function(e){-1===n.indexOf(e)&&n.push(e)}))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(l=a.return)&&l.call(a)}finally{if(t)throw t.error}}return n},e.prototype.renameLabels=function(e,t,l){var i=this;if(!e||0===e.length)return c.of();var n=this.labelsWebService.rename(e,t,l);return u.Utils.subscribe(n,(function(){}),(function(){i.notificationService.error("msg#renameLabel.errorFeedback")}),(function(){i.notificationService.success("msg#renameLabel.successFeedback"),i.searchService.search()})),n},e.prototype.deleteLabels=function(e,t){var l=this;if(!e||0===e.length)return c.of();var i=this.labelsWebService.delete(e,t);return u.Utils.subscribe(i,(function(){}),(function(){l.notificationService.error("msg#deleteLabel.errorFeedback")}),(function(){l.notificationService.success("msg#deleteLabel.successFeedback"),l.searchService.search()})),i},e.prototype.bulkAddLabels=function(e,t){var l=this;if(!e||0===e.length)return c.of();var i=this.labelsWebService.bulkAdd(e,this.searchService.query,t);return u.Utils.subscribe(i,(function(){}),(function(){l.notificationService.error("msg#bulkAddLabel.errorFeedback")}),(function(){l.notificationService.success("msg#bulkAddLabel.successFeedback"),l.searchService.search()})),i},e.prototype.bulkRemoveLabels=function(e,t){var l=this;if(!e||0===e.length)return c.of();var i=this.labelsWebService.bulkRemove(e,this.searchService.query,t);return u.Utils.subscribe(i,(function(){}),(function(){l.notificationService.error("msg#bulkRemoveLabel.errorFeedback")}),(function(){l.notificationService.success("msg#bulkRemoveLabel.successFeedback"),l.searchService.search()})),i},Object.defineProperty(e.prototype,"privateLabelsPrefix",{get:function(){return this.principalWebService.principal?(!this._privateLabelsPrefix&&this.appService.cclabels&&(this.appService.isTree(this.appService.cclabels.privateLabelsField)?this._privateLabelsPrefix=u.Utils.addUrl("/",u.Utils.replace(this.principalWebService.principal.userId,"|","/"),"/"):this._privateLabelsPrefix=this.principalWebService.principal.userId+"|"),this._privateLabelsPrefix||""):""},enumerable:!1,configurable:!0}),e.prototype.sort=function(e,t){var l=this;return e?e.sort((function(e,i){return e?i?(t||(e=l.removePrivatePrefix(e),i=l.removePrivatePrefix(i)),e=l.intlService.formatMessage(e),i=l.intlService.formatMessage(i),e.localeCompare(i)):1:-1})):e},e.prototype.split=function(e){return e?e.trim().split(/\s*;\s*/).filter((function(e){return""!==e})):[]},e.prototype._addPrivatePrefix=function(e){return this.appService.cclabels&&this.appService.isTree(this.appService.cclabels.privateLabelsField)?u.Utils.addUrl(this.privateLabelsPrefix,e):this.privateLabelsPrefix+e},e.prototype.addPrivatePrefix=function(e){if("string"==typeof e)return this._addPrivatePrefix(e);for(var t=0,l=e.length;t<l;t++)e[t]=this._addPrivatePrefix(e[t]);return e},e.prototype._removePrivatePrefix=function(e){return 0===e.indexOf(this.privateLabelsPrefix)?this.appService.cclabels&&this.appService.isTree(this.appService.cclabels.privateLabelsField)?e.slice(this.privateLabelsPrefix.length-1):e.slice(this.privateLabelsPrefix.length):e},e.prototype.removePrivatePrefix=function(e){if("string"==typeof e)return this._removePrivatePrefix(e);for(var t=0,l=e.length;t<l;t++)e[t]=this._removePrivatePrefix(e[t]);return e},e}();P.defaultLabelsRights={canManagePublicLabels:!0,canEditPublicLabels:!0},P.ɵfac=function(e){return new(e||P)(t.ɵɵinject(p.LabelsWebService),t.ɵɵinject(b.AppService),t.ɵɵinject(m.SearchService),t.ɵɵinject(f.ModalService),t.ɵɵinject(p.PrincipalWebService),t.ɵɵinject(n.IntlService),t.ɵɵinject(v.NotificationsService),t.ɵɵinject(h.SelectionService),t.ɵɵinject(x))},P.ɵprov=t.ɵɵdefineInjectable({token:P,factory:P.ɵfac,providedIn:"root"});var M=function(e){function t(t,l,i){var n=e.call(this,l,i)||this;return n.labelsService=t,n}return S(t,e),t.prototype.updateValue=function(t,l){e.prototype.updateValue.call(this,t,l),this.value=t,l||(this.value=this.labelsService.removePrivatePrefix(this.value)),this.value=this.intlService.formatMessage(this.value)},t}(n.AbstractIntlPipe);function I(e,l){if(1&e){var i=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"i",6),t.ɵɵlistener("click",(function(){t.ɵɵrestoreView(i);var e=t.ɵɵnextContext().index;return t.ɵɵnextContext(2).remove(e)})),t.ɵɵpipe(1,"sqMessage"),t.ɵɵelementEnd()}if(2&e){var n=t.ɵɵnextContext(3);t.ɵɵpropertyInterpolate("title",t.ɵɵpipeBind1(1,1,n.public?"msg#labels.removePublicLabelTitle":"msg#labels.removePrivateLabelTitle"))}}M.ɵfac=function(e){return new(e||M)(t.ɵɵdirectiveInject(P),t.ɵɵdirectiveInject(n.IntlService),t.ɵɵinjectPipeChangeDetectorRef())},M.ɵpipe=t.ɵɵdefinePipe({name:"sqLabel",type:M,pure:!1});var E=function(e,t){return{"sq-labels-public":e,"sq-labels-private":t}};function A(e,l){if(1&e){var i=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"span",1),t.ɵɵelementStart(1,"div",3),t.ɵɵpipe(2,"sqMessage"),t.ɵɵelementStart(3,"span",4),t.ɵɵlistener("click",(function(){t.ɵɵrestoreView(i);var e=l.$implicit;return t.ɵɵnextContext(2).select(e)})),t.ɵɵtext(4),t.ɵɵpipe(5,"sqLabel"),t.ɵɵelementEnd(),t.ɵɵtemplate(6,I,2,3,"i",5),t.ɵɵelementEnd(),t.ɵɵelementEnd()}if(2&e){var n=l.$implicit,a=t.ɵɵnextContext(2);t.ɵɵadvance(1),t.ɵɵpropertyInterpolate("title",t.ɵɵpipeBind1(2,4,a.public?"msg#labels.selectPublicLabelTitle":"msg#labels.selectPrivateLabelTitle")),t.ɵɵproperty("ngClass",t.ɵɵpureFunction2(9,E,a.public,!a.public)),t.ɵɵadvance(3),t.ɵɵtextInterpolate(t.ɵɵpipeBind2(5,6,n,a.public)),t.ɵɵadvance(2),t.ɵɵproperty("ngIf",a.canRemove())}}function C(e,l){if(1&e&&(t.ɵɵelementStart(0,"div",1),t.ɵɵtemplate(1,A,7,12,"span",2),t.ɵɵelementEnd()),2&e){var i=t.ɵɵnextContext();t.ɵɵadvance(1),t.ɵɵproperty("ngForOf",i.labels)}}var q=function(){function e(e,t){this.appService=e,this.labelsService=t,this.enableDelete=!1}return e.prototype.ngOnChanges=function(){var e=this.public?this.labelsService.publicLabelsField:this.labelsService.privateLabelsField;this.labelsField=this.appService.resolveColumnAlias(e),this.showLabels=!!this.labelsField,this.makeLabels()},e.prototype.makeLabels=function(){if(this.showLabels){var e=this.record[this.labelsField];u.Utils.isArray(e)?this.labels=this.labelsService.sort(e.slice(),this.public):this.labels=[]}else this.labels=[]},e.prototype.select=function(e){this.public||(e=this.labelsService.removePrivatePrefix(e)),this.labelsService.selectLabels([e],this.public)},e.prototype.remove=function(e){if(this.canRemove()){var t=this.labels[e];this.public||(t=this.labelsService.removePrivatePrefix(t)),this.labelsService.removeLabels([t],[this.record.id],this.public)}},e.prototype.canRemove=function(){return this.public?this.enableDelete&&this.labelsService.allowPublicLabelsManagement&&this.labelsService.userLabelsRights&&this.labelsService.userLabelsRights.canManagePublicLabels:this.enableDelete&&!0},e}();function R(e,l){if(1&e&&(t.ɵɵelementStart(0,"span",2),t.ɵɵtext(1),t.ɵɵpipe(2,"sqMessage"),t.ɵɵelementEnd()),2&e){var i=t.ɵɵnextContext();t.ɵɵadvance(1),t.ɵɵtextInterpolate(t.ɵɵpipeBind1(2,1,i.caption))}}q.ɵfac=function(e){return new(e||q)(t.ɵɵdirectiveInject(b.AppService),t.ɵɵdirectiveInject(P))},q.ɵcmp=t.ɵɵdefineComponent({type:q,selectors:[["sq-labels"]],hostVars:2,hostBindings:function(e,l){2&e&&t.ɵɵclassMap(l.hostClasses)},inputs:{record:"record",public:"public",enableDelete:"enableDelete"},features:[t.ɵɵNgOnChangesFeature],decls:1,vars:1,consts:[["class","d-inline",4,"ngIf"],[1,"d-inline"],["class","d-inline",4,"ngFor","ngForOf"],[1,"badge","badge-pill","badge-info","align-self-center","mr-1","d-inline",3,"ngClass","title"],[3,"click"],["class","sq-label-remove fas fa-times-circle clickable",3,"title","click",4,"ngIf"],[1,"sq-label-remove","fas","fa-times-circle","clickable",3,"title","click"]],template:function(e,l){1&e&&t.ɵɵtemplate(0,C,2,1,"div",0),2&e&&t.ɵɵproperty("ngIf",l.showLabels)},directives:[l.NgIf,l.NgForOf,l.NgClass],pipes:[n.MessagePipe,M],styles:[".sq-labels-public[_ngcontent-%COMP%] {\n                background-color: #4fc3f7;\n            }\n            .sq-labels-private[_ngcontent-%COMP%] {\n                background-color: #7283a7;\n            }\n            .sq-label-remove[_ngcontent-%COMP%] {\n                margin-left: 3px;\n            }\n            .clickable[_ngcontent-%COMP%] {\n                cursor: pointer;\n            }\n            .clickable[_ngcontent-%COMP%]:hover {\n                opacity: 85%;\n            }"]});var F=function(){};F.ɵfac=function(e){return new(e||F)},F.ɵcmp=t.ɵɵdefineComponent({type:F,selectors:[["sq-result-labels"]],inputs:{record:"record",caption:"caption",public:"public"},decls:2,vars:3,consts:[["class","sq-text",4,"ngIf"],[3,"record","public"],[1,"sq-text"]],template:function(e,l){1&e&&(t.ɵɵtemplate(0,R,3,3,"span",0),t.ɵɵelement(1,"sq-labels",1)),2&e&&(t.ɵɵproperty("ngIf",l.caption),t.ɵɵadvance(1),t.ɵɵproperty("record",l.record)("public",l.public))},directives:[l.NgIf,q],pipes:[n.MessagePipe],encapsulation:2});var B=function(e){function l(l,i,n,a,s,r){var o=e.call(this,l,i,n,a)||this;return o.labelsWebService=s,o.labelsService=r,o.itemsUpdate=new t.EventEmitter,o.allowNewLabels=!1,o.allowManagePublicLabels=!1,o.labelsItems=[],o._suggestions=[],o}return S(l,e),l.prototype.ngOnInit=function(){var e=this;this._dropdownSubscription=this.dropdown.clicked.subscribe((function(t){e.select(t,!0)})),this.start()},l.prototype.ngOnChanges=function(e){if(e.labelsItems&&this.updatePlaceholder(),e.off&&!this.off&&this.init(),e.public&&!e.public.firstChange){var t=w(e.labelsItems.currentValue);this.inputElement.blur(),this.setInputValue(""),this.updatePlaceholder(),this.itemsUpdate.next(t)}},l.prototype.getSuggests=function(){var e,t,l=this.getInputValue();if(l){var i=l.split(";"),n=this.getInputPosition(),a=0,s=void 0;try{for(var r=y(i),o=r.next();!o.done;o=r.next()){var c=o.value;if(n>=a&&n<=a+c.length){s={value:c,start:a,length:c.length};break}a+=c.length+1}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}s&&this._getLabelsSuggestions(s.value)}else this.labelsService.labelsAutoSuggestWildcard?this._getLabelsSuggestions(this.labelsService.labelsAutoSuggestWildcard):this.start()},l.prototype._getLabelsSuggestions=function(e){var t=this;this.labelsWebService.list(e,this.public).subscribe((function(e){t.getState()!==o.AutocompleteState.ACTIVE&&t.getState()!==o.AutocompleteState.OPENED||(e.labels=e.labels.filter((function(e){return!t.labelsItems.find((function(t){return t.display===e}))})),t._suggestions=e.labels,e.labels=e.labels.slice(0,10),t.dropdown.update(!0,e.labels.map((function(e){return{display:e,category:""}}))))}),(function(){t.dropdown.update(!1)}),(function(){t.dropdown.hasItems&&t.getState()===o.AutocompleteState.ACTIVE?t.open():t.dropdown.hasItems||t.getState()!==o.AutocompleteState.OPENED||t.active()}))},l.prototype.setAutocompleteItem=function(e){return e&&(this.labelsItems.push(e),this.updatePlaceholder(),this.itemsUpdate.next(this.labelsItems),this.setInputValue("")),!1},l.prototype.startOrActive=function(){this.getState()!==o.AutocompleteState.ACTIVE&&this.getState()!==o.AutocompleteState.OPENED&&(this.start(),this.active())},l.prototype.keydown=function(t){var l=e.prototype.keydown.call(this,t);return void 0===l&&(t.keyCode===u.Keys.backspace&&""===this.getInputValue()&&(this.labelsItems.pop(),this.updatePlaceholder(),this.itemsUpdate.next(this.labelsItems)),t.keyCode===u.Keys.enter&&this._manageSetAutocompleteItem()),l},l.prototype.focus=function(){this.start(),this.active()},l.prototype.blur=function(e){this._manageSetAutocompleteItem(),this.init()},l.prototype.inputChanged=function(e){switch(this.getState()){case o.AutocompleteState.OPENED:this.suggest();break;case o.AutocompleteState.START:case o.AutocompleteState.ACTIVE:this.active();break;case o.AutocompleteState.SELECTED:this.start(),this.active();break;case o.AutocompleteState.INIT:}},l.prototype.updatePlaceholder=function(){this._placeholder=this.labelsItems.length>0?"":this.placeholder},l.prototype._manageSetAutocompleteItem=function(){this.getInputValue()&&""!==this.getInputValue()&&(this.allowNewLabels?(!this.public||this.public&&this.allowManagePublicLabels)&&this.setAutocompleteItem({display:this.getInputValue(),category:""}):this._suggestions.indexOf(this.getInputValue())>-1&&this.setAutocompleteItem({display:this.getInputValue(),category:""}))},l}(o.Autocomplete);B.ɵfac=function(e){return new(e||B)(t.ɵɵdirectiveInject(t.ElementRef),t.ɵɵdirectiveInject(o.SuggestService),t.ɵɵdirectiveInject(b.AppService),t.ɵɵdirectiveInject(s.UIService),t.ɵɵdirectiveInject(p.LabelsWebService),t.ɵɵdirectiveInject(P))},B.ɵdir=t.ɵɵdefineDirective({type:B,selectors:[["","sqAutocompleteLabels",""]],hostBindings:function(e,l){1&e&&t.ɵɵlistener("focus",(function(){return l.focus()}))("blur",(function(e){return l.blur(e)}))("input",(function(e){return l.inputChanged(e)}))},inputs:{public:"public",allowNewLabels:"allowNewLabels",allowManagePublicLabels:"allowManagePublicLabels",labelsItems:"labelsItems"},outputs:{itemsUpdate:"itemsUpdate"},features:[t.ɵɵInheritDefinitionFeature,t.ɵɵNgOnChangesFeature]});var T=function(){};T.ɵmod=t.ɵɵdefineNgModule({type:T}),T.ɵinj=t.ɵɵdefineInjector({factory:function(e){return new(e||T)},imports:[[i.FormsModule,i.ReactiveFormsModule,l.CommonModule,n.IntlModule,a.ValidationModule,s.UtilsModule,r.BsModalModule,o.BsAutocompleteModule]]}),("undefined"==typeof ngJitMode||ngJitMode)&&t.ɵɵsetNgModuleScope(T,{declarations:[M,q,F,B],imports:[i.FormsModule,i.ReactiveFormsModule,l.CommonModule,n.IntlModule,a.ValidationModule,s.UtilsModule,r.BsModalModule,o.BsAutocompleteModule],exports:[M,q,F,B]});var O=function(e,t){return{"label-public":e,"label-private":t}};function _(e,l){if(1&e){var i=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"span",7),t.ɵɵtext(1),t.ɵɵelementStart(2,"span",8),t.ɵɵlistener("click",(function(){t.ɵɵrestoreView(i);var e=l.$implicit;return t.ɵɵnextContext().removeItem(e)})),t.ɵɵelementEnd(),t.ɵɵelementEnd()}if(2&e){var n=l.$implicit,a=t.ɵɵnextContext();t.ɵɵproperty("ngClass",t.ɵɵpureFunction2(2,O,a.public,!a.public)),t.ɵɵadvance(1),t.ɵɵtextInterpolate1(" ",n.display," ")}}function j(e,l){if(1&e&&(t.ɵɵelementStart(0,"div",9),t.ɵɵtext(1),t.ɵɵelementEnd()),2&e){var i=l.$implicit;t.ɵɵadvance(1),t.ɵɵtextInterpolate1("",i.display," ")}}var N=function(){function e(e){this.elementRef=e,this.labelsUpdate=new t.EventEmitter,this.disableAutocomplete=!1,this.initLabels=[],this.labelsItems=[]}return e.prototype.ngOnChanges=function(e){e.public&&(this.labelsItems=[]),e.initLabels&&(this.labelsItems=this.initLabels.map((function(e){return{display:e,category:""}})))},e.prototype.removeItem=function(e){this.labelsItems.splice(this.labelsItems.indexOf(e),1),this.labelsItems=w(this.labelsItems),this.labelsUpdate.next(this.labelsItems.map((function(e){return e.display})))},e.prototype.onLabelsItemsChanged=function(e){this.labelsItems=e,this.labelsUpdate.next(e.map((function(e){return e.display})))},e.prototype.getDropdownItem=function(){if(this.elementRef){for(var e=this.elementRef.nativeElement;e&&!e.classList.contains("dropdown-item");)e=e.parentElement;return e}return null},e.prototype.keydown=function(e){if(e.keyCode===u.Keys.tab){var t=this.getDropdownItem();if(t)return t.focus(),e.preventDefault(),!1}},e.prototype.keypress=function(e){if(e.keyCode===u.Keys.enter)return e.preventDefault(),!1},e}();N.ɵfac=function(e){return new(e||N)(t.ɵɵdirectiveInject(t.ElementRef))},N.ɵcmp=t.ɵɵdefineComponent({type:N,selectors:[["sq-labels-autocomplete"]],inputs:{public:"public",disableAutocomplete:"disableAutocomplete",allowNewLabels:"allowNewLabels",allowManagePublicLabels:"allowManagePublicLabels",initLabels:"initLabels"},outputs:{labelsUpdate:"labelsUpdate"},features:[t.ɵɵNgOnChangesFeature],decls:10,vars:13,consts:[["name","labelsForm",1,"d-inline"],[1,"sq-dropdown-form"],[1,"form-control"],["class","badge badge-pill badge-info align-self-center",3,"ngClass",4,"ngFor","ngForOf"],["type","text","name","labelName","spellcheck","false","autocomplete","off","sqAutocompleteLabels","",1,"input-autocomplete","flex-grow-1",3,"public","placeholder","dropdown","allowNewLabels","allowManagePublicLabels","disabled","off","labelsItems","keydown","keypress","itemsUpdate"],["dropdown",""],["itemTpl",""],[1,"badge","badge-pill","badge-info","align-self-center",3,"ngClass"],[1,"fas","fa-times-circle","clickable",3,"click"],[1,"autocomplete-item","p-2"]],template:function(e,l){if(1&e&&(t.ɵɵelementStart(0,"form",0),t.ɵɵelementStart(1,"section",1),t.ɵɵelementStart(2,"div",2),t.ɵɵtemplate(3,_,3,5,"span",3),t.ɵɵelementStart(4,"input",4),t.ɵɵlistener("keydown",(function(e){return l.keydown(e)}))("keypress",(function(e){return l.keypress(e)}))("itemsUpdate",(function(e){return l.onLabelsItemsChanged(e)})),t.ɵɵpipe(5,"sqMessage"),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementStart(6,"sq-autocomplete-list",null,5),t.ɵɵtemplate(8,j,2,1,"ng-template",null,6,t.ɵɵtemplateRefExtractor),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e){var i=t.ɵɵreference(7);t.ɵɵadvance(3),t.ɵɵproperty("ngForOf",l.labelsItems),t.ɵɵadvance(1),t.ɵɵclassProp("disabled",l.disableAutocomplete),t.ɵɵproperty("public",l.public)("placeholder",t.ɵɵpipeBind1(5,11,"msg#labels.selectLabel"))("dropdown",i)("allowNewLabels",l.allowNewLabels)("allowManagePublicLabels",l.allowManagePublicLabels)("disabled",l.disableAutocomplete)("off",l.disableAutocomplete)("labelsItems",l.labelsItems)}},directives:[i.ɵangular_packages_forms_forms_y,i.NgControlStatusGroup,i.NgForm,l.NgForOf,B,o.BsAutocompleteList,l.NgClass],pipes:[n.MessagePipe],styles:[".sq-dropdown-form[_ngcontent-%COMP%] {\n                min-width: 13rem;\n                display: inline;\n            }\n            .disabled[_ngcontent-%COMP%] {\n                cursor: not-allowed;\n            }\n            [_nghost-%COMP%]     .sq-autocomplete-list {\n                width: 50% !important;\n            }\n            .clickable[_ngcontent-%COMP%] {\n                cursor: pointer;\n            }\n            .clickable[_ngcontent-%COMP%]:hover {\n                opacity: 85%;\n            }\n            .label-public[_ngcontent-%COMP%] {\n                background-color: #4fc3f7;\n                margin: 2px;\n            }\n            .label-private[_ngcontent-%COMP%] {\n                background-color: #7283a7;\n                margin: 2px;\n            }\n\n            [_nghost-%COMP%]   div[_ngcontent-%COMP%] {\n                width: 100%;\n                display: flex;\n                flex-wrap: wrap;\n                align-items: center;\n                height: unset !important;\n            }\n            [_nghost-%COMP%]   input[_ngcontent-%COMP%] {\n                border: none;\n                flex-grow: 1;\n                flex-basis: 100px;\n                min-width: 100px;\n            }\n            [_nghost-%COMP%]   input[_ngcontent-%COMP%]:focus {\n                outline: none;\n            }"]});var D=function(e,t){return{disabled:e,clickable:t}};function U(e,l){if(1&e){var i=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"div",8),t.ɵɵelementStart(1,"input",9),t.ɵɵlistener("click",(function(){t.ɵɵrestoreView(i);var e=l.$implicit;return t.ɵɵnextContext().updateLabelsNature(e.value)})),t.ɵɵelementEnd(),t.ɵɵelementStart(2,"label",10),t.ɵɵtext(3),t.ɵɵpipe(4,"sqMessage"),t.ɵɵelementEnd(),t.ɵɵelementEnd()}if(2&e){var n=l.$implicit;t.ɵɵadvance(1),t.ɵɵpropertyInterpolate("id",n.id),t.ɵɵpropertyInterpolate("value",n.value),t.ɵɵproperty("checked",n.checked)("disabled",n.disabled)("ngClass",t.ɵɵpureFunction2(9,D,n.disabled,!n.disabled)),t.ɵɵadvance(1),t.ɵɵpropertyInterpolate("for",n.id),t.ɵɵadvance(1),t.ɵɵtextInterpolate(t.ɵɵpipeBind1(4,7,n.name))}}var V=function(){function e(e,t,l,i,n){this.model=e,this.formBuilder=t,this.labelsService=l,this.changeDetectorRef=i,this.modalRef=n,this.isProcessing=!1}return e.prototype.ngOnInit=function(){var e=this;this.labelControl=new i.FormControl(this.model.newValue,i.Validators.required),this.form=this.formBuilder.group({label:this.labelControl}),this.formChanges=u.Utils.subscribe(this.form.valueChanges,(function(){e.model.newValue=e.labelControl.value})),this.buttons=[new f.ModalButton({text:"msg#renameLabel.btnRename",primary:!0,validation:this.form,result:0,anchor:!0,action:function(){var t=e.labelsService.renameLabels(e.model.oldValues,e.model.newValue,e.model.properties.public);t&&(e.isProcessing=!0,e.changeDetectorRef.markForCheck(),u.Utils.subscribe(t,(function(){}),(function(t){e.modalRef.close(t)}),(function(){e.isProcessing=!1,e.modalRef.close(-1)})))}}),new f.ModalButton({result:-2})]},e.prototype.ngOnDestroy=function(){this.formChanges.unsubscribe()},e.prototype.updateLabelsNature=function(e){this.model.properties.public=e},e.prototype.onLabelsChanged=function(e){this.model.oldValues=e},e}();V.ɵfac=function(e){return new(e||V)(t.ɵɵdirectiveInject(f.MODAL_MODEL),t.ɵɵdirectiveInject(i.FormBuilder),t.ɵɵdirectiveInject(P),t.ɵɵdirectiveInject(t.ChangeDetectorRef),t.ɵɵdirectiveInject(f.ModalRef))},V.ɵcmp=t.ɵɵdefineComponent({type:V,selectors:[["sq-rename-label"]],decls:19,vars:22,consts:[["name","renameLabel","novalidate","",3,"formGroup"],[3,"title","buttons","isProcessingState"],[1,"form-group","sq-form-group"],["role","alert",1,"alert","alert-danger"],["class","custom-control custom-radio custom-control-inline",4,"ngFor","ngForOf"],["for","label"],[3,"public","disableAutocomplete","allowNewLabels","allowManagePublicLabels","labelsUpdate"],["type","text","id","label","formControlName","label","autocomplete","off","spellcheck","off",1,"form-control",3,"sqValidation","placeholder"],[1,"custom-control","custom-radio","custom-control-inline"],["type","radio","name","nature",1,"custom-control-input",3,"id","value","checked","disabled","ngClass","click"],[1,"custom-control-label",3,"for"]],template:function(e,l){1&e&&(t.ɵɵelementStart(0,"form",0),t.ɵɵelementStart(1,"sq-modal",1),t.ɵɵelementStart(2,"div",2),t.ɵɵelementStart(3,"div",3),t.ɵɵtext(4),t.ɵɵpipe(5,"sqMessage"),t.ɵɵelementEnd(),t.ɵɵelementStart(6,"section"),t.ɵɵtemplate(7,U,5,12,"div",4),t.ɵɵelementEnd(),t.ɵɵelementStart(8,"b"),t.ɵɵelementStart(9,"label",5),t.ɵɵtext(10),t.ɵɵpipe(11,"sqMessage"),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementStart(12,"sq-labels-autocomplete",6),t.ɵɵlistener("labelsUpdate",(function(e){return l.onLabelsChanged(e)})),t.ɵɵelementEnd(),t.ɵɵelementStart(13,"b"),t.ɵɵelementStart(14,"label",5),t.ɵɵtext(15),t.ɵɵpipe(16,"sqMessage"),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelement(17,"input",7),t.ɵɵpipe(18,"sqMessage"),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e&&(t.ɵɵproperty("formGroup",l.form),t.ɵɵadvance(1),t.ɵɵproperty("title","msg#renameLabel.title")("buttons",l.buttons)("isProcessingState",l.isProcessing),t.ɵɵadvance(3),t.ɵɵtextInterpolate1(" ",t.ɵɵpipeBind1(5,14,"msg#renameLabel.alertText")," "),t.ɵɵadvance(3),t.ɵɵproperty("ngForOf",l.model.properties.radioButtons),t.ɵɵadvance(3),t.ɵɵtextInterpolate(t.ɵɵpipeBind1(11,16,"msg#renameLabel.oldLabels")),t.ɵɵadvance(2),t.ɵɵproperty("public",l.model.properties.public)("disableAutocomplete",l.model.properties.disableAutocomplete)("allowNewLabels",l.model.properties.allowNewLabels)("allowManagePublicLabels",l.model.properties.allowManagePublicLabels),t.ɵɵadvance(3),t.ɵɵtextInterpolate(t.ɵɵpipeBind1(16,18,"msg#renameLabel.newLabel")),t.ɵɵadvance(2),t.ɵɵpropertyInterpolate("placeholder",t.ɵɵpipeBind1(18,20,"msg#renameLabel.newLabel")),t.ɵɵproperty("sqValidation",l.form))},directives:[i.ɵangular_packages_forms_forms_y,i.NgControlStatusGroup,i.FormGroupDirective,r.BsModal,l.NgForOf,N,i.DefaultValueAccessor,i.NgControlStatus,i.FormControlName,a.ValidationDirective,l.NgClass],pipes:[n.MessagePipe],styles:[".clickable[_ngcontent-%COMP%] {\n                cursor: pointer;\n            }\n            .clickable[_ngcontent-%COMP%]:hover {\n                opacity: 85%;\n            }"]});var z=function(e,t,l,i){return{item:e,size:t,autoAdjust:l,autoAdjustBreakpoint:i,inMenu:!0}};function W(e,l){if(1&e&&t.ɵɵelement(0,"li",1),2&e){var i=t.ɵɵnextContext();t.ɵɵproperty("sq-action-item",t.ɵɵpureFunction4(2,z,i.menu,i.size,i.autoAdjust,i.autoAdjustBreakpoint))("collapseBreakpoint",i.collapseBreakpoint)}}var $=function(){function e(e,t){var l=this;this.loginService=e,this.labelsService=t,this.icon="fas fa-tags",this.autoAdjust=!0,this.autoAdjustBreakpoint="xl",this.collapseBreakpoint="sm",this.renameAction=new d.Action({text:"msg#renameLabel.title",title:"msg#renameLabel.title",action:function(){l.labelsService.renameLabelModal()}}),this.deleteAction=new d.Action({text:"msg#deleteLabel.title",title:"msg#deleteLabel.title",action:function(){l.labelsService.deleteLabelModal()}}),this.bulkAddAction=new d.Action({text:"msg#bulkAddLabel.title",title:"msg#bulkAddLabel.title",action:function(){l.labelsService.bulkAddLabelModal()}}),this.bulkDeleteAction=new d.Action({text:"msg#bulkRemoveLabel.title",title:"msg#bulkRemoveLabel.title",action:function(){l.labelsService.bulkRemoveLabelModal()}})}return e.prototype.ngOnInit=function(){var e=this;this._loginServiceSubscription=this.loginService.events.subscribe((function(t){"session-changed"===t.type&&e.updateMenu()}))},e.prototype.ngOnDestroy=function(){this._loginServiceSubscription&&this._loginServiceSubscription.unsubscribe()},e.prototype.ngOnChanges=function(e){e.results&&this.updateMenu()},e.prototype.updateMenu=function(){if(this.loginService.complete)if(this.labelsService.publicLabelsField||this.labelsService.privateLabelsField){var e=[this.renameAction,this.deleteAction];this.results&&this.results.records&&(e.push(this.bulkAddAction),e.push(this.bulkDeleteAction)),this.menu=new d.Action({icon:this.icon,text:"msg#labels.labels",children:e})}else this.menu=void 0;else this.menu=void 0},e}();$.ɵfac=function(e){return new(e||$)(t.ɵɵdirectiveInject(g.LoginService),t.ɵɵdirectiveInject(P))},$.ɵcmp=t.ɵɵdefineComponent({type:$,selectors:[["sq-labels-menu"]],inputs:{results:"results",icon:"icon",autoAdjust:"autoAdjust",autoAdjustBreakpoint:"autoAdjustBreakpoint",collapseBreakpoint:"collapseBreakpoint",size:"size"},features:[t.ɵɵNgOnChangesFeature],decls:1,vars:1,consts:[["class","nav-item dropdown",3,"sq-action-item","collapseBreakpoint",4,"ngIf"],[1,"nav-item","dropdown",3,"sq-action-item","collapseBreakpoint"]],template:function(e,l){1&e&&t.ɵɵtemplate(0,W,1,7,"li",0),2&e&&t.ɵɵproperty("ngIf",!!l.menu&&!l.menu.hidden)},directives:[l.NgIf,d.BsActionItem],encapsulation:2});var Y=function(e,t){return{disabled:e,clickable:t}};function G(e,l){if(1&e){var i=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"div",7),t.ɵɵelementStart(1,"input",8),t.ɵɵlistener("click",(function(){t.ɵɵrestoreView(i);var e=l.$implicit;return t.ɵɵnextContext().updateLabelsNature(e.value)})),t.ɵɵelementEnd(),t.ɵɵelementStart(2,"label",9),t.ɵɵtext(3),t.ɵɵpipe(4,"sqMessage"),t.ɵɵelementEnd(),t.ɵɵelementEnd()}if(2&e){var n=l.$implicit;t.ɵɵadvance(1),t.ɵɵpropertyInterpolate("id",n.id),t.ɵɵpropertyInterpolate("value",n.value),t.ɵɵproperty("checked",n.checked)("disabled",n.disabled)("ngClass",t.ɵɵpureFunction2(9,Y,n.disabled,!n.disabled)),t.ɵɵadvance(1),t.ɵɵpropertyInterpolate("for",n.id),t.ɵɵadvance(1),t.ɵɵtextInterpolate(t.ɵɵpipeBind1(4,7,n.name))}}var J=function(e,t){return{"alert-danger":e,"alert-warning":t}},K=function(){function e(e,t,l,i){this.model=e,this.labelsService=t,this.changeDetectorRef=l,this.modalRef=i,this.isProcessing=!1}return e.prototype.ngOnInit=function(){var e=this;switch(this.model.properties.action){case 3:this.title="msg#deleteLabel.title",this.btnText="msg#deleteLabel.btnDelete",this.alert="msg#deleteLabel.alertText",this._action=function(){var t=e.labelsService.deleteLabels(e.model.values,e.model.properties.public);t&&(e.isProcessing=!0,e.changeDetectorRef.markForCheck(),u.Utils.subscribe(t,(function(){}),(function(t){e.modalRef.close(t)}),(function(){e.isProcessing=!1,e.modalRef.close(-1)})))};break;case 5:this.title="msg#bulkRemoveLabel.title",this.btnText="msg#bulkRemoveLabel.btnBulkRemove",this.alert="msg#bulkRemoveLabel.alertText",this._action=function(){var t=e.labelsService.bulkRemoveLabels(e.model.values,e.model.properties.public);t&&(e.isProcessing=!0,e.changeDetectorRef.markForCheck(),u.Utils.subscribe(t,(function(){}),(function(t){e.modalRef.close(t)}),(function(){e.isProcessing=!1,e.modalRef.close(-1)})))};break;default:this.title="",this.btnText="",this.alert=""}this.buttons=[new f.ModalButton({text:this.btnText,primary:!0,result:0,anchor:!0,action:this._action}),new f.ModalButton({result:-2})]},e.prototype.updateLabelsNature=function(e){this.model.properties.public=e},e.prototype.onLabelsChanged=function(e){this.model.values=e},e}();function H(e,l){1&e&&(t.ɵɵelementStart(0,"div",8),t.ɵɵtext(1),t.ɵɵpipe(2,"sqMessage"),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(1),t.ɵɵtextInterpolate1(" ",t.ɵɵpipeBind1(2,1,"msg#bulkAddLabel.infoText")," "))}K.ɵfac=function(e){return new(e||K)(t.ɵɵdirectiveInject(f.MODAL_MODEL),t.ɵɵdirectiveInject(P),t.ɵɵdirectiveInject(t.ChangeDetectorRef),t.ɵɵdirectiveInject(f.ModalRef))},K.ɵcmp=t.ɵɵdefineComponent({type:K,selectors:[["sq-delete-label"]],decls:13,vars:18,consts:[["name","deleteLabel","novalidate",""],[3,"title","buttons","isProcessingState"],[1,"form-group","sq-form-group"],["role","alert",1,"alert",3,"ngClass"],["class","custom-control custom-radio custom-control-inline",4,"ngFor","ngForOf"],["for","label"],[3,"public","disableAutocomplete","allowNewLabels","allowManagePublicLabels","labelsUpdate"],[1,"custom-control","custom-radio","custom-control-inline"],["type","radio","name","nature",1,"custom-control-input",3,"id","value","checked","disabled","ngClass","click"],[1,"custom-control-label",3,"for"]],template:function(e,l){1&e&&(t.ɵɵelementStart(0,"form",0),t.ɵɵelementStart(1,"sq-modal",1),t.ɵɵelementStart(2,"div",2),t.ɵɵelementStart(3,"div",3),t.ɵɵtext(4),t.ɵɵpipe(5,"sqMessage"),t.ɵɵelementEnd(),t.ɵɵelementStart(6,"section"),t.ɵɵtemplate(7,G,5,12,"div",4),t.ɵɵelementEnd(),t.ɵɵelementStart(8,"b"),t.ɵɵelementStart(9,"label",5),t.ɵɵtext(10),t.ɵɵpipe(11,"sqMessage"),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementStart(12,"sq-labels-autocomplete",6),t.ɵɵlistener("labelsUpdate",(function(e){return l.onLabelsChanged(e)})),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(1),t.ɵɵproperty("title",l.title)("buttons",l.buttons)("isProcessingState",l.isProcessing),t.ɵɵadvance(2),t.ɵɵproperty("ngClass",t.ɵɵpureFunction2(15,J,3===l.model.properties.action,5===l.model.properties.action)),t.ɵɵadvance(1),t.ɵɵtextInterpolate1(" ",t.ɵɵpipeBind1(5,11,l.alert)," "),t.ɵɵadvance(3),t.ɵɵproperty("ngForOf",l.model.properties.radioButtons),t.ɵɵadvance(3),t.ɵɵtextInterpolate(t.ɵɵpipeBind1(11,13,"msg#labels.labels")),t.ɵɵadvance(2),t.ɵɵproperty("public",l.model.properties.public)("disableAutocomplete",l.model.properties.disableAutocomplete)("allowNewLabels",l.model.properties.allowNewLabels)("allowManagePublicLabels",l.model.properties.allowManagePublicLabels))},directives:[i.ɵangular_packages_forms_forms_y,i.NgControlStatusGroup,i.NgForm,r.BsModal,l.NgClass,l.NgForOf,N],pipes:[n.MessagePipe],styles:[".clickable[_ngcontent-%COMP%] {\n                cursor: pointer;\n            }\n            .clickable[_ngcontent-%COMP%]:hover {\n                opacity: 85%;\n            }"]});var Z=function(e,t){return{disabled:e,clickable:t}};function Q(e,l){if(1&e){var i=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"div",9),t.ɵɵelementStart(1,"input",10),t.ɵɵlistener("click",(function(){t.ɵɵrestoreView(i);var e=l.$implicit;return t.ɵɵnextContext().updateLabelsNature(e.value)})),t.ɵɵelementEnd(),t.ɵɵelementStart(2,"label",11),t.ɵɵtext(3),t.ɵɵpipe(4,"sqMessage"),t.ɵɵelementEnd(),t.ɵɵelementEnd()}if(2&e){var n=l.$implicit;t.ɵɵadvance(1),t.ɵɵpropertyInterpolate("id",n.id),t.ɵɵpropertyInterpolate("value",n.value),t.ɵɵproperty("checked",n.checked)("disabled",n.disabled)("ngClass",t.ɵɵpureFunction2(9,Z,n.disabled,!n.disabled)),t.ɵɵadvance(1),t.ɵɵpropertyInterpolate("for",n.id),t.ɵɵadvance(1),t.ɵɵtextInterpolate(t.ɵɵpipeBind1(4,7,n.name))}}var X=function(){function e(e,t,l,i){this.model=e,this.labelsService=t,this.changeDetectorRef=l,this.modalRef=i,this.isProcessing=!1}return e.prototype.ngOnInit=function(){var e=this;this.buttons=[new f.ModalButton({text:"msg#bulkAddLabel.btnBulkAdd",primary:!0,result:0,anchor:!0,action:function(){var t=e.labelsService.bulkAddLabels(e.model.values,e.model.properties.public);t&&(e.isProcessing=!0,e.changeDetectorRef.markForCheck(),u.Utils.subscribe(t,(function(){}),(function(t){e.modalRef.close(t)}),(function(){e.isProcessing=!1,e.modalRef.close(-1)})))}}),new f.ModalButton({result:-2})]},e.prototype.updateLabelsNature=function(e){this.model.properties.public=e},e.prototype.onLabelsChanged=function(e){this.model.values=e},e}();function ee(e,l){1&e&&(t.ɵɵelementStart(0,"div",7),t.ɵɵtext(1),t.ɵɵpipe(2,"sqMessage"),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(1),t.ɵɵtextInterpolate1(" ",t.ɵɵpipeBind1(2,1,"msg#editLabel.infoText")," "))}X.ɵfac=function(e){return new(e||X)(t.ɵɵdirectiveInject(f.MODAL_MODEL),t.ɵɵdirectiveInject(P),t.ɵɵdirectiveInject(t.ChangeDetectorRef),t.ɵɵdirectiveInject(f.ModalRef))},X.ɵcmp=t.ɵɵdefineComponent({type:X,selectors:[["sq-add-label"]],decls:14,vars:15,consts:[["name","addLabel","novalidate",""],[3,"title","buttons","isProcessingState"],[1,"form-group","sq-form-group"],["role","alert",1,"alert","alert-warning"],["class","alert alert-info","role","alert",4,"ngIf"],["class","custom-control custom-radio custom-control-inline",4,"ngFor","ngForOf"],["for","label"],[3,"public","disableAutocomplete","allowNewLabels","allowManagePublicLabels","labelsUpdate"],["role","alert",1,"alert","alert-info"],[1,"custom-control","custom-radio","custom-control-inline"],["type","radio","name","nature",1,"custom-control-input",3,"id","value","checked","disabled","ngClass","click"],[1,"custom-control-label",3,"for"]],template:function(e,l){1&e&&(t.ɵɵelementStart(0,"form",0),t.ɵɵelementStart(1,"sq-modal",1),t.ɵɵelementStart(2,"div",2),t.ɵɵelementStart(3,"div",3),t.ɵɵtext(4),t.ɵɵpipe(5,"sqMessage"),t.ɵɵelementEnd(),t.ɵɵtemplate(6,H,3,3,"div",4),t.ɵɵelementStart(7,"section"),t.ɵɵtemplate(8,Q,5,12,"div",5),t.ɵɵelementEnd(),t.ɵɵelementStart(9,"b"),t.ɵɵelementStart(10,"label",6),t.ɵɵtext(11),t.ɵɵpipe(12,"sqMessage"),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementStart(13,"sq-labels-autocomplete",7),t.ɵɵlistener("labelsUpdate",(function(e){return l.onLabelsChanged(e)})),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(1),t.ɵɵproperty("title","msg#bulkAddLabel.title")("buttons",l.buttons)("isProcessingState",l.isProcessing),t.ɵɵadvance(3),t.ɵɵtextInterpolate1(" ",t.ɵɵpipeBind1(5,11,"msg#bulkAddLabel.alertText")," "),t.ɵɵadvance(2),t.ɵɵproperty("ngIf",l.model.properties.allowManagePublicLabels||!l.model.properties.public),t.ɵɵadvance(2),t.ɵɵproperty("ngForOf",l.model.properties.radioButtons),t.ɵɵadvance(3),t.ɵɵtextInterpolate(t.ɵɵpipeBind1(12,13,"msg#labels.labels")),t.ɵɵadvance(2),t.ɵɵproperty("public",l.model.properties.public)("disableAutocomplete",l.model.properties.disableAutocomplete)("allowNewLabels",l.model.properties.allowNewLabels)("allowManagePublicLabels",l.model.properties.allowManagePublicLabels))},directives:[i.ɵangular_packages_forms_forms_y,i.NgControlStatusGroup,i.NgForm,r.BsModal,l.NgIf,l.NgForOf,N,l.NgClass],pipes:[n.MessagePipe],styles:[".clickable[_ngcontent-%COMP%] {\n                cursor: pointer;\n            }\n            .clickable[_ngcontent-%COMP%]:hover {\n                opacity: 85%;\n            }"]});var te=function(e,t){return{disabled:e,clickable:t}};function le(e,l){if(1&e){var i=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"div",8),t.ɵɵelementStart(1,"input",9),t.ɵɵlistener("click",(function(){t.ɵɵrestoreView(i);var e=l.$implicit;return t.ɵɵnextContext().updateLabelsNature(e.value)})),t.ɵɵelementEnd(),t.ɵɵelementStart(2,"label",10),t.ɵɵtext(3),t.ɵɵpipe(4,"sqMessage"),t.ɵɵelementEnd(),t.ɵɵelementEnd()}if(2&e){var n=l.$implicit;t.ɵɵadvance(1),t.ɵɵpropertyInterpolate("id",n.id),t.ɵɵpropertyInterpolate("value",n.value),t.ɵɵproperty("checked",n.checked)("disabled",n.disabled)("ngClass",t.ɵɵpureFunction2(9,te,n.disabled,!n.disabled)),t.ɵɵadvance(1),t.ɵɵpropertyInterpolate("for",n.id),t.ɵɵadvance(1),t.ɵɵtextInterpolate(t.ɵɵpipeBind1(4,7,n.name))}}function ie(e,l){if(1&e){var i=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"section"),t.ɵɵelementStart(1,"b"),t.ɵɵelementStart(2,"label",11),t.ɵɵtext(3),t.ɵɵpipe(4,"sqMessage"),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementStart(5,"sq-labels-autocomplete",12),t.ɵɵlistener("labelsUpdate",(function(e){return t.ɵɵrestoreView(i),t.ɵɵnextContext().onLabelsChanged(e)})),t.ɵɵelementEnd(),t.ɵɵelementEnd()}if(2&e){var n=t.ɵɵnextContext();t.ɵɵadvance(3),t.ɵɵtextInterpolate(t.ɵɵpipeBind1(4,6,"msg#labels.labels")),t.ɵɵadvance(2),t.ɵɵproperty("public",n.model.properties.public)("disableAutocomplete",n.model.properties.disableAutocomplete)("allowNewLabels",n.model.properties.allowNewLabels)("allowManagePublicLabels",n.model.properties.allowManagePublicLabels)("initLabels",n.initialLabels)}}function ne(e,l){if(1&e){var i=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"section"),t.ɵɵelementStart(1,"b"),t.ɵɵelementStart(2,"label",11),t.ɵɵtext(3),t.ɵɵpipe(4,"sqMessage"),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementStart(5,"sq-labels-autocomplete",13),t.ɵɵlistener("labelsUpdate",(function(e){return t.ɵɵrestoreView(i),t.ɵɵnextContext().onLabelsToBeAddedChanged(e)})),t.ɵɵelementEnd(),t.ɵɵelementStart(6,"b"),t.ɵɵelementStart(7,"label",11),t.ɵɵtext(8),t.ɵɵpipe(9,"sqMessage"),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementStart(10,"sq-labels-autocomplete",13),t.ɵɵlistener("labelsUpdate",(function(e){return t.ɵɵrestoreView(i),t.ɵɵnextContext().onLabelsToBeRemovedChanged(e)})),t.ɵɵelementEnd(),t.ɵɵelementEnd()}if(2&e){var n=t.ɵɵnextContext();t.ɵɵadvance(3),t.ɵɵtextInterpolate(t.ɵɵpipeBind1(4,10,"msg#editLabel.labelsToBeAdded")),t.ɵɵadvance(2),t.ɵɵproperty("public",n.model.properties.public)("disableAutocomplete",n.model.properties.disableAutocomplete)("allowNewLabels",n.model.properties.allowNewLabels)("allowManagePublicLabels",n.model.properties.allowManagePublicLabels),t.ɵɵadvance(3),t.ɵɵtextInterpolate(t.ɵɵpipeBind1(9,12,"msg#editLabel.labelsToBeRemoved")),t.ɵɵadvance(2),t.ɵɵproperty("public",n.model.properties.public)("disableAutocomplete",n.model.properties.disableAutocomplete)("allowNewLabels",n.model.properties.allowNewLabels)("allowManagePublicLabels",n.model.properties.allowManagePublicLabels)}}var ae=function(){function e(e,t,l,i,n,a,s,r){this.model=e,this.appService=t,this.selectionService=l,this.labelsService=i,this.searchService=n,this.notificationService=a,this.changeDetectorRef=s,this.modalRef=r,this.initialLabels=[],this.isProcessing=!1}return e.prototype.ngOnInit=function(){var e=this;this.selectedRecordsIds=this.selectionService.getSelectedIds()?this.selectionService.getSelectedIds():[],1===this.selectedRecordsIds.length&&(this.record=this.searchService.getRecordFromId(this.selectedRecordsIds[0]),this.initialLabels=this._getInitialRecordLabels()),this.buttons=[new f.ModalButton({text:"msg#editLabel.btnEdit",primary:!0,result:0,anchor:!0,action:function(){var t=e.labelsService.addLabels(e.model.valuesToBeAdded,e.selectionService.getSelectedIds(),e.model.properties.public);t&&(e.isProcessing=!0,e.changeDetectorRef.markForCheck(),u.Utils.subscribe(t,(function(){}),(function(t){e.notificationService.error("msg#editLabel.errorFeedback"),e.modalRef.close(t)}),(function(){e.labelsService.removeLabels(e.model.valuesToBeRemoved,e.selectionService.getSelectedIds(),e.model.properties.public).subscribe((function(){}),(function(t){e.notificationService.error("msg#editLabel.errorFeedback"),e.modalRef.close(t)}),(function(){e.isProcessing=!1,e.modalRef.close(-1),e.notificationService.success("msg#editLabel.successFeedback"),e.searchService.search()}))})))}}),new f.ModalButton({result:-2})]},e.prototype.updateLabelsNature=function(e){this.model.properties.public=e,this.model.valuesToBeRemoved=[],this.model.valuesToBeAdded=[],1===this.selectedRecordsIds.length&&(this.initialLabels=this._getInitialRecordLabels())},e.prototype.onLabelsChanged=function(e){var t=this;this.initialLabels?(this.model.valuesToBeAdded=e.filter((function(e){return!t.initialLabels.find((function(t){return t===e}))})),this.model.valuesToBeRemoved=this.initialLabels.filter((function(t){return!e.find((function(e){return e===t}))}))):(this.model.valuesToBeAdded=e,this.model.valuesToBeRemoved=[])},e.prototype.onLabelsToBeAddedChanged=function(e){this.model.valuesToBeAdded=e},e.prototype.onLabelsToBeRemovedChanged=function(e){this.model.valuesToBeRemoved=e},e.prototype._getInitialRecordLabels=function(){if(this.record){var e=this.model.properties.public?this.labelsService.publicLabelsField:this.labelsService.privateLabelsField,t=this.appService.resolveColumnAlias(e);return this.model.properties.public?this.record[t]||[]:this.record[t]?this.labelsService.removePrivatePrefix(this.record[t]):[]}return[]},e}();ae.ɵfac=function(e){return new(e||ae)(t.ɵɵdirectiveInject(f.MODAL_MODEL),t.ɵɵdirectiveInject(b.AppService),t.ɵɵdirectiveInject(h.SelectionService),t.ɵɵdirectiveInject(P),t.ɵɵdirectiveInject(m.SearchService),t.ɵɵdirectiveInject(v.NotificationsService),t.ɵɵdirectiveInject(t.ChangeDetectorRef),t.ɵɵdirectiveInject(f.ModalRef))},ae.ɵcmp=t.ɵɵdefineComponent({type:ae,selectors:[["sq-edit-label"]],decls:11,vars:10,consts:[["name","editLabel","novalidate",""],[3,"title","buttons","isProcessingState"],[1,"form-group","sq-form-group"],["role","alert",1,"alert","alert-warning"],["class","alert alert-info","role","alert",4,"ngIf"],["class","custom-control custom-radio custom-control-inline",4,"ngFor","ngForOf"],[4,"ngIf"],["role","alert",1,"alert","alert-info"],[1,"custom-control","custom-radio","custom-control-inline"],["type","radio","name","nature",1,"custom-control-input",3,"id","value","checked","disabled","ngClass","click"],[1,"custom-control-label",3,"for"],["for","label"],[3,"public","disableAutocomplete","allowNewLabels","allowManagePublicLabels","initLabels","labelsUpdate"],[3,"public","disableAutocomplete","allowNewLabels","allowManagePublicLabels","labelsUpdate"]],template:function(e,l){1&e&&(t.ɵɵelementStart(0,"form",0),t.ɵɵelementStart(1,"sq-modal",1),t.ɵɵelementStart(2,"div",2),t.ɵɵelementStart(3,"div",3),t.ɵɵtext(4),t.ɵɵpipe(5,"sqMessage"),t.ɵɵelementEnd(),t.ɵɵtemplate(6,ee,3,3,"div",4),t.ɵɵelementStart(7,"section"),t.ɵɵtemplate(8,le,5,12,"div",5),t.ɵɵelementEnd(),t.ɵɵtemplate(9,ie,6,8,"section",6),t.ɵɵtemplate(10,ne,11,14,"section",6),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(1),t.ɵɵproperty("title","msg#editLabel.title")("buttons",l.buttons)("isProcessingState",l.isProcessing),t.ɵɵadvance(3),t.ɵɵtextInterpolate1(" ",t.ɵɵpipeBind1(5,8,"msg#editLabel.alertText")," "),t.ɵɵadvance(2),t.ɵɵproperty("ngIf",l.model.properties.allowManagePublicLabels||!l.model.properties.public),t.ɵɵadvance(2),t.ɵɵproperty("ngForOf",l.model.properties.radioButtons),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",l.record),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",!l.record))},directives:[i.ɵangular_packages_forms_forms_y,i.NgControlStatusGroup,i.NgForm,r.BsModal,l.NgIf,l.NgForOf,l.NgClass,N],pipes:[n.MessagePipe],styles:[".clickable[_ngcontent-%COMP%] {\n                cursor: pointer;\n            }\n            .clickable[_ngcontent-%COMP%]:hover {\n                opacity: 85%;\n            }"]});var se={labelsAutocompleteComponent:N,renameModal:V,deleteModal:K,addModal:X,editModal:ae},re=function(){};re.ɵmod=t.ɵɵdefineNgModule({type:re}),re.ɵinj=t.ɵɵdefineInjector({factory:function(e){return new(e||re)},providers:[{provide:x,useValue:se}],imports:[[i.FormsModule,i.ReactiveFormsModule,l.CommonModule,n.IntlModule,a.ValidationModule,s.UtilsModule,h.BsSelectionModule,r.BsModalModule,o.BsAutocompleteModule,d.BsActionModule,T],T]}),("undefined"==typeof ngJitMode||ngJitMode)&&t.ɵɵsetNgModuleScope(re,{declarations:[N,V,$,K,X,ae],imports:[i.FormsModule,i.ReactiveFormsModule,l.CommonModule,n.IntlModule,a.ValidationModule,s.UtilsModule,h.BsSelectionModule,r.BsModalModule,o.BsAutocompleteModule,d.BsActionModule,T],exports:[T,N,V,$,K,X,ae]});var oe=u.Utils.merge({},{labels:{labels:"Labels",publicLabels:"Public Labels",privateLabels:"Private Labels",public:"Public",private:"Private",selectLabel:"Select label(s)",deleteLabelAreYouSure:"Are you sure you want to remove the label: {name}?",bulkAddLabelAreYouSure:"Are you sure you want to bulk add the label: {name} to the results of the current query?",bulkRemoveLabelAreYouSure:"Are you sure you want to bulk remove the label: {name} to the results of the current query?",addPublicLabelText:"+",removePublicLabelText:"×",addPublicLabelTitle:"Add public label",selectPublicLabelTitle:"Select public label",removePublicLabelTitle:"Remove public label",addPrivateLabelText:"+",removePrivateLabelText:"×",addPrivateLabelTitle:"Add private label",selectPrivateLabelTitle:"Select private label",removePrivateLabelTitle:"Remove private label"},renameLabel:{title:"Rename Label(s) globally",btnRename:"Rename",newLabel:"New Label",oldLabels:"Old label(s)",alertText:"This action renames the label(s) in the index and is irreversible",successFeedback:"Label(s) renamed in the index",errorFeedback:"An error occurred. Request failed"},deleteLabel:{title:"Delete label(s) globally",btnDelete:"Delete",alertText:"This action deletes the selected label(s) from the index and is irreversible",successFeedback:"Label(s) deleted from the index",errorFeedback:"An error occurred. Request failed"},bulkRemoveLabel:{title:"Remove label(s) from the current results",btnBulkRemove:"Remove",alertText:"This action removes the selected label(s) from all results reported by the engine (not only from the first page)",successFeedback:"Label(s) removed from all results reported by the engine",errorFeedback:"An error occurred. Request failed"},bulkAddLabel:{title:"Add label(s) to the current results",btnBulkAdd:"Add",alertText:"This action assigns the selected label(s) to all results reported by the engine (not only to the first page)",infoText:"Press 'Enter' to add a new label that does not exist in the suggestions",successFeedback:"Label(s) assigned to all results reported by the engine",errorFeedback:"An error occurred. Request failed"},editLabel:{title:"Edit the label(s) of the selected result(s)",btnEdit:"Save",alertText:"This action edits the label(s) of the selected result(s)",infoText:"Press 'Enter' to add a new label that does not exist in the suggestions",labelsToBeRemoved:"Label(s) to be removed",labelsToBeAdded:"Label(s) to be added",successFeedback:"Label(s) of the selected result(s) edited",errorFeedback:"An error occurred. Request failed"}},m.enSearch,r.enModal),ce=u.Utils.merge({},{labels:{labels:"Libellés",publicLabels:"Libellés publics",privateLabels:"Libellés privés",public:"Public",private:"Privé",selectLabel:"Sélectionner le(s) libellé(s)",deleteLabelAreYouSure:"Etes-vous sûr de vouloir effacer le libellé: {name} ?",bulkAddLabelAreYouSure:"Etes-vous sûr de vouloir ajouter en lot le libellé: {name} aux résultats de la requête courante ? ",bulkRemoveLabelAreYouSure:"Etes-vous sûr de vouloir enlever en lot le libellé: {name} aux résultats de la requête courante ?",addPublicLabelText:"+",removePublicLabelText:"×",addPublicLabelTitle:"Ajouter un libellé public",selectPublicLabelTitle:"Sélectionner le libellé public",removePublicLabelTitle:"Supprimer le libellé public",addPrivateLabelText:"+",removePrivateLabelText:"×",addPrivateLabelTitle:"Ajouter un libellé privé",selectPrivateLabelTitle:"Sélectionner le libellé privé",removePrivateLabelTitle:"Supprimer le libellé privé"},renameLabel:{title:"Renommer le(s) libellé(s) globalement",btnRename:"Renommer",newLabel:"Nouveau Libellé",oldLabels:"Ancien(s) libellé(s)",alertText:"Cette action renomme le(s) libellé(s) sélectionné(s) dans l'index et est irréversible",successFeedback:"Libellé(s) renommé(s) dans l'index",errorFeedback:"Une erreur s'est produite. Requête non aboutie"},deleteLabel:{title:"Supprimer le(s) libellé(s) globalement",btnDelete:"Supprimer",alertText:"Cette action supprime le(s) libellé(s) sélectionné(s) de l'index et est irréversible",successFeedback:"Libellé(s) supprimé(s) de l'index",errorFeedback:"Une erreur s'est produite. Requête non aboutie"},bulkRemoveLabel:{title:"Enlever le(s) libellé des résultats courants",btnBulkRemove:"Enlever",alertText:"Cette action enlève le(s) libellé(s) sélectionné(s) de tous les résultats remontés par le moteur (pas seulement de la première page)",successFeedback:"Libellé(s) enlevé(s) de tous les résultats remontés par le moteur",errorFeedback:"Une erreur s'est produite. Requête non aboutie"},bulkAddLabel:{title:"Ajouter le(s) libellé(s) aux résultats courants",btnBulkAdd:"Ajouter",alertText:"Cette action ajoute le(s) libellé(s) sélectionné(s) à tous les résultats remontés par le moteur (pas seulement à la première page)",infoText:"Appuyez sur 'Entrée' pour ajouter un nouveau libellé qui n'existe pas dans les suggestions",successFeedback:"Libellé(s) ajouté(s) à tous les résultats remontés par le moteur",errorFeedback:"Une erreur s'est produite. Requête non aboutie"},editLabel:{title:"Editer le(s) libellé(s) de(s) résultat(s) sélectionné(s)",btnEdit:"Sauvegarder",alertText:"Cette action édite le(s) libellé(s) de(s) résultat(s) sélectionné(s)",infoText:"Appuyez sur 'Entrée' pour ajouter un nouveau libellé qui n'existe pas dans les suggestions",labelsToBeRemoved:"Libellé(s) à enlever",labelsToBeAdded:"Libellé(s) à ajouter",successFeedback:"Libellé(s) de(s) résultat(s) sélectionné(s) édité(s)",errorFeedback:"Une erreur s'est produite. Requête non aboutie"}},m.frSearch,r.frModal),ue=u.Utils.merge({},{labels:{labels:"Etiketten",publicLabels:"Öffentliche Etiketten",privateLabels:"Private Etiketten",public:"Öffentliche",private:"Private",selectLabel:"Etikett(en) auswählen",deleteLabelAreYouSure:"Möchten Sie dieses Etikett wirklich löschen: {name}?",bulkAddLabelAreYouSure:"Möchten Sie wirklich das Etikett {name} zu allen Ergebnissen der aktuellen Suche hinzufügen?",bulkRemoveLabelAreYouSure:"Möchten Sie wirklich das Etikett {name} von allen Ergebnissen der aktuellen Suche entfernen?",addPublicLabelText:"+",removePublicLabelText:"×",addPublicLabelTitle:"Öffentliches Etikett hinzufügen",selectPublicLabelTitle:"Öffentliches Etikett auswählen",removePublicLabelTitle:"Öffentliches Etikett entfernen",addPrivateLabelText:"+",removePrivateLabelText:"×",addPrivateLabelTitle:"Privates Etikett hinzufügen",selectPrivateLabelTitle:"Privates Etikett auswählen",removePrivateLabelTitle:"Privates Etikett entfernen"},renameLabel:{title:"Etikett(en) unbenennen",btnRename:"Umbennen",newLabel:"Neuen Etikett",oldLabels:"Altes Etikett(en)",alertText:"Diese Aktion benennt das (die) ausgewählte(n) Etikett(en) im Index um und ist unwiderruflich",successFeedback:"Etikett(en), das (die) im Index umbenannt wurde(n)",errorFeedback:"Ein Fehler ist aufgetreten. Die Suchanfrage war erfolglos"},deleteLabel:{title:"Etikett(en) global entfernen",btnDelete:"Löschen",alertText:"Diese Aktion löscht das (die) ausgewählte(n) Etikett(en) aus dem Index und ist unwiderruflich",successFeedback:"Etikett(en), das (die) aus dem Index gelöscht wurde(n)",errorFeedback:"Ein Fehler ist aufgetreten. Die Suchanfrage war erfolglos"},bulkRemoveLabel:{title:"Etikett(en) von aktuellen Ergebnissen entfernen",btnBulkRemove:"Entfernen",alertText:"Diese Aktion löscht das (die) ausgewählte(n) Etikett(en) aus allen gefundenen Ergebnisse (nicht nur die der ersten Seite)",successFeedback:"Etikett(en), das (die) aus allen gefundenen Ergebnissen gelöscht wurde(n)",errorFeedback:"Ein Fehler ist aufgetreten. Die Suchanfrage war erfolglos"},bulkAddLabel:{title:"Etikett(en) zu aktuellen Ergebnissen hinzufügen",btnBulkAdd:"Hinzufügen",alertText:"Diese Aktion fügt das (die) ausgewählte(n) Etikett(en) zu allen gefundenen Ergebnissen (nicht nur denen der ersten Seite) hinzu",infoText:"klicken Sie auf 'Enter', um ein neues Etikett, das nicht in den Vorschlägen existiert, hinzuzufügen",successFeedback:"Etikett(en), das (die) allen gefundenen Ergebnissen hinzugefügt wurde(n)",errorFeedback:"Ein Fehler ist aufgetreten. Die Suchanfrage war erfolglos"},editLabel:{title:"Bearbeiten des (der) Etikett(en) aus dem (den) ausgewählten Ergebnis(sen)",btnEdit:"speichern",alertText:"Diese Aktion bearbeitet das (die) Etikett(en) des (der) ausgewählten Ergebnisse(s)",infoText:"klicken Sie auf 'Enter', um ein neues Etikett, das nicht in den Vorschlägen existiert, hinzuzufügen",labelsToBeRemoved:"Zu löschende(s) Etikett(en)",labelsToBeAdded:"Hinzuzufügende(s) Etikett(en)",successFeedback:"Etikett(en), das (die) zu dem (den) ausgewählten Ergebnis(sen) bearbeit(en)",errorFeedback:"Ein Fehler ist aufgetreten. Die Suchanfrage war erfolglos"}},m.deSearch,r.deModal);e.BsAddLabel=X,e.BsDeleteLabel=K,e.BsEditLabel=ae,e.BsLabelsAutocompleteComponent=N,e.BsLabelsMenuComponent=$,e.BsLabelsModule=re,e.BsRenameLabel=V,e.LABELS_COMPONENTS=x,e.LabelPipe=M,e.Labels=q,e.LabelsAutocomplete=B,e.LabelsModule=T,e.LabelsService=P,e.ResultLabels=F,e.deLabels=ue,e.defaultLabelComponents=se,e.enLabels=oe,e.frLabels=ce,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=sinequa-components-labels.umd.min.js.map