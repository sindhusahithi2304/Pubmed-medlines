{"version":3,"file":"sinequa-components-status-bar.umd.js","sources":["../projects/components/status-bar/bootstrap/fullscreen-activator/fullscreen-activator.ts","../projects/components/status-bar/bootstrap/fullscreen-activator/fullscreen-activator.html","../projects/components/status-bar/bootstrap/network-activity/network-activity.ts","../projects/components/status-bar/bootstrap/network-activity/network-activity.html","../../projects/components/status-bar/bootstrap/status-bar.module.ts","../../projects/components/status-bar/messages/en.ts","../../projects/components/status-bar/messages/fr.ts","../../projects/components/status-bar/messages/de.ts","../../../projects/components/status-bar/sinequa-components-status-bar.ts"],"sourcesContent":["import {Component} from \"@angular/core\";\nimport {Action} from \"@sinequa/components/action\";\nimport {Utils} from \"@sinequa/core/base\";\nimport {Subscription} from \"rxjs\";\nimport {UIService} from \"@sinequa/components/utils\";\n\n@Component({\n    selector: \"sq-fullscreen-activator\",\n    templateUrl: \"./fullscreen-activator.html\"\n})\nexport class BsFullscreenActivator {\n    action: Action;\n    resizeSubscription: Subscription | undefined;\n\n    constructor(\n        private uiService: UIService) {\n        this.buildAction();\n    }\n\n    getFullscreenIcon(): string {\n        return !this.isFullscreen() ? \"fas fa-expand\" : \"fas fa-compress\";\n    }\n\n    getFullscreenTitle(): string {\n        return !this.isFullscreen() ? \"msg#statusbar.fullscreenTitleEnter\" : \"msg#statusbar.fullscreenTitleExit\";\n    }\n\n    buildAction() {\n        this.action = new Action({\n            icon: this.getFullscreenIcon(),\n            title: this.getFullscreenTitle(),\n            action: (item, $event) => {\n                this.toggleFullscreen();\n                item.icon = this.getFullscreenIcon();\n                item.title = this.getFullscreenTitle();\n            },\n            init: (item) => {\n\n                this.resizeSubscription = Utils.subscribe(this.uiService.resizeEvent,\n                    (event) => {\n                        this.action.icon = this.getFullscreenIcon();\n                        this.action.title = this.getFullscreenTitle();\n                    });\n\n            },\n            destroy: (item) => {\n\n                if (this.resizeSubscription) {\n                    this.resizeSubscription.unsubscribe();\n                    this.resizeSubscription = undefined;\n                }\n\n            }\n        });\n    }\n\n    requestFullscreen() {\n        const doc = window.document;\n        const docEl = doc.documentElement;\n        const requestFullScreen = docEl[\"requestFullscreen\"] || docEl[\"mozRequestFullScreen\"] || docEl[\"webkitRequestFullScreen\"] || docEl[\"msRequestFullscreen\"];\n        if (requestFullScreen) {\n            requestFullScreen.call(docEl);\n        }\n    }\n\n    cancelFullscreen() {\n        const doc = window.document;\n        const cancelFullScreen = doc[\"exitFullscreen\"] || doc[\"mozCancelFullScreen\"] || doc[\"webkitExitFullscreen\"] || doc[\"msExitFullscreen\"];\n        if (cancelFullScreen) {\n            cancelFullScreen.call(doc);\n        }\n    }\n\n    isFullscreen() {\n        const doc = window.document;\n        return doc[\"fullscreenElement\"] || doc[\"mozFullScreenElement\"] || doc[\"webkitFullscreenElement\"] || doc[\"msFullscreenElement\"];\n    }\n\n    toggleFullscreen() {\n        if (!this.isFullscreen()) {\n            this.requestFullscreen();\n        }\n        else {\n            this.cancelFullscreen();\n        }\n    }\n}","<div class=\"btn-toolbar\">\n    <div class=\"btn-group\" [sq-action-buttons]=\"{items: [action]}\"></div>\n</div>","import {Component, OnInit, OnDestroy, ChangeDetectorRef} from \"@angular/core\";\nimport {Subscription} from \"rxjs\";\nimport {NotificationsService} from \"@sinequa/core/notification\";\n\n@Component({\n    selector: \"sq-network-activity\",\n    templateUrl: \"./network-activity.html\",\n    styleUrls: [\"./network-activity.scss\"]\n})\nexport class BsNetworkActivity implements OnInit, OnDestroy {\n    subscription: Subscription | undefined;\n    active: boolean;\n    hidden: boolean;\n\n    constructor(\n        private notificationsService: NotificationsService,\n        private changeDetectorRef: ChangeDetectorRef) {\n    }\n\n    ngOnInit() {\n        this.unbind();\n        this.bind();\n    }\n\n    ngOnDestroy() {\n        this.unbind();\n    }\n\n    bind() {\n        this.subscription = this.notificationsService.events.subscribe(\n            (value) => {\n                this.active = this.notificationsService.get(\"network\") > 0;\n                setTimeout(() => this.changeDetectorRef.markForCheck(), 0); // Value can switch synchronously => this can cause \"Expression has changed\" error\n            });\n    }\n\n    unbind() {\n        if (this.subscription) {\n            this.subscription.unsubscribe();\n            this.subscription = undefined;\n        }\n    }\n\n}","<div class=\"btn-toolbar\">\n    <div class=\"btn-group\">\n        <div class=\"btn-text\" title=\"{{'msg#statusbar.networkActivity' | sqMessage}}\">\n            <span class=\"fas fa-bolt\" [ngClass]=\"{'blink': active}\"></span>\n        </div>\n    </div>\n</div>","import {NgModule} from \"@angular/core\";\nimport {CommonModule} from \"@angular/common\";\n\nimport {IntlModule} from \"@sinequa/core/intl\";\n\nimport {BsActionModule} from \"@sinequa/components/action\";\nimport {UtilsModule} from \"@sinequa/components/utils\";\n\nimport {BsFullscreenActivator} from \"./fullscreen-activator/fullscreen-activator\";\nimport {BsNetworkActivity} from \"./network-activity/network-activity\";\n\n@NgModule({\n    imports: [\n        CommonModule,\n        IntlModule,\n        BsActionModule,\n        UtilsModule,\n    ],\n    declarations: [\n        BsFullscreenActivator, BsNetworkActivity,\n    ],\n    exports: [\n        BsFullscreenActivator, BsNetworkActivity,\n    ]\n})\nexport class BsStatusBarModule {\n}\n","export default {\n    \"statusBar\": {\n        \"fullscreenTitleEnter\": \"Fullscreen\",\n        \"fullscreenTitleExit\": \"Exit fullscreen\",\n        \"networkActivity\": \"Network activity\"\n    }\n};\n","export default {\n    \"statusBar\": {\n        \"fullscreenTitleEnter\": \"Plein écran\",\n        \"fullscreenTitleExit\": \"Quitter le mode plein écran\",\n        \"networkActivity\": \"Activité reseau\"\n    }\n};\n","export default {\n    \"statusBar\": {\n        \"fullscreenTitleEnter\": \"Vollbildmodus\",\n        \"fullscreenTitleExit\": \"Volbildmodus verlassen\",\n        \"networkActivity\": \"Netzwerk-Aktivität\"\n    }\n};\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":["Action","Utils","i0.ɵɵelementStart","i0.ɵɵelement","i0.ɵɵelementEnd","i0.ɵɵadvance","i0.ɵɵproperty","Component","i0.ɵɵpropertyInterpolate","CommonModule","IntlModule","BsActionModule","UtilsModule","NgModule"],"mappings":"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"}