!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@sinequa/core/base"),require("@sinequa/components/action"),require("@sinequa/core/web-services"),require("@sinequa/core/modal"),require("@sinequa/core/app-utils"),require("@sinequa/core/notification"),require("@angular/common"),require("@sinequa/core/intl"),require("@sinequa/core/validation"),require("@sinequa/components/modal")):"function"==typeof define&&define.amd?define("@sinequa/components/feedback",["exports","@angular/core","@sinequa/core/base","@sinequa/components/action","@sinequa/core/web-services","@sinequa/core/modal","@sinequa/core/app-utils","@sinequa/core/notification","@angular/common","@sinequa/core/intl","@sinequa/core/validation","@sinequa/components/modal"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self).sinequa=e.sinequa||{},e.sinequa.components=e.sinequa.components||{},e.sinequa.components.feedback={}),e.ng.core,e.sinequa.core.base,e.sinequa.components.action,e.sinequa.core["web-services"],e.sinequa.core.modal,e.sinequa.core["app-utils"],e.sinequa.core.notification,e.ng.common,e.sinequa.core.intl,e.sinequa.core.validation,e.sinequa.components.modal)}(this,(function(e,t,n,i,o,a,r,s,c,u,l,d){"use strict";var f="UserFeedback",m=function(){function e(e,t,n,i){this.auditService=e,this.modalService=t,this.appService=n,this.notificationsService=i}return e.prototype.sendUserFeedback=function(e,t,i){var o=this,a={type:f,detail:{app:this.appService.appName,message:e,detail:t}};n.Utils.subscribe(this.auditService.notify([a]),(function(e){i&&o.notificationsService.success("msg#feedback.thankyou")}))},e.prototype.buildFeedbackAction=function(){return[new i.Action({text:"msg#feedback.text",title:"msg#feedback.title",icon:"fas fa-comment",headerGroup:!0,children:[this.createAction("content","msg#feedback.content.text","msg#feedback.content.title","far fa-file-alt fa-fw"),this.createAction("ui","msg#feedback.ui.text","msg#feedback.ui.title","fas fa-desktop fa-fw"),this.createAction("lang","msg#feedback.lang.text","msg#feedback.lang.title","far fa-comments fa-fw"),this.createAction("other","msg#feedback.other.text","msg#feedback.other.title","far fa-lightbulb fa-fw")]})]},e.prototype.createAction=function(e,t,n,o){var a=this;return new i.Action({text:t,title:n,icon:o,action:function(){return a.openFeedbackModal(e,n)}})},e.prototype.openFeedbackModal=function(e,t){var n=this,i={title:"msg#feedback.title",message:t,output:"",buttons:[],rowCount:5};this.modalService.prompt(i).then((function(t){-1===t&&""!==i.output.trim()&&n.sendUserFeedback(e,i.output,!0)}))},e}();m.ɵfac=function(e){return new(e||m)(t.ɵɵinject(o.AuditWebService),t.ɵɵinject(a.ModalService),t.ɵɵinject(r.AppService),t.ɵɵinject(s.NotificationsService))},m.ɵprov=t.ɵɵdefineInjectable({token:m,factory:m.ɵfac,providedIn:"root"});var p=function(){function e(e){this.feedbackService=e}return e.prototype.ngOnInit=function(){this.items=this.feedbackService.buildFeedbackAction(),this.options={items:this.items,autoAdjust:!0,rightAligned:this.rightAligned,size:this.size,style:this.style}},e}();p.ɵfac=function(e){return new(e||p)(t.ɵɵdirectiveInject(m))},p.ɵcmp=t.ɵɵdefineComponent({type:p,selectors:[["sq-feedback-menu"]],inputs:{size:"size",style:"style",rightAligned:"rightAligned"},decls:1,vars:1,consts:[[3,"sq-action-buttons"]],template:function(e,n){1&e&&t.ɵɵelement(0,"div",0),2&e&&t.ɵɵproperty("sq-action-buttons",n.options)},directives:[i.BsActionButtons],encapsulation:2,changeDetection:0});var b=function(){};b.ɵmod=t.ɵɵdefineNgModule({type:b}),b.ɵinj=t.ɵɵdefineInjector({factory:function(e){return new(e||b)},imports:[[c.CommonModule,u.IntlModule,i.BsActionModule,l.ValidationModule,d.BsModalModule]]}),("undefined"==typeof ngJitMode||ngJitMode)&&t.ɵɵsetNgModuleScope(b,{declarations:[p],imports:[c.CommonModule,u.IntlModule,i.BsActionModule,l.ValidationModule,d.BsModalModule],exports:[p]});var h=n.Utils.merge({},{feedback:{text:"",title:"Send feedback to the Sinequa admin",content:{text:"Content",title:"Propose to add new content or improve the current content"},ui:{text:"User Interface",title:"Propose improvements to the User Interface"},lang:{text:"Language",title:"Propose language processing improvements, like new words, synonyms to add to the dictionaries (this affects directly the relevance of the search engine)"},other:{text:"Other",title:"Submit feature requests, and other improvement ideas"},thankyou:"Thank you for your feedback!",quality:{label:"Quality of the document:"},relevance:{label:"Relevance of the document:"},labels:{public:{label:"Tags:"},private:{label:"Private tags:"}}}},d.enModal),g=n.Utils.merge({},{feedback:{text:"",title:"Envoyer un feedback à l'admin Sinequa",content:{text:"Contenu",title:"Proposer d'ajouter du contenu ou d'améliorer le contenu actuel"},ui:{text:"Interface Utilisateur",title:"Proposer des améliorations d'interfaces utilisateur"},lang:{text:"Langage",title:"Proposer des améliorations linguistiques, comme des nouveaux mots et synonymes à ajouter aux dictionaires (cela affecte directement la pertinence du moteur de recherche)"},other:{text:"Autre",title:"Proposer des fonctionnalités supplémentaires et autres idées d'améliorations"},thankyou:"Merci pour votre commentaire !",quality:{label:"Qualité du document:"},relevance:{label:"Pertinence du document:"},labels:{public:{label:"Tags:"},private:{label:"Tags privés:"}}}},d.frModal),v=n.Utils.merge({},{feedback:{text:"",title:"Sende Rückmeldung an den Sinequa-Admin",content:{text:"Inhalt",title:"Vorschlag zum Hinzufügen neuer Inhalte oder zur Verbesserung vorhandener Inhalte"},ui:{text:"Benutzeroberfläche",title:"Schlage Verbesserungen für die Benutzeroberfläche vor"},lang:{text:"Sprache",title:"Schlage Verbesserungen für die Sprachverarbeitung vor wie neue Worte oder Synonyme, die zu den Wörterbüchern hinzugefügt werden sollen (dies hat direkte Auswirkungen auf die Relevanzberechnung der Suchmaschine)"},other:{text:"Andere",title:"Reichen Sie einen Vorschlag für eine zusätzliche Funktion oder andere Verbesserungvorschläge ein"},thankyou:"Vielen Dank für Ihre Rückmeldung!",quality:{label:"Qualität des Dokuments:"},relevance:{label:"Relevanz des Dokuments:"},labels:{public:{label:"Etiketten:"},private:{label:"Private Etiketten:"}}}},d.deModal);e.AuditFeedbackType=f,e.BsFeedbackMenu=p,e.BsFeedbackModule=b,e.FeedbackService=m,e.deFeedback=v,e.enFeedback=h,e.frFeedback=g,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=sinequa-components-feedback.umd.min.js.map