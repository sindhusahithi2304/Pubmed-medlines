!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("rxjs"),require("@sinequa/core/web-services"),require("@sinequa/core/app-utils"),require("@sinequa/core/base"),require("@sinequa/components/action"),require("@sinequa/components/search"),require("@sinequa/core/modal"),require("@sinequa/components/selection"),require("@angular/forms"),require("@sinequa/components/modal"),require("@sinequa/components/utils"),require("@sinequa/core/validation"),require("@sinequa/core/intl"),require("@sinequa/core/notification"),require("@angular/common"),require("@angular/cdk/drag-drop"),require("@angular/router"),require("@sinequa/core/login"),require("@sinequa/components/facet")):"function"==typeof define&&define.amd?define("@sinequa/components/saved-queries",["exports","@angular/core","rxjs","@sinequa/core/web-services","@sinequa/core/app-utils","@sinequa/core/base","@sinequa/components/action","@sinequa/components/search","@sinequa/core/modal","@sinequa/components/selection","@angular/forms","@sinequa/components/modal","@sinequa/components/utils","@sinequa/core/validation","@sinequa/core/intl","@sinequa/core/notification","@angular/common","@angular/cdk/drag-drop","@angular/router","@sinequa/core/login","@sinequa/components/facet"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self).sinequa=e.sinequa||{},e.sinequa.components=e.sinequa.components||{},e.sinequa.components["saved-queries"]={}),e.ng.core,e.rxjs,e.sinequa.core["web-services"],e.sinequa.core["app-utils"],e.sinequa.core.base,e.sinequa.components.action,e.sinequa.components.search,e.sinequa.core.modal,e.sinequa.components.selection,e.ng.forms,e.sinequa.components.modal,e.sinequa.components.utils,e.sinequa.core.validation,e.sinequa.core.intl,e.sinequa.core.notification,e.ng.common,e.ng.cdk.dragDrop,e.ng.router,e.sinequa.core.login,e.sinequa.components.facet)}(this,(function(e,t,r,n,i,o,a,s,u,c,l,p,d,m,v,f,h,g,y,S,x){"use strict";var q=["SavedQuery_Add","SavedQuery_Delete","SavedQuery_DeleteAll","SavedQuery_Rename","SavedQuery_Update"],Q=new t.InjectionToken("SAVEDQUERY_COMPONENTS"),b=function(){function e(e,t,i,o,s,u,c,l){var p=this;this.userSettingsService=e,this.searchService=t,this.modalService=i,this.appService=o,this.queryExportService=s,this.downloadService=u,this.selectionService=c,this.savedQueryComponents=l,this._events=new r.Subject,this._changes=new r.Subject,this.userSettingsService.events.subscribe((function(e){p._events.next({type:"SavedQuery_Loaded"})})),this._events.subscribe((function(e){-1!==q.indexOf(e.type)&&p.changes.next(e)})),this.selectedRecordsAction=new a.Action({icon:"fas fa-download",title:"msg#exportQuery.btnTitle",action:function(e,t){p.exportModal(p.selectionService.haveSelectedRecords?n.ExportSourceType.Selection:n.ExportSourceType.Result)}})}return Object.defineProperty(e.prototype,"savedqueries",{get:function(){return this.userSettingsService.userSettings||(this.userSettingsService.userSettings={}),this.userSettingsService.userSettings.savedQueries||(this.userSettingsService.userSettings.savedQueries=[]),this.userSettingsService.userSettings.savedQueries},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"events",{get:function(){return this._events},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"changes",{get:function(){return this._changes},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasSavedQuery",{get:function(){return this.savedqueries.length>0},enumerable:!1,configurable:!0}),e.prototype.savedquery=function(e){var t=this.savedqueryIndex(e);return t>=0?this.savedqueries[t]:void 0},e.prototype.savedqueryIndex=function(e){for(var t=0,r=this.savedqueries.length;t<r;t++){var n=this.savedqueries[t];if(n&&n.name===e)return t}return-1},e.prototype.createSavedQuery=function(e){return!(this.savedqueryIndex(e.name)>=0)&&(this.savedqueries.unshift(e),this._events.next({type:"SavedQuery_Add",savedquery:e}),this.patchSavedQueries([{type:"SavedQuery_Add",detail:{savedquery:e.name}}]),!0)},e.prototype.updateSavedQuery=function(e,t){var r=this.savedqueryIndex(e.name);return(-1===r||t===r)&&(t>=0&&t<this.savedqueries.length&&(this.savedqueries.splice(t,1,e),this._events.next({type:"SavedQuery_Update",savedquery:e}),this.patchSavedQueries([{type:"SavedQuery_Update",detail:{savedquery:e.name}}]),!0))},e.prototype.updateSavedQueries=function(e,t){return o.Utils.arraySet(this.savedqueries,e),this._events.next({type:"SavedQuery_Update"}),this.patchSavedQueries(t),!0},e.prototype.deleteSavedQuery=function(e){var t=this.savedqueryIndex(e.name);return-1!==t&&(this.savedqueries.splice(t,1),this._events.next({type:"SavedQuery_Delete",savedquery:e}),this.patchSavedQueries([{type:"SavedQuery_Delete",detail:{savedquery:e.name}}]),!0)},e.prototype.setSavedQueryToCurrentQuery=function(e){e.query=i.Query.copy(this.searchService.query)},e.prototype.patchSavedQueries=function(e){var t=this;return this.userSettingsService.patch({savedQueries:this.savedqueries},e).subscribe((function(e){t._events.next({type:"SavedQuery_Patched"})}),(function(e){console.error("Could not patch Saved queries!",e)}))},e.prototype.rssHref=function(e){return o.Utils.addSearchParams(this.appService.appWebService.makeUrl("query.rss"),{app:this.appService.appName,name:e.name})},e.prototype.hasRssEnabled=function(){return!!this.appService.app&&!!this.appService.app.queryRssEnabled},e.prototype.hasExportConfig=function(){return!!this.appService.app&&!!this.appService.app.queryExport},e.prototype.download=function(e){return this.downloadService.download(this.requestExport(e))},e.prototype.requestExport=function(e){switch(e.export){case n.ExportSourceType.Result:return this.queryExportService.exportResult(e.webService,this.searchService.query,this.searchService.results,e.format,e.maxCount,e.exportedColumns);case n.ExportSourceType.Selection:return this.queryExportService.exportSelection(e.webService,this.searchService.query,this.searchService.results,this.selectionService.getSelectedIds(),e.format,e.maxCount,e.exportedColumns);case n.ExportSourceType.SavedQuery:return this.queryExportService.exportSavedQuery(e.webService,e.queryName||"",e.format,e.maxCount,e.exportedColumns);default:return console.log("QueryExporter.export unexpected export type: ",n.ExportSourceType[e.export]),r.throwError("QueryExporter.export unexpected export type: ")}},e.prototype.searchSavedQuery=function(e,t){return this.searchService.setQuery(o.Utils.extend(this.searchService.makeQuery(),o.Utils.copy(e.query))),this._events.next({type:"Search_SavedQuery",savedquery:e}),this.searchService.search({path:t},{type:"Search_SavedQuery",detail:{"saved-query":e.name}})},e.prototype.createSavedQueryModal=function(e){var t=this;void 0===e&&(e=this.searchService.query);var r={name:e.text||"",query:i.Query.copy(e)};return this.modalService.open(this.savedQueryComponents.editSavedQueryModal,{model:r}).then((function(e){if(-1===e){var n=t.savedqueryIndex(r.name);return-1!==n?t.modalService.yesNo("msg#savedQueries.savedQueryAlreadyExists").then((function(e){return-3===e&&t.updateSavedQuery(r,n)})):t.createSavedQuery(r)}return!1}))},e.prototype.manageSavedQueriesModal=function(){var e=this,t={savedQueries:o.Utils.copy(this.savedqueries)};return this.modalService.open(this.savedQueryComponents.manageSavedQueriesModal,{model:t}).then((function(r){return-1===r&&e.updateSavedQueries(t.savedQueries,t.auditEvents)}))},e.prototype.exportModal=function(e,t){if(!this.hasExportConfig()||!this.appService.app)return Promise.resolve(-2);var r={format:n.ExportOutputFormat.Csv,export:e,webService:this.appService.app.queryExport};return t&&e===n.ExportSourceType.SavedQuery&&(r.queryName=t.name),this.modalService.open(this.savedQueryComponents.exportSavedQueryModal,{model:r})},e.prototype.notifyOpenSavedQuery=function(e){this._events.next({type:"Search_SavedQuery",savedquery:e})},e.prototype.ngOnDestroy=function(){this.events.complete(),this.changes.complete()},e}();b.ɵfac=function(e){return new(e||b)(t.ɵɵinject(n.UserSettingsWebService),t.ɵɵinject(s.SearchService),t.ɵɵinject(u.ModalService),t.ɵɵinject(i.AppService),t.ɵɵinject(n.QueryExportWebService),t.ɵɵinject(n.DownloadWebService),t.ɵɵinject(c.SelectionService),t.ɵɵinject(Q))},b.ɵprov=t.ɵɵdefineInjectable({token:b,factory:b.ɵfac,providedIn:"root"});var C=["RecentQuery_Add","RecentQuery_Update","RecentQuery_Delete"],E=new t.InjectionToken("MAX_QUERIES"),D=function(){function e(e,t,n){var i=this;this.userSettingsService=e,this.searchService=t,this.maxQueries=n,this._events=new r.Subject,this._changes=new r.Subject,this.maxQueries||(this.maxQueries=20),this.userSettingsService.events.subscribe((function(e){i.recentqueries.forEach((function(e){if(o.Utils.isString(e.date)){var t=o.Utils.toDate(e.date);t&&(e.date=t)}})),i._events.next({type:"RecentQuery_Loaded"})})),this._events.subscribe((function(e){-1!==C.indexOf(e.type)&&i.changes.next(e)})),this.searchService.queryStream.subscribe((function(e){e&&i.addRecentQuery({query:e.copy(),date:new Date})}))}return Object.defineProperty(e.prototype,"recentqueries",{get:function(){return this.userSettingsService.userSettings||(this.userSettingsService.userSettings={}),this.userSettingsService.userSettings.recentQueries||(this.userSettingsService.userSettings.recentQueries=[]),this.userSettingsService.userSettings.recentQueries},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"events",{get:function(){return this._events},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"changes",{get:function(){return this._changes},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasRecentQuery",{get:function(){return this.recentqueries.length>0},enumerable:!1,configurable:!0}),e.prototype.recentquery=function(e){var t=this.recentqueryIndex(e);return t>=0?this.recentqueries[t]:void 0},e.prototype.recentqueryIndex=function(e){for(var t=0,r=this.recentqueries.length;t<r;t++){var n=this.recentqueries[t];if(n&&n.query.text&&n.query.text.toLowerCase()===e.toLowerCase())return t}return-1},e.prototype.comparator=function(e,t){return t.date.getTime()-e.date.getTime()},e.prototype.addRecentQuery=function(e){if(!e.query||!e.query.text||""===e.query.text.trim())return!1;var t=this.recentqueryIndex(e.query.text);if(t>=0){if(Math.abs(e.date.getTime()-this.recentqueries[t].date.getTime())<1e3&&o.Utils.equals(this.recentqueries[t].query,e.query))return!1;this.recentqueries[t].date=e.date,this.recentqueries[t].query=e.query,this._events.next({type:"RecentQuery_Update",recentquery:this.recentqueries[t]})}else this.recentqueries.push(e),this._events.next({type:"RecentQuery_Add",recentquery:e});return this.recentqueries.sort(this.comparator),this.maxQueries>=0&&this.recentqueries.splice(this.maxQueries),this.patchRecentQueries(),!0},e.prototype.deleteRecentQuery=function(e){var t=this.recentqueryIndex(e.query.text||"");return-1!==t&&(this.recentqueries.splice(t,1),this._events.next({type:"RecentQuery_Delete",recentquery:e}),this.patchRecentQueries([{type:"RecentQuery_Delete",detail:{recentquery:e.query.text}}]),!0)},e.prototype.patchRecentQueries=function(e){var t=this;return this.userSettingsService.patch({recentQueries:this.recentqueries},e).subscribe((function(e){t._events.next({type:"RecentQuery_Patched"})}),(function(e){console.error("Could not patch Recent queries!",e)}))},e.prototype.searchRecentQuery=function(e,t){return this.searchService.setQuery(o.Utils.extend(this.searchService.makeQuery(),o.Utils.copy(e.query))),this._events.next({type:"Search_RecentQuery",recentquery:e}),this.searchService.search({path:t},{type:"Search_RecentQuery",detail:{recentquery:e.query.text}})},e.prototype.notifyOpenRecentQuery=function(e){this._events.next({type:"Search_RecentQuery",recentquery:e})},e.prototype.ngOnDestroy=function(){this.events.complete(),this.changes.complete()},e}();D.ɵfac=function(e){return new(e||D)(t.ɵɵinject(n.UserSettingsWebService),t.ɵɵinject(s.SearchService),t.ɵɵinject(E,8))},D.ɵprov=t.ɵɵdefineInjectable({token:D,factory:D.ɵfac,providedIn:"root"});var M=["RecentDocument_Add","RecentDocument_Update","RecentDocument_Delete"],I=new t.InjectionToken("MAX_DOCUMENTS"),_=function(){function e(e,t,n){var i=this;this.userSettingsService=e,this.searchService=t,this.maxDocuments=n,this._events=new r.Subject,this._changes=new r.Subject,this.maxDocuments||(this.maxDocuments=20),this.userSettingsService.events.subscribe((function(e){i.recentdocuments.forEach((function(e){if(o.Utils.isString(e.date)){var t=o.Utils.toDate(e.date);t&&(e.date=t)}})),i.events.next({type:"RecentDocument_Loaded"})})),this._events.subscribe((function(e){-1!==M.indexOf(e.type)&&i.changes.next(e)})),this.searchService.events.subscribe((function(e){"open-original-document"===e.type&&e.record&&i.addDocument(e.record,!0)}))}return Object.defineProperty(e.prototype,"recentdocuments",{get:function(){return this.userSettingsService.userSettings||(this.userSettingsService.userSettings={}),this.userSettingsService.userSettings.recentDocuments||(this.userSettingsService.userSettings.recentDocuments=[]),this.userSettingsService.userSettings.recentDocuments},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"events",{get:function(){return this._events},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"changes",{get:function(){return this._changes},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasRecentDocument",{get:function(){return this.recentdocuments.length>0},enumerable:!1,configurable:!0}),e.prototype.recentdocument=function(e){var t=this.recentdocumentIndex(e);return t>=0?this.recentdocuments[t]:void 0},e.prototype.recentdocumentIndex=function(e){for(var t=0,r=this.recentdocuments.length;t<r;t++){var n=this.recentdocuments[t];if(n&&n.id===e)return t}return-1},e.prototype.comparator=function(e,t){return t.date.getTime()-e.date.getTime()},e.prototype.addDocument=function(e,t){return!!e&&this.addRecentDocument({id:e.id,title:e.title,url1:e.url1,treepath:e.treepath,docformat:e.docformat,authors:e.authors,date:new Date,original:t})},e.prototype.addRecentDocument=function(e){if(!e.id)return!1;var t=this.recentdocumentIndex(e.id);return t>=0?(this.recentdocuments[t].date=e.date,this.events.next({type:"RecentDocument_Update",recentdocument:this.recentdocuments[t]})):(this.recentdocuments.push(e),this.events.next({type:"RecentDocument_Add",recentdocument:e})),this.recentdocuments.sort(this.comparator),this.maxDocuments>=0&&this.recentdocuments.splice(this.maxDocuments),this.patchRecentDocuments(),!0},e.prototype.deleteRecentDocument=function(e){var t=this.recentdocumentIndex(e.id);return-1!==t&&(this.recentdocuments.splice(t,1),this.events.next({type:"RecentDocument_Delete",recentdocument:e}),this.patchRecentDocuments([{type:"RecentDocument_Delete",detail:{recentdocument:e.id}}]),!0)},e.prototype.patchRecentDocuments=function(e){var t=this;return this.userSettingsService.patch({recentDocuments:this.recentdocuments},e).subscribe((function(e){t.events.next({type:"RecentDocument_Patched"})}),(function(e){console.error("Could not patch Recent documents!",e)}))},e.prototype.ngOnDestroy=function(){this.events.complete(),this.changes.complete()},e}();_.ɵfac=function(e){return new(e||_)(t.ɵɵinject(n.UserSettingsWebService),t.ɵɵinject(s.SearchService),t.ɵɵinject(I,8))},_.ɵprov=t.ɵɵdefineInjectable({token:_,factory:_.ɵfac,providedIn:"root"});var w=function(){function e(e,t){this.model=e,this.formBuilder=t}return e.prototype.ngOnInit=function(){var e=this;this.nameControl=new l.FormControl(this.model.name,l.Validators.required),this.form=this.formBuilder.group({savedQueryName:this.nameControl}),this.formChanges=o.Utils.subscribe(this.form.valueChanges,(function(t){e.model.name=e.nameControl.value})),this.buttons=[new u.ModalButton({result:-1,primary:!0,validation:this.form}),new u.ModalButton({result:-2})]},e.prototype.ngOnDestroy=function(){this.formChanges.unsubscribe()},e}();w.ɵfac=function(e){return new(e||w)(t.ɵɵdirectiveInject(u.MODAL_MODEL),t.ɵɵdirectiveInject(l.FormBuilder))},w.ɵcmp=t.ɵɵdefineComponent({type:w,selectors:[["sq-edit-saved-query"]],decls:7,vars:7,consts:[["name","editSavedQuery","novalidate","",3,"formGroup"],[3,"title","buttons"],[1,"form-group","sq-form-group"],["for","savedQueryName"],["type","text","id","savedQueryName","formControlName","savedQueryName","spellcheck","off","sqAutofocus","",1,"form-control",3,"sqValidation"]],template:function(e,r){1&e&&(t.ɵɵelementStart(0,"form",0),t.ɵɵelementStart(1,"sq-modal",1),t.ɵɵelementStart(2,"div",2),t.ɵɵelementStart(3,"label",3),t.ɵɵtext(4),t.ɵɵpipe(5,"sqMessage"),t.ɵɵelementEnd(),t.ɵɵelement(6,"input",4),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e&&(t.ɵɵproperty("formGroup",r.form),t.ɵɵadvance(1),t.ɵɵproperty("title","msg#editSavedQuery.title")("buttons",r.buttons),t.ɵɵadvance(3),t.ɵɵtextInterpolate(t.ɵɵpipeBind1(5,5,"msg#editSavedQuery.name")),t.ɵɵadvance(2),t.ɵɵproperty("sqValidation",r.form))},directives:[l.ɵangular_packages_forms_forms_y,l.NgControlStatusGroup,l.FormGroupDirective,p.BsModal,l.DefaultValueAccessor,l.NgControlStatus,l.FormControlName,d.Autofocus,m.ValidationDirective],pipes:[v.MessagePipe],encapsulation:2});
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var R=function(e,t){return(R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function O(e,t){function r(){this.constructor=e}R(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}Object.create;function P(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}Object.create;function k(e,r){if(1&e&&(t.ɵɵelementStart(0,"option",11),t.ɵɵtext(1),t.ɵɵelementEnd()),2&e){var n=r.$implicit,i=t.ɵɵnextContext();t.ɵɵproperty("value",n),t.ɵɵadvance(1),t.ɵɵtextInterpolate(i.outputFormats[n].toUpperCase())}}function A(e,r){if(1&e&&(t.ɵɵelementStart(0,"option",11),t.ɵɵtext(1),t.ɵɵelementEnd()),2&e){var n=r.$implicit;t.ɵɵproperty("value",n),t.ɵɵadvance(1),t.ɵɵtextInterpolate(n)}}function j(e,r){if(1&e){var n=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"div",2),t.ɵɵelementStart(1,"label",12),t.ɵɵtext(2),t.ɵɵpipe(3,"sqMessage"),t.ɵɵelementEnd(),t.ɵɵelementStart(4,"div"),t.ɵɵelementStart(5,"div",13),t.ɵɵelementStart(6,"label",14),t.ɵɵelementStart(7,"input",15),t.ɵɵlistener("change",(function(e){t.ɵɵrestoreView(n);var r=t.ɵɵnextContext();return r.sourceChanged(e,r.sourceTypes.Result)})),t.ɵɵelementEnd(),t.ɵɵtext(8),t.ɵɵpipe(9,"sqMessage"),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementStart(10,"div",13),t.ɵɵelementStart(11,"label",14),t.ɵɵelementStart(12,"input",16),t.ɵɵlistener("change",(function(e){t.ɵɵrestoreView(n);var r=t.ɵɵnextContext();return r.sourceChanged(e,r.sourceTypes.Selection)})),t.ɵɵelementEnd(),t.ɵɵtext(13),t.ɵɵpipe(14,"sqMessage"),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd()}if(2&e){var i=t.ɵɵnextContext();t.ɵɵadvance(2),t.ɵɵtextInterpolate(t.ɵɵpipeBind1(3,6,"msg#exportQuery.dialogSourceType")),t.ɵɵadvance(5),t.ɵɵproperty("checked",i.sourceChosen(i.sourceTypes.Result)),t.ɵɵadvance(1),t.ɵɵtextInterpolate1(" ",t.ɵɵpipeBind1(9,8,"msg#exportQuery.dialogResult")," "),t.ɵɵadvance(4),t.ɵɵproperty("checked",i.sourceChosen(i.sourceTypes.Selection))("disabled",!i.hasSelectedRecords()),t.ɵɵadvance(1),t.ɵɵtextInterpolate1(" ",t.ɵɵpipeBind1(14,10,"msg#exportQuery.dialogSelection")," ")}}var B=function(e){return{count:e}},F=function(e){return{values:e}},N=function(){function e(e,t,r,i,o,a,s,u,c){this.model=e,this.formBuilder=t,this.appService=r,this.selectionService=i,this.savedQueriesService=o,this.validationService=a,this.notificationsService=s,this.changeDetectorRef=u,this.modalRef=c,this.supportedFormats=[n.ExportOutputFormat.Csv,n.ExportOutputFormat.Xlsx,n.ExportOutputFormat.Json],this.outputFormats=n.ExportOutputFormat,this.sourceTypes=n.ExportSourceType,this.maxCount=1e3}return e.prototype.ngOnInit=function(){var e,t,r,n,i=this;this.savedQueries=[];try{for(var a=P(this.savedQueriesService.savedqueries),s=a.next();!s.done;s=a.next()){var c=s.value;this.savedQueries.push(c.name)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}if(this.exportableColumns=[],this.appService.app){var p=this.getDefaultQueryExportConfig(this.appService.app),d=p.columns&&p.columns.column$||[];try{for(var m=P(d),v=m.next();!v.done;v=m.next()){var f=v.value;this.exportableColumns.push(f.title)}}catch(e){r={error:e}}finally{try{v&&!v.done&&(n=m.return)&&n.call(m)}finally{if(r)throw r.error}}p.maxCount&&o.Utils.isNumber(p.maxCount)&&(this.maxCount=p.maxCount)}this.form=this.formBuilder.group({format:[this.supportedFormats[0]],exportedColumns:[this.model.exportedColumns],export:[this.model.export,l.Validators.required],maxCount:[this.model.maxCount,l.Validators.compose([this.validationService.integerValidator(),this.validationService.minValidator(1)])]}),this.isDownloading=!1,this.buttons=[new u.ModalButton({text:"msg#exportQuery.btnDownload",result:0,anchor:!0,primary:!0,action:function(e){var t=i.savedQueriesService.download(i.model);t&&(o.Utils.subscribe(t,(function(e){return console.log("exportQuery.download done."),i.notificationsService.info("msg#exportQuery.successNotification"),i.modalRef.close(-1),e}),(function(e){console.log("exportQuery.download failure - error: ",e),i.modalRef.close(e)})),i.isDownloading=!0,i.changeDetectorRef.markForCheck())}}),new u.ModalButton({result:-2})];this.formChanges=o.Utils.subscribe(this.form.valueChanges,(function(){var e=i.form.value.format,t=i.form.value.maxCount,r=i.form.value.exportedColumns;i.model.format!==e&&(i.model.format=e),i.model.maxCount!==t&&(i.model.maxCount=t),i.model.exportedColumns=r}))},e.prototype.ngOnDestroy=function(){this.formChanges&&this.formChanges.unsubscribe()},e.prototype.getDefaultQueryExportConfig=function(e){var t=e.queryExport;return-1!==t.indexOf(",")&&(t=t.substring(0,t.indexOf(","))),o.Utils.getField(e.webServices,t)},e.prototype.hasSelectedRecords=function(){return this.selectionService.haveSelectedRecords},e.prototype.sourceChosen=function(e){return 0!=(this.model.export&e)},e.prototype.sourceChanged=function(e,t){e.target.checked&&(this.model.export=t)},e.prototype.showSourceChooser=function(){return!this.sourceChosen(n.ExportSourceType.SavedQuery)},e}();function V(e,r){if(1&e){var n=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"div",6),t.ɵɵelementStart(1,"button",7),t.ɵɵlistener("click",(function(){return t.ɵɵrestoreView(n),t.ɵɵnextContext().reorder()})),t.ɵɵtext(2),t.ɵɵpipe(3,"sqMessage"),t.ɵɵelementEnd(),t.ɵɵelementEnd()}if(2&e){var i=t.ɵɵnextContext();t.ɵɵadvance(2),t.ɵɵtextInterpolate(t.ɵɵpipeBind1(3,1,i.reordering?"msg#manageSavedQueries.edit":"msg#manageSavedQueries.reorder"))}}function T(e,r){if(1&e&&(t.ɵɵelementStart(0,"div",16),t.ɵɵtext(1),t.ɵɵelementEnd()),2&e){var n=t.ɵɵnextContext().$implicit;t.ɵɵadvance(1),t.ɵɵtextInterpolate(n.name)}}function U(e,r){if(1&e){var n=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"sq-editable",17),t.ɵɵlistener("valueChange",(function(e){t.ɵɵrestoreView(n);var r=t.ɵɵnextContext().$implicit;return t.ɵɵnextContext().setName(r,e)})),t.ɵɵelementEnd()}if(2&e){var i=t.ɵɵnextContext().$implicit,o=t.ɵɵnextContext();t.ɵɵproperty("value",i.name)("model",i)("validators",o.nameValidators)}}function L(e,r){if(1&e){var n=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"a",18),t.ɵɵlistener("click",(function(){t.ɵɵrestoreView(n);var e=t.ɵɵnextContext().$implicit;return t.ɵɵnextContext().export(e)})),t.ɵɵpipe(1,"sqMessage"),t.ɵɵelement(2,"span",19),t.ɵɵelementEnd()}2&e&&t.ɵɵpropertyInterpolate("title",t.ɵɵpipeBind1(1,1,"msg#manageSavedQueries.export"))}function $(e,r){if(1&e&&(t.ɵɵelementStart(0,"a",20),t.ɵɵpipe(1,"sqMessage"),t.ɵɵelement(2,"span",21),t.ɵɵelementEnd()),2&e){var n=t.ɵɵnextContext().$implicit,i=t.ɵɵnextContext();t.ɵɵpropertyInterpolate("href",i.savedQueriesService.rssHref(n),t.ɵɵsanitizeUrl),t.ɵɵpropertyInterpolate("title",t.ɵɵpipeBind1(1,2,"msg#manageSavedQueries.rss"))}}function z(e,r){if(1&e){var n=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"a",18),t.ɵɵlistener("click",(function(){t.ɵɵrestoreView(n);var e=t.ɵɵnextContext(),r=e.$implicit,i=e.index;return t.ɵɵnextContext().remove(r,i)})),t.ɵɵpipe(1,"sqMessage"),t.ɵɵelement(2,"span",22),t.ɵɵelementEnd()}2&e&&t.ɵɵpropertyInterpolate("title",t.ɵɵpipeBind1(1,1,"msg#manageSavedQueries.remove"))}function G(e,r){1&e&&t.ɵɵelement(0,"span",23)}N.ɵfac=function(e){return new(e||N)(t.ɵɵdirectiveInject(u.MODAL_MODEL),t.ɵɵdirectiveInject(l.FormBuilder),t.ɵɵdirectiveInject(i.AppService),t.ɵɵdirectiveInject(c.SelectionService),t.ɵɵdirectiveInject(b),t.ɵɵdirectiveInject(m.ValidationService),t.ɵɵdirectiveInject(f.NotificationsService),t.ɵɵdirectiveInject(t.ChangeDetectorRef),t.ɵɵdirectiveInject(u.ModalRef))},N.ɵcmp=t.ɵɵdefineComponent({type:N,selectors:[["sq-export-query"]],decls:22,vars:30,consts:[["name","exportQuery","novalidate","",3,"formGroup"],[3,"title","buttons","isProcessingState"],[1,"form-group","sq-form-group"],["for","format"],["formControlName","format","id","format","sqAutofocus","",1,"form-control","custom-select",3,"sqValidation"],[3,"value",4,"ngFor","ngForOf"],["for","exportedColumns",3,"title"],["id","exportedColumns","formControlName","exportedColumns","sqAutofocus","","multiple","",1,"form-control","custom-select",3,"sqValidation"],["for","maxCount",3,"title"],["type","number","id","maxCount","formControlName","maxCount","autocomplete","off","spellcheck","off",1,"form-control",3,"sqValidation"],["class","form-group sq-form-group",4,"ngIf"],[3,"value"],["for","export"],[1,"form-check","form-check-inline"],[1,"form-check-label"],["type","radio",1,"form-check-input",3,"checked","change"],["type","radio",1,"form-check-input",3,"checked","disabled","change"]],template:function(e,r){1&e&&(t.ɵɵelementStart(0,"form",0),t.ɵɵelementStart(1,"sq-modal",1),t.ɵɵelementStart(2,"div",2),t.ɵɵelementStart(3,"label",3),t.ɵɵtext(4),t.ɵɵpipe(5,"sqMessage"),t.ɵɵelementEnd(),t.ɵɵelementStart(6,"select",4),t.ɵɵtemplate(7,k,2,2,"option",5),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementStart(8,"div",2),t.ɵɵelementStart(9,"label",6),t.ɵɵpipe(10,"sqMessage"),t.ɵɵtext(11),t.ɵɵpipe(12,"sqMessage"),t.ɵɵelementEnd(),t.ɵɵelementStart(13,"select",7),t.ɵɵtemplate(14,A,2,2,"option",5),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementStart(15,"div",2),t.ɵɵelementStart(16,"label",8),t.ɵɵpipe(17,"sqMessage"),t.ɵɵtext(18),t.ɵɵpipe(19,"sqMessage"),t.ɵɵelementEnd(),t.ɵɵelement(20,"input",9),t.ɵɵelementEnd(),t.ɵɵtemplate(21,j,15,12,"div",10),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e&&(t.ɵɵproperty("formGroup",r.form),t.ɵɵadvance(1),t.ɵɵproperty("title","msg#exportQuery.dialogTitle")("buttons",r.buttons)("isProcessingState",r.isDownloading),t.ɵɵadvance(3),t.ɵɵtextInterpolate(t.ɵɵpipeBind1(5,15,"msg#exportQuery.dialogOutputFormat")),t.ɵɵadvance(2),t.ɵɵproperty("sqValidation",r.form),t.ɵɵadvance(1),t.ɵɵproperty("ngForOf",r.supportedFormats),t.ɵɵadvance(2),t.ɵɵpropertyInterpolate("title",t.ɵɵpipeBind1(10,17,"msg#exportQuery.exportedColumnsLabelTooltip")),t.ɵɵadvance(2),t.ɵɵtextInterpolate1(" ",t.ɵɵpipeBind1(12,19,"msg#exportQuery.exportedColumns")," ⓘ "),t.ɵɵadvance(2),t.ɵɵproperty("sqValidation",r.form),t.ɵɵadvance(1),t.ɵɵproperty("ngForOf",r.exportableColumns),t.ɵɵadvance(2),t.ɵɵpropertyInterpolate("title",t.ɵɵpipeBind2(17,21,"msg#exportQuery.dialogMaxCountTooltip",t.ɵɵpureFunction1(28,F,t.ɵɵpureFunction1(26,B,r.maxCount)))),t.ɵɵadvance(2),t.ɵɵtextInterpolate1("",t.ɵɵpipeBind1(19,24,"msg#exportQuery.dialogMaxCount")," ⓘ"),t.ɵɵadvance(2),t.ɵɵproperty("sqValidation",r.form),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",r.showSourceChooser()))},directives:[l.ɵangular_packages_forms_forms_y,l.NgControlStatusGroup,l.FormGroupDirective,p.BsModal,l.SelectControlValueAccessor,l.NgControlStatus,l.FormControlName,d.Autofocus,m.ValidationDirective,h.NgForOf,l.SelectMultipleControlValueAccessor,l.NumberValueAccessor,l.DefaultValueAccessor,h.NgIf,l.NgSelectOption,l.ɵangular_packages_forms_forms_x],pipes:[v.MessagePipe],encapsulation:2});var W=function(e){return["list-group-item list-group-item-action d-flex w-auto-unimportant",e]};function H(e,r){if(1&e&&(t.ɵɵelementStart(0,"div",8),t.ɵɵtemplate(1,T,2,1,"div",9),t.ɵɵtemplate(2,U,1,3,"sq-editable",10),t.ɵɵelementStart(3,"div",11),t.ɵɵtemplate(4,L,3,3,"a",12),t.ɵɵtemplate(5,$,3,4,"a",13),t.ɵɵtemplate(6,z,3,3,"a",14),t.ɵɵtemplate(7,G,1,0,"span",15),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e){var n=t.ɵɵnextContext();t.ɵɵproperty("ngClass",t.ɵɵpureFunction1(7,W,n.reordering?"cursor-move":"")),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",n.reordering),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",!n.reordering),t.ɵɵadvance(2),t.ɵɵproperty("ngIf",!n.reordering&&n.savedQueriesService.hasExportConfig()),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",!n.reordering&&n.savedQueriesService.hasRssEnabled()),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",!n.reordering),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",n.reordering)}}var J=function(){function e(e,t){var r=this;this.model=e,this.savedQueriesService=t,this.reordering=!1,this.nameValidators=[l.Validators.required,function(e){var t,n,i=e.root.get("model");if(i)try{for(var o=P(r.model.savedQueries),a=o.next();!a.done;a=o.next()){var s=a.value;if(i.value!==s&&e.value===s.name)return{unique:!0}}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return null}]}return e.prototype.ngOnInit=function(){var e=this;this.buttons=[this.removeAllButton=new u.ModalButton({text:"msg#manageSavedQueries.removeAll",result:0,action:function(t){e.model.savedQueries.splice(0),t.visible=!1,e.addAuditEvent({type:"SavedQuery_DeleteAll"})},visible:this.model.savedQueries.length>0}),new u.ModalButton({result:-1,primary:!0}),new u.ModalButton({result:-2})]},e.prototype.addAuditEvent=function(e){this.model.auditEvents||(this.model.auditEvents=[]),this.model.auditEvents.push(e)},e.prototype.reorder=function(){this.reordering=!this.reordering},e.prototype.setName=function(e,t){o.Utils.eqNC(e.name,t)||(this.addAuditEvent({type:"SavedQuery_Rename",detail:{query:t,"old-name":e.name}}),e.name=t)},e.prototype.remove=function(e,t){return this.model.savedQueries.splice(t,1),this.removeAllButton.visible=this.model.savedQueries.length>0,this.addAuditEvent({type:"SavedQuery_Delete",detail:{query:e.name}}),!1},e.prototype.export=function(e){return this.savedQueriesService.exportModal(n.ExportSourceType.SavedQuery,e),!1},e.prototype.dropped=function(e){o.Utils.arrayMove(this.model.savedQueries,e.previousIndex,e.currentIndex)},e}();J.ɵfac=function(e){return new(e||J)(t.ɵɵdirectiveInject(u.MODAL_MODEL),t.ɵɵdirectiveInject(b))},J.ɵcmp=t.ɵɵdefineComponent({type:J,selectors:[["sq-manage-saved-queries"]],decls:6,vars:6,consts:[["name","manageSavedQueries","novalidate",""],[3,"title","buttons"],["class","form-group clearfix",4,"ngIf"],[1,"form-group"],["cdkDropList","",1,"list-group",3,"cdkDropListData","cdkDropListDisabled","cdkDropListDropped"],["cdkDrag","",3,"ngClass",4,"ngFor","ngForOf"],[1,"form-group","clearfix"],["type","button",1,"btn","btn-secondary","float-right",3,"click"],["cdkDrag","",3,"ngClass"],["class","sq-saved-query-text",4,"ngIf"],["name","msg#manageSavedQueries.name",3,"value","model","validators","valueChange",4,"ngIf"],[1,"ml-auto"],["class","ml-2","href","#",3,"title","click",4,"ngIf"],["class","ml-2","target","_blank",3,"href","title",4,"ngIf"],["href","#","class","ml-2",3,"title","click",4,"ngIf"],["class","ml-2 fas fa-bars sq-move",4,"ngIf"],[1,"sq-saved-query-text"],["name","msg#manageSavedQueries.name",3,"value","model","validators","valueChange"],["href","#",1,"ml-2",3,"title","click"],[1,"fas","fa-download","sq-export"],["target","_blank",1,"ml-2",3,"href","title"],[1,"fas","fa-rss","sq-rss"],[1,"fas","fa-times","sq-remove"],[1,"ml-2","fas","fa-bars","sq-move"]],template:function(e,r){1&e&&(t.ɵɵelementStart(0,"form",0),t.ɵɵelementStart(1,"sq-modal",1),t.ɵɵtemplate(2,V,4,3,"div",2),t.ɵɵelementStart(3,"div",3),t.ɵɵelementStart(4,"div",4),t.ɵɵlistener("cdkDropListDropped",(function(e){return r.dropped(e)})),t.ɵɵtemplate(5,H,8,9,"div",5),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(1),t.ɵɵproperty("title","msg#manageSavedQueries.title")("buttons",r.buttons),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",r.model.savedQueries.length),t.ɵɵadvance(2),t.ɵɵproperty("cdkDropListData",r.model.savedQueries)("cdkDropListDisabled",!r.reordering),t.ɵɵadvance(1),t.ɵɵproperty("ngForOf",r.model.savedQueries))},directives:[l.ɵangular_packages_forms_forms_y,l.NgControlStatusGroup,l.NgForm,p.BsModal,h.NgIf,g.CdkDropList,h.NgForOf,g.CdkDrag,h.NgClass,p.BsEditable],pipes:[v.MessagePipe],styles:[".list-group[_ngcontent-%COMP%]{max-height:18.5rem;overflow-y:auto;width:100%}.sq-saved-query-text[_ngcontent-%COMP%]{overflow-wrap:break-word;width:100%;word-break:break-word;word-wrap:break-word}.sq-move[_ngcontent-%COMP%]{cursor:move}span.sq-move[_ngcontent-%COMP%]{color:grey}.sq-remove[_ngcontent-%COMP%]{color:#d3d3d3;cursor:pointer}.sq-remove[_ngcontent-%COMP%]:hover{color:#8b0000}.w-auto-unimportant[_ngcontent-%COMP%]{width:auto}.cursor-move[_ngcontent-%COMP%]{cursor:move}"]});var X=function(e){return[e]},Y=function(e,t){return{items:e,autoAdjust:!0,rightAligned:t}},Z=function(){function e(e,t){var r=this;this.selectionService=e,this.savedQueriesService=t,this.exportAction=new a.Action({icon:"fas fa-download",title:"msg#exportQuery.btnTitle",action:function(e,t){r.export()}})}return e.prototype.hasSelectedRecords=function(){return this.selectionService.haveSelectedRecords},e.prototype.export=function(){this.savedQueriesService.exportModal(this.hasSelectedRecords()?n.ExportSourceType.Selection:n.ExportSourceType.Result)},e}();Z.ɵfac=function(e){return new(e||Z)(t.ɵɵdirectiveInject(c.SelectionService),t.ɵɵdirectiveInject(b))},Z.ɵcmp=t.ɵɵdefineComponent({type:Z,selectors:[["sq-query-exporter"]],inputs:{results:"results",rightAligned:"rightAligned"},decls:1,vars:6,consts:[[3,"sq-action-buttons"]],template:function(e,r){1&e&&t.ɵɵelement(0,"div",0),2&e&&t.ɵɵproperty("sq-action-buttons",t.ɵɵpureFunction2(3,Y,t.ɵɵpureFunction1(1,X,r.exportAction),r.rightAligned))},directives:[a.BsActionButtons],encapsulation:2});var K=function(e,t,r,n){return{item:e,size:t,autoAdjust:r,autoAdjustBreakpoint:n,inMenu:!0}};function ee(e,r){if(1&e&&t.ɵɵelement(0,"li",1),2&e){var n=t.ɵɵnextContext();t.ɵɵproperty("sq-action-item",t.ɵɵpureFunction4(2,K,n.menu,n.size,n.autoAdjust,n.autoAdjustBreakpoint))("collapseBreakpoint",n.collapseBreakpoint)}}var te=function(){function e(e,t,r){var n=this;this.loginService=e,this.savedQueriesService=t,this.searchService=r,this.searchRoute="/search",this.icon="far fa-save",this.autoAdjust=!0,this.autoAdjustBreakpoint="xl",this.collapseBreakpoint="sm",this.saveAction=new a.Action({text:"msg#savedQueries.saveCurrentQuery",title:"msg#savedQueries.saveCurrentQuery",action:function(){n.savedQueriesService.createSavedQueryModal()}}),this.manageAction=new a.Action({text:"msg#savedQueries.manageSavedQueries",title:"msg#savedQueries.manageSavedQueries",action:function(){n.savedQueriesService.manageSavedQueriesModal()}})}return e.prototype.ngOnInit=function(){var e=this;this.updateMenu(),this._savedQueriesSubscription=this.savedQueriesService.changes.subscribe({next:function(){e.updateMenu()}}),this._loginSubscription=this.loginService.events.subscribe((function(t){"session-changed"===t.type&&e.updateMenu()})),this._searchSubscription=this.searchService.resultsStream.subscribe((function(t){e.updateMenu()}))},e.prototype.ngOnDestroy=function(){this._savedQueriesSubscription&&this._savedQueriesSubscription.unsubscribe(),this._loginSubscription&&this._loginSubscription.unsubscribe(),this._searchSubscription&&this._searchSubscription.unsubscribe()},e.prototype.updateMenu=function(){var e=this;if(this.loginService.complete){var t=[];if(this.savedQueriesService.hasSavedQuery){var r=new a.Action({scrollGroup:!0,children:this.savedQueriesService.savedqueries.map((function(t){return new a.Action({text:t.name,title:t.name,data:t,action:function(t){return e.savedQueriesService.searchSavedQuery(t.data,e.searchRoute)}})}))});t.push(r)}this.searchService.results&&t.push(this.saveAction),this.savedQueriesService.hasSavedQuery&&t.push(this.manageAction),this.menu=new a.Action({icon:this.icon,text:"msg#savedQueries.savedQueries",children:t})}else this.menu=void 0},e}();function re(e,r){if(1&e&&(t.ɵɵelementStart(0,"span",7),t.ɵɵtext(1),t.ɵɵelementEnd()),2&e){var n=t.ɵɵnextContext().$implicit;t.ɵɵadvance(1),t.ɵɵtextInterpolate1('"',n.query.text,'"')}}function ne(e,r){if(1&e){var n=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"i",8),t.ɵɵlistener("click",(function(e){t.ɵɵrestoreView(n);var r=t.ɵɵnextContext().$implicit;return t.ɵɵnextContext().deleteQuery(r,e)})),t.ɵɵpipe(1,"sqMessage"),t.ɵɵelementEnd()}2&e&&t.ɵɵproperty("title",t.ɵɵpipeBind1(1,1,"msg#savedQueries.delete"))}te.ɵfac=function(e){return new(e||te)(t.ɵɵdirectiveInject(S.LoginService),t.ɵɵdirectiveInject(b),t.ɵɵdirectiveInject(s.SearchService))},te.ɵcmp=t.ɵɵdefineComponent({type:te,selectors:[["sq-saved-queries-menu"]],inputs:{searchRoute:"searchRoute",icon:"icon",autoAdjust:"autoAdjust",autoAdjustBreakpoint:"autoAdjustBreakpoint",collapseBreakpoint:"collapseBreakpoint",size:"size"},decls:1,vars:1,consts:[["class","nav-item dropdown",3,"sq-action-item","collapseBreakpoint",4,"ngIf"],[1,"nav-item","dropdown",3,"sq-action-item","collapseBreakpoint"]],template:function(e,r){1&e&&t.ɵɵtemplate(0,ee,1,7,"li",0),2&e&&t.ɵɵproperty("ngIf",!!r.menu&&!r.menu.hidden)},directives:[h.NgIf,a.BsActionItem],encapsulation:2});var ie=function(e){return[e]};function oe(e,r){if(1&e){var n=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"a",3),t.ɵɵlistener("click",(function(){t.ɵɵrestoreView(n);var e=r.$implicit;return t.ɵɵnextContext().openSavedQuery(e)})),t.ɵɵelementStart(1,"span",4),t.ɵɵtext(2),t.ɵɵelementEnd(),t.ɵɵtemplate(3,re,2,1,"span",5),t.ɵɵtemplate(4,ne,2,3,"i",6),t.ɵɵelementEnd()}if(2&e){var i=r.$implicit,o=t.ɵɵnextContext();t.ɵɵproperty("routerLink",t.ɵɵpureFunction1(7,ie,o.searchRoute))("queryParams",o.getQueryParams(i))("state",o.getRouterState(i)),t.ɵɵadvance(1),t.ɵɵproperty("title",i.name),t.ɵɵadvance(1),t.ɵɵtextInterpolate(i.name),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",i.query.text),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",o.enableDelete)}}function ae(e,r){1&e&&(t.ɵɵelementStart(0,"div",9),t.ɵɵtext(1),t.ɵɵpipe(2,"sqMessage"),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(1),t.ɵɵtextInterpolate1(" ",t.ɵɵpipeBind1(2,1,"msg#savedQueries.noSavedQuery")," "))}var se=function(e){function t(t){var r=e.call(this)||this;return r.savedQueriesService=t,r.searchRoute="/search",r.maxQueries=5,r.enableDelete=!0,r.page=0,r.manageSavedQueries=new a.Action({icon:"fas fa-cog",title:"msg#savedQueries.manageSavedQueries",action:function(){r.savedQueriesService.manageSavedQueriesModal()}}),r.previousPage=new a.Action({icon:"fas fa-chevron-left",title:"msg#facet.previous",action:function(){r.page--},updater:function(e){e.disabled=r.page<=0,e.hidden=0===r.maxPage}}),r.nextPage=new a.Action({icon:"fas fa-chevron-right",title:"msg#facet.next",action:function(){r.page++},updater:function(e){e.disabled=r.page>=r.maxPage,e.hidden=0===r.maxPage}}),r}return O(t,e),Object.defineProperty(t.prototype,"maxPage",{get:function(){return Math.max(0,Math.ceil(this.savedQueriesService.savedqueries.length/this.maxQueries)-1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startIndex",{get:function(){return this.page*this.maxQueries},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endIndex",{get:function(){return(this.page+1)*this.maxQueries},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"actions",{get:function(){return this.previousPage.update(),this.nextPage.update(),[this.previousPage,this.nextPage,this.manageSavedQueries]},enumerable:!1,configurable:!0}),t.prototype.openSavedQuery=function(e){return this.savedQueriesService.notifyOpenSavedQuery(e),!0},t.prototype.deleteQuery=function(e,t){return t.stopPropagation(),this.savedQueriesService.deleteSavedQuery(e),this.page=Math.min(this.page,this.maxPage),!1},t.prototype.getQueryParams=function(e){return{query:this.savedQueriesService.searchService.makeQuery(e.query).toJsonForQueryString()}},t.prototype.getRouterState=function(e){return{audit:{type:"Search_SavedQuery",detail:{"saved-query":e.name}}}},t}(x.AbstractFacet);function ue(e,r){if(1&e&&(t.ɵɵelementStart(0,"span",8),t.ɵɵtext(1),t.ɵɵpipe(2,"sqDate"),t.ɵɵelementEnd()),2&e){var n=t.ɵɵnextContext().$implicit;t.ɵɵadvance(1),t.ɵɵtextInterpolate(t.ɵɵpipeBind1(2,1,n.date))}}function ce(e,r){if(1&e){var n=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"i",9),t.ɵɵlistener("click",(function(e){t.ɵɵrestoreView(n);var r=t.ɵɵnextContext().$implicit;return t.ɵɵnextContext().saveQuery(r,e)})),t.ɵɵpipe(1,"sqMessage"),t.ɵɵelementEnd()}2&e&&t.ɵɵproperty("title",t.ɵɵpipeBind1(1,1,"msg#recentQueries.save"))}function le(e,r){if(1&e){var n=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"i",10),t.ɵɵlistener("click",(function(e){t.ɵɵrestoreView(n);var r=t.ɵɵnextContext().$implicit;return t.ɵɵnextContext().deleteQuery(r,e)})),t.ɵɵpipe(1,"sqMessage"),t.ɵɵelementEnd()}2&e&&t.ɵɵproperty("title",t.ɵɵpipeBind1(1,1,"msg#recentQueries.delete"))}se.ɵfac=function(e){return new(e||se)(t.ɵɵdirectiveInject(b))},se.ɵcmp=t.ɵɵdefineComponent({type:se,selectors:[["sq-facet-saved-queries"]],inputs:{searchRoute:"searchRoute",maxQueries:"maxQueries",enableDelete:"enableDelete"},features:[t.ɵɵInheritDefinitionFeature],decls:4,vars:6,consts:[[1,"list-group","list-group-flush"],["class","saved-query-item list-group-item list-group-item-action d-flex align-items-center",3,"routerLink","queryParams","state","click",4,"ngFor","ngForOf"],["class","list-group-item text-center text-muted font-italic small py-5",4,"ngIf"],[1,"saved-query-item","list-group-item","list-group-item-action","d-flex","align-items-center",3,"routerLink","queryParams","state","click"],[1,"query-name","mr-auto","text-truncate",3,"title"],["class","query-text text-muted small font-italic text-right text-truncate ml-2",4,"ngIf"],["class","query-delete ml-2 fas fa-times",3,"title","click",4,"ngIf"],[1,"query-text","text-muted","small","font-italic","text-right","text-truncate","ml-2"],[1,"query-delete","ml-2","fas","fa-times",3,"title","click"],[1,"list-group-item","text-center","text-muted","font-italic","small","py-5"]],template:function(e,r){1&e&&(t.ɵɵelementStart(0,"div",0),t.ɵɵtemplate(1,oe,5,9,"a",1),t.ɵɵpipe(2,"slice"),t.ɵɵtemplate(3,ae,3,3,"div",2),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(1),t.ɵɵproperty("ngForOf",t.ɵɵpipeBind3(2,2,r.savedQueriesService.savedqueries,r.startIndex,r.endIndex)),t.ɵɵadvance(2),t.ɵɵproperty("ngIf",0==r.savedQueriesService.savedqueries.length))},directives:[h.NgForOf,h.NgIf,y.RouterLinkWithHref],pipes:[h.SlicePipe,v.MessagePipe],styles:[".saved-query-item[_ngcontent-%COMP%]   .query-delete[_ngcontent-%COMP%]{\n    opacity: 0;\n}\n\n.saved-query-item[_ngcontent-%COMP%]:hover   .query-delete[_ngcontent-%COMP%]{\n    opacity: 1;\n    transition: opacity 0.2s ease-in-out;\n}"]});var pe=function(e){return[e]};function de(e,r){if(1&e){var n=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"a",3),t.ɵɵlistener("click",(function(){t.ɵɵrestoreView(n);var e=r.$implicit;return t.ɵɵnextContext().openRecentQuery(e)})),t.ɵɵelementStart(1,"span",4),t.ɵɵtext(2),t.ɵɵelementEnd(),t.ɵɵtemplate(3,ue,3,3,"span",5),t.ɵɵtemplate(4,ce,2,3,"i",6),t.ɵɵtemplate(5,le,2,3,"i",7),t.ɵɵelementEnd()}if(2&e){var i=r.$implicit,o=t.ɵɵnextContext();t.ɵɵproperty("routerLink",t.ɵɵpureFunction1(8,pe,o.searchRoute))("queryParams",o.getQueryParams(i.query))("state",o.getRouterState(i.query)),t.ɵɵadvance(1),t.ɵɵpropertyInterpolate("title",i.query.text),t.ɵɵadvance(1),t.ɵɵtextInterpolate(i.query.text),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",i.date),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",o.enableSave),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",o.enableDelete)}}function me(e,r){1&e&&(t.ɵɵelementStart(0,"div",11),t.ɵɵtext(1),t.ɵɵpipe(2,"sqMessage"),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(1),t.ɵɵtextInterpolate1(" ",t.ɵɵpipeBind1(2,1,"msg#recentQueries.noRecentQuery")," "))}var ve=function(e){function t(t,r,n){var i=e.call(this)||this;return i.searchService=t,i.recentQueriesService=r,i.savedQueriesService=n,i.searchRoute="/search",i.maxQueries=5,i.enableDelete=!0,i.enableSave=!0,i.page=0,i.previousPage=new a.Action({icon:"fas fa-chevron-left",title:"msg#facet.previous",action:function(){i.page--},updater:function(e){e.disabled=i.page<=0,e.hidden=0===i.maxPage}}),i.nextPage=new a.Action({icon:"fas fa-chevron-right",title:"msg#facet.next",action:function(){i.page++},updater:function(e){e.disabled=i.page>=i.maxPage,e.hidden=0===i.maxPage}}),i}return O(t,e),Object.defineProperty(t.prototype,"maxPage",{get:function(){return Math.max(0,Math.ceil(this.recentQueriesService.recentqueries.length/this.maxQueries)-1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startIndex",{get:function(){return this.page*this.maxQueries},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"endIndex",{get:function(){return(this.page+1)*this.maxQueries},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"actions",{get:function(){return this.previousPage.update(),this.nextPage.update(),[this.previousPage,this.nextPage]},enumerable:!1,configurable:!0}),t.prototype.openRecentQuery=function(e){return this.recentQueriesService.notifyOpenRecentQuery(e),!0},t.prototype.deleteQuery=function(e,t){return t.stopPropagation(),this.recentQueriesService.deleteRecentQuery(e),this.page=Math.min(this.page,this.maxPage),!1},t.prototype.saveQuery=function(e,t){t.stopPropagation();var r=o.Utils.extend(this.searchService.makeQuery(),o.Utils.copy(e.query));return this.savedQueriesService.createSavedQueryModal(r),!1},t.prototype.getQueryParams=function(e){return{query:this.searchService.makeQuery(e).toJsonForQueryString()}},t.prototype.getRouterState=function(e){return{audit:{type:"Search_RecentQuery",detail:{recentquery:e.text}}}},t}(x.AbstractFacet);function fe(e,r){if(1&e&&(t.ɵɵelementStart(0,"span",9),t.ɵɵtext(1),t.ɵɵpipe(2,"sqDate"),t.ɵɵelementEnd()),2&e){var n=t.ɵɵnextContext(2).$implicit;t.ɵɵadvance(1),t.ɵɵtextInterpolate(t.ɵɵpipeBind1(2,1,n.date))}}function he(e,r){if(1&e){var n=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"i",10),t.ɵɵlistener("click",(function(e){t.ɵɵrestoreView(n);var r=t.ɵɵnextContext(2).$implicit;return t.ɵɵnextContext().deleteDocument(r,e)})),t.ɵɵpipe(1,"sqMessage"),t.ɵɵelementEnd()}2&e&&t.ɵɵproperty("title",t.ɵɵpipeBind1(1,1,"msg#recentDocuments.delete"))}function ge(e,r){if(1&e){var n=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"a",5),t.ɵɵlistener("click",(function(){t.ɵɵrestoreView(n);var e=t.ɵɵnextContext().$implicit;return t.ɵɵnextContext().openRecentDocument(e)})),t.ɵɵelementStart(1,"span",6),t.ɵɵtext(2),t.ɵɵelementEnd(),t.ɵɵtemplate(3,fe,3,3,"span",7),t.ɵɵtemplate(4,he,2,3,"i",8),t.ɵɵelementEnd()}if(2&e){var i=t.ɵɵnextContext().$implicit,o=t.ɵɵnextContext();t.ɵɵattribute("href",i.url1,t.ɵɵsanitizeUrl),t.ɵɵadvance(1),t.ɵɵpropertyInterpolate("title",i.title),t.ɵɵadvance(1),t.ɵɵtextInterpolate(i.title),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",i.date),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",o.enableDelete)}}function ye(e,r){if(1&e&&(t.ɵɵelementStart(0,"span",9),t.ɵɵtext(1),t.ɵɵpipe(2,"sqDate"),t.ɵɵelementEnd()),2&e){var n=t.ɵɵnextContext(2).$implicit;t.ɵɵadvance(1),t.ɵɵtextInterpolate(t.ɵɵpipeBind1(2,1,n.date))}}function Se(e,r){if(1&e){var n=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"i",10),t.ɵɵlistener("click",(function(e){t.ɵɵrestoreView(n);var r=t.ɵɵnextContext(2).$implicit;return t.ɵɵnextContext().deleteDocument(r,e)})),t.ɵɵpipe(1,"sqMessage"),t.ɵɵelementEnd()}2&e&&t.ɵɵproperty("title",t.ɵɵpipeBind1(1,1,"msg#recentDocuments.delete"))}function xe(e,r){if(1&e){var n=t.ɵɵgetCurrentView();t.ɵɵelementStart(0,"a",11),t.ɵɵlistener("click",(function(){t.ɵɵrestoreView(n);var e=t.ɵɵnextContext().$implicit;return t.ɵɵnextContext().openRecentDocument(e)})),t.ɵɵelementStart(1,"span",6),t.ɵɵtext(2),t.ɵɵelementEnd(),t.ɵɵtemplate(3,ye,3,3,"span",7),t.ɵɵtemplate(4,Se,2,3,"i",8),t.ɵɵelementEnd()}if(2&e){var i=t.ɵɵnextContext().$implicit,o=t.ɵɵnextContext();t.ɵɵproperty("routerLink",o.searchRoute)("queryParams",o.getQueryParams(i)),t.ɵɵadvance(1),t.ɵɵpropertyInterpolate("title",i.title),t.ɵɵadvance(1),t.ɵɵtextInterpolate(i.title),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",i.date),t.ɵɵadvance(1),t.ɵɵproperty("ngIf",o.enableDelete)}}function qe(e,r){if(1&e&&(t.ɵɵelementContainerStart(0),t.ɵɵtemplate(1,ge,5,5,"a",3),t.ɵɵtemplate(2,xe,5,6,"ng-template",null,4,t.ɵɵtemplateRefExtractor),t.ɵɵelementContainerEnd()),2&e){var n=r.$implicit,i=t.ɵɵreference(3),o=t.ɵɵnextContext();t.ɵɵadvance(1),t.ɵɵproperty("ngIf",o.openOriginal&&n.url1)("ngIfElse",i)}}function Qe(e,r){1&e&&(t.ɵɵelementStart(0,"div",12),t.ɵɵtext(1),t.ɵɵpipe(2,"sqMessage"),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(1),t.ɵɵtextInterpolate1(" ",t.ɵɵpipeBind1(2,1,"msg#recentDocuments.noRecentDocument")," "))}ve.ɵfac=function(e){return new(e||ve)(t.ɵɵdirectiveInject(s.SearchService),t.ɵɵdirectiveInject(D),t.ɵɵdirectiveInject(b))},ve.ɵcmp=t.ɵɵdefineComponent({type:ve,selectors:[["sq-facet-recent-queries"]],inputs:{searchRoute:"searchRoute",maxQueries:"maxQueries",enableDelete:"enableDelete",enableSave:"enableSave"},features:[t.ɵɵInheritDefinitionFeature],decls:4,vars:6,consts:[[1,"list-group","list-group-flush"],["class","recent-query-item list-group-item list-group-item-action d-flex align-items-center",3,"routerLink","queryParams","state","click",4,"ngFor","ngForOf"],["class","list-group-item text-center text-muted font-italic small py-5",4,"ngIf"],[1,"recent-query-item","list-group-item","list-group-item-action","d-flex","align-items-center",3,"routerLink","queryParams","state","click"],[1,"query-text","mr-auto","text-truncate",3,"title"],["class","query-date ml-2 text-muted small text-right",4,"ngIf"],["class","query-save ml-2 far fa-save",3,"title","click",4,"ngIf"],["class","query-delete ml-2 fas fa-times",3,"title","click",4,"ngIf"],[1,"query-date","ml-2","text-muted","small","text-right"],[1,"query-save","ml-2","far","fa-save",3,"title","click"],[1,"query-delete","ml-2","fas","fa-times",3,"title","click"],[1,"list-group-item","text-center","text-muted","font-italic","small","py-5"]],template:function(e,r){1&e&&(t.ɵɵelementStart(0,"div",0),t.ɵɵtemplate(1,de,6,10,"a",1),t.ɵɵpipe(2,"slice"),t.ɵɵtemplate(3,me,3,3,"div",2),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(1),t.ɵɵproperty("ngForOf",t.ɵɵpipeBind3(2,2,r.recentQueriesService.recentqueries,r.startIndex,r.endIndex)),t.ɵɵadvance(2),t.ɵɵproperty("ngIf",0==r.recentQueriesService.recentqueries.length))},directives:[h.NgForOf,h.NgIf,y.RouterLinkWithHref],pipes:[h.SlicePipe,d.DatePipe,v.MessagePipe],styles:[".recent-query-item[_ngcontent-%COMP%]   .query-delete[_ngcontent-%COMP%], .recent-query-item[_ngcontent-%COMP%]   .query-save[_ngcontent-%COMP%]{\n    opacity: 0;\n}\n\n.recent-query-item[_ngcontent-%COMP%]:hover   .query-delete[_ngcontent-%COMP%], .recent-query-item[_ngcontent-%COMP%]:hover   .query-save[_ngcontent-%COMP%]{\n    opacity: 1;\n    transition: opacity 0.2s ease-in-out;\n}"]});var be=function(e){function r(r,n){var i=e.call(this)||this;return i.recentDocumentsService=r,i.searchService=n,i.searchRoute="/preview",i.maxDocuments=5,i.enableDelete=!0,i.openOriginal=!1,i.documentOpened=new t.EventEmitter,i.page=0,i.previousPage=new a.Action({icon:"fas fa-chevron-left",title:"msg#facet.previous",action:function(){i.page--},updater:function(e){e.disabled=i.page<=0,e.hidden=0===i.maxPage}}),i.nextPage=new a.Action({icon:"fas fa-chevron-right",title:"msg#facet.next",action:function(){i.page++},updater:function(e){e.disabled=i.page>=i.maxPage,e.hidden=0===i.maxPage}}),i}return O(r,e),Object.defineProperty(r.prototype,"maxPage",{get:function(){return Math.max(0,Math.ceil(this.recentDocumentsService.recentdocuments.length/this.maxDocuments)-1)},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"startIndex",{get:function(){return this.page*this.maxDocuments},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"endIndex",{get:function(){return(this.page+1)*this.maxDocuments},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"actions",{get:function(){return this.previousPage.update(),this.nextPage.update(),[this.previousPage,this.nextPage]},enumerable:!1,configurable:!0}),r.prototype.openRecentDocument=function(e){return this.openOriginal&&e.url1&&this.searchService.notifyOpenOriginalDocument(e),this.documentOpened.emit(e),!0},r.prototype.deleteDocument=function(e,t){return this.recentDocumentsService.deleteRecentDocument(e),this.page=Math.min(this.page,this.maxPage),!1},r.prototype.getQueryParams=function(e){return{id:e.id,query:this.searchService.makeQuery().toJsonForQueryString()}},r}(x.AbstractFacet);be.ɵfac=function(e){return new(e||be)(t.ɵɵdirectiveInject(_),t.ɵɵdirectiveInject(s.SearchService))},be.ɵcmp=t.ɵɵdefineComponent({type:be,selectors:[["sq-facet-recent-documents"]],inputs:{searchRoute:"searchRoute",maxDocuments:"maxDocuments",enableDelete:"enableDelete",openOriginal:"openOriginal"},outputs:{documentOpened:"documentOpened"},features:[t.ɵɵInheritDefinitionFeature],decls:4,vars:6,consts:[[1,"list-group","list-group-flush"],[4,"ngFor","ngForOf"],["class","list-group-item text-center text-muted font-italic small py-5",4,"ngIf"],["class","recent-document-item list-group-item list-group-item-action d-flex align-items-center","target","_blank","rel","noopener",3,"click",4,"ngIf","ngIfElse"],["internalLink",""],["target","_blank","rel","noopener",1,"recent-document-item","list-group-item","list-group-item-action","d-flex","align-items-center",3,"click"],[1,"document-text","mr-auto","text-truncate",3,"title"],["class","document-date ml-2 text-muted small text-right",4,"ngIf"],["class","document-delete ml-2 fas fa-times",3,"title","click",4,"ngIf"],[1,"document-date","ml-2","text-muted","small","text-right"],[1,"document-delete","ml-2","fas","fa-times",3,"title","click"],[1,"recent-document-item","list-group-item","list-group-item-action","d-flex","align-items-center",3,"routerLink","queryParams","click"],[1,"list-group-item","text-center","text-muted","font-italic","small","py-5"]],template:function(e,r){1&e&&(t.ɵɵelementStart(0,"div",0),t.ɵɵtemplate(1,qe,4,2,"ng-container",1),t.ɵɵpipe(2,"slice"),t.ɵɵtemplate(3,Qe,3,3,"div",2),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(1),t.ɵɵproperty("ngForOf",t.ɵɵpipeBind3(2,2,r.recentDocumentsService.recentdocuments,r.startIndex,r.endIndex)),t.ɵɵadvance(2),t.ɵɵproperty("ngIf",0==r.recentDocumentsService.recentdocuments.length))},directives:[h.NgForOf,h.NgIf,y.RouterLinkWithHref],pipes:[h.SlicePipe,d.DatePipe,v.MessagePipe],styles:[".recent-document-item[_ngcontent-%COMP%]   .document-delete[_ngcontent-%COMP%]{\n    opacity: 0;\n}\n\n.recent-document-item[_ngcontent-%COMP%]:hover   .document-delete[_ngcontent-%COMP%]{\n    opacity: 1;\n    transition: opacity 0.2s ease-in-out;\n}"]});var Ce=function(){};Ce.ɵmod=t.ɵɵdefineNgModule({type:Ce}),Ce.ɵinj=t.ɵɵdefineInjector({factory:function(e){return new(e||Ce)},providers:[{provide:Q,useValue:{editSavedQueryModal:w,manageSavedQueriesModal:J,exportSavedQueryModal:N}}],imports:[[h.CommonModule,l.FormsModule,l.ReactiveFormsModule,g.DragDropModule,p.BsModalModule,v.IntlModule,m.ValidationModule,y.RouterModule,c.BsSelectionModule,p.BsModalModule,d.UtilsModule,a.BsActionModule]]}),("undefined"==typeof ngJitMode||ngJitMode)&&t.ɵɵsetNgModuleScope(Ce,{declarations:[w,J,N,Z,te,se,ve,be],imports:[h.CommonModule,l.FormsModule,l.ReactiveFormsModule,g.DragDropModule,p.BsModalModule,v.IntlModule,m.ValidationModule,y.RouterModule,c.BsSelectionModule,p.BsModalModule,d.UtilsModule,a.BsActionModule],exports:[w,J,N,Z,te,se,ve,be]});var Ee=o.Utils.merge({},{savedQueries:{savedQueries:"Saved Queries",saveCurrentQuery:"Save Current Query",manageSavedQueries:"Manage Saved Queries",savedQueryAlreadyExists:"A saved query with that name already exists. Would you like to replace it?",noSavedQuery:"You have not yet saved a search query...",delete:"Delete this saved query"},recentQueries:{noRecentQuery:"You have not yet searched for something...",delete:"Delete this recent query",save:"Save this query"},recentDocuments:{recentDocuments:"Recent documents",noRecentDocument:"You have not yet opened a document...",delete:"Delete this recent document"},editSavedQuery:{title:"Saved Query",name:"Name"},exportQuery:{dialogTitle:"Export",dialogOutputFormat:"Output format",dialogMaxCount:"Max rows",dialogSourceType:"Export from",dialogResult:"Current result",dialogSelection:"Current selection",btnTitle:"Export results",exportResult:"Export result as {type}",exportSelection:"Export selection as {type}",btnDownload:"Download",btnClose:"Close",successNotification:"Download complete",exportedColumns:"Columns to export",exportedColumnsLabelTooltip:"Select the columns that you want to export, an empty selection means exporting all columns",dialogMaxCountTooltip:"By default, the number of results is limited to {count}"},manageSavedQueries:{title:"Manage Saved Queries",edit:"Edit",reorder:"Reorder",remove:"Remove",removeAll:"Remove all",export:"Export",name:"Name",rss:"RSS Feed"}},s.enSearch,c.enSelection,p.enModal),De=o.Utils.merge({},{savedQueries:{savedQueries:"Requêtes sauvegardées",saveCurrentQuery:"Enregistrer la requête courante",manageSavedQueries:"Gérer les requêtes sauvegardées",savedQueryAlreadyExists:"Une requête sauvegardée avec ce nom existe déjà. Voulez-vous la remplacer ?",noSavedQuery:"Vous n'avez pas encore enregistré de requête de recherche...",delete:"Supprimer cette requête enregistrée"},recentQueries:{noRecentQuery:"Vous n'avez pas encore effectué de recherche...",delete:"Supprimer cette requête",save:"Enregistrer cette requête"},recentDocuments:{recentDocuments:"Documents récents",noRecentDocument:"Vous n'avez pas encore ouvert de document...",delete:"Supprimer ce document récent"},editSavedQuery:{title:"Requête sauvegardée",name:"Nom"},exportQuery:{dialogTitle:"Export",dialogOutputFormat:"Format de sortie",dialogMaxCount:"Nb max de lignes",dialogSourceType:"Exporter depuis",dialogResult:"Résultat courant",dialogSelection:"Sélection courante",btnTitle:"Exporter les résultats",exportResult:"Exporter le résultat en {type}",exportSelection:"Exporter la sélection en {type}",btnDownload:"Télécharger",btnClose:"Fermer",successNotification:"Téléchargement terminé",exportedColumns:"Colonnes à exporter",exportedColumnsLabelTooltip:"Sélectionnez les colonnes que vous souhaitez exporter, une sélection vide signifie la sélection de tous le colonnes",dialogMaxCountTooltip:"Par défaut, le nombre de résultats est limité à {count}"},manageSavedQueries:{title:"Gérer les requêtes sauvegardées",edit:"Editer",reorder:"Réorganiser",remove:"Effacer",removeAll:"Effacer tout",export:"Exporter",name:"Nom",rss:"Flux RSS"}},s.frSearch,c.frSelection,p.frModal),Me=o.Utils.merge({},{savedQueries:{savedQueries:"Gespeicherte Suchanfragen",saveCurrentQuery:"Aktuelle Suchanfrage speichern",manageSavedQueries:"Aktuelle Suchanfragen verwalten",savedQueryAlreadyExists:"Es existiert bereits eine Suchanfrage mit diesem Namen. Möchten Sie sie ersetzen?",noSavedQuery:"Sie haben noch keine Suchanfrage gespeichert...",delete:"Löschen Sie diese gespeicherte Suche"},recentQueries:{noRecentQuery:"Sie haben noch keine Suche durchgeführt...",delete:"Löschen Sie diese letzte Suche",save:"Speichern Sie diese letzte Suche"},recentDocuments:{recentDocuments:"Kürzlich angesehenes Dokument",noRecentDocument:"Sie haben kein Dokument angezeigt",delete:"Löschen Sie dieses kürzlich angezeigte Dokument"},editSavedQuery:{title:"Gespeicherte Suchanfrage",name:"Name"},exportQuery:{dialogTitle:"Export",dialogOutputFormat:"Ausgabeformat",dialogMaxCount:"Maximale Anzahl der Zeilen",dialogSourceType:"Exportiere ...",dialogResult:"aktuelle Ergebnisliste",dialogSelection:"aktuelle Auswahl",btnTitle:"Export",exportResult:"Exportiere die Ergebnisliste als {type}",exportSelection:"Exportiere die Auswahl als {type}",btnDownload:"Herunterladen",btnClose:"Schließen",successNotification:"Herunterladen beendet",exportedColumns:"Zu exportierende Spalten",exportedColumnsLabelTooltip:"Wählen Sie die Spalten aus, die Sie exportieren möchten. Eine leere Auswahl bedeutet, dass alle Spalten exportiert werden",dialogMaxCountTooltip:"Standardmäßig ist die Anzahl der Ergebnisse auf {count} begrenzt"},manageSavedQueries:{title:"Gespeicherte Suchanfragen verwalten",edit:"Bearbeiten",reorder:"Neu sortieren",remove:"Entfernen",removeAll:"Alle entfernen",export:"Exportieren",name:"Name",rss:"RSS-Feed"}},s.deSearch,c.deSelection,p.deModal);e.BsEditSavedQuery=w,e.BsExportQuery=N,e.BsFacetRecentDocuments=be,e.BsFacetRecentQueries=ve,e.BsFacetSavedQueries=se,e.BsManageSavedQueries=J,e.BsQueryExporter=Z,e.BsSavedQueriesMenuComponent=te,e.BsSavedQueriesModule=Ce,e.MAX_DOCUMENTS=I,e.MAX_QUERIES=E,e.RECENT_DOCUMENTS_CHANGE_EVENTS=M,e.RECENT_QUERIES_CHANGE_EVENTS=C,e.RecentDocumentsService=_,e.RecentQueriesService=D,e.SAVEDQUERY_COMPONENTS=Q,e.SAVED_QUERIES_CHANGE_EVENTS=q,e.SavedQueriesService=b,e.deSavedQueries=Me,e.enSavedQueries=Ee,e.frSavedQueries=De,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=sinequa-components-saved-queries.umd.min.js.map