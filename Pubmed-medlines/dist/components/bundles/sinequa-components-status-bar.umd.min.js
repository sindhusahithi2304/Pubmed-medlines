!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@sinequa/components/action"),require("@sinequa/core/base"),require("@sinequa/components/utils"),require("@sinequa/core/notification"),require("@angular/common"),require("@sinequa/core/intl")):"function"==typeof define&&define.amd?define("@sinequa/components/status-bar",["exports","@angular/core","@sinequa/components/action","@sinequa/core/base","@sinequa/components/utils","@sinequa/core/notification","@angular/common","@sinequa/core/intl"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self).sinequa=e.sinequa||{},e.sinequa.components=e.sinequa.components||{},e.sinequa.components["status-bar"]={}),e.ng.core,e.sinequa.components.action,e.sinequa.core.base,e.sinequa.components.utils,e.sinequa.core.notification,e.ng.common,e.sinequa.core.intl)}(this,(function(e,t,n,i,o,s,r,c){"use strict";var u=function(e){return[e]},l=function(e){return{items:e}},a=function(){function e(e){this.uiService=e,this.buildAction()}return e.prototype.getFullscreenIcon=function(){return this.isFullscreen()?"fas fa-compress":"fas fa-expand"},e.prototype.getFullscreenTitle=function(){return this.isFullscreen()?"msg#statusbar.fullscreenTitleExit":"msg#statusbar.fullscreenTitleEnter"},e.prototype.buildAction=function(){var e=this;this.action=new n.Action({icon:this.getFullscreenIcon(),title:this.getFullscreenTitle(),action:function(t,n){e.toggleFullscreen(),t.icon=e.getFullscreenIcon(),t.title=e.getFullscreenTitle()},init:function(t){e.resizeSubscription=i.Utils.subscribe(e.uiService.resizeEvent,(function(t){e.action.icon=e.getFullscreenIcon(),e.action.title=e.getFullscreenTitle()}))},destroy:function(t){e.resizeSubscription&&(e.resizeSubscription.unsubscribe(),e.resizeSubscription=void 0)}})},e.prototype.requestFullscreen=function(){var e=window.document.documentElement,t=e.requestFullscreen||e.mozRequestFullScreen||e.webkitRequestFullScreen||e.msRequestFullscreen;t&&t.call(e)},e.prototype.cancelFullscreen=function(){var e=window.document,t=e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen;t&&t.call(e)},e.prototype.isFullscreen=function(){var e=window.document;return e.fullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement||e.msFullscreenElement},e.prototype.toggleFullscreen=function(){this.isFullscreen()?this.cancelFullscreen():this.requestFullscreen()},e}();a.ɵfac=function(e){return new(e||a)(t.ɵɵdirectiveInject(o.UIService))},a.ɵcmp=t.ɵɵdefineComponent({type:a,selectors:[["sq-fullscreen-activator"]],decls:2,vars:5,consts:[[1,"btn-toolbar"],[1,"btn-group",3,"sq-action-buttons"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"div",0),t.ɵɵelement(1,"div",1),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(1),t.ɵɵproperty("sq-action-buttons",t.ɵɵpureFunction1(3,l,t.ɵɵpureFunction1(1,u,n.action))))},directives:[n.BsActionButtons],encapsulation:2});var p=function(e){return{blink:e}},f=function(){function e(e,t){this.notificationsService=e,this.changeDetectorRef=t}return e.prototype.ngOnInit=function(){this.unbind(),this.bind()},e.prototype.ngOnDestroy=function(){this.unbind()},e.prototype.bind=function(){var e=this;this.subscription=this.notificationsService.events.subscribe((function(t){e.active=e.notificationsService.get("network")>0,setTimeout((function(){return e.changeDetectorRef.markForCheck()}),0)}))},e.prototype.unbind=function(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=void 0)},e}();f.ɵfac=function(e){return new(e||f)(t.ɵɵdirectiveInject(s.NotificationsService),t.ɵɵdirectiveInject(t.ChangeDetectorRef))},f.ɵcmp=t.ɵɵdefineComponent({type:f,selectors:[["sq-network-activity"]],decls:5,vars:6,consts:[[1,"btn-toolbar"],[1,"btn-group"],[1,"btn-text",3,"title"],[1,"fas","fa-bolt",3,"ngClass"]],template:function(e,n){1&e&&(t.ɵɵelementStart(0,"div",0),t.ɵɵelementStart(1,"div",1),t.ɵɵelementStart(2,"div",2),t.ɵɵpipe(3,"sqMessage"),t.ɵɵelement(4,"span",3),t.ɵɵelementEnd(),t.ɵɵelementEnd(),t.ɵɵelementEnd()),2&e&&(t.ɵɵadvance(2),t.ɵɵpropertyInterpolate("title",t.ɵɵpipeBind1(3,2,"msg#statusbar.networkActivity")),t.ɵɵadvance(2),t.ɵɵproperty("ngClass",t.ɵɵpureFunction1(4,p,n.active)))},directives:[r.NgClass],pipes:[c.MessagePipe],styles:["@-webkit-keyframes blink{0%{opacity:1}25%{opacity:.25}50%{opacity:.5}75%{opacity:.75}to{opacity:0}}@keyframes blink{0%{opacity:1}25%{opacity:.25}50%{opacity:.5}75%{opacity:.75}to{opacity:0}}.blink[_ngcontent-%COMP%]{-webkit-animation:blink .75s linear infinite;animation:blink .75s linear infinite;color:red}"]});var d=function(){};d.ɵmod=t.ɵɵdefineNgModule({type:d}),d.ɵinj=t.ɵɵdefineInjector({factory:function(e){return new(e||d)},imports:[[r.CommonModule,c.IntlModule,n.BsActionModule,o.UtilsModule]]}),("undefined"==typeof ngJitMode||ngJitMode)&&t.ɵɵsetNgModuleScope(d,{declarations:[a,f],imports:[r.CommonModule,c.IntlModule,n.BsActionModule,o.UtilsModule],exports:[a,f]});e.BsFullscreenActivator=a,e.BsNetworkActivity=f,e.BsStatusBarModule=d,e.deStatusBar={statusBar:{fullscreenTitleEnter:"Vollbildmodus",fullscreenTitleExit:"Volbildmodus verlassen",networkActivity:"Netzwerk-Aktivität"}},e.enStatusBar={statusBar:{fullscreenTitleEnter:"Fullscreen",fullscreenTitleExit:"Exit fullscreen",networkActivity:"Network activity"}},e.frStatusBar={statusBar:{fullscreenTitleEnter:"Plein écran",fullscreenTitleExit:"Quitter le mode plein écran",networkActivity:"Activité reseau"}},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=sinequa-components-status-bar.umd.min.js.map