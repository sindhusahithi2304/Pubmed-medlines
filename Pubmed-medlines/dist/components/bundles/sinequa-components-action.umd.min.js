!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@sinequa/core/base"),require("@angular/core"),require("@angular/common"),require("@sinequa/components/utils"),require("@sinequa/core/load-component"),require("@sinequa/core/intl"),require("popper.js"),require("rxjs")):"function"==typeof define&&define.amd?define("@sinequa/components/action",["exports","@sinequa/core/base","@angular/core","@angular/common","@sinequa/components/utils","@sinequa/core/load-component","@sinequa/core/intl","popper.js","rxjs"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self).sinequa=e.sinequa||{},e.sinequa.components=e.sinequa.components||{},e.sinequa.components.action={}),e.sinequa.core.base,e.ng.core,e.ng.common,e.sinequa.components.utils,e.sinequa.core["load-component"],e.sinequa.core.intl,e.Popper,e.rxjs)}(this,(function(e,t,n,i,o,r,s,a,p){"use strict";function c(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var l=c(a),d=function(e,t){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */Object.create;function u(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}Object.create;var m=function(){},f=function(e){function n(n){var i=e.call(this)||this;return t.Utils.extend(i,n),i}return function(e,t){function n(){this.constructor=e}d(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(n,e),Object.defineProperty(n.prototype,"hasChildren",{get:function(){return!!this.children&&this.children.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"showSelected",{get:function(){return void 0!==this.selected},enumerable:!1,configurable:!0}),n.prototype.update=function(){var e,t;if(this.updater&&this.updater(this),this.children)try{for(var n=u(this.children),i=n.next();!i.done;i=n.next()){i.value.update()}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},n}(m);function h(e,t){1&e&&n.ɵɵelementContainer(0)}var g=function(e,t){return{component:e,inputs:t}};function v(e,t){if(1&e){var i=n.ɵɵgetCurrentView();n.ɵɵelementContainerStart(0,5),n.ɵɵlistener("click",(function(e){return n.ɵɵrestoreView(i),n.ɵɵnextContext(2).componentClick(e)})),n.ɵɵelementContainerEnd()}if(2&e){var o=n.ɵɵnextContext(2);n.ɵɵproperty("sqLoadComponent",n.ɵɵpureFunction2(1,g,o.item.component,o.item.componentInputs))}}function y(e,t){if(1&e&&(n.ɵɵelementStart(0,"div"),n.ɵɵelement(1,"span",9),n.ɵɵelementEnd()),2&e){var i=n.ɵɵnextContext(3);n.ɵɵadvance(1),n.ɵɵclassMapInterpolate1("fas fa-check ",i.item.selected?"":"invisible","")}}function b(e,t){if(1&e&&(n.ɵɵelementStart(0,"div"),n.ɵɵelement(1,"span",9),n.ɵɵelementEnd()),2&e){var i=n.ɵɵnextContext(3);n.ɵɵadvance(1),n.ɵɵclassMap(i.item.icon)}}function w(e,t){if(1&e&&(n.ɵɵelementStart(0,"div",10),n.ɵɵelement(1,"span",9),n.ɵɵelementEnd()),2&e){var i=n.ɵɵnextContext(3);n.ɵɵadvance(1),n.ɵɵclassMap(i.item.iconAfter)}}function x(e,t){if(1&e&&(n.ɵɵelementStart(0,"div",6),n.ɵɵtemplate(1,y,2,3,"div",7),n.ɵɵtemplate(2,b,2,3,"div",7),n.ɵɵelementStart(3,"div"),n.ɵɵtext(4),n.ɵɵpipe(5,"sqMessage"),n.ɵɵelementEnd(),n.ɵɵtemplate(6,w,2,3,"div",8),n.ɵɵelementEnd()),2&e){var i=n.ɵɵnextContext(2);n.ɵɵadvance(1),n.ɵɵproperty("ngIf",i.item.showSelected),n.ɵɵadvance(1),n.ɵɵproperty("ngIf",!!i.item.icon),n.ɵɵadvance(2),n.ɵɵtextInterpolate(n.ɵɵpipeBind2(5,4,i.text,i.item.messageParams)),n.ɵɵadvance(2),n.ɵɵproperty("ngIf",!!i.item.iconAfter)}}function I(e,t){if(1&e&&(n.ɵɵtemplate(0,v,1,4,"ng-container",3),n.ɵɵtemplate(1,x,7,7,"div",4)),2&e){var i=n.ɵɵnextContext();n.ɵɵproperty("ngIf",!!i.item.component),n.ɵɵadvance(1),n.ɵɵproperty("ngIf",!i.item.component)}}function C(e,t){if(1&e&&n.ɵɵelement(0,"span",9),2&e){var i=n.ɵɵnextContext(2);n.ɵɵclassMap(i.item.icon)}}function M(e,t){if(1&e&&n.ɵɵelement(0,"span",9),2&e){var i=n.ɵɵnextContext(2);n.ɵɵclassMap(i.item.iconAfter)}}function q(e,t){if(1&e&&(n.ɵɵelementStart(0,"span",11),n.ɵɵtemplate(1,C,1,3,"span",12),n.ɵɵtext(2),n.ɵɵpipe(3,"sqMessage"),n.ɵɵtemplate(4,M,1,3,"span",12),n.ɵɵelementEnd()),2&e){var i=n.ɵɵnextContext();n.ɵɵproperty("ngClass",i.item.styles||""),n.ɵɵadvance(1),n.ɵɵproperty("ngIf",!!i.item.icon),n.ɵɵadvance(1),n.ɵɵtextInterpolate1(" ",n.ɵɵpipeBind2(3,4,i.text,i.item.messageParams)," "),n.ɵɵadvance(2),n.ɵɵproperty("ngIf",!!i.item.iconAfter)}}var E=function(){function e(){}return e.prototype.componentClick=function(e){return this.item.action&&!this.item.disabled&&this.item.action(this.item,e),e.stopPropagation(),!1},e}();E.ɵfac=function(e){return new(e||E)},E.ɵcmp=n.ɵɵdefineComponent({type:E,selectors:[["sq-action-item-content"]],inputs:{item:"item",text:"text",inDropdownMenu:["in-dropdown-menu","inDropdownMenu"]},decls:5,vars:3,consts:[[4,"ngIf","ngIfThen","ngIfElse"],["in_dropdown_menu",""],["not_in_dropdown_menu",""],[3,"sqLoadComponent","click",4,"ngIf"],["class","d-flex flex-row sq-action-item-content-container",4,"ngIf"],[3,"sqLoadComponent","click"],[1,"d-flex","flex-row","sq-action-item-content-container"],[4,"ngIf"],["class","ml-auto",4,"ngIf"],["aria-hidden","true"],[1,"ml-auto"],[3,"ngClass"],["aria-hidden","true",3,"class",4,"ngIf"]],template:function(e,t){if(1&e&&(n.ɵɵtemplate(0,h,1,0,"ng-container",0),n.ɵɵtemplate(1,I,2,2,"ng-template",null,1,n.ɵɵtemplateRefExtractor),n.ɵɵtemplate(3,q,5,7,"ng-template",null,2,n.ɵɵtemplateRefExtractor)),2&e){var i=n.ɵɵreference(2),o=n.ɵɵreference(4);n.ɵɵproperty("ngIf",t.inDropdownMenu)("ngIfThen",i)("ngIfElse",o)}},directives:[i.NgIf,r.LoadComponentDirective,i.NgClass],pipes:[s.MessagePipe],styles:[".sq-action-item-content-container[_ngcontent-%COMP%]    > div[_ngcontent-%COMP%]:not(:last-child) {\n    margin-right: 0.25rem;\n}"]});var O={DISABLED:"disabled",SHOW:"show",DROPUP:"dropup",DROPRIGHT:"dropright",DROPLEFT:"dropleft",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left",POSITION_STATIC:"position-static"},T={DROPDOWN:".dropdown",DATA_TOGGLE:'[data-toggle="dropdown"]',FORM_CHILD:".dropdown form",MENU:".dropdown-menu",NAVBAR_NAV:".navbar-nav",VISIBLE_ITEMS:".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)"},P={TOP:"top-start",TOPEND:"top-end",BOTTOM:"bottom-start",BOTTOMEND:"bottom-end",RIGHT:"right-start",RIGHTEND:"right-end",LEFT:"left-start",LEFTEND:"left-end"},S=function(){function e(e){var n=this;this.dataApiKeydownHandler=function(e){var i=n.matchDescendant(document.documentElement,e,T.DATA_TOGGLE+","+T.MENU);if(i&&!(/input|textarea/i.test(e.target.tagName)?e.which===t.Keys.space||e.which!==t.Keys.esc&&(e.which!==t.Keys.down&&e.which!==t.Keys.up||e.target.closest(T.MENU)):e.which!==t.Keys.up&&e.which!==t.Keys.down&&e.which!==t.Keys.esc)&&(e.preventDefault(),e.stopPropagation(),!i.classList.contains(O.DISABLED))){var o=n.getParentFromElement(i),r=o instanceof HTMLElement&&o.classList.contains(O.SHOW);if(r||e.which!==t.Keys.esc)if(r&&(!r||e.which!==t.Keys.esc&&e.which!==t.Keys.space)){var s=[];if(o instanceof Element&&(s=s.slice.call(o.querySelectorAll(T.VISIBLE_ITEMS)).filter((function(e){return e instanceof HTMLElement&&(e.offsetWidth>0||e.offsetHeight>0)}))),0!==s.length){var a=s.indexOf(e.target);e.which===t.Keys.up&&a>0&&a--,e.which===t.Keys.down&&a<s.length-1&&a++,a<0&&(a=0),s[a].focus()}}else{if(e.which===t.Keys.esc){var p=o instanceof Element&&o.querySelector(T.DATA_TOGGLE);p instanceof HTMLElement&&p.focus()}i.dispatchEvent(new Event("click",{bubbles:!0}))}}},this.clearMenus=function(e){e&&(3===e.which||"keyup"===e.type&&e.which!==t.Keys.tab)||n._events.next({type:"clear",sourceEvent:e})},this.toggle=function(e){var t=n.matchDescendant(document.documentElement,e,T.DATA_TOGGLE);t&&(e.preventDefault(),e.stopPropagation(),n._events.next({type:"toggle",element:t}))},this.formChildClick=function(e){n.matchDescendant(document.documentElement,e,T.FORM_CHILD)&&e.stopPropagation()},this._events=new p.Subject,this.renderer=e.createRenderer(null,null),this.unlisteners=[],this.unlisteners.push(this.renderer.listen(document,"keydown",this.dataApiKeydownHandler)),this.unlisteners.push(this.renderer.listen(document,"click",this.clearMenus)),this.unlisteners.push(this.renderer.listen(document,"keyup",this.clearMenus)),this.unlisteners.push(this.renderer.listen(document,"click",this.toggle)),this.unlisteners.push(this.renderer.listen(document,"click",this.formChildClick))}return e.prototype.ngOnDestroy=function(){this._events.complete(),this.unlisteners.forEach((function(e){return e()}))},Object.defineProperty(e.prototype,"events",{get:function(){return this._events},enumerable:!1,configurable:!0}),e.prototype.matchDescendant=function(e,t,n){for(var i=t.target;i&&i!==e;){if(i.matches(n))return i;i=i.parentElement}return null},e.prototype.getSelectorFromElement=function(e){var t=e.getAttribute("data-target");if(!t||"#"===t){var n=e.getAttribute("href");t=n&&"#"!==n?n.trim():""}try{return document.querySelector(t)?t:null}catch(e){return null}},e.prototype.getParentFromElement=function(e){var t=null,n=this.getSelectorFromElement(e);if(n&&(t=document.querySelector(n)),!t)for(t=e.parentElement;t&&(t.classList.contains("sq-scroll-menu")||t.classList.contains("sq-scroll-menu-item")||t.classList.contains("dropdown-submenu"));)t=t.parentElement;return t},e.prototype.raiseClear=function(){this._events.next({type:"clear",sourceEvent:void 0})},e}();function A(){}S.ɵfac=function(e){return new(e||S)(n.ɵɵinject(n.RendererFactory2))},S.ɵprov=n.ɵɵdefineInjectable({token:S,factory:S.ɵfac,providedIn:"root"});var L=0,j=!0,k="scrollParent",B="toggle",D="dynamic",_=function(){function e(e,t){this.elementRef=e,this.dropdownService=t}return Object.defineProperty(e.prototype,"dropdownMenu",{get:function(){return!this._dropdownMenu&&this.dropdown&&(this._dropdownMenu=this.dropdown.querySelector(T.MENU)),this._dropdownMenu},enumerable:!1,configurable:!0}),e.prototype.ngOnInit=function(){var e=this;this.subscription=this.dropdownService.events.subscribe((function(t){"clear"===t.type?e.clear(t.sourceEvent):"toggle"===t.type&&e.toggle(t.element)}))},e.prototype.ngAfterViewInit=function(){this.dropdownToggle=this.elementRef.nativeElement,this.dropdown=this.dropdownService.getParentFromElement(this.dropdownToggle),this.inNavbar=!!this.dropdownToggle.closest(".navbar")},e.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},e.prototype.clickHandler=function(e){this.dropdownMenu&&this.dropdownMenu.classList.contains(O.SHOW)||this.dropdown.dispatchEvent(new Event("click",{bubbles:!0,cancelable:!1})),e.preventDefault(),e.stopPropagation(),this.toggle(this.dropdownToggle)},e.prototype.toggle=function(e){if(e&&this.dropdownToggle===e&&this.dropdownMenu&&this.dropdown&&!e.classList.contains(O.DISABLED)){var t=this.dropdownMenu&&this.dropdownMenu.classList.contains(O.SHOW);this.dropdownService.raiseClear(),t||this.show(!0)}},e.prototype.getPlacement=function(){var e=P.BOTTOM;return this.dropdown.classList.contains(O.DROPUP)?(e=P.TOP,this.dropdownMenu&&this.dropdownMenu.classList.contains(O.MENURIGHT)&&(e=P.TOPEND)):this.dropdown.classList.contains(O.DROPRIGHT)?e=P.RIGHT:this.dropdown.classList.contains(O.DROPLEFT)?e=P.LEFT:this.dropdownMenu&&this.dropdownMenu.classList.contains(O.MENURIGHT)&&(e=P.BOTTOMEND),e},e.prototype.getOffset=function(){return{offset:L}},e.prototype.getPopperConfig=function(){var e={placement:this.getPlacement(),modifiers:{offset:this.getOffset(),flip:{enabled:j},preventOverflow:{boundariesElement:k}}};return"static"===D&&(e.modifiers.applyStyle={enabled:!1}),e},e.prototype.show=function(e){if(void 0===e&&(e=!1),this.dropdownToggle&&this.dropdownMenu&&this.dropdown&&!this.dropdownToggle.classList.contains(O.DISABLED)&&!this.dropdownMenu.classList.contains(O.SHOW)){var t=this.dropdown;if(!this.inNavbar&&e){if(void 0===l.default)throw new TypeError("Bootstrap's dropdowns require Popper.js (https://popper.js.org/)");var n=this.dropdownToggle;"parent"===B&&(n=t),"scrollParent"!==k&&t.classList.add(O.POSITION_STATIC),this.popper=new l.default(n,this.dropdownMenu,this.getPopperConfig())}"ontouchstart"in document.documentElement&&!t.closest(T.NAVBAR_NAV)&&Array.from(document.body.children).forEach((function(e){return e.addEventListener("mouseover",A)})),this.dropdownToggle.focus(),this.dropdownToggle.setAttribute("aria-expanded","true"),this.dropdownMenu.classList.toggle(O.SHOW),t.classList.toggle(O.SHOW)}},e.prototype.clear=function(e){if(this.dropdownToggle&&this.dropdownMenu&&this.dropdown){var n=this.dropdown;n.classList.contains(O.SHOW)&&(e&&("click"===e.type&&/input|textarea/i.test(e.target.tagName)||"keyup"===e.type&&e.which===t.Keys.tab)&&n.contains(e.target)||("ontouchstart"in document.documentElement&&Array.from(document.body.children).forEach((function(e){return e.removeEventListener("mouseover",A)})),this.dropdownToggle.setAttribute("aria-expanded","false"),this.popper&&this.popper.destroy(),this.dropdownMenu.classList.remove(O.SHOW),n.classList.remove(O.SHOW)))}},e}();_.ɵfac=function(e){return new(e||_)(n.ɵɵdirectiveInject(n.ElementRef),n.ɵɵdirectiveInject(S))},_.ɵdir=n.ɵɵdefineDirective({type:_,selectors:[["","data-toggle","dropdown"]],hostBindings:function(e,t){1&e&&n.ɵɵlistener("click",(function(e){return t.clickHandler(e)}))}});function N(e,t){if(1&e&&(n.ɵɵelementStart(0,"h6",2),n.ɵɵtext(1),n.ɵɵpipe(2,"sqMessage"),n.ɵɵelementEnd()),2&e){var i=n.ɵɵnextContext();n.ɵɵadvance(1),n.ɵɵtextInterpolate(n.ɵɵpipeBind2(2,1,i.options.item.title,i.options.item.messageParams))}}function R(e,t){if(1&e&&(n.ɵɵelementStart(0,"a",10),n.ɵɵelement(1,"sq-action-item-content",11),n.ɵɵelementEnd()),2&e){var i=n.ɵɵnextContext(3).$implicit;n.ɵɵclassMapInterpolate1("dropdown-item ",i.disabled?"disabled":"",""),n.ɵɵpropertyInterpolate("href",i.href,n.ɵɵsanitizeUrl),n.ɵɵadvance(1),n.ɵɵproperty("item",i)("text",i.text)("in-dropdown-menu",!0)}}function V(e,t){if(1&e){var i=n.ɵɵgetCurrentView();n.ɵɵelementStart(0,"a",12),n.ɵɵlistener("click",(function(e){n.ɵɵrestoreView(i);var t=n.ɵɵnextContext(3).$implicit;return n.ɵɵnextContext().click(t,e)})),n.ɵɵelement(1,"sq-action-item-content",11),n.ɵɵelementEnd()}if(2&e){var o=n.ɵɵnextContext(3).$implicit;n.ɵɵclassMapInterpolate2("dropdown-item ",o.hasChildren?"dropdown-toggle":""," ",o.disabled?"disabled":"",""),n.ɵɵattribute("data-toggle",o.hasChildren?"dropdown":""),n.ɵɵadvance(1),n.ɵɵproperty("item",o)("text",o.text)("in-dropdown-menu",!0)}}function F(e,t){if(1&e&&n.ɵɵelement(0,"sq-action-item-content",11),2&e){var i=n.ɵɵnextContext(3).$implicit;n.ɵɵproperty("item",i)("text",i.text)("in-dropdown-menu",!0)}}var H=function(e,t){return{item:e,showMenuClass:t}};function G(e,t){if(1&e&&n.ɵɵelement(0,"ul",13),2&e){var i=n.ɵɵnextContext(3).$implicit,o=n.ɵɵnextContext();n.ɵɵproperty("sq-dropdown-menu",n.ɵɵpureFunction2(1,H,i,o.options.showMenuClass))}}function z(e,t){if(1&e&&(n.ɵɵelementContainerStart(0),n.ɵɵtemplate(1,R,2,7,"a",6),n.ɵɵtemplate(2,V,2,8,"a",7),n.ɵɵtemplate(3,F,1,3,"sq-action-item-content",8),n.ɵɵtemplate(4,G,1,4,"ul",9),n.ɵɵelementContainerEnd()),2&e){var i=n.ɵɵnextContext(2).$implicit;n.ɵɵadvance(1),n.ɵɵproperty("ngIf",!i.scrollGroup&&i.href),n.ɵɵadvance(1),n.ɵɵproperty("ngIf",!i.scrollGroup&&!i.href&&!i.component),n.ɵɵadvance(1),n.ɵɵproperty("ngIf",i.component),n.ɵɵadvance(1),n.ɵɵproperty("ngIf",i.hasChildren)}}function K(e,t){if(1&e&&(n.ɵɵelementStart(0,"li",4),n.ɵɵpipe(1,"sqMessage"),n.ɵɵpipe(2,"sqMessage"),n.ɵɵtemplate(3,z,5,4,"ng-container",5),n.ɵɵelementEnd()),2&e){var i=n.ɵɵnextContext().$implicit;n.ɵɵclassMap(i.separator?"dropdown-divider":i.scrollGroup?"sq-scroll-menu-item open":i.hasChildren?"dropdown-submenu":""),n.ɵɵpropertyInterpolate("title",n.ɵɵpipeBind2(1,6,i.title,i.messageParams)),n.ɵɵattribute("aria-label",n.ɵɵpipeBind2(2,9,i.title,i.messageParams)),n.ɵɵadvance(3),n.ɵɵproperty("ngIf",!i.separator)}}function U(e,t){if(1&e&&(n.ɵɵelementContainerStart(0),n.ɵɵtemplate(1,K,4,12,"li",3),n.ɵɵelementContainerEnd()),2&e){var i=t.$implicit;n.ɵɵadvance(1),n.ɵɵproperty("ngIf",!i.hidden)}}var $=function(){function e(e){this.elementRef=e}return Object.defineProperty(e.prototype,"options",{get:function(){return this._options},set:function(e){var t;this._options=Object.assign({},e),this.children=(null===(t=e.item.children)||void 0===t?void 0:t.filter((function(e){return!e.hidden})))||[]},enumerable:!1,configurable:!0}),e.prototype.ngOnInit=function(){var e=this.elementRef.nativeElement;this.options.item.scrollable?e.classList.add("sq-scrollable-menu"):this.options.item.scrollGroup&&e.classList.add("sq-scroll-menu"),this.rightAligned=this.options.rightAligned},e.prototype.getLi=function(e){for(var t=e;t&&"LI"!==t.nodeName;)t=t.parentElement;return t},e.prototype.click=function(e,t){if(!this.options.item.disabled){var n=!1,i=this.getLi(t.target);if(i&&i.classList.contains("dropdown-submenu")){t.preventDefault(),t.stopPropagation(),n=i.classList.contains(this.options.showMenuClass);var o=i.parentElement;if(o)for(var r=0,s=o.children.length;r<s;r++){o.children[r].classList.remove(this.options.showMenuClass)}n||i.classList.add(this.options.showMenuClass)}e.action&&e.action(e,t),e.toggle&&e.toggle(e,!n)}},e}();$.ɵfac=function(e){return new(e||$)(n.ɵɵdirectiveInject(n.ElementRef))},$.ɵcmp=n.ɵɵdefineComponent({type:$,selectors:[["","sq-dropdown-menu",""]],hostAttrs:["role","menu",1,"dropdown-menu"],hostVars:2,hostBindings:function(e,t){2&e&&n.ɵɵclassProp("dropdown-menu-right",t.rightAligned)},inputs:{options:["sq-dropdown-menu","options"]},attrs:["sq-dropdown-menu",""],decls:2,vars:2,consts:[["class","dropdown-header",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"dropdown-header"],[3,"class","title",4,"ngIf"],[3,"title"],[4,"ngIf"],["tabindex","-1",3,"class","href",4,"ngIf"],["href","javascript:void(0)","tabindex","-1",3,"class","click",4,"ngIf"],[3,"item","text","in-dropdown-menu",4,"ngIf"],[3,"sq-dropdown-menu",4,"ngIf"],["tabindex","-1",3,"href"],[3,"item","text","in-dropdown-menu"],["href","javascript:void(0)","tabindex","-1",3,"click"],[3,"sq-dropdown-menu"]],template:function(e,t){1&e&&(n.ɵɵtemplate(0,N,3,4,"h6",0),n.ɵɵtemplate(1,U,2,1,"ng-container",1)),2&e&&(n.ɵɵproperty("ngIf",t.options.item.title&&t.options.item.headerGroup),n.ɵɵadvance(1),n.ɵɵproperty("ngForOf",t.options.item.children))},directives:[i.NgIf,i.NgForOf,E,$],pipes:[s.MessagePipe],encapsulation:2,changeDetection:0});function W(e,t){if(1&e){var i=n.ɵɵgetCurrentView();n.ɵɵelementStart(0,"button",7),n.ɵɵlistener("click",(function(e){return n.ɵɵrestoreView(i),n.ɵɵnextContext(2).click(e)})),n.ɵɵpipe(1,"sqMessage"),n.ɵɵpipe(2,"sqMessage"),n.ɵɵelement(3,"sq-action-item-content",8),n.ɵɵelementEnd()}if(2&e){var o=n.ɵɵnextContext(2);n.ɵɵclassMapInterpolate3("btn ",o.styleClass," ",o.sizeClass," ",o.options.item.disabled?"disabled":"",""),n.ɵɵpropertyInterpolate("sqTooltip",n.ɵɵpipeBind2(1,9,o.itemTitle,o.itemMessageParams)),n.ɵɵattribute("aria-label",n.ɵɵpipeBind2(2,12,o.itemTitle,o.itemMessageParams)),n.ɵɵadvance(3),n.ɵɵproperty("item",o.options.item)("text",o.itemText)}}function J(e,t){1&e&&n.ɵɵelementContainer(0)}function Q(e,t){if(1&e&&n.ɵɵelement(0,"sq-action-item-content",8),2&e){var i=n.ɵɵnextContext(4);n.ɵɵproperty("item",i.options.item)("text",i.itemText)}}function X(e,t){if(1&e&&(n.ɵɵelementStart(0,"div"),n.ɵɵtemplate(1,Q,1,2,"sq-action-item-content",1),n.ɵɵelementEnd()),2&e){var i=n.ɵɵnextContext(3);n.ɵɵclassMapInterpolate1("btn-text ",i.sizeClass,""),n.ɵɵadvance(1),n.ɵɵproperty("ngIf",!i.hasAction)}}function Y(e,t){if(1&e&&n.ɵɵtemplate(0,X,2,4,"div",9),2&e){var i=n.ɵɵnextContext(2);n.ɵɵproperty("ngIf",!i.hasAction)}}function Z(e,t){if(1&e&&n.ɵɵelement(0,"sq-action-item-content",8),2&e){var i=n.ɵɵnextContext(3);n.ɵɵproperty("item",i.options.item)("text",i.itemText)}}function ee(e,t){if(1&e&&n.ɵɵelement(0,"ul",12),2&e){var i=n.ɵɵnextContext(3);n.ɵɵproperty("sq-dropdown-menu",i.dropdownMenuOptions)}}function te(e,t){if(1&e){var i=n.ɵɵgetCurrentView();n.ɵɵelementStart(0,"button",10),n.ɵɵlistener("touchstart",(function(){return n.ɵɵrestoreView(i),n.ɵɵnextContext(2).touchstart()}))("mousedown",(function(){return n.ɵɵrestoreView(i),n.ɵɵnextContext(2).mousedown()}))("focusin",(function(){return n.ɵɵrestoreView(i),n.ɵɵnextContext(2).focusin()})),n.ɵɵpipe(1,"sqMessage"),n.ɵɵpipe(2,"sqMessage"),n.ɵɵtemplate(3,Z,1,2,"sq-action-item-content",1),n.ɵɵelementEnd(),n.ɵɵtemplate(4,ee,1,1,"ul",11)}if(2&e){var o=n.ɵɵnextContext(2);n.ɵɵclassMapInterpolate2("btn ",o.styleClass," dropdown-toggle ",o.sizeClass,""),n.ɵɵpropertyInterpolate("sqTooltip",n.ɵɵpipeBind2(1,8,o.itemTitle,o.itemMessageParams)),n.ɵɵattribute("aria-label",n.ɵɵpipeBind2(2,11,o.itemTitle,o.itemMessageParams)),n.ɵɵadvance(3),n.ɵɵproperty("ngIf",!o.hasAction),n.ɵɵadvance(1),n.ɵɵproperty("ngIf",o.showDropdown)}}function ne(e,t){if(1&e&&(n.ɵɵelementContainerStart(0),n.ɵɵtemplate(1,W,4,15,"button",3),n.ɵɵtemplate(2,J,1,0,"ng-container",4),n.ɵɵtemplate(3,Y,1,1,"ng-template",null,5,n.ɵɵtemplateRefExtractor),n.ɵɵtemplate(5,te,5,14,"ng-template",null,6,n.ɵɵtemplateRefExtractor),n.ɵɵelementContainerEnd()),2&e){var i=n.ɵɵreference(4),o=n.ɵɵreference(6),r=n.ɵɵnextContext();n.ɵɵadvance(1),n.ɵɵproperty("ngIf",r.hasAction),n.ɵɵadvance(1),n.ɵɵproperty("ngIf",r.options.item.flattenable&&1===(null==r.options.item.children?null:r.options.item.children.length))("ngIfThen",i)("ngIfElse",o)}}function ie(e,t){if(1&e&&n.ɵɵelement(0,"sq-action-item-content",8),2&e){var i=n.ɵɵnextContext();n.ɵɵproperty("item",i.options.item)("text",i.itemText)}}function oe(e,t){if(1&e){var i=n.ɵɵgetCurrentView();n.ɵɵelementContainerStart(0),n.ɵɵelementStart(1,"a",13),n.ɵɵlistener("click",(function(e){return n.ɵɵrestoreView(i),n.ɵɵnextContext().click(e)})),n.ɵɵpipe(2,"sqMessage"),n.ɵɵpipe(3,"sqMessage"),n.ɵɵelement(4,"sq-action-item-content",8),n.ɵɵelementEnd(),n.ɵɵelement(5,"ul",12),n.ɵɵelementContainerEnd()}if(2&e){var o=n.ɵɵnextContext();n.ɵɵadvance(1),n.ɵɵclassMapInterpolate2("",o.options.inMenu?"nav-link":"dropdown-item"," dropdown-toggle ",o.options.item.disabled?"disabled":"",""),n.ɵɵpropertyInterpolate("title",n.ɵɵpipeBind2(2,9,o.itemTitle,o.itemMessageParams)),n.ɵɵattribute("aria-label",n.ɵɵpipeBind2(3,12,o.itemTitle,o.itemMessageParams)),n.ɵɵadvance(3),n.ɵɵproperty("item",o.options.item)("text",o.itemText),n.ɵɵadvance(1),n.ɵɵproperty("sq-dropdown-menu",o.dropdownMenuOptions)}}function re(e,t){if(1&e){var i=n.ɵɵgetCurrentView();n.ɵɵelementStart(0,"a",14),n.ɵɵlistener("click",(function(e){return n.ɵɵrestoreView(i),n.ɵɵnextContext().click(e)})),n.ɵɵpipe(1,"sqMessage"),n.ɵɵpipe(2,"sqMessage"),n.ɵɵelement(3,"sq-action-item-content",8),n.ɵɵelementEnd()}if(2&e){var o=n.ɵɵnextContext();n.ɵɵclassMapInterpolate2("",o.options.inMenu?"nav-link":"dropdown-item"," ",o.options.item.disabled?"disabled":"",""),n.ɵɵpropertyInterpolate("title",n.ɵɵpipeBind2(1,8,o.itemTitle,o.itemMessageParams)),n.ɵɵattribute("aria-label",n.ɵɵpipeBind2(2,11,o.itemTitle,o.itemMessageParams)),n.ɵɵadvance(3),n.ɵɵproperty("item",o.options.item)("text",o.itemText)}}var se=function(){function e(e,t,n){this.uiService=e,this.elementRef=t,this.cdRef=n,this.collapseBreakpoint="md"}return Object.defineProperty(e.prototype,"haveItem",{get:function(){return!!this.options.item},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isVisible",{get:function(){return this.haveItem&&!this.options.item.hidden},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasAction",{get:function(){return this.haveItem&&!!this.options.item.action},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDropdownButton",{get:function(){return this.isVisible&&!this.inListItem&&this.options.item.hasChildren},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isButton",{get:function(){return this.isVisible&&!this.inListItem&&!this.options.item.hasChildren&&this.hasAction},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDropdownListItem",{get:function(){return this.isVisible&&this.inListItem&&this.options.item.hasChildren},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isListItem",{get:function(){return this.isVisible&&this.inListItem&&!this.options.item.hasChildren&&this.hasAction},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"haveSpace",{get:function(){return!!this.uiService.screenSizeIsGreaterOrEqual(this.autoAdjustBreakpoint)||!(!this.inListItem||!this.uiService.screenSizeIsLess(this.collapseBreakpoint))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"haveIcon",{get:function(){return!!this.options.item.icon||!!this.options.item.iconAfter},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"itemText",{get:function(){if(!this.haveItem)return"";var e=this.options.item.text||"";return this.options.autoAdjust&&this.haveIcon?this.haveSpace?e:"":e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"itemTitle",{get:function(){if(!this.haveItem)return"";var e=this.options.item.text||"",t=this.options.item.title||"";return this.options.autoAdjust&&this.haveIcon?this.haveSpace?t!==e?t:"":t||e:t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"itemMessageParams",{get:function(){return this.haveItem?this.options.item.messageParams:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sizeClass",{get:function(){return this.options.size?"btn-"+this.options.size:""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"styleClass",{get:function(){return this.options.style?"btn-"+this.options.style:"btn-light"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropdownMenuOptions",{get:function(){return Object.assign(Object.assign({},this.options),{showMenuClass:"show"})},enumerable:!1,configurable:!0}),e.prototype.ngAfterViewInit=function(){this.dropdownButton=this.elementRef.nativeElement.querySelector("div.dropdown"),this.dropdownListItem=this.elementRef.nativeElement.querySelector("li.dropdown-toggle")},e.prototype.ngOnInit=function(){var e=this;this.inListItem="LI"===this.elementRef.nativeElement.nodeName,this.options.item.init&&this.options.item.init(this.options.item),this.autoAdjustBreakpoint=this.options.autoAdjustBreakpoint,this.uiService.resizeEvent.subscribe((function(t){return e.cdRef.detectChanges()}))},e.prototype.ngOnDestroy=function(){this.options.item.destroy&&this.options.item.destroy(this.options.item)},e.prototype.click=function(e){if(!this.options.item.disabled&&(this.options.item.action&&this.options.item.action(this.options.item,e),this.options.item.toggle&&(this.isDropdownButton||this.isDropdownListItem))){var t=this.dropdownButton||(this.dropdownListItem?this.dropdownListItem.parentElement:null);t&&this.options.item.toggle(this.options.item,!t.classList.contains("open"))}},e.prototype.touchstart=function(){this.showDropdown=!0},e.prototype.mousedown=function(){this.showDropdown=!0},e.prototype.focusin=function(){this.showDropdown=!0},e}();se.ɵfac=function(e){return new(e||se)(n.ɵɵdirectiveInject(o.UIService),n.ɵɵdirectiveInject(n.ElementRef),n.ɵɵdirectiveInject(n.ChangeDetectorRef))},se.ɵcmp=n.ɵɵdefineComponent({type:se,selectors:[["","sq-action-item",""]],inputs:{options:["sq-action-item","options"],collapseBreakpoint:"collapseBreakpoint"},attrs:["sq-action-item",""],decls:4,vars:4,consts:[[4,"ngIf"],[3,"item","text",4,"ngIf"],["href","javascript:void(0)","role","button",3,"class","title","click",4,"ngIf"],["type","button",3,"class","sqTooltip","click",4,"ngIf"],[4,"ngIf","ngIfThen","ngIfElse"],["flattened",""],["unflattened",""],["type","button",3,"sqTooltip","click"],[3,"item","text"],[3,"class",4,"ngIf"],["type","button","data-toggle","dropdown",3,"sqTooltip","touchstart","mousedown","focusin"],[3,"sq-dropdown-menu",4,"ngIf"],[3,"sq-dropdown-menu"],["href","javascript:void(0)","data-toggle","dropdown","role","button","aria-haspopup","true","aria-expanded","false",3,"title","click"],["href","javascript:void(0)","role","button",3,"title","click"]],template:function(e,t){1&e&&(n.ɵɵtemplate(0,ne,7,4,"ng-container",0),n.ɵɵtemplate(1,ie,1,2,"sq-action-item-content",1),n.ɵɵtemplate(2,oe,6,15,"ng-container",0),n.ɵɵtemplate(3,re,4,14,"a",2)),2&e&&(n.ɵɵproperty("ngIf",t.isDropdownButton),n.ɵɵadvance(1),n.ɵɵproperty("ngIf",t.isButton),n.ɵɵadvance(1),n.ɵɵproperty("ngIf",t.isDropdownListItem),n.ɵɵadvance(1),n.ɵɵproperty("ngIf",t.isListItem))},directives:[i.NgIf,o.TooltipDirective,E,_,$],pipes:[s.MessagePipe],encapsulation:2,changeDetection:0});function ae(e,t){if(1&e){var i=n.ɵɵgetCurrentView();n.ɵɵelementStart(0,"a",3),n.ɵɵlistener("click",(function(e){n.ɵɵrestoreView(i);var t=n.ɵɵnextContext().$implicit;return n.ɵɵnextContext().itemClick(t,e)})),n.ɵɵelementEnd()}if(2&e){var o=n.ɵɵnextContext().$implicit,r=n.ɵɵnextContext();n.ɵɵproperty("sq-action-item",r.getActionItemOptions(o)),n.ɵɵattribute("href",o.disabled?null:o.href,n.ɵɵsanitizeUrl)}}function pe(e,t){if(1&e&&n.ɵɵelement(0,"div",6),2&e){var i=n.ɵɵnextContext(2).$implicit,o=n.ɵɵnextContext();n.ɵɵproperty("sq-action-item",o.getActionItemOptions(i))}}function ce(e,t){if(1&e){var i=n.ɵɵgetCurrentView();n.ɵɵelementStart(0,"button",7),n.ɵɵlistener("click",(function(e){n.ɵɵrestoreView(i);var t=n.ɵɵnextContext(2).$implicit;return n.ɵɵnextContext().itemClick(t,e)})),n.ɵɵpipe(1,"sqMessage"),n.ɵɵpipe(2,"sqMessage"),n.ɵɵelementEnd()}if(2&e){var o=n.ɵɵnextContext(2).$implicit,r=n.ɵɵnextContext();n.ɵɵclassMapInterpolate4("btn ",r.styleClass," ",r.sizeClass," ",o.selected?"active":""," ",o.disabled?"disabled":"",""),n.ɵɵpropertyInterpolate("sqTooltip",n.ɵɵpipeBind2(1,9,o.title,o.messageParams)),n.ɵɵproperty("sq-action-item",r.getActionItemOptions(o)),n.ɵɵattribute("aria-label",n.ɵɵpipeBind2(2,12,o.title,o.messageParams))}}function le(e,t){if(1&e&&(n.ɵɵelementContainerStart(0),n.ɵɵtemplate(1,pe,1,1,"div",4),n.ɵɵtemplate(2,ce,3,15,"button",5),n.ɵɵelementContainerEnd()),2&e){var i=n.ɵɵnextContext().$implicit;n.ɵɵadvance(1),n.ɵɵproperty("ngIf",i.hasChildren),n.ɵɵadvance(1),n.ɵɵproperty("ngIf",!i.hasChildren)}}function de(e,t){if(1&e&&(n.ɵɵelementContainerStart(0),n.ɵɵtemplate(1,ae,1,2,"a",1),n.ɵɵtemplate(2,le,3,2,"ng-container",2),n.ɵɵelementContainerEnd()),2&e){var i=t.$implicit;n.ɵɵadvance(1),n.ɵɵproperty("ngIf",i.href),n.ɵɵadvance(1),n.ɵɵproperty("ngIf",!i.href)}}var ue=function(){function e(){}return Object.defineProperty(e.prototype,"options",{get:function(){return this._options},set:function(e){this._options=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sizeClass",{get:function(){return this._options.size?"btn-"+this._options.size:""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"styleClass",{get:function(){return this._options.style?"btn-"+this._options.style:"btn-light"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"itemsVisible",{get:function(){return Array.isArray(this._options.items)?this._options.items.filter((function(e){return!e.hidden})):this._options.items.hidden?[]:[this._options.items]},enumerable:!1,configurable:!0}),e.prototype.getActionItemOptions=function(e){return Object.assign(Object.assign({},this._options),{item:e,inMenu:!1})},e.prototype.itemClick=function(e,t){!e.disabled&&e.action&&e.action(e,t),("#"===e.href||e.href&&e.disabled)&&t.preventDefault()},e}();ue.ɵfac=function(e){return new(e||ue)},ue.ɵcmp=n.ɵɵdefineComponent({type:ue,selectors:[["","sq-action-buttons",""]],inputs:{options:["sq-action-buttons","options"]},attrs:["sq-action-buttons",""],decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],["class","btn-text",3,"sq-action-item","click",4,"ngIf"],[4,"ngIf"],[1,"btn-text",3,"sq-action-item","click"],["class","btn-group dropdown",3,"sq-action-item",4,"ngIf"],["type","button",3,"class","sq-action-item","sqTooltip","click",4,"ngIf"],[1,"btn-group","dropdown",3,"sq-action-item"],["type","button",3,"sq-action-item","sqTooltip","click"]],template:function(e,t){1&e&&n.ɵɵtemplate(0,de,3,2,"ng-container",0),2&e&&n.ɵɵproperty("ngForOf",t.itemsVisible)},directives:[i.NgForOf,i.NgIf,se,o.TooltipDirective],pipes:[s.MessagePipe],encapsulation:2});var me=function(e,t,n,i){return{item:e,size:t,autoAdjust:n,autoAdjustBreakpoint:i,inMenu:!0}};function fe(e,t){if(1&e&&n.ɵɵelement(0,"li",2),2&e){var i=n.ɵɵnextContext().$implicit,o=n.ɵɵnextContext();n.ɵɵclassMapInterpolate1("nav-item ",i.hasChildren?"dropdown":"",""),n.ɵɵproperty("sq-action-item",n.ɵɵpureFunction4(5,me,i,o.size,o.autoAdjust,o.autoAdjustBreakpoint))("collapseBreakpoint",o.collapseBreakpoint)}}function he(e,t){if(1&e&&(n.ɵɵelementContainerStart(0),n.ɵɵtemplate(1,fe,1,10,"li",1),n.ɵɵelementContainerEnd()),2&e){var i=t.$implicit;n.ɵɵadvance(1),n.ɵɵproperty("ngIf",!i.hidden)}}var ge=function(){function e(){}return e.prototype.ngOnInit=function(){t.Utils.isArray(this.items)||(this.items=[this.items])},e.prototype.identify=function(e,t){return t.name||t.text||t.title||e},e}();ge.ɵfac=function(e){return new(e||ge)},ge.ɵcmp=n.ɵɵdefineComponent({type:ge,selectors:[["sq-action-menu"]],inputs:{items:"items",size:"size",autoAdjust:"autoAdjust",autoAdjustBreakpoint:"autoAdjustBreakpoint",collapseBreakpoint:"collapseBreakpoint",right:"right"},decls:2,vars:5,consts:[[4,"ngFor","ngForOf","ngForTrackBy"],[3,"class","sq-action-item","collapseBreakpoint",4,"ngIf"],[3,"sq-action-item","collapseBreakpoint"]],template:function(e,t){1&e&&(n.ɵɵelementStart(0,"ul"),n.ɵɵtemplate(1,he,2,1,"ng-container",0),n.ɵɵelementEnd()),2&e&&(n.ɵɵclassMapInterpolate1("navbar-nav ",t.right?"navbar-right":"",""),n.ɵɵadvance(1),n.ɵɵproperty("ngForOf",t.items)("ngForTrackBy",t.identify))},directives:[i.NgForOf,i.NgIf,se],encapsulation:2,changeDetection:0});var ve=function(){};ve.ɵmod=n.ɵɵdefineNgModule({type:ve}),ve.ɵinj=n.ɵɵdefineInjector({factory:function(e){return new(e||ve)},imports:[[i.CommonModule,s.IntlModule,r.LoadComponentModule,o.UtilsModule]]}),("undefined"==typeof ngJitMode||ngJitMode)&&n.ɵɵsetNgModuleScope(ve,{declarations:[ue,E,se,ge,$,_],imports:[i.CommonModule,s.IntlModule,r.LoadComponentModule,o.UtilsModule],exports:[ue,ge,se,_]}),e.Action=f,e.BsActionButtons=ue,e.BsActionItem=se,e.BsActionItemContent=E,e.BsActionMenu=ge,e.BsActionModule=ve,e.BsDropdownDirective=_,e.BsDropdownMenu=$,e.BsDropdownService=S,e.IAction=m,e.gAttachmentMap=P,e.gClassName=O,e.gSelector=T,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=sinequa-components-action.umd.min.js.map