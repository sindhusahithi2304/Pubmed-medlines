{"version":3,"file":"sinequa-components-utils.js","sources":["../../projects/components/utils/directives/autofocus.ts","../../projects/components/utils/directives/click-outside.ts","../../projects/components/utils/directives/media-if.ts","../../projects/components/utils/directives/scroll-into-view.ts","../../projects/components/utils/directives/focus-key-list-item.directive.ts","../../projects/components/utils/directives/focus-key-list.directive.ts","../../../projects/components/utils/ui.service.ts","../../projects/components/utils/directives/resize-event.directive.ts","../../projects/components/utils/directives/sticky.ts","../projects/components/utils/directives/tooltip/tooltip.component.ts","../projects/components/utils/directives/tooltip/tooltip.directive.ts","../../projects/components/utils/pipes/date-pipe.ts","../../projects/components/utils/pipes/expr-pipe.ts","../../projects/components/utils/pipes/memory-size-pipe.ts","../../projects/components/utils/pipes/moment-pipe.ts","../../projects/components/utils/pipes/number-pipe.ts","../../projects/components/utils/pipes/relative-time-pipe.ts","../../projects/components/utils/pipes/time-pipe.ts","../../projects/components/utils/pipes/value-pipe.ts","../../../projects/components/utils/utils.module.ts","../../projects/components/utils/voice-recognition/voice-recongnition.service.ts","../../projects/components/utils/messages/en.ts","../../projects/components/utils/messages/fr.ts","../../projects/components/utils/messages/de.ts","../../projects/components/utils/messages/index.ts","../../../projects/components/utils/sinequa-components-utils.ts"],"sourcesContent":["import {Directive, Input, ElementRef, OnChanges} from \"@angular/core\";\nimport {Utils} from \"@sinequa/core/base\";\n\n@Directive({\n    selector: \"[sqAutofocus]\"\n})\nexport class Autofocus implements OnChanges {\n    @Input(\"sqAutofocus\") value: number;\n    element: HTMLElement;\n\n    constructor(elementRef: ElementRef) {\n        this.element = <HTMLElement>elementRef.nativeElement;\n    }\n\n    private setFocus() {\n        Utils.delay()\n            .then(() => {\n                if (this.element.offsetWidth !== 0) {\n                    this.element.focus();\n                }\n            });\n    }\n\n    ngOnChanges() {\n        this.setFocus();\n    }\n}","import {Directive, Input, Output, ElementRef, OnInit, OnDestroy, EventEmitter} from \"@angular/core\";\nimport {Utils} from \"@sinequa/core/base\";\n\nexport interface ClickOutsideOptions {\n    exclude?: string[];\n}\n\n@Directive({\n    selector: \"[sqClickOutside]\"\n})\nexport class ClickOutside implements OnInit, OnDestroy {\n    @Input(\"sqClickOutside\") options: ClickOutsideOptions;\n    @Output(\"sqClickOutside\") clickOutside = new EventEmitter<{click: UIEvent}>();\n    element: HTMLElement;\n\n    constructor(elementRef: ElementRef) {\n        this.element = <HTMLElement>elementRef.nativeElement;\n    }\n\n    ngOnInit() {\n        document.addEventListener(\"click\", this.clickHandler);\n        if (!this.options) {\n            this.options = { exclude: ['.bs-datepicker'] }; // By default exclude bootstrap date picker\n        }\n    }\n\n    ngOnDestroy() {\n        document.removeEventListener(\"click\", this.clickHandler);\n    }\n\n    private isActive(element: Element): boolean {\n        let active = document[\"activeElement\"];\n        while (active) {\n            if (element === active) {\n                return true;\n            }\n            active = active.parentElement;\n        }\n        return false;\n    }\n\n    clickHandler = (event: MouseEvent) => {\n        if (!event || !event.target) {\n            return;\n        }\n        if (this.element.offsetWidth === 0) {\n            return;\n        }\n        if (event.target === document.body && document.elementFromPoint(event.pageX, event.pageY) !== event.target) {\n            return;\n        }\n        if (this.element.contains(<HTMLElement>event.target)) {\n            return;\n        }\n        if (this.options.exclude) {\n            let targetRoot = <HTMLElement>event.target;\n            while (!!targetRoot.parentElement) {\n                targetRoot = targetRoot.parentElement;\n            }\n            for (const selector of this.options.exclude) {\n                const elts = Array.from(targetRoot.querySelectorAll(selector));\n                for (const elt of elts) {\n                    if (elt && elt.contains(<Node>event.target)) {\n                        return;\n                    }\n                }\n            }\n        }\n        // Call via timeout so we can check whether the click was leading to us taking focus\n        // If we have the focus then we don't call clickOutside\n        Utils.delay()\n            .then(() => {\n                if (!this.isActive(this.element)) {\n                    this.clickOutside.emit({click: event});\n                }\n            });\n    }\n}","import {Directive, Input, TemplateRef, ViewContainerRef, OnDestroy, ChangeDetectorRef} from '@angular/core';\nimport {ɵMatchMedia, BreakPointRegistry} from '@angular/flex-layout';\nimport {Subject, throwError} from \"rxjs\";\nimport {startWith, switchMap, map} from \"rxjs/operators\";\n\n// Adapted from https://github.com/angular/flex-layout/issues/142#issuecomment-379465022\n// Change ɵMatchMedia => MatchMedia when we move to angular 8\n@Directive({\n    selector: \"[sqMediaIf]\",\n})\nexport class MediaIf implements OnDestroy {\n    private hasView = false;\n    private matcher = new Subject<string>();\n    private subscription = this.matcher\n        .pipe(\n            map(alias => {\n                const breakpoint = this.breakpoints.findByAlias(alias);\n                if (!breakpoint) {\n                    throwError(`breakpoint not found for ${alias}`);\n                    return \"\";\n                }\n                else {\n                    return breakpoint.mediaQuery;\n                }\n            }),\n            switchMap(mq => {\n                //console.log(\"MediaIf:\", mq);\n                return this.matchMedia.observe([mq], true)\n                    .pipe(\n                        map(result => {\n                            //console.log(\"MediaChange:\", result);\n                            return result.matches;\n                        }),\n                        startWith(this.matchMedia.isActive(mq)));\n            }))\n        .subscribe(matches => matches ? this.createView() : this.destroyView());\n\n    @Input()\n    set sqMediaIf(value: string) {\n        this.matcher.next(value);\n    }\n\n    constructor(\n        private template: TemplateRef<any>,\n        private viewContainer: ViewContainerRef,\n        private breakpoints: BreakPointRegistry,\n        private matchMedia: ɵMatchMedia,\n        private changeDetectorRef: ChangeDetectorRef) {\n    }\n\n    ngOnDestroy() {\n        this.subscription.unsubscribe();\n    }\n\n    private createView() {\n        if (!this.hasView) {\n            this.viewContainer.createEmbeddedView(this.template);\n            this.changeDetectorRef.markForCheck();\n            this.hasView = true;\n        }\n    }\n\n    private destroyView() {\n        if (this.hasView) {\n            this.viewContainer.clear();\n            this.hasView = false;\n        }\n    }\n}","import {Directive, Input, OnChanges, ElementRef} from \"@angular/core\";\n\nexport interface ScrollIntoViewOptions {\n    active: boolean;\n    first: boolean;\n}\n\n@Directive({\n    selector: \"[sqScrollIntoView]\"\n})\nexport class ScrollIntoView implements OnChanges {\n    @Input(\"sqScrollIntoView\") options: ScrollIntoViewOptions;\n\n    constructor(\n        private elementRef: ElementRef) {\n    }\n\n    ngOnChanges() {\n        if (this.options.active) {\n            if (this.options.first) {\n                this.elementRef.nativeElement.scrollIntoView(false);\n            }\n            else {\n                this.elementRef.nativeElement.scrollIntoViewIfNeeded(false);\n            }\n        }\n    }\n}\n","import { Directive, HostBinding, ElementRef } from \"@angular/core\";\nimport { FocusableOption } from \"@angular/cdk/a11y\";\n\n@Directive({\n    selector: \"[sqFocusKeyListItem]\"\n})\nexport class FocusKeyListItemDirective implements FocusableOption {\n    @HostBinding() tabindex = -1;\n    @HostBinding(\"attr.role\") role = \"list-item\";\n\n    constructor(protected element: ElementRef) {\n    }\n\n    focus() {\n        this.element.nativeElement.focus();\n    }\n}\n","import { Directive, Input, Output, HostBinding, EventEmitter, OnChanges, AfterContentInit,\n    ContentChildren, QueryList, HostListener } from \"@angular/core\";\nimport { FocusKeyManager } from \"@angular/cdk/a11y\";\nimport { FocusKeyListItemDirective } from \"./focus-key-list-item.directive\";\nimport { Utils } from \"@sinequa/core/base\";\n\n@Directive({\n    selector: \"[sqFocusKeyList]\"\n})\nexport class FocusKeyListDirective implements OnChanges, AfterContentInit {\n    @Input() activeItem = -1;\n    @Input() withWrap = true;\n    @Output() itemSelect = new EventEmitter<number>();\n    @HostBinding(\"attr.role\") role = \"list\";\n    @ContentChildren(FocusKeyListItemDirective) components: QueryList<FocusKeyListItemDirective>;\n    protected keyManager: FocusKeyManager<FocusKeyListItemDirective>;\n\n    ngOnChanges() {\n        if (this.keyManager) {\n            this.keyManager.setActiveItem(this.activeItem);\n        }\n    }\n\n    ngAfterContentInit() {\n        this.keyManager = new FocusKeyManager<FocusKeyListItemDirective>(this.components);\n        if (this.withWrap) {\n            this.keyManager.withWrap();\n        }\n        if (this.activeItem >= 0 && this.components.length > 0) {\n            Utils.delay().then(() => {\n                this.keyManager.setActiveItem(this.activeItem);\n            });\n        }\n    }\n\n    @HostListener(\"keydown\", [\"$event\"])\n    onKeydown(event) {\n        this.keyManager.onKeydown(event);\n        this.itemSelect.emit(this.keyManager.activeItemIndex !== null ? this.keyManager.activeItemIndex : undefined);\n    }\n}\n","import {Injectable, Inject, InjectionToken, OnDestroy, ComponentFactory, ComponentRef, Type} from \"@angular/core\";\nimport {Subject, Observable} from \"rxjs\";\nimport {Utils, MapOf} from \"@sinequa/core/base\";\nimport elementResizeDetectorMaker from \"element-resize-detector\";\nimport {NotificationsService} from \"@sinequa/core/notification\";\nimport {Clipboard} from '@angular/cdk/clipboard';\n\nexport interface CaretPosition {\n    start: number;\n    end: number;\n}\n\nexport const SCREEN_SIZE_RULES = new InjectionToken<MapOf<string>>('SCREEN_SIZE_RULES');\n\n@Injectable({\n    providedIn: \"root\"\n})\nexport class UIService implements OnDestroy {\n    _resizeEvent = new Subject<UIEvent>();\n    _priorityResizeEvent = new Subject<UIEvent>();\n    screenSizes: string[];\n    screenSize: string; // one of the screen size rules values\n    elementResizeDetector: any;\n    factories = new Map<Type<any>, ComponentFactory<any>>();\n\n    constructor(\n        @Inject(SCREEN_SIZE_RULES) public screenSizeRules: MapOf<string>,\n        public notificationsService: NotificationsService,\n        public clipboard: Clipboard\n    ) {\n\n        this.screenSizes = [\"xs\", \"sm\", \"md\", \"lg\", \"xl\", \"xxl\"]; // in ascending size order\n        this.setScreenSize();\n        window.addEventListener(\"resize\", this.resizeEventListener);\n        this.elementResizeDetector = elementResizeDetectorMaker({ strategy: \"scroll\" });\n    }\n\n    protected resizeEventListener = Utils.frame((event: UIEvent) => {\n        this.setScreenSize();\n        this._priorityResizeEvent.next(event);\n        this._resizeEvent.next(event);\n    });\n\n    ngOnDestroy() {\n        this._resizeEvent.complete();\n        this._priorityResizeEvent.complete();\n        window.removeEventListener(\"resize\", this.resizeEventListener);\n    }\n\n    get resizeEvent(): Observable<UIEvent> {\n        return this._resizeEvent;\n    }\n\n    get priorityResizeEvent(): Observable<UIEvent> {\n        return this._priorityResizeEvent;\n    }\n\n    /*private setTitle(title: string) {\n        document.title = this.intlService.formatMessage(title);\n    }*/\n\n    appInit(appComponentRef: ComponentRef<any>) {\n        //this.setTitle();\n        //Utils.subscribe(this.intlService.events,\n        //    (value) => {\n        //        this.setTitle();\n        //    });\n\n        // See https://github.com/angular/angular/issues/18817\n        /*this.resizeEvent.subscribe(\n            (event) => {\n                appComponentRef.changeDetectorRef.markForCheck();\n            });*/\n\n        // this.loadComponent({component: DirtyChecker});\n    }\n\n    // legacy (was called from app.ts)\n    addResizeListener(listener: (event?: UIEvent) => any) {\n        this._resizeEvent.subscribe(listener);\n    }\n\n    private screenSizeIs(list: string | string[]) {\n        //let rules = this.coreConfig.screenSizeRules;\n\n        // validate that we're getting a string or array.\n        if (!Utils.isString(list) && !Utils.isArray(list)) {\n            throw new Error('screenSizeIs requires an array or comma-separated list');\n        }\n\n        // if it's a string, convert to array.\n        if (Utils.isString(list)) {\n            list = list.split(/\\s*,\\s*/);\n        }\n\n        return list.some((size) => window.matchMedia(this.screenSizeRules[size]).matches);\n    }\n\n    private setScreenSize() {\n        for (const size of this.screenSizes) {\n            if (this.screenSizeIs(size)) {\n                this.screenSize = size;\n                return;\n            }\n        }\n        throw new Error(\"UIService.setScreenSize - no matching screen size\");\n    }\n\n    screenSizeIsEqual(screenSize: string): boolean {\n        return this.screenSize === screenSize;\n    }\n\n    screenSizeIsGreater(screenSize: string | undefined): boolean {\n        const index1 = this.screenSizes.findIndex((value) => value === this.screenSize);\n        const index2 = this.screenSizes.findIndex((value) => value === screenSize);\n        return index1 > index2;\n    }\n\n    screenSizeIsLess(screenSize: string): boolean {\n        const index1 = this.screenSizes.findIndex((value) => value === this.screenSize);\n        const index2 = this.screenSizes.findIndex((value) => value === screenSize);\n        return index1 < index2;\n    }\n\n    screenSizeIsGreaterOrEqual(screenSize: string | undefined): boolean {\n        if (screenSize === this.screenSize) {\n            return true;\n        }\n        return this.screenSizeIsGreater(screenSize);\n    }\n\n    screenSizeIsLessOrEqual(screenSize: string): boolean {\n        if (screenSize === this.screenSize) {\n            return true;\n        }\n        return this.screenSizeIsLess(screenSize);\n    }\n\n    private _screenSizeTest(screenSize: string): boolean {\n        if (Utils.eqNCN(screenSize, \"always\", \"true\")) {\n            return true;\n        }\n        if (Utils.eqNCN(screenSize, \"never\", \"false\")) {\n            return false;\n        }\n        if (Utils.startsWith(screenSize, \">=\")) {\n            return this.screenSizeIsGreaterOrEqual(screenSize.slice(2));\n        }\n        if (Utils.startsWith(screenSize, \">\")) {\n            return this.screenSizeIsGreater(screenSize.slice(1));\n        }\n        if (Utils.startsWith(screenSize, \"<=\")) {\n            return this.screenSizeIsLessOrEqual(screenSize.slice(2));\n        }\n        if (Utils.startsWith(screenSize, \"<\")) {\n            return this.screenSizeIsLess(screenSize.slice(1));\n        }\n        if (Utils.startsWith(screenSize, \"=\")) {\n            return this.screenSizeIsEqual(screenSize.slice(1));\n        }\n        return this.screenSizeIsEqual(screenSize);\n    }\n\n    // screenSizes is a sequence of size specs with optional operator separated by space or and (AND)\n    // Multiple sequences can be specified using , or ; as a separator (these are OR'd)\n    screenSizeTest(screenSizes: string): boolean {\n        if (!screenSizes) {\n            return true;\n        }\n        const ors = Utils.split(screenSizes, [',', ';']);\n        for (const or of ors) {\n            const ands = Utils.split(or, \" \");\n            if (ands.length === 0) {\n                continue;\n            }\n            let ok = true;\n            for (const and of ands) {\n                if (Utils.eqNC(and, \"and\")) { // space separated but you can use and if you want to\n                    continue;\n                }\n                if (!this._screenSizeTest(and)) {\n                    ok = false;\n                    break;\n                }\n            }\n            if (ok) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    getContentRect(element: HTMLElement): ClientRect {\n        const rect = element.getBoundingClientRect();\n        const computedStyle = window.getComputedStyle(element);\n        const borderLeft = parseFloat(computedStyle.borderLeft);\n        const borderRight = parseFloat(computedStyle.borderRight);\n        const borderTop = parseFloat(computedStyle.borderTop);\n        const borderBottom = parseFloat(computedStyle.borderBottom);\n        const paddingLeft = parseFloat(computedStyle.paddingLeft);\n        const paddingRight = parseFloat(computedStyle.paddingRight);\n        const paddingTop = parseFloat(computedStyle.paddingTop);\n        const paddingBottom = parseFloat(computedStyle.paddingBottom);\n        return {\n            top: rect.top + borderTop + paddingTop,\n            right: rect.right - borderRight - paddingRight,\n            bottom: rect.bottom - borderBottom - paddingBottom,\n            left: rect.left + borderLeft + paddingLeft,\n            width: rect.width - borderLeft - paddingLeft - paddingRight - borderRight,\n            height: rect.height - borderTop - paddingTop - paddingBottom - borderBottom\n        };\n    }\n\n    // caret support\n    getCaret(input: HTMLInputElement): CaretPosition {\n        return {\n            start: input.selectionStart || 0,\n            end: input.selectionEnd || 0\n        };\n    }\n\n    setCaret(input: HTMLInputElement, start: number, end = start, text?: string, selectionAction = UIService.SelectionAction.collapse, ensureVisible = true, raiseEvent = true) {\n        if (start < 0) {\n            return;\n        }\n        if (Utils.isString(text)) {\n            let value = input.value;\n            if (end >= start) {\n                value = value.slice(0, start) + text + value.slice(end);\n            }\n            else {\n                value = value.slice(0, start) + text;\n            }\n            input.value = value;\n            switch (selectionAction) {\n                case UIService.SelectionAction.adjust:\n                    end = start + text.length;\n                    break;\n                case UIService.SelectionAction.none:\n                    break;\n                case UIService.SelectionAction.collapseToStart:\n                    end = start;\n                    break;\n                case UIService.SelectionAction.collapse:\n                default:\n                    end = start + text.length;\n                    start = end;\n                    break;\n            }\n        }\n        if (end < 0) {\n            end = start;\n        }\n        input.setSelectionRange(start, end);\n        if (ensureVisible) {\n            const rect = input.getBoundingClientRect();\n            const contentRect = this.getContentRect(input);\n            const textPos = this.getTextPosition(input, this.getCaret(input).end);\n            let scrollLeft = input.scrollLeft;\n            const minX = contentRect.left + scrollLeft;\n            const maxX = contentRect.right + scrollLeft;\n            const caretX = rect.left + textPos.left;\n            if (caretX < minX || caretX > maxX) {\n                scrollLeft = Math.max(caretX - contentRect.right + 1/*for the caret*/, 0);\n                input.scrollLeft = scrollLeft;\n            }\n        }\n        if (raiseEvent) {\n            const event = new CustomEvent(\"input\");\n            input.dispatchEvent(event);\n        }\n    }\n\n    // See https://github.com/component/textarea-caret-position\n    // We return a lineHeight value in addition\n    private textPositionProperties = [\n        'direction',  // RTL support\n        'boxSizing',\n        'width',  // on Chrome and IE, exclude the scrollbar, so the mirror div wraps exactly as the textarea does\n        'height',\n        'overflowX',\n        'overflowY',  // copy the scrollbar for IE\n\n        'borderTopWidth',\n        'borderRightWidth',\n        'borderBottomWidth',\n        'borderLeftWidth',\n        'borderStyle',\n\n        'paddingTop',\n        'paddingRight',\n        'paddingBottom',\n        'paddingLeft',\n\n        // https://developer.mozilla.org/en-US/docs/Web/CSS/font\n        'fontStyle',\n        'fontVariant',\n        'fontWeight',\n        'fontStretch',\n        'fontSize',\n        'fontSizeAdjust',\n        'lineHeight',\n        'fontFamily',\n\n        'textAlign',\n        'textTransform',\n        'textIndent',\n        'textDecoration',  // might not make a difference, but better be safe\n\n        'letterSpacing',\n        'wordSpacing',\n\n        'tabSize',\n        'MozTabSize'\n    ];\n    getTextPosition(element: HTMLElement, position: number, options?: {debug: boolean}): {top: number, left: number, lineHeight: number} {\n        const debug = options && options.debug || false;\n        if (debug) {\n            const el = document.querySelector('#input-textarea-caret-position-mirror-div');\n            if ( el ) {\n                if (el.parentNode) {\n                    el.parentNode.removeChild(el);\n                }\n            }\n        }\n\n        // mirrored div\n        const div = document.createElement('div');\n        div.id = 'input-textarea-caret-position-mirror-div';\n        document.body.appendChild(div);\n\n        const style = div.style;\n        const computed = !!window.getComputedStyle ? getComputedStyle(element) : (<any>element).currentStyle;  // currentStyle for IE < 9\n\n        // default textarea styles\n        style.whiteSpace = 'pre-wrap';\n        if (element.nodeName !== 'INPUT')\n            style.wordWrap = 'break-word';  // only for textarea-s\n\n        // position off-screen\n        style.position = 'absolute';  // required to return coordinates properly\n        if (!debug)\n            style.visibility = 'hidden';  // not 'display: none' because we want rendering\n\n        // transfer the element's properties to the div\n        this.textPositionProperties.forEach(function (prop) {\n            style[prop] = computed[prop];\n        });\n\n        if (!Utils.isUndefined((<any>window).mozInnerScreenX)) {\n            // Firefox lies about the overflow property for textareas: https://bugzilla.mozilla.org/show_bug.cgi?id=984275\n            if (element.scrollHeight > parseInt(computed.height, 10))\n            style.overflowY = 'scroll';\n        } else {\n            style.overflow = 'hidden';  // for Chrome to not render a scrollbar; IE keeps overflowY = 'scroll'\n        }\n\n        div.textContent = (<any>element).value.substring(0, position);\n        // the second special handling for input type=\"text\" vs textarea: spaces need to be replaced with non-breaking spaces - http://stackoverflow.com/a/13402035/1269037\n        if (element.nodeName === 'INPUT' && div.textContent) {\n            div.textContent = div.textContent.replace(/\\s/g, '\\u00a0');\n        }\n\n        const span = document.createElement('span');\n        // Wrapping must be replicated *exactly*, including when a long word gets\n        // onto the next line, with whitespace at the end of the line before (#7).\n        // The  *only* reliable way to do that is to copy the *entire* rest of the\n        // textarea's content into the <span> created at the caret position.\n        // for inputs, just '.' would be enough, but why bother?\n        div.appendChild(span);\n\n        // return lineHeight too\n        span.textContent = '.';\n        const lineHeight = span.offsetHeight;\n\n        span.textContent = (<any>element).value.substring(position) || '.';  // || because a completely empty faux span doesn't render at all\n\n        const coordinates = {\n            top: span.offsetTop + parseInt(computed['borderTopWidth'], 10),\n            left: span.offsetLeft + parseInt(computed['borderLeftWidth'], 10),\n            lineHeight: lineHeight\n        };\n\n        if (debug) {\n            span.style.backgroundColor = '#aaa';\n        } else {\n            document.body.removeChild(div);\n        }\n\n        return coordinates;\n    }\n\n    getViewport(): ClientRect {\n        return document.body.getBoundingClientRect();\n    }\n\n    addElementResizeListener(element: HTMLElement, listener: (this: HTMLElement) => void) {\n        this.elementResizeDetector.listenTo(element, listener);\n    }\n\n    removeElementResizeListener(element: HTMLElement, listener: (this: HTMLElement) => void) {\n        this.elementResizeDetector.removeListener(element, listener);\n    }\n    \n    copyToClipboard(data: string, maxLength = 30) {\n        if (!navigator?.clipboard) {\n            // Note: CDK seems to struggle with large chunks of text\n            this.copyToClipboardCdk(data, maxLength);\n        }\n        else {\n            // Navigator built-in clipboard management\n            navigator.clipboard.writeText(data).then(() => {\n                this.notificationsService.success(\"msg#clipboard.success\", {data: \"\\\"\"+(data.length>maxLength? (data.slice(0,maxLength) + \"...\") : data)+\"\\\"\"});\n            }, err => {\n                this.notificationsService.warning(\"msg#clipboard.error\");\n            });\n        }\n    }\n\n    copyToClipboardCdk(data: string, maxLength = 30) {\n        const pending = this.clipboard.beginCopy(data);\n        let remainingAttempts = 3;\n        const attempt = () => {\n            const result = pending.copy();\n            if (!result && --remainingAttempts) {\n                setTimeout(attempt);\n            } else {\n                // Remember to destroy when you're done!\n                pending.destroy();\n                if(result) {\n                    this.notificationsService.success(\"msg#clipboard.success\", {data: \"\\\"\"+(data.length>maxLength? (data.slice(0,maxLength) + \"...\") : data)+\"\\\"\"});\n                }\n                else {\n                    this.notificationsService.warning(\"msg#clipboard.error\");\n                }\n            }\n        };\n        attempt();\n    }\n}\n\nexport module UIService {\n    export enum SelectionAction {\n        adjust,\n        none,\n        collapseToStart,\n        collapse\n    }\n}\n","import {Directive, ElementRef, Output, EventEmitter, AfterViewInit, OnDestroy, NgZone} from \"@angular/core\";\nimport {UIService} from \"../ui.service\";\n\n@Directive({\n    selector: \"[sqResize]\"\n})\nexport class ResizeEventDirective implements AfterViewInit, OnDestroy {\n    @Output(\"sqResize\") resizeEvent = new EventEmitter<DOMRectReadOnly>();\n    // NB we don't use one of the ResizeObserver polyfills as they rely on polling\n    // for changes which continuously consumes cpu time...\n    protected resizeObserver: /*ResizeObserver*/any;\n\n    constructor(\n        protected elementRef: ElementRef,\n        protected zone: NgZone,\n        protected uiService: UIService\n    ) {\n    }\n\n    protected raiseEvent = () => {\n        const contentRect = this.elementRef.nativeElement.getBoundingClientRect();\n        this.resizeEvent.emit(contentRect);\n    }\n\n    ngAfterViewInit() {\n        if ((window as any).ResizeObserver) {\n            this.resizeObserver = new (window as any).ResizeObserver((entries) => {\n                this.zone.run(() => {\n                    const contentRect = (entries?.length === 1 && entries[0].contentRect);\n                    this.resizeEvent.emit(contentRect);\n                });\n            });\n            this.resizeObserver.observe(this.elementRef.nativeElement);\n        }\n        else {\n            this.uiService.addElementResizeListener(this.elementRef.nativeElement, this.raiseEvent);\n        }\n    }\n\n    ngOnDestroy() {\n        if ((window as any).ResizeObserver) {\n            this.resizeObserver.unobserve(this.elementRef.nativeElement);\n        }\n        else {\n            this.uiService.removeElementResizeListener(this.elementRef.nativeElement, this.raiseEvent);\n        }\n    }\n}\n","import { AfterViewInit, ChangeDetectionStrategy, ChangeDetectorRef, Component, ElementRef, Input, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport { Utils } from '@sinequa/core/base';\nimport { UIService } from '../ui.service';\n\n@Component({\n    selector: '[sqSticky]',\n    template: `\n<div [ngStyle]=\"{'margin-top.px': marginTop}\"></div>\n<div #container class=\"sticky-container\" [ngStyle]=\"{'top.px': top, 'bottom.px': bottom}\">\n    <ng-content></ng-content>\n</div>\n`,\n    styles: [`\n.sticky-container {\n    position: sticky;\n    position: -webkit-sticky;\n}\n    `],\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class StickyComponent implements OnInit, AfterViewInit, OnDestroy{\n    @Input(\"sqSticky\") offsets?: {top: number, bottom: number};\n    @ViewChild(\"container\") container: ElementRef;\n\n    top?: number;\n    bottom?: number;\n    scrollY: number;\n    marginTop = 0;\n    \n    private listener;\n    \n    constructor(\n        protected ui: UIService,\n        protected cdRef: ChangeDetectorRef){\n    }\n\n    onScroll(forceScrollDown = false) {\n        const scrollDelta = window.pageYOffset - this.scrollY;\n        this.scrollY = window.pageYOffset;\n\n        const offsets = this.offsets || {top: 0, bottom: 0};\n        const componentHeight = this.container.nativeElement.getBoundingClientRect().height;\n        // Scrolling down (OR top of page OR forced after a scroll up OR component height small than screen height)\n        if(scrollDelta >= 0 || this.scrollY === 0 || forceScrollDown || componentHeight + offsets.top + offsets.bottom < window.innerHeight) {\n            this.marginTop = Math.min(this.scrollY, this.marginTop);\n            this.bottom = undefined;\n            this.top = Math.min(window.innerHeight - componentHeight - offsets.bottom, offsets.top);\n        }\n        // Scrolling up\n        else {\n            this.marginTop = Math.max(this.scrollY + window.innerHeight - componentHeight -offsets.bottom - offsets.top, this.marginTop);\n            this.bottom = window.innerHeight - offsets.top - componentHeight;\n            this.top = undefined;\n            if(this.scrollY <= this.marginTop) {\n                this.postScrollUp();\n            }\n        }\n        this.cdRef.markForCheck();\n    }\n\n    postScrollUp = Utils.debounce(() => {\n        this.onScroll(true);\n    }, 250);\n\n    ngOnInit() {\n        if(CSS.supports(\"position\", \"sticky\") || CSS.supports(\"position\", \"-webkit-sticky\")) {            \n            this.scrollY = window.pageYOffset;\n            this.top = (this.offsets?.top || 0);\n        }\n    }\n\n    ngAfterViewInit() {\n        // position: sticky is not supported in Internet Explorer. A workaround could be to rely on position: relative and position: fixed, with additional logic.\n        if(CSS.supports(\"position\", \"sticky\") || CSS.supports(\"position\", \"-webkit-sticky\")) {\n            this.listener = () => this.onScroll();\n            window.addEventListener('scroll', this.listener);\n            window.addEventListener('resize', this.listener);\n            this.ui.addElementResizeListener(this.container.nativeElement, this.listener);\n        }\n    }\n\n    ngOnDestroy() {\n        if(this.listener) {\n            window.removeEventListener('scroll', this.listener);\n            window.removeEventListener('resize', this.listener);\n            this.ui.removeElementResizeListener(this.container.nativeElement, this.listener);\n        }\n    }\n\n}\n","import {Component, Input, ChangeDetectionStrategy} from '@angular/core';\r\nimport {animate, style, transition, trigger} from '@angular/animations';\r\n\r\n@Component({\r\n  selector: 'sqx-tooltip',\r\n  styleUrls: ['./tooltip.component.css'],\r\n  template: `<div class=\"sq-tooltip\" @tooltip>{{ text }}</div>`,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n  animations: [\r\n    trigger('tooltip', [\r\n      transition(':enter', [\r\n        style({opacity: 0}),\r\n        animate(300, style({opacity: 1})),\r\n      ]),\r\n      transition(':leave', [\r\n        animate(300, style({opacity: 0})),\r\n      ]),\r\n    ]),\r\n  ],\r\n})\r\nexport class TooltipComponent {\r\n\r\n  @Input() text = '';\r\n}","import {\r\n  ComponentRef,\r\n  Directive,\r\n  ElementRef,\r\n  HostListener,\r\n  Input,\r\n  OnDestroy\r\n} from \"@angular/core\";\r\nimport {\r\n  ConnectedPosition,\r\n  Overlay,\r\n  OverlayPositionBuilder,\r\n  OverlayRef\r\n} from \"@angular/cdk/overlay\";\r\nimport {ComponentPortal} from \"@angular/cdk/portal\";\r\n\r\nimport {TooltipComponent} from \"./tooltip.component\";\r\n\r\n@Directive({selector: \"[sqTooltip]\"})\r\nexport class TooltipDirective implements OnDestroy {\r\n  @Input(\"sqTooltip\") text = \"\";\r\n  @Input() placement: \"top\" | \"bottom\" | \"right\" | \"left\" = \"bottom\";\r\n  @Input() delay = 300;\r\n\r\n  private overlayRef: OverlayRef;\r\n  private timeoutId;\r\n\r\n  constructor(\r\n    private overlay: Overlay,\r\n    private overlayPositionBuilder: OverlayPositionBuilder,\r\n    private elementRef: ElementRef\r\n  ) {}\r\n\r\n  ngOnDestroy() {\r\n    if(this.overlayRef){\r\n      this.overlayRef.detach();\r\n    }\r\n  }\r\n\r\n  @HostListener(\"mouseenter\", ['$event'])\r\n  show(event: MouseEvent) {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n\r\n    this.clearTimer();\r\n\r\n    this.timeoutId = setTimeout(() => {          \r\n      if(this.overlayRef) {\r\n          this.overlayRef.detach();\r\n      }\r\n\r\n      if (this.text.trim().length === 0) {\r\n        return;\r\n      }\r\n\r\n      const positionStrategy = this.overlayPositionBuilder\r\n      .flexibleConnectedTo(this.elementRef)\r\n      .withPositions([this.position()]);\r\n      \r\n      const scrollStrategy = this.overlay.scrollStrategies.close();\r\n      this.overlayRef = this.overlay.create({positionStrategy, scrollStrategy});\r\n      \r\n      const tooltipRef: ComponentRef<TooltipComponent> = this.overlayRef.attach(new ComponentPortal(TooltipComponent));\r\n      tooltipRef.instance.text = this.text;\r\n    }, this.delay);\r\n  }\r\n\r\n  @HostListener(\"mousedown\", ['$event'])\r\n  mouseClick(event: MouseEvent) {\r\n    event.preventDefault()\r\n    event.stopPropagation();\r\n    this.clearTimer();\r\n  }\r\n\r\n  @HostListener(\"mouseleave\")\r\n  hide() {\r\n    this.clearTimer();\r\n  }\r\n\r\n  position(): ConnectedPosition {\r\n    switch (this.placement) {\r\n      case \"bottom\":\r\n        return {\r\n          originX: \"center\",\r\n          originY: \"bottom\",\r\n          overlayX: \"center\",\r\n          overlayY: \"top\",\r\n          offsetY: 8\r\n        };\r\n      case \"right\":\r\n        return {\r\n          originX: \"end\",\r\n          originY: \"center\",\r\n          overlayX: \"start\",\r\n          overlayY: \"center\",\r\n          offsetX: 8\r\n        };\r\n      case \"left\":\r\n        return {\r\n          originX: \"start\",\r\n          originY: \"center\",\r\n          overlayX: \"end\",\r\n          overlayY: \"center\",\r\n          offsetX: -8\r\n        };\r\n      default:\r\n        return {\r\n          originX: \"center\",\r\n          originY: \"top\",\r\n          overlayX: \"center\",\r\n          overlayY: \"bottom\",\r\n          offsetY: -8\r\n        };\r\n    }\r\n  }\r\n\r\n  private clearTimer() {\r\n    if(this.timeoutId) {\r\n      clearTimeout(this.timeoutId);\r\n    }\r\n\r\n    if (this.overlayRef) {\r\n      this.overlayRef.detach();\r\n    }\r\n  }\r\n}","import {Pipe, ChangeDetectorRef} from \"@angular/core\";\nimport {AbstractIntlPipe, IntlService} from \"@sinequa/core/intl\";\n\n@Pipe({name: \"sqDate\", pure: false})\nexport class DatePipe extends AbstractIntlPipe {\n    constructor(\n        intlService: IntlService,\n        changeDetectorRef: ChangeDetectorRef) {\n        super(intlService, changeDetectorRef);\n    }\n\n    updateValue(key: number | Date, params: Intl.DateTimeFormatOptions): void {\n        super.updateValue(key, params);\n        this.value = this.intlService.formatDate(key, params);\n    }\n}","import {Pipe, ChangeDetectorRef} from \"@angular/core\";\nimport {AbstractIntlPipe, IntlService} from \"@sinequa/core/intl\";\nimport {Expr, ExprMessageOptions} from \"@sinequa/core/app-utils\";\nimport {Utils} from \"@sinequa/core/base\";\n\n@Pipe({name: \"sqExpr\", pure: false})\nexport class ExprPipe extends AbstractIntlPipe {\n    constructor(\n        intlService: IntlService,\n        changeDetectorRef: ChangeDetectorRef) {\n        super(intlService, changeDetectorRef);\n    }\n\n    updateValue(key: Expr | string, params: ExprMessageOptions): void {\n        super.updateValue(key, params);\n        if (key instanceof Expr) {\n            const message = key.toMessage(params);\n            this.value = this.intlService.formatMessage(message.message, message.values);\n        }\n        else {\n            this.value = this.intlService.formatMessage(key);\n            if (params && params.asHTML) {\n                this.value = Utils.encodeHTML(this.value);\n            }\n        }\n    }\n}","import {Pipe, ChangeDetectorRef} from \"@angular/core\";\nimport {AbstractIntlPipe, IntlService} from \"@sinequa/core/intl\";\nimport {FormatService} from \"@sinequa/core/app-utils\";\n\n/**\n * A pipe to transform a number into a readable internationalized memory size label,\n * for example \"126432\" into \"126 kB\".\n *\n * @example\n * <span>Size:</span><span>{{ documentSize | sqMemorySize }}</span>\n */\n@Pipe({name: \"sqMemorySize\", pure: false})\nexport class MemorySizePipe extends AbstractIntlPipe {\n    constructor(\n        protected formatService: FormatService,\n        intlService: IntlService,\n        changeDetectorRef: ChangeDetectorRef) {\n        super(intlService, changeDetectorRef);\n    }\n\n    updateValue(key: number): void {\n        super.updateValue(key);\n        this.value = this.formatService.formatMemorySize(key);\n    }\n}","import {Pipe, ChangeDetectorRef} from \"@angular/core\";\nimport {AbstractIntlPipe, IntlService} from \"@sinequa/core/intl\";\nimport moment from \"moment\";\n\nexport interface MomentParams {\n    format?: string;\n    type?: \"fromNow\" | \"from\" | \"toNow\" | \"to\" | \"calendar\" | \"diff\" | \"valueOf\" | \"unix\" | \"daysInMonth\" | \"iso\";\n    suffix?: boolean; // from | fromNow | to| toNow (default: true)\n    reference?: moment.MomentInput; // from| to | calendar | diff\n    unit?: moment.unitOfTime.Diff; // diff\n    precise?: boolean; // diff\n}\n\n@Pipe({name: \"sqMoment\", pure: false})\nexport class MomentPipe extends AbstractIntlPipe {\n    constructor(\n        intlService: IntlService,\n        changeDetectorRef: ChangeDetectorRef) {\n        super(intlService, changeDetectorRef);\n    }\n\n    updateValue(key:moment.MomentInput, params: MomentParams = {}): void {\n        super.updateValue(key, params);\n        const m = moment(key);\n        if (params.format) {\n            this.value = m.format(params.format);\n        }\n        else {\n            switch (params.type) {\n                case \"fromNow\":\n                    this.value = m.fromNow(params.suffix);\n                    break;\n                case \"from\":\n                    this.value = m.from(params.reference, params.suffix);\n                    break;\n                case \"toNow\":\n                    this.value = m.toNow(params.suffix);\n                    break;\n                case \"to\":\n                    this.value = m.to(params.reference, params.suffix);\n                    break;\n                case \"calendar\":\n                    this.value = m.calendar(params.reference);\n                    break;\n                case \"diff\":\n                    this.value = \"\" + m.diff(params.reference, params.unit, params.precise);\n                    break;\n                case \"valueOf\":\n                    this.value = \"\" + m.valueOf();\n                    break;\n                case \"unix\":\n                    this.value = \"\" + m.unix();\n                    break;\n                case \"daysInMonth\":\n                    this.value = \"\" + m.daysInMonth();\n                    break;\n                case \"iso\":\n                    this.value = m.toISOString();\n                    break;\n            }\n        }\n    }\n}","import {Pipe, ChangeDetectorRef} from \"@angular/core\";\nimport {AbstractIntlPipe, IntlService} from \"@sinequa/core/intl\";\n\n@Pipe({name: \"sqNumber\", pure: false})\nexport class NumberPipe extends AbstractIntlPipe {\n    constructor(\n        intlService: IntlService,\n        changeDetectorRef: ChangeDetectorRef) {\n        super(intlService, changeDetectorRef);\n    }\n\n    updateValue(key: number | string, params: Intl.NumberFormatOptions): void {\n        super.updateValue(key, params);\n        this.value = typeof key === \"number\" ? this.intlService.formatNumber(key, params) : key;\n    }\n}","import {Pipe, ChangeDetectorRef} from \"@angular/core\";\nimport {AbstractIntlPipe, IntlService} from \"@sinequa/core/intl\";\n\n@Pipe({name: \"sqRelativeTime\", pure: false})\nexport class RelativeTimePipe extends AbstractIntlPipe {\n    constructor(\n        intlService: IntlService,\n        changeDetectorRef: ChangeDetectorRef) {\n        super(intlService, changeDetectorRef);\n    }\n\n    updateValue(key: string |number | Date | undefined, params: {unit: Intl.RelativeTimeUnit} & Intl.RelativeTimeFormatOptions & { format?: string }): void {\n        super.updateValue(key, params);\n        this.value = this.intlService.formatRelativeTime(key, params ? params.unit : undefined, params);\n    }\n}","import {Pipe, ChangeDetectorRef} from \"@angular/core\";\nimport {AbstractIntlPipe, IntlService} from \"@sinequa/core/intl\";\n\n@Pipe({name: \"sqTime\", pure: false})\nexport class TimePipe extends AbstractIntlPipe {\n    constructor(\n        intlService: IntlService,\n        changeDetectorRef: ChangeDetectorRef) {\n        super(intlService, changeDetectorRef);\n    }\n\n    updateValue(key: number | Date, params: Intl.DateTimeFormatOptions): void {\n        super.updateValue(key, params);\n        this.value = this.intlService.formatTime(key, params);\n    }\n}","import {Pipe, ChangeDetectorRef} from \"@angular/core\";\nimport {AbstractIntlPipe, IntlService} from \"@sinequa/core/intl\";\nimport {FormatService, ValueItem} from \"@sinequa/core/app-utils\";\nimport {CCColumn} from \"@sinequa/core/web-services\";\nimport {Utils, FieldValue} from \"@sinequa/core/base\";\n\n@Pipe({name: \"sqValue\", pure: false})\nexport class ValuePipe extends AbstractIntlPipe {\n    constructor(\n        protected formatService: FormatService,\n        intlService: IntlService,\n        changeDetectorRef: ChangeDetectorRef) {\n        super(intlService, changeDetectorRef);\n    }\n\n    updateValue(key: ValueItem | FieldValue, params: CCColumn): void {\n        super.updateValue(key, params);\n        this.value = this.formatService.formatFieldValue(key, params);\n        this.value = Utils.replace(this.value, /;/g, \"$&\\u200B\");\n    }\n}","import {NgModule} from \"@angular/core\";\nimport {CommonModule} from \"@angular/common\";\nimport {A11yModule} from \"@angular/cdk/a11y\";\n\nimport {IntlModule} from \"@sinequa/core/intl\";\n\n// Formatting pipes\nimport {DatePipe} from \"./pipes/date-pipe\";\nimport {ExprPipe} from \"./pipes/expr-pipe\";\nimport {MemorySizePipe} from \"./pipes/memory-size-pipe\";\nimport {MomentPipe} from \"./pipes/moment-pipe\";\nimport {NumberPipe} from \"./pipes/number-pipe\";\nimport {RelativeTimePipe} from \"./pipes/relative-time-pipe\";\nimport {TimePipe} from \"./pipes/time-pipe\";\nimport {ValuePipe} from \"./pipes/value-pipe\";\n\n// UI Directives\nimport {Autofocus} from \"./directives/autofocus\";\nimport {ClickOutside} from \"./directives/click-outside\";\nimport {MediaIf} from \"./directives/media-if\";\nimport {ScrollIntoView} from \"./directives/scroll-into-view\";\nimport {FocusKeyListDirective} from \"./directives/focus-key-list.directive\";\nimport {FocusKeyListItemDirective} from \"./directives/focus-key-list-item.directive\";\nimport {ResizeEventDirective} from \"./directives/resize-event.directive\";\nimport {StickyComponent} from \"./directives/sticky\";\nimport {TooltipComponent} from \"./directives/tooltip/tooltip.component\";\nimport {TooltipDirective} from \"./directives/tooltip/tooltip.directive\";\n\n// UI Service\nimport {SCREEN_SIZE_RULES} from \"./ui.service\";\n\nexport const defaultScreenSizeRules = {\n    xxl: \"(min-width: 1920px)\",\n    xl: \"(min-width: 1200px) and (max-width: 1919.98px)\",\n    lg: \"(min-width: 992px) and (max-width: 1199.98px)\",\n    md: \"(min-width: 768px) and (max-width: 991.98px)\",\n    sm: \"(min-width: 576px) and (max-width: 767.98px)\",\n    xs: \"(max-width: 575.98px)\",\n};\n\n@NgModule({\n    imports: [\n        CommonModule,\n        A11yModule,\n        IntlModule\n    ],\n    declarations: [\n        DatePipe, ExprPipe, MemorySizePipe, MomentPipe, NumberPipe, RelativeTimePipe, TimePipe, ValuePipe,\n        Autofocus, ClickOutside, MediaIf, ScrollIntoView, FocusKeyListDirective, FocusKeyListItemDirective, \n        ResizeEventDirective, StickyComponent, TooltipComponent, TooltipDirective\n    ],\n    exports: [\n        DatePipe, ExprPipe, MemorySizePipe, MomentPipe, NumberPipe, RelativeTimePipe, TimePipe, ValuePipe,\n        Autofocus, ClickOutside, MediaIf, ScrollIntoView, FocusKeyListDirective, FocusKeyListItemDirective,\n        ResizeEventDirective, StickyComponent, TooltipComponent, TooltipDirective\n    ],\n    providers: [\n        {\n            provide: SCREEN_SIZE_RULES,\n            useValue: defaultScreenSizeRules\n        }\n    ]\n})\nexport class UtilsModule {\n}\n","import {Injectable, OnDestroy} from \"@angular/core\";\r\nimport {IntlService} from \"@sinequa/core/intl\";\r\nimport {NotificationsService} from \"@sinequa/core/notification\";\r\nimport {Subject} from \"rxjs\";\r\n\r\n// eslint-disable-next-line no-var\r\ndeclare var webkitSpeechRecognition: any;\r\n\r\n@Injectable({\r\n  providedIn: \"root\"\r\n})\r\nexport class VoiceRecognitionService implements OnDestroy {\r\n  recognition;\r\n  recognizing = false;\r\n  ignore_onend = false;\r\n  start_timestamp;\r\n\r\n  text = new Subject<string>();\r\n  started = new Subject<boolean>();\r\n  available = false;\r\n\r\n  constructor(\r\n    private intlService: IntlService,\r\n    private notify: NotificationsService\r\n  ) {}\r\n\r\n  init() {\r\n    this.intlService.events.subscribe(() => {\r\n      this.recognition.lang = this.intlService.currentLocale.data?.intl.locale;\r\n    }\r\n    );\r\n\r\n    try {\r\n      this.recognition = new webkitSpeechRecognition();\r\n      this.recognition.continuous = false;\r\n      this.recognition.interimResults = true;\r\n      this.recognition.lang = this.intlService.currentLocale.data?.intl.locale;\r\n\r\n      this.recognition.addEventListener(\"error\", this.onError);\r\n      this.recognition.addEventListener(\"result\", this.onResult);\r\n      this.recognition.addEventListener(\"start\", this.onStart);\r\n      this.recognition.addEventListener(\"end\", this.onEnd);\r\n      this.available = true;\r\n    } catch (error) {\r\n      this.available = false;\r\n    }\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.recognition.removeEventListener(\"error\", this.onError);\r\n    this.recognition.removeEventListener(\"result\", this.onResult);\r\n    this.recognition.removeEventListener(\"start\", this.onStart);\r\n    this.recognition.removeEventListener(\"end\", this.onEnd);\r\n  }\r\n\r\n  start() {\r\n    if (this.recognizing) {\r\n      this.stop();\r\n      return;\r\n    }\r\n\r\n    this.text.next(\"\");\r\n    this.started.next(true);\r\n    this.recognition.start();\r\n  }\r\n\r\n  stop() {\r\n    this.recognition.stop();\r\n    this.started.next(false);\r\n  }\r\n\r\n  toggleRecognition() {\r\n    if (this.recognizing) {\r\n      this.stop();\r\n    } else {\r\n      this.start();\r\n    }\r\n  }\r\n\r\n  private onResult = e => {\r\n    const transcript = Array.from(e.results)\r\n      .map((result: any) => result[0])\r\n      .map(result => result.transcript)\r\n      .join(\"\");\r\n\r\n    this.text.next(transcript);\r\n  };\r\n\r\n  private onStart = event => {\r\n    this.recognizing = true;\r\n    this.start_timestamp = event.timeStamp;\r\n  };\r\n\r\n  private onEnd = () => {\r\n    if (this.ignore_onend) {\r\n      return;\r\n    }\r\n    this.recognizing = false;\r\n    this.started.next(false);\r\n  };\r\n\r\n  private onError = event => {\r\n    let message: string = event.error;\r\n    switch (event.error) {\r\n      case \"no-speech\": {\r\n        message = \"No speech was detected.\";\r\n        break;\r\n      }\r\n      case \"audio-capture\": {\r\n        message = \"Audio capture failed.\";\r\n        break;\r\n      }\r\n      case \"not-allowed\": {\r\n        if (event.timeStamp - this.start_timestamp < 100) {\r\n          message = \"info_blocked\";\r\n        } else {\r\n          message = \"The user agent is not allowing any speech input to occur for reasons of security, privacy or user preference.\";\r\n        }\r\n        break;\r\n      }\r\n      case \"aborted\": {\r\n        message = \"Speech input was aborted somehow, maybe by some user-agent-specific behavior such as UI that lets the user cancel speech input.\"\r\n        break;\r\n      };\r\n      case \"network\": {\r\n        message = \"Some network communication that was required to complete the recognition failed.\";\r\n        break;\r\n      }\r\n      case \"service-not-allowed\": {\r\n        message = \"The user agent is not allowing the web application requested speech service, but would allow some speech service, to be used either because the user agent doesn’t support the selected one or because of reasons of security, privacy or user preference.\";\r\n        break;\r\n      }\r\n      case \"bad-grammar\": {\r\n        message = \"There was an error in the speech recognition grammar or semantic tags, or the grammar format or semantic tag format is unsupported.\";\r\n        break;\r\n      }\r\n      case \"language-not-supported\": {\r\n        message = `The language [${this.recognition.lang}] was not supported.`;\r\n        this.recognition.lang = \"en-US\";\r\n        break;\r\n      }\r\n    }\r\n    this.notify.warning(message);\r\n    this.ignore_onend = true;\r\n    this.started.next(false);\r\n  };\r\n}\r\n\r\nexport module VoiceRecognitionService {}","export default {\r\n    \"clipboard\": {\r\n        \"success\": \"{data} copied to the clipboard\",\r\n        \"error\": \"Clipboard error\"\r\n    }\r\n};\r\n","export default {\r\n    \"clipboard\": {\r\n        \"success\": \"{data} copié dans le presse-papiers\",\r\n        \"error\": \"Erreur du presse-papiers\"\r\n    }\r\n};\r\n","export default {\r\n    \"clipboard\": {\r\n        \"success\": \"{data} in die Zwischenablage kopiert\",\r\n        \"error\": \"Zwischenablagefehler\"\r\n    }\r\n};\r\n","import {Utils} from \"@sinequa/core/base\";\r\nimport _enUtils from \"./en\";\r\nimport _frUtils from \"./fr\";\r\nimport _deUtils from \"./de\";\r\n\r\nconst enUtils = Utils.merge({}, _enUtils);\r\nconst frUtils = Utils.merge({}, _frUtils);\r\nconst deUtils = Utils.merge({}, _deUtils);\r\n\r\nexport { enUtils, frUtils, deUtils };\r\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":["i0.ɵɵelement","i0.ɵɵelementStart","i0.ɵɵprojection","i0.ɵɵelementEnd","i0.ɵɵproperty","i0.ɵɵadvance","i0.ɵɵtext","i0.ɵɵtextInterpolate"],"mappings":"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"}