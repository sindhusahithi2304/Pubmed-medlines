import { Injectable, Inject } from "@angular/core";
import { throwError } from "rxjs";
import { HttpService } from "./http.service";
import { START_CONFIG } from "./start-config.web.service";
import { Utils } from "@sinequa/core/base";
import * as i0 from "@angular/core";
import * as i1 from "./http-client";
/**
 * Used to inform whether a query is being executed using original or corrected search terms
 */
export var DidYouMeanKind;
(function (DidYouMeanKind) {
    DidYouMeanKind[DidYouMeanKind["Original"] = 0] = "Original";
    DidYouMeanKind[DidYouMeanKind["Corrected"] = 1] = "Corrected";
})(DidYouMeanKind || (DidYouMeanKind = {}));
/**
 * Display kinds for RFM
 */
export var RFMDisplay;
(function (RFMDisplay) {
    // Must be in par with C# RFMDisplay enum (RFM.cs)
    RFMDisplay[RFMDisplay["none"] = 0] = "none";
    RFMDisplay[RFMDisplay["positiveRate"] = 1] = "positiveRate";
    RFMDisplay[RFMDisplay["mainlyPosRate"] = 2] = "mainlyPosRate";
    RFMDisplay[RFMDisplay["unrate"] = 4] = "unrate";
    RFMDisplay[RFMDisplay["mainlyNegRate"] = 8] = "mainlyNegRate";
    RFMDisplay[RFMDisplay["negativeRate"] = 16] = "negativeRate";
    RFMDisplay[RFMDisplay["all"] = 31] = "all";
    RFMDisplay[RFMDisplay["positiveOnly"] = 7] = "positiveOnly";
    RFMDisplay[RFMDisplay["negativeOnly"] = 28] = "negativeOnly";
    RFMDisplay[RFMDisplay["personalAll"] = 21] = "personalAll";
    RFMDisplay[RFMDisplay["personalPosOnly"] = 5] = "personalPosOnly";
    RFMDisplay[RFMDisplay["personalNegOnly"] = 20] = "personalNegOnly";
})(RFMDisplay || (RFMDisplay = {}));
/**
 * A service to call the query web service
 */
export class QueryWebService extends HttpService {
    constructor(startConfig, httpClient) {
        super(startConfig);
        this.httpClient = httpClient;
        this.endPoint = "query";
    }
    /**
     * Get the results for the passed query
     *
     * @param query The query to execute
     * @param auditEvents Any audit events to store on the server
     * @param queryIntentData Any accompanying query intent data
     */
    getResults(query, auditEvents, queryIntentData) {
        if (!query) {
            return throwError({ error: "no query" });
        }
        const observable = this.httpClient.post(this.makeUrl(this.endPoint), {
            app: this.appName,
            query,
            $auditRecord: auditEvents,
            queryIntentData
        });
        Utils.subscribe(observable, (response) => {
            console.log("queryService.getResults success - data: ", response);
            return response;
        }, (error) => {
            console.log("queryService.getResults failure - error: ", error);
        });
        return observable;
    }
    /**
     * Get the results for a set of queries
     *
     * @param queries The queries to execute
     * @param auditEvents Any audit events to store on the server
     */
    getMultipleResults(queries, auditEvents) {
        if (!queries || queries.length === 0) {
            return throwError({ error: "no queries" });
        }
        const data = {
            methods: [],
            propagateErrors: true,
            $auditRecord: auditEvents
        };
        for (const query of queries) {
            data.methods.push({
                method: this.endPoint,
                app: this.appName,
                query
            });
        }
        return this.httpClient.post(this.makeUrl("multi"), data);
    }
}
QueryWebService.ɵfac = function QueryWebService_Factory(t) { return new (t || QueryWebService)(i0.ɵɵinject(START_CONFIG), i0.ɵɵinject(i1.SqHttpClient)); };
QueryWebService.ɵprov = i0.ɵɵdefineInjectable({ token: QueryWebService, factory: QueryWebService.ɵfac, providedIn: "root" });
/*@__PURE__*/ (function () { i0.ɵsetClassMetadata(QueryWebService, [{
        type: Injectable,
        args: [{
                providedIn: "root"
            }]
    }], function () { return [{ type: undefined, decorators: [{
                type: Inject,
                args: [START_CONFIG]
            }] }, { type: i1.SqHttpClient }]; }, null); })();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicXVlcnkud2ViLnNlcnZpY2UuanMiLCJzb3VyY2VSb290IjoiLi4vLi4vLi4vLi4vcHJvamVjdHMvY29yZS93ZWItc2VydmljZXMvIiwic291cmNlcyI6WyJxdWVyeS53ZWIuc2VydmljZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUMsVUFBVSxFQUFFLE1BQU0sRUFBQyxNQUFNLGVBQWUsQ0FBQztBQUNqRCxPQUFPLEVBQWEsVUFBVSxFQUFDLE1BQU0sTUFBTSxDQUFDO0FBRTVDLE9BQU8sRUFBQyxXQUFXLEVBQUMsTUFBTSxnQkFBZ0IsQ0FBQztBQUMzQyxPQUFPLEVBQUMsWUFBWSxFQUFjLE1BQU0sNEJBQTRCLENBQUM7QUFDckUsT0FBTyxFQUFDLEtBQUssRUFBYSxNQUFNLG9CQUFvQixDQUFDOzs7QUEwSnJEOztHQUVHO0FBQ0gsTUFBTSxDQUFOLElBQVksY0FHWDtBQUhELFdBQVksY0FBYztJQUN0QiwyREFBUSxDQUFBO0lBQ1IsNkRBQVMsQ0FBQTtBQUNiLENBQUMsRUFIVyxjQUFjLEtBQWQsY0FBYyxRQUd6QjtBQW9SRDs7R0FFRztBQUNILE1BQU0sQ0FBTixJQUFZLFVBaUJYO0FBakJELFdBQVksVUFBVTtJQUNsQixrREFBa0Q7SUFDbEQsMkNBQWlCLENBQUE7SUFFakIsMkRBQWlCLENBQUE7SUFDakIsNkRBQWlCLENBQUE7SUFDakIsK0NBQWlCLENBQUE7SUFDakIsNkRBQWlCLENBQUE7SUFDakIsNERBQWtCLENBQUE7SUFFbEIsMENBQWlCLENBQUE7SUFDakIsMkRBQWdCLENBQUE7SUFDaEIsNERBQWlCLENBQUE7SUFFakIsMERBQWdCLENBQUE7SUFDaEIsaUVBQW1CLENBQUE7SUFDbkIsa0VBQW9CLENBQUE7QUFDeEIsQ0FBQyxFQWpCVyxVQUFVLEtBQVYsVUFBVSxRQWlCckI7QUF3T0Q7O0dBRUc7QUFJSCxNQUFNLE9BQU8sZUFBZ0IsU0FBUSxXQUFXO0lBQzVDLFlBQzBCLFdBQXdCLEVBQ3ZDLFVBQXdCO1FBQy9CLEtBQUssQ0FBQyxXQUFXLENBQUMsQ0FBQztRQURaLGVBQVUsR0FBVixVQUFVLENBQWM7UUFJekIsYUFBUSxHQUFHLE9BQU8sQ0FBQztJQUY3QixDQUFDO0lBSUQ7Ozs7OztPQU1HO0lBQ0ksVUFBVSxDQUFDLEtBQWEsRUFBRSxXQUF5QixFQUFFLGVBQWlDO1FBQ3pGLElBQUksQ0FBQyxLQUFLLEVBQUU7WUFDUixPQUFPLFVBQVUsQ0FBQyxFQUFFLEtBQUssRUFBRSxVQUFVLEVBQUUsQ0FBQyxDQUFDO1NBQzVDO1FBQ0QsTUFBTSxVQUFVLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQVUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEVBQUU7WUFDMUUsR0FBRyxFQUFFLElBQUksQ0FBQyxPQUFPO1lBQ2pCLEtBQUs7WUFDTCxZQUFZLEVBQUUsV0FBVztZQUN6QixlQUFlO1NBQ2xCLENBQUMsQ0FBQztRQUNILEtBQUssQ0FBQyxTQUFTLENBQUMsVUFBVSxFQUN0QixDQUFDLFFBQVEsRUFBRSxFQUFFO1lBQ1QsT0FBTyxDQUFDLEdBQUcsQ0FBQywwQ0FBMEMsRUFBRSxRQUFRLENBQUMsQ0FBQztZQUNsRSxPQUFPLFFBQVEsQ0FBQztRQUNwQixDQUFDLEVBQ0QsQ0FBQyxLQUFLLEVBQUUsRUFBRTtZQUNOLE9BQU8sQ0FBQyxHQUFHLENBQUMsMkNBQTJDLEVBQUUsS0FBSyxDQUFDLENBQUM7UUFDcEUsQ0FBQyxDQUFDLENBQUM7UUFDUCxPQUFPLFVBQVUsQ0FBQztJQUN0QixDQUFDO0lBRUQ7Ozs7O09BS0c7SUFDSSxrQkFBa0IsQ0FBQyxPQUFpQixFQUFFLFdBQXlCO1FBQ2xFLElBQUksQ0FBQyxPQUFPLElBQUksT0FBTyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7WUFDbEMsT0FBTyxVQUFVLENBQUMsRUFBRSxLQUFLLEVBQUUsWUFBWSxFQUFFLENBQUMsQ0FBQztTQUM5QztRQUNELE1BQU0sSUFBSSxHQVFOO1lBQ0EsT0FBTyxFQUFFLEVBQUU7WUFDWCxlQUFlLEVBQUUsSUFBSTtZQUNyQixZQUFZLEVBQUUsV0FBVztTQUM1QixDQUFDO1FBQ0YsS0FBSyxNQUFNLEtBQUssSUFBSSxPQUFPLEVBQUU7WUFDekIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUM7Z0JBQ2QsTUFBTSxFQUFFLElBQUksQ0FBQyxRQUFRO2dCQUNyQixHQUFHLEVBQUUsSUFBSSxDQUFDLE9BQU87Z0JBQ2pCLEtBQUs7YUFDUixDQUFDLENBQUM7U0FDTjtRQUNELE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQWtCLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7SUFDOUUsQ0FBQzs7OEVBcEVRLGVBQWUsY0FFWixZQUFZO3VEQUZmLGVBQWUsV0FBZixlQUFlLG1CQUZaLE1BQU07a0RBRVQsZUFBZTtjQUgzQixVQUFVO2VBQUM7Z0JBQ1IsVUFBVSxFQUFFLE1BQU07YUFDckI7O3NCQUdRLE1BQU07dUJBQUMsWUFBWSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7SW5qZWN0YWJsZSwgSW5qZWN0fSBmcm9tIFwiQGFuZ3VsYXIvY29yZVwiO1xuaW1wb3J0IHtPYnNlcnZhYmxlLCB0aHJvd0Vycm9yfSBmcm9tIFwicnhqc1wiO1xuaW1wb3J0IHtTcUh0dHBDbGllbnR9IGZyb20gXCIuL2h0dHAtY2xpZW50XCI7XG5pbXBvcnQge0h0dHBTZXJ2aWNlfSBmcm9tIFwiLi9odHRwLnNlcnZpY2VcIjtcbmltcG9ydCB7U1RBUlRfQ09ORklHLCBTdGFydENvbmZpZ30gZnJvbSBcIi4vc3RhcnQtY29uZmlnLndlYi5zZXJ2aWNlXCI7XG5pbXBvcnQge1V0aWxzLCBGaWVsZFZhbHVlfSBmcm9tIFwiQHNpbmVxdWEvY29yZS9iYXNlXCI7XG5pbXBvcnQge0lRdWVyeX0gZnJvbSBcIi4vcXVlcnkvcXVlcnlcIjtcbmltcG9ydCB7QXVkaXRFdmVudHN9IGZyb20gXCIuL2F1ZGl0LndlYi5zZXJ2aWNlXCI7XG5pbXBvcnQge0NDQ29sdW1uLCBTcGVsbGluZ0NvcnJlY3Rpb25Nb2RlfSBmcm9tIFwiLi9jb25maWcvY2NhcHBcIjtcblxuLyoqXG4gKiBEZXNjcmliZXMgdGhlIHJlc3VsdHMgb2YgYSBjYWxsIHRvIHRoZSBxdWVyeSB3ZWIgc2VydmljZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFJlc3VsdHMge1xuICAgIC8qKlxuICAgICAqIEEgdW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoaXMgc2V0IG9mIHJlc3VsdHMgLSB0eXBpY2FsbHkgdXNlZCBmb3IgYXVkaXRpbmdcbiAgICAgKi9cbiAgICBpZDogc3RyaW5nO1xuICAgIC8qKlxuICAgICAqIFRoZSBzcWwgcXVlcmllcyB0aGF0IHdlcmUgZXhlY3V0ZWQgb24gdGhlIHNlcnZlciB0byBwcm9kdWNlIHRoZXNlIHJlc3VsdHNcbiAgICAgKi9cbiAgICBzcWw6IHN0cmluZ1tdO1xuICAgIC8qKlxuICAgICAqIFRoZSBwYWdlIG51bWJlciBvZiB0aGVzZSByZXN1bHRzXG4gICAgICovXG4gICAgcGFnZTogbnVtYmVyO1xuICAgIC8qKlxuICAgICAqIFRoZSBwYWdlIHNpemUgb3IgbnVtYmVyIG9mIGRvY3VtZW50IHBlciBwYWdlXG4gICAgICovXG4gICAgcGFnZVNpemU6IG51bWJlcjtcbiAgICAvKipcbiAgICAgKiBUaGUgbnVtYmVyIG9mIGRvY3VtZW50IHJlc3VsdHMgZm9yIHRoZSBxdWVyeS5cbiAgICAgKi9cbiAgICByb3dDb3VudDogbnVtYmVyO1xuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgZG9jdW1lbnQgcmVzdWx0cyBmb3IgdGhlIHF1ZXJ5LiBJZiB0YWIgc2VhcmNoIGlzIGFjdGl2ZSBhbmQgdGhlIGBDQ1RhYlNlYXJjaC50b3RhbElzU3VtT2ZUYWJUb3RhbHNgIG9wdGlvbiBpcyBzZXQgdGhlblxuICAgICAqIHRoZSB0b3RhbCBvZiBjb3VudHMgb2YgYWxsIHRoZSB0YWJzIHdpbGwgYmUgcmV0dXJuZWQuIE90aGVyd2lzZSB0aGlzIHJldHVybnMgdGhlIHNhbWUgdmFsdWUgYXMgYHJvd0NvdW50YC5cbiAgICAgKi9cbiAgICB0b3RhbFJvd0NvdW50OiBudW1iZXI7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbnVtYmVyIG9mIGRvY3VtZW50cyBpbmNsdWRlZCBpbiB0aGVzZSByZXN1bHRzLCBhcyByZXBvcnRlZCBieSB0aGUgZW5naW5lLiBJdCB3aWxsIGhhdmUgdGhlIHNhbWUgdmFsdWUgYXMgYHJlY29yZHMubGVuZ3RoYC5cbiAgICAgKi9cbiAgICBjdXJzb3JSb3dDb3VudDogbnVtYmVyO1xuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgYXR0cmlidXRlcyBpbiB0aGVzZSByZXN1bHRzXG4gICAgICovXG4gICAgYXR0cmlidXRlQ291bnQ6IG51bWJlcjtcbiAgICAvKipcbiAgICAgKiBUaGUgbnVtYmVyIG9mIGNvbHVtbnMgaW4gdGhlc2UgcmVzdWx0c1xuICAgICAqL1xuICAgIGNvbHVtbkNvdW50OiBudW1iZXI7XG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgY3VycmVudGx5IHNlbGVjdGVkIHRhYi4gU2VlIHtAbGluayBDQ1RhYn1cbiAgICAgKi9cbiAgICB0YWI6IHN0cmluZztcbiAgICAvKipcbiAgICAgKiBJbmZvcm1hdGlvbiBvbiB0aGUgdGFicyBmb3IgdGhlc2UgcmVzdWx0cy4gU2VlIHtAbGluayBDQ1RhYlNlYXJjaH1cbiAgICAgKi9cbiAgICB0YWJzOiBUYWJbXTtcbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgY3VycmVudGx5IHNlbGVjdGVkIHNjb3BlLiBTZWUge0BsaW5rIENDU2NvcGV9XG4gICAgICovXG4gICAgc2NvcGU6IHN0cmluZztcbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgY3VycmVudGx5IHNlbGVjdGVkIHNvcnRpbmcgY2hvaWNlLiBTZWUge0BsaW5rIENDU29ydGluZ0Nob2ljZX1cbiAgICAgKi9cbiAgICBzb3J0OiBzdHJpbmc7XG4gICAgLyoqXG4gICAgICogRGV0YWlscyBvZiB0aGUgXCJkaWQgeW91IG1lYW5cIiBzdGF0ZSBmb3IgdGhlc2UgcmVzdWx0c1xuICAgICAqL1xuICAgIGRpZFlvdU1lYW46IERpZFlvdU1lYW47XG4gICAgLyoqXG4gICAgICogVGhlIGFnZ3JlZ2F0aW9uIHJlc3VsdHNcbiAgICAgKi9cbiAgICBhZ2dyZWdhdGlvbnM6IEFnZ3JlZ2F0aW9uW107XG4gICAgLyoqXG4gICAgICogVGhlIGF0dHJpYnV0ZXMgZm9yIHRoZXNlIHJlc3VsdHNcbiAgICAgKi9cbiAgICBhdHRyaWJ1dGVzOiBBdHRyaWJ1dGVzO1xuICAgIC8qKlxuICAgICAqIEFueSBxdWVyeSBpbnRlbnRzIGFzc29jaWF0ZWQgd2l0aCB0aGVzZSByZXN1bHRzXG4gICAgICovXG4gICAgcXVlcnlJbnRlbnRzOiBRdWVyeUludGVudFtdO1xuICAgIC8qKlxuICAgICAqIEFuIGFuYWx5c2lzIG9mIHRoZSBxdWVyeSBhc3NvY2lhdGVkIHdpdGggdGhlc2UgcmVzdWxsdHNcbiAgICAgKi9cbiAgICBxdWVyeUFuYWx5c2lzOiBRdWVyeUFuYWx5c2lzO1xuICAgIC8qKlxuICAgICAqIFRoZSBkb2N1bWVudCByZWNvcmRzXG4gICAgICovXG4gICAgcmVjb3JkczogUmVjb3JkW107XG4gICAgLyoqXG4gICAgICogQSBoYXNoIG9mIHRoZSBhc3NvY2lhdGVkIHJlc3VsdHMgZm9yIHVzZSB3aXRoIFJGTSAocmVsZXZhbmNlIGZlZWRiYWNrIG1vZGVsKSBmdW5jdGlvbmFsaXR5XG4gICAgICovXG4gICAgcmZtUXVlcnlIYXNoOiBzdHJpbmc7XG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIHtAbGluayBJUXVlcnl9IHRoYXQgcHJvZHVjZWQgdGhlc2UgcmVzdWx0c1xuICAgICAqL1xuICAgIHF1ZXJ5TmFtZTogc3RyaW5nO1xuICAgIC8qKlxuICAgICAqIFNRTCBzdGF0ZW1lbnRzIGV4ZWN1dGVkIGJ5IHRoZSBxdWVyeSB3ZWIgc2VydmljZVxuICAgICAqL1xuICAgIHN0YXRlbWVudHM6IHN0cmluZ1tdO1xufVxuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgcmVzdWx0cyBmb3IgYSBwYXJ0aWN1bGFyIHRhYlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFRhYiB7XG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIHRhYlxuICAgICAqL1xuICAgIG5hbWU6IHN0cmluZztcbiAgICAvKipcbiAgICAgKiBUaGUgZGlzcGxheSB2YWx1ZSBvZiB0aGUgdGFiXG4gICAgICovXG4gICAgZGlzcGxheTogc3RyaW5nO1xuICAgIC8qKlxuICAgICAqIFRoZSB0YWIgdmFsdWVcbiAgICAgKi9cbiAgICB2YWx1ZTogc3RyaW5nO1xuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgZG9jdW1lbnQgcmVjb3JkcyB0aGF0IHdvdWxkIGJlIHJldHVybmVkIGlmIHRoaXMgdGFiIGlzIHNlbGVjdGVkXG4gICAgICovXG4gICAgY291bnQ6IG51bWJlcjtcbn1cblxuLyoqXG4gKiBEZXNjcmliZXMgYSBzaW5nbGUgXCJkaWQgeW91IG1lYW5cIiBpdGVtXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRGlkWW91TWVhbkl0ZW0ge1xuICAgIC8qKlxuICAgICAqIFRoZSBvcmlnaW5hbCBzZWFyY2ggdGVybVxuICAgICAqL1xuICAgIG9yaWdpbmFsOiBzdHJpbmc7XG4gICAgLyoqXG4gICAgICogVGhlIGNvcnJlY3RlZCBzZWFyY2ggdGVybVxuICAgICAqL1xuICAgIGNvcnJlY3RlZDogc3RyaW5nO1xufVxuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgXCJkaWQgeW91IG1lYW5cIiByZXN1bHRzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRGlkWW91TWVhbiB7XG4gICAgLyoqXG4gICAgICogVGhlIHNwZWxsaW5nIGNvcnJlY3Rpb24gbW9kZSB1c2VkIGZvciB0aGVzZSByZXN1bHRzXG4gICAgICovXG4gICAgc3BlbGxpbmdDb3JyZWN0aW9uTW9kZTogU3BlbGxpbmdDb3JyZWN0aW9uTW9kZTtcbiAgICAvKipcbiAgICAgKiBUaGUgYERpZFlvdU1lYW5JdGVtYCBjb3JyZXNwb25kaW5nIHRvIHRoZSBtYWluIGZ1bGx0ZXh0IHRlcm1zXG4gICAgICovXG4gICAgdGV4dDogRGlkWW91TWVhbkl0ZW07XG4gICAgLyoqXG4gICAgICogVGhlIGBEaWRZb3VNZWFuSXRlbWBzIGNvcnJlc3BvbmRpbmcgdG8gYW55IHJlZmluZSBmdWxsdGV4dCB0ZXJtIHNlbGVjdGlvbnNcbiAgICAgKi9cbiAgICByZWZpbmU6IERpZFlvdU1lYW5JdGVtW107XG59XG5cbi8qKlxuICogVXNlZCB0byBpbmZvcm0gd2hldGhlciBhIHF1ZXJ5IGlzIGJlaW5nIGV4ZWN1dGVkIHVzaW5nIG9yaWdpbmFsIG9yIGNvcnJlY3RlZCBzZWFyY2ggdGVybXNcbiAqL1xuZXhwb3J0IGVudW0gRGlkWW91TWVhbktpbmQge1xuICAgIE9yaWdpbmFsLFxuICAgIENvcnJlY3RlZFxufVxuXG4vKipcbiAqIFZhcmlvdXMgYXR0cmlidXRlcyB0aGF0IGFyZSByZXR1cm5lZCB3aXRoIGEgc2V0IG9mIHNlYXJjaCByZXN1bHRzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgIEF0dHJpYnV0ZXMge1xuICAgIHF1ZXJ5aWQ6IHN0cmluZztcbiAgICBzZWFyY2hpZDogc3RyaW5nO1xuICAgIHByb2Nlc3Npbmd0aW1lOiBzdHJpbmc7XG4gICAgcm93ZmV0Y2h0aW1lOiBzdHJpbmc7XG4gICAgY2FjaGVoaXQ6IHN0cmluZztcbiAgICBtYXRjaGluZ3Jvd2NvdW50OiBzdHJpbmc7XG4gICAgaW50ZXJuYWxxdWVyeWFuYWx5c2lzOiBzdHJpbmc7XG4gICAgaW50ZXJuYWxxdWVyeWxvZzogc3RyaW5nO1xufVxuXG4vKipcbiAqIERlc2NyaWJlcyBhIHNpbmdsZSBxdWVyeSBpbnRlbnQgaXRlbVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFF1ZXJ5SW50ZW50IHtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgY29tcG9uZW50OiBzdHJpbmc7XG4gICAgZW50aXRpZXM6IFF1ZXJ5SW50ZW50RW50aXR5W107XG4gICAgd29yZHM6IFF1ZXJ5SW50ZW50V29yZFtdO1xuICAgIGFjdGlvbnM6IFF1ZXJ5SW50ZW50QWN0aW9uW107XG4gICAgZGF0YXNldHM6IFF1ZXJ5SW50ZW50RGF0YXNldHM7XG59XG5cbi8qKlxuICogRGVzY3JpYmVzIGEgcXVlcnkgaW50ZW50IGVudGl0eVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFF1ZXJ5SW50ZW50RW50aXR5IHtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgdmFsdWU6IHN0cmluZztcbiAgICBtYXRjaGVkOiBib29sZWFuO1xufVxuXG4vKipcbiAqIERlc2NyaWJlcyBhIHF1ZXJ5IGludGVudCB3b3JkXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUXVlcnlJbnRlbnRXb3JkIHtcbiAgICB3b3JkOiBzdHJpbmc7XG4gICAgdmFsdWU6IHN0cmluZztcbiAgICBtYXRjaGVkOiBib29sZWFuO1xufVxuXG4vKipcbiAqIERlc2NyaWJlcyBhIHF1ZXJ5IGludGVudCBhY3Rpb25cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBRdWVyeUludGVudEFjdGlvbiB7XG4gICAgdHlwZTogc3RyaW5nO1xuICAgIGRhdGE6IHN0cmluZztcbn1cblxuLyoqXG4gKiBEZXNjcmliZXMgYSBzZXQgb2YgcXVlcnkgaW50ZW50IGRhdGFzZXRzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUXVlcnlJbnRlbnREYXRhc2V0cyB7XG4gICAgW25hbWU6IHN0cmluZ10gOiB7XG4gICAgICAgIGF0dHJpYnV0ZXMgOiBbYW55XSxcbiAgICAgICAgcm93cyA6IFthbnldXG4gICAgfTtcbn1cblxuLyoqXG4gKiBEZXNjcmliZXMgYW4gYW5hbHlzaXMgb2YgYSBxdWVyeVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFF1ZXJ5QW5hbHlzaXMge1xuICAgIHRleHQ6IHN0cmluZztcbiAgICBpbml0aWFsOiBib29sZWFuO1xuICAgIHF1ZXJ5TGFuZ3VhZ2U6IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgICBlbGVtZW50czogUXVlcnlBbmFseXNpc0VsZW1lbnRbXTtcbn1cblxuLyoqXG4gKiBEZXNjcmliZXMgYW4gZWxlbWVudCBvZiBxdWVyeSBhbmFseXNpc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIFF1ZXJ5QW5hbHlzaXNFbGVtZW50IHtcbiAgICB0ZXh0OiBzdHJpbmc7XG4gICAgZW50aXR5OiBzdHJpbmc7XG4gICAgd2VpZ2h0OiBudW1iZXI7XG4gICAgbGVuZ3RoOiBudW1iZXI7XG4gICAgb2Zmc2V0OiBudW1iZXI7XG4gICAgc3RvcHdvcmQ6IGJvb2xlYW47XG4gICAgcm9vdDogc3RyaW5nO1xuICAgIG5vcm1hbGl6YXRpb246IHN0cmluZztcbiAgICBsZW1tYXM6IHt0ZXh0OiBzdHJpbmd9W107XG4gICAgZW50aXRpZXM6IFF1ZXJ5QW5hbHlzaXNFbGVtZW50W107XG4gICAgc3lub255bXM6IFF1ZXJ5QW5hbHlzaXNFbGVtZW50W107XG4gICAgcmVmb3JtdWxhdGlvbnM6IFF1ZXJ5QW5hbHlzaXNFbGVtZW50W107XG4gICAgdHlwb3M6IFF1ZXJ5QW5hbHlzaXNFbGVtZW50W107XG4gICAgZXhwcmVzc2lvbjogUXVlcnlBbmFseXNpc0VsZW1lbnRbXTtcbiAgICBhZGphY2VuY3k6IFF1ZXJ5QW5hbHlzaXNFbGVtZW50W107XG4gICAgZXhhY3Q6IFF1ZXJ5QW5hbHlzaXNFbGVtZW50W107XG59XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBtYXRjaCBsb2NhdGlvbiBpbmZvcm1hdGlvbiBmb3IgYSBwYXJ0aWN1bGFyIHBhcnRuYW1lXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUGFydG5hbWVNYXRjaExvY2F0aW9ucyB7XG4gICAgcGFydG5hbWU6IHN0cmluZztcbiAgICBkYXRhOiBzdHJpbmc7XG59XG5cbi8qKlxuICogRGVzY3JpYmVzIGEgc2V0IG9mIHBhcnRuYW1lIG1hdGNoIGxvY2F0aW9uc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIE1hdGNoTG9jYXRpb25zUGVyUGFydG5hbWUge1xuICAgIG1hdGNobG9jYXRpb25zOiBQYXJ0bmFtZU1hdGNoTG9jYXRpb25zW107XG59XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBsb2NhdGlvbnMgb2YgcmVsZXZhbnQgZXh0cmFjdHMgZm9yIGEgcGFydG5hbWVcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBQYXJ0bmFtZUV4dHJhY3RzIHtcbiAgICBwYXJ0bmFtZTogc3RyaW5nO1xuICAgIGRhdGE6IHN0cmluZztcbn1cblxuLyoqXG4gKiBEZXNjcmliZXMgYSBzZXQgb2YgcGFydG5hbWUgcmVsZXZhbnQgZXh0cmFjdHMgbG9jYXRpb25zXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgRXh0cmFjdHNQZXJQYXJ0bmFtZSB7XG4gICAgaGlnaGxpZ2h0OiBQYXJ0bmFtZUV4dHJhY3RzW107XG59XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSB0ZXJtIHByZXNlbmNlIGZvciBhIHBhcnRpY3VsYXIgc2VhcmNoIHRlcm1cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBUZXJtUHJlc2VuY2Uge1xuICAgIHRlcm06IHN0cmluZztcbiAgICBwcmVzZW5jZTogXCJmb3VuZFwiIHwgXCJtaXNzaW5nXCI7XG59XG5cbi8qKlxuICogRGVzY3JpYmVzIGFuIGFnZ3JlZ2F0aW9uIGl0ZW0uIFRoaXMgc2VydmVzIGFzIGEgYmFzZSBpbnRlcmZhY2UgZm9yIGxpc3QgYWdncmVnYXRpb24gaXRlbXMgYW5kIHRyZWUgYWdncmVnYXRpb24gbm9kZXNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBBZ2dyZWdhdGlvbkl0ZW0ge1xuICAgIC8qKlxuICAgICAqIFRoZSB2YWx1ZSBvZiB0aGUgaXRlbVxuICAgICAqL1xuICAgIHZhbHVlOiBGaWVsZFZhbHVlO1xuICAgIC8qKlxuICAgICAqIFRoZSBkaXNwbGF5IHZhbHVlIG9mIHRoZSBpdGVtLCBpZiBhbnlcbiAgICAgKi9cbiAgICBkaXNwbGF5Pzogc3RyaW5nO1xuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgZG9jdW1lbnRzIHRoYXQgY29udGFpbiB0aGlzIGl0ZW0gaW4gdGhlIGN1cnJlbnQgcmVzdWx0c1xuICAgICAqL1xuICAgIGNvdW50OiBudW1iZXI7XG4gICAgLyoqXG4gICAgICogSWRlbnRpZmllcyBhbnkgb3BlcmF0b3Igd2l0aCB0aGVpciBhc3NvY2lhdGVkIHJlc3VsdHNcbiAgICAgKi9cbiAgICBvcGVyYXRvclJlc3VsdHM/OiB7XG4gICAgICAgIFtrZXkgaW4gXCJtaW5cIiB8IFwibWF4XCIgfCBcInN1bVwiIHwgXCJhdmdcIiB8IFwic3RkZGV2XCIgfCBcInZhcmlhbmNlXCJdOiBudW1iZXIgfCBEYXRlXG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEEgY2xpZW50LXNpZGUgZmllbGQgdGhhdCBpbmRpY2F0ZXMgd2hldGhlciB0aGlzIGl0ZW0gaXMgY3VycnJlbnRseSBzZWxlY3RlZFxuICAgICAqL1xuICAgICRzZWxlY3RlZD86IGJvb2xlYW47XG4gICAgLyoqXG4gICAgICogQSBjbGllbnQtc2lkZSBmaWVsZCB0aGF0IGluZGljYXRlcyB3aGV0aGVyIHRoaXMgaXRlbSBpcyBjdXJyZW50bHkgZXhjbHVkZWRcbiAgICAgKi9cbiAgICAkZXhjbHVkZWQ/OiBib29sZWFuO1xuICAgIC8qKlxuICAgICAqIEEgY2xpZW50LXNpZGUgZmllbGQgdGhhdCBpbmRpY2F0ZXMgd2hldGhlciB0aGlzIGl0ZW0gaXMgY3VycmVudGx5IGZpbHRlcmVkXG4gICAgICovXG4gICAgJGZpbHRlcmVkPzogYm9vbGVhbjtcbiAgICAvKipcbiAgICAgKiBBIGNsaWVudC1zaWRlIGZpZWxkIHRoYXQgaW5kaWNhdGVzIHRoZSBjb2x1bW4gdGhhdCBwcm92aWRlZCB0aGUgdmFsdWUgZm9yIHRoaXMgaXRlbS5cbiAgICAgKiBUaGlzIGNhbiBiZSB1c2VmdWwgd2hlbiBtaXhpbmcgaXRlbXMgZnJvbSBkaWZmZXJlbnQgYWdncmVnYXRpb25zLlxuICAgICAqL1xuICAgICRjb2x1bW4/OiBDQ0NvbHVtbjtcbn1cblxuLyoqXG4gKiBEZXNjcmliZXMgYW55IGZpZWxkcyBwYXJ0aWN1bGFyIHRvIGEgbGlzdCBhZ2dyZWdhdGlvbiBpdGVtXG4gKi9cbmV4cG9ydCB0eXBlIExpc3RBZ2dyZWdhdGlvbkl0ZW0gPSBBZ2dyZWdhdGlvbkl0ZW07XG5cbi8qKlxuICogRGVzY3JpYmVzIGFueSBmaWVsZHMgcGFydGljdWxhciB0byBhIHRyZWUgYWdncmVnYXRpb24gbm9kZVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFRyZWVBZ2dyZWdhdGlvbk5vZGUgZXh0ZW5kcyBBZ2dyZWdhdGlvbkl0ZW0ge1xuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgd2hldGhlciB0aGlzIG5vZGUgaGFzIGFueSBjaGlsZHJlbiBldmVuIGlmIHRoZSBgaXRlbXNgIGZpZWxkIGlzIG5vdCBjdXJyZW50bHkgcG9wdWxhdGVkXG4gICAgICovXG4gICAgaGFzQ2hpbGRyZW46IGJvb2xlYW47XG4gICAgLyoqXG4gICAgICogQ29udGFpbnMgdGhlIGNoaWxkIG5vZGVzIG9mIHRoaXMgbm9kZVxuICAgICAqL1xuICAgIGl0ZW1zOiBUcmVlQWdncmVnYXRpb25Ob2RlW107XG5cbiAgICAvKipcbiAgICAgKiBBIGNsaWVudC1zaWRlIGZpZWxkIHRoYXQgY29udGFpbnMgdGhlIGZ1bGwgcGF0aCBvZiB0aGUgbm9kZVxuICAgICAqL1xuICAgICRwYXRoPzogc3RyaW5nO1xuICAgIC8qKlxuICAgICAqIEEgY2xpZW50LXNpZGUgZmllbGQgdGhhdCBpbmRpY2F0ZXMgd2hldGhlciBhIHBhcmVudCBub2RlIGlzIGN1cnJlbnRseSBvcGVuXG4gICAgICovXG4gICAgJG9wZW5lZD86IGJvb2xlYW47XG4gICAgLyoqXG4gICAgICogVGhlIGxldmVsIGF0IHdoaWNoIHRoaXMgbm9kZSBpcyBpbiB0aGUgVHJlZSBhZ2dyZWdhdGlvblxuICAgICAqL1xuICAgICRsZXZlbDogbnVtYmVyO1xufVxuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgcmVzdWx0cyBvZiBhbiBhZ2dyZWdhdGlvbi4gVGhpcyBzZXJ2ZXMgYXMgYSBiYXNlIGludGVyZmFjZSBmb3IgbGlzdCBhbmQgdHJlZSBhZ2dyZWdhdGlvbnNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBBZ2dyZWdhdGlvbiB7XG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIGFnZ3JlZ2F0aW9uXG4gICAgICovXG4gICAgbmFtZTogc3RyaW5nO1xuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSBpbmRleCBjb2x1bW4gdXNlZCB0byBwcm92aWRlIGFnZ3JlZ2F0aW9uIGl0ZW1zXG4gICAgICovXG4gICAgY29sdW1uOiBzdHJpbmc7XG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHdoZXRoZXIgdGhlIGFnZ3JlZ2F0aW9uIGl0ZW1zIGFyZSBjYWxjdWxhdGVkIHVzaW5nIGEgZGlzdHJidXRpb24gKHNlZSBBcHAgRGVwZW5kZW5jaWVzIGluIHRoZSBTaW5lcXVhIGFkbWluIGludGVyZmFjZSlcbiAgICAgKi9cbiAgICBpc0Rpc3RyaWJ1dGlvbj86IGJvb2xlYW47XG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHdoZXRoZXIgdGhlIGFnZ3JlZ2F0aW9uIGl0ZW1zIHNob3VsZCBiZSBoYW5kbGVkIGFzIHRyZWUgbm9kZXMuIFRoaXMgY2FuIGJlIHNldCB0byBmYWxzZSBmb3IgYSB0cmVlIGFnZ3JlZ2F0aW9uXG4gICAgICogaWYgdGhlIFwiTG9hZCB0cmVlIGFzIGNzdlwiIG9wdGlvbiBpcyBjaGVja2VkIGluIHRoZSBTaW5lcXVhIGNvbmZpZ3VyYXRpb25cbiAgICAgKi9cbiAgICBpc1RyZWU/OiBib29sZWFuO1xuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGV0aGVyIHRoZSB2YWx1ZXMgZm9yIHRoZSBpdGVtcyBhcmUgZmllbGRlZCBzZWFyY2ggZXhwcmVzc2lvbnMuIFRoaXMgaXMgdGhlIGNhc2UgZm9yIGFnZ3JlZ2F0aW9ucyB1c2luZyBhXG4gICAgICogZGlzdHJpYnV0aW9uIChzZWUgYGlzRGlzdHJpYnV0aW9uYCkgYW5kIGNyb3NzZWQgZGlzdHJpYnV0aW9uc1xuICAgICAqL1xuICAgIHZhbHVlc0FyZUV4cHJlc3Npb25zPzogYm9vbGVhbjtcbiAgICAvKipcbiAgICAgKiBUaGUgYWdncmVnYXRpb24gaXRlbXMgZm9yIHRoaXMgYWdncmVnYXRpb25cbiAgICAgKi9cbiAgICBpdGVtcz86IEFnZ3JlZ2F0aW9uSXRlbVtdO1xufVxuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgZmllbGRzIHNwZWNpZmljIHRvIGEgbGlzdCBhZ2dyZWdhdGlvblxuICovXG5leHBvcnQgdHlwZSBMaXN0QWdncmVnYXRpb24gPSBBZ2dyZWdhdGlvbjtcblxuLyoqXG4gKiBEZXNjcmliZXMgdGhlIGZpZWxkcyBzcGVjaWZpYyB0byBhIHRyZWUgYWdncmVnYXRpb25cbiAqL1xuZXhwb3J0IHR5cGUgVHJlZUFnZ3JlZ2F0aW9uID0gQWdncmVnYXRpb247XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBmaWVsZHMgbWFraW5nIHVwIGFuIGVudGl0eSBpbiB0aGUgY29udGV4dCBvZiBhIHBhcnRpY3VsYXIgZG9jdW1lbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBFbnRpdHlJdGVtIHtcbiAgICAvKipcbiAgICAgKiBUaGUgdmFsdWVcbiAgICAgKi9cbiAgICB2YWx1ZTogc3RyaW5nO1xuICAgIC8qKlxuICAgICAqIFRoZSBkaXNwbGF5XG4gICAgICovXG4gICAgZGlzcGxheTogc3RyaW5nO1xuICAgIC8qKlxuICAgICAqIFRoZSBsb2NhdGlvbnMgb2YgdGhpcyBpdGVtIGluIHRoZSBkb2N1bWVudCB0ZXh0IGluIHRoZSBmb3JtIGByb3cxLGNvbDE7cm93Mixjb2wyOy4uLmBcbiAgICAgKi9cbiAgICBsb2NhdGlvbnM/OiBzdHJpbmc7XG4gICAgLyoqXG4gICAgICogVGhlIHJlbWFwcGVkIGxvY2F0aW9ucyBvZiB0aGlzIGl0ZW0gaW4gdGhlIG9yaWdpbmFsIGRvY3VtZW50IGluIHRoZSBmb3JtIGByb3cxLGNvbDE7cm93Mixjb2wyOy4uLmBcbiAgICAgKi9cbiAgICBvcmlnaW5hbExvY2F0aW9ucz86IHN0cmluZztcbiAgICAvKipcbiAgICAgKiBGb2xsb3dpbmcgRVMtMTExNjYsIHRoZSBudW1iZXIgb2Ygb2NjdXJyZW5jZSBvZiB0aGlzIGVudGl0eSBpbiB0aGUgZG9jdW1lbnQgY2FuIGJlIGluY2x1ZGVkXG4gICAgICovXG4gICAgY291bnQ/OiBudW1iZXI7XG59XG5cbi8qKlxuICogRGlzcGxheSBraW5kcyBmb3IgUkZNXG4gKi9cbmV4cG9ydCBlbnVtIFJGTURpc3BsYXkge1xuICAgIC8vIE11c3QgYmUgaW4gcGFyIHdpdGggQyMgUkZNRGlzcGxheSBlbnVtIChSRk0uY3MpXG4gICAgbm9uZSAgICAgICAgICA9IDAsXG5cbiAgICBwb3NpdGl2ZVJhdGUgID0gMSxcbiAgICBtYWlubHlQb3NSYXRlID0gMixcbiAgICB1bnJhdGUgICAgICAgID0gNCxcbiAgICBtYWlubHlOZWdSYXRlID0gOCxcbiAgICBuZWdhdGl2ZVJhdGUgID0gMTYsXG5cbiAgICBhbGwgICAgICAgICAgPSAzMSxcbiAgICBwb3NpdGl2ZU9ubHkgPSA3LFxuICAgIG5lZ2F0aXZlT25seSA9IDI4LFxuXG4gICAgcGVyc29uYWxBbGwgPSAyMSxcbiAgICBwZXJzb25hbFBvc09ubHkgPSA1LFxuICAgIHBlcnNvbmFsTmVnT25seSA9IDIwLFxufVxuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgZmllbGRzIG9mIGFuIFJGTSBhY3Rpb25cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBSRk1BY3Rpb25EaXNwbGF5IHtcbiAgICBldmVudENvdW50OiBudW1iZXI7XG4gICAgYXZlcmFnZTogbnVtYmVyO1xuICAgIHN0YXR1czogUkZNRGlzcGxheTtcbiAgICBpbWFnZTogUkZNRGlzcGxheTtcbiAgICBpbWFnZUFjdGlvbjogUkZNRGlzcGxheTtcbiAgICBhdmFpbGFibGVBY3Rpb25zOiBSRk1EaXNwbGF5O1xufVxuXG4vKipcbiAqIERlc2NyaWJlcyB0aGUgUkZNIGRhdGEgcmV0dXJuZWQgd2l0aCBhIHNldCBvZiByZXN1bHRzXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUkZNRGF0YSB7XG4gICAgY2xpY2s/OiBSRk1BY3Rpb25EaXNwbGF5O1xuICAgIGxpa2U/OiBSRk1BY3Rpb25EaXNwbGF5O1xuICAgIGltcG9ydGFudD86IFJGTUFjdGlvbkRpc3BsYXk7XG59XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBzdGFuZGFyZCBmaWVsZHMgaW4gYSBkb2N1bWVudCByZXN1bHQgcmVjb3JkXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUmVjb3JkIHtcbiAgICAvKipcbiAgICAgKiBUaGUgemVyby1iYXNlZCBwb3NpdGlvbiBvZiB0aGlzIGRvY3VtZW50IGluIHRoZSByZXN1bHRzXG4gICAgICovXG4gICAgcmFuazogbnVtYmVyO1xuICAgIC8qKlxuICAgICAqIFRoZSB1bmlxdWUgaWRlbnRpZmllciBvZiB0aGlzIGRvY3VtZW50XG4gICAgICovXG4gICAgaWQ6IHN0cmluZztcbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgaW5kZXggdGhhdCBjb250YWlucyB0aGlzIGRvY3VtZW50XG4gICAgICovXG4gICAgZGF0YWJhc2VhbGlhczogc3RyaW5nO1xuICAgIC8qKlxuICAgICAqIFRoZSBnbG9iYWwgcmVsZXZhbmNlIG9mIHRoaXMgZG9jdW1lbnQgaW4gdGhlIGNvbnRleHQgb2YgdGhlIHF1ZXJ5XG4gICAgICovXG4gICAgZ2xvYmFscmVsZXZhbmNlOiBudW1iZXI7XG4gICAgLyoqXG4gICAgICogUGFydG5hbWVzIHRoYXQgY29udGFpbiBvbmUgb3IgbW9yZSBvZiB0aGUgc2VhcmNoIHRlcm1zXG4gICAgICovXG4gICAgbWF0Y2hpbmdwYXJ0bmFtZXM6IHN0cmluZ1tdO1xuICAgIC8qKlxuICAgICAqIFRoZSBsb2NhdGlvbnMgb2YgdGhlIHNlYXJjaCB0ZXJtcyBpbiB0aGUgZG9jdW1lbnRcbiAgICAgKi9cbiAgICBtYXRjaGxvY2F0aW9uczogc3RyaW5nW107XG4gICAgLyoqXG4gICAgICogVGhlIGxvY2F0aW9ucyBvZiB0aGUgc2VhcmNoIHRlcm1zIGluIHRoZSBkb2N1bWVudCBncm91cGVkIGJ5IHBhcnRuYW1lXG4gICAgICovXG4gICAgbWF0Y2hsb2NhdGlvbnNwZXJwYXJ0bmFtZTogTWF0Y2hMb2NhdGlvbnNQZXJQYXJ0bmFtZTtcbiAgICAvKipcbiAgICAgKiBUaGUgcmVsZXZhbnQgZXh0cmFjdHMgaW4gdGhlIGRvY3VtZW50IGdyb3VwZWQgYnkgcGFydG5hbWVcbiAgICAgKi9cbiAgICBleHRyYWN0c3BlcnBhcnRuYW1lOiBFeHRyYWN0c1BlclBhcnRuYW1lO1xuICAgIC8qKlxuICAgICAqIFRoZSBsYW5ndWFnZXMgaW4gdGhlIGRvY3VtZW50XG4gICAgICovXG4gICAgZG9jdW1lbnRsYW5ndWFnZXM6IHN0cmluZ1tdO1xuICAgIC8qKlxuICAgICAqIFRoZSBkb2N1bWVudHdlaWdodCB2YWx1ZSBvZiB0aGUgZG9jdW1lbnRcbiAgICAgKi9cbiAgICBkb2N1bWVudHdlaWdodDogc3RyaW5nO1xuICAgIC8qKlxuICAgICAqIFRoZSBtb2RpZmllZCBkYXRlIGFuZCB0aW1lIG9mIHRoZSBkb2N1bWVudFxuICAgICAqL1xuICAgIG1vZGlmaWVkOiBzdHJpbmc7XG4gICAgLyoqXG4gICAgICogVGhlIHRpbWUgYW5kIGRhdGUgd2hlbiB0aGUgZG9jdW1lbnQgd2FzIGluZGV4ZWRcbiAgICAgKi9cbiAgICBpbmRleGF0aW9udGltZTogc3RyaW5nO1xuICAgIC8qKlxuICAgICAqIFRoZSB2ZXJzaW9uIG9mIHRoZSBkb2N1bWVudFxuICAgICAqL1xuICAgIHZlcnNpb246IHN0cmluZztcbiAgICAvKipcbiAgICAgKiBUaGUgdGl0bGUgb2YgdGhlIGRvY3VtZW50XG4gICAgICovXG4gICAgdGl0bGU6IHN0cmluZztcbiAgICAvKipcbiAgICAgKiBUaGUgZGlzcGxheSB0aXRsZSBvZiB0aGUgZG9jdW1lbnQuIFRoaXMgY2FuIGNvbnRhaW4gSFRNTCBoaWdobGlnaHRpbmcgb2YgdGhlIHNlYXJjaCB0ZXJtc1xuICAgICAqL1xuICAgIGRpc3BsYXlUaXRsZTogc3RyaW5nO1xuICAgIC8qKlxuICAgICAqIFRoZSBzaXplIGluIGJ5dGVzIG9mIHRoZSBkb2N1bWVudFxuICAgICAqL1xuICAgIHNpemU6IG51bWJlcjtcbiAgICAvKipcbiAgICAgKiBUaGUgdmFsdWUgb2YgdGhlIHRyZWVwYXRoIG9mIHRoZSBkb2N1bWVudFxuICAgICAqL1xuICAgIHRyZWVwYXRoOiBzdHJpbmdbXTtcbiAgICAvKipcbiAgICAgKiBUaGUgZmlsZW5hbWUgb2YgdGhlIGRvY3VtZW50XG4gICAgICovXG4gICAgZmlsZW5hbWU6IHN0cmluZztcbiAgICAvKipcbiAgICAgKiBUaGUgZmlsZSBleHRlbnNpb24gb2YgdGhlIGRvY3VtZW50XG4gICAgICovXG4gICAgZmlsZWV4dDogc3RyaW5nO1xuICAgIC8qKlxuICAgICAqIFRoZSBkb2N1bWVudCBmbGFnc1xuICAgICAqL1xuICAgIGZsYWdzOiBzdHJpbmdbXTtcbiAgICAvKipcbiAgICAgKiBUaGUgY29sbGVjdGlvbiB0aGF0IHByb2R1Y2VkIHRoZSBkb2N1bWVudCAob25seSBvbmUgZWxlbWVudCB3aWxsIGV4aXN0KVxuICAgICAqL1xuICAgIGNvbGxlY3Rpb246IHN0cmluZ1tdO1xuICAgIC8qKlxuICAgICAqIFRoZSB2YWx1ZSBvZiB0aGUgZG9jZm9ybWF0IGNvbHVtblxuICAgICAqL1xuICAgIGRvY2Zvcm1hdDogc3RyaW5nO1xuICAgIC8qKlxuICAgICAqIFRoZSB2YWx1ZSBvZiB0aGUgZG9jdHlwZSBjb2x1bW5cbiAgICAgKi9cbiAgICBkb2N0eXBlOiBzdHJpbmc7XG4gICAgLyoqXG4gICAgICogVGhlIHZhbHVlIG9mIHRoZSB1cmwxIGNvbHVtblxuICAgICAqL1xuICAgIHVybDE6IHN0cmluZztcbiAgICAvKipcbiAgICAgKiBUaGUgdmFsdWUgb2YgdGhlIHVybDIgY29sdW1uXG4gICAgICovXG4gICAgdXJsMjogc3RyaW5nO1xuICAgIC8qKlxuICAgICAqIFRoZSByZWxldmFudCBleHRyYWN0cyBmcm9tIHRoZSBkb2N1bWVudC4gVGhpcyBjYW4gY29udGFpbiBIVE1MIGhpZ2hsaWdodGluZyBvZiB0aGUgc2VhcmNoIHRlcm1zXG4gICAgICovXG4gICAgcmVsZXZhbnRFeHRyYWN0czogc3RyaW5nO1xuICAgIC8qKlxuICAgICAqIFRoZSB0ZXh0IG9mIHRoZSBkb2N1bWVudFxuICAgICAqL1xuICAgIHRleHQ6IHN0cmluZztcbiAgICAvKipcbiAgICAgKiBUaGUgZG9jdW1lbnQgYXV0aG9yc1xuICAgICAqL1xuICAgIGF1dGhvcnM6IHN0cmluZ1tdO1xuICAgIC8qKlxuICAgICAqIFRoZSBkb2N1bWVudCBhY2Nlc3MgbGlzdHNcbiAgICAgKi9cbiAgICBhY2Nlc3NsaXN0czogRG9jdW1lbnRBY2Nlc3NMaXN0cztcbiAgICAvKipcbiAgICAgKiBUaGUgVVJMIG9mIHRoZSBkb2N1bWVudCdzIHRodW1ibmFpbFxuICAgICAqL1xuICAgIHRodW1ibmFpbFVybDogc3RyaW5nO1xuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGV0aGVyIFJGTSBoYXMgYmVlbiBlbmFibGVkIGZvciB0aGlzIGRvY3VtZW50XG4gICAgICovXG4gICAgcmZtRW5hYmxlZDogYm9vbGVhbjtcbiAgICAvKipcbiAgICAgKiBBbnkgUkZNIGRhdGEgZm9yIHRoaXMgZG9jdW1lbnRcbiAgICAgKi9cbiAgICByZm06IFJGTURhdGE7XG4gICAgLyoqXG4gICAgICogSW5mb3JtYXRpb24gYWJvdXQgdGhlIHNlYXJjaCB0ZXJtcyBhbmQgd2hldGhlciB0aGV5IGV4aXN0IGluIHRoZSBkb2N1bWVudCBvciBub3RcbiAgICAgKi9cbiAgICB0ZXJtc3ByZXNlbmNlOiBUZXJtUHJlc2VuY2VbXTtcbiAgICAvKipcbiAgICAgKiBBIGNsaWVudC1zaWRlIGZpZWxkIHRoYXQgaW5kaWNhdGVzIHdoZXRoZXIgdGhpcyBkb2N1bWVudCBpcyBjdXJycmVudGx5IHNlbGVjdGVkXG4gICAgICovXG4gICAgJHNlbGVjdGVkOiBib29sZWFuO1xuICAgIC8qKlxuICAgICAqIGlkIG9mIHRoZSBjb250YWluZXIgb2YgdGhpcyBkb2N1bWVudCAoZm9yIHNwbGl0dGVkIGRvY3VtZW50cywgYXR0YWNobWVudHMsIGV0Yy4pXG4gICAgICovXG4gICAgY29udGFpbmVyaWQ/OiBzdHJpbmc7XG4gICAgLyoqXG4gICAgICogUGFnZSBudW1iZXIgb2YgdGhpcyBkb2N1bWVudCAoZm9yIHNwbGl0dGVkIGRvY3VtZW50cykuIEFkZGVkIGJ5IHRoZSBmcm9udC1lbmRcbiAgICAgKi9cbiAgICAkcGFnZT86IG51bWJlcjtcbn1cblxuLyoqXG4gKiBEZXNjcmliZXMgdGhlIGF1dGhvcml6ZWQgYW5kIGRlbmllZCBhY2Nlc3MgbGlzdHMgZm9yIGEgZG9jdW1lbnRcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBEb2N1bWVudEFjY2Vzc0xpc3RzIHtcbiAgICBhY2Nlc3NMaXN0SW5kaWNlczogbnVtYmVyW107XG4gICAgYXV0aG9yaXplZExpc3RzOiBBY2Nlc3NMaXN0cztcbiAgICBkZW5pZWRMaXN0czogQWNjZXNzTGlzdHM7XG59XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBhY2Nlc3MgbGlzdHNcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBBY2Nlc3NMaXN0cyB7XG4gICAgLyoqXG4gICAgICogQW4gYXJyYXkgb2YgYEFjY2Vzc0xpc3RQcmluY2lwYWxgIGFycmF5cy4gRWFjaCBpdGVtIGluIHRoZSBvdXRlciBhcnJheSBjb3JyZXNwb25kcyB0byBjb2x1bW4gdmFsdWUgb2YgdGhlIGRvY3VtZW50XG4gICAgICovXG4gICAgW2luZGV4OiBudW1iZXJdOiBBY2Nlc3NMaXN0UHJpbmNpcGFsW107XG59XG5cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBmaWVsZHMgb2YgYSBwcmluY2lwYWwgaXRlbSBpbiBhbiBhY2Nlc3MgbGlzdFxuICovXG5leHBvcnQgaW50ZXJmYWNlIEFjY2Vzc0xpc3RQcmluY2lwYWwge1xuICAgIC8qKlxuICAgICAqIFRoZSBTaW5lcXVhIGRvbWFpbiB0byB3aGljaCB0aGUgcHJpbmNpcGFsIGJlbG9uZ3NcbiAgICAgKi9cbiAgICBkb21haW46IHN0cmluZztcbiAgICAvKipcbiAgICAgKiBUaGUgaWRlbnRpZmllciBvZiB0aGUgcHJpbmNpcGFsXG4gICAgICovXG4gICAgaWQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJTXVsdGk8VD4ge1xuICAgIHJlc3VsdHM6IFRbXTtcbn1cblxuLyoqXG4gKiBEZXNjcmliZXMgaW5mb3JtYXRpb24gdG8gYmUgc2VudCB0byB0aGUgc2VydmVyIHdoZW4gZXhlY3V0aW5nIGEgcXVlcnkgZm9yIHNlcnZlci1zaWRlIHF1ZXJ5IGludGVudCBwcm9jZXNzaW5nXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgUXVlcnlJbnRlbnREYXRhIHtcbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCByZXN1bHRzIHZpZXdcbiAgICAgKi9cbiAgICByZXN1bHRzVmlldz86IHN0cmluZztcbiAgICAvKipcbiAgICAgKiBUaGUgY3VycmVudCB0YWJcbiAgICAgKi9cbiAgICB0YWI/OiBzdHJpbmc7XG4gICAgLyoqXG4gICAgICogUXVlcnkgaW50ZW50c1xuICAgICAqL1xuICAgIHF1ZXJ5SW50ZW50cz86IFF1ZXJ5SW50ZW50W107XG4gICAgLyoqXG4gICAgICogQW5hbHlzaXMgb2YgdGhlIGN1cnJlbnQgcXVlcnlcbiAgICAgKi9cbiAgICBxdWVyeUFuYWx5c2lzPzogUXVlcnlBbmFseXNpcztcbn1cblxuLyoqXG4gKiBBIHNlcnZpY2UgdG8gY2FsbCB0aGUgcXVlcnkgd2ViIHNlcnZpY2VcbiAqL1xuQEluamVjdGFibGUoe1xuICAgIHByb3ZpZGVkSW46IFwicm9vdFwiXG59KVxuZXhwb3J0IGNsYXNzIFF1ZXJ5V2ViU2VydmljZSBleHRlbmRzIEh0dHBTZXJ2aWNlIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgQEluamVjdChTVEFSVF9DT05GSUcpIHN0YXJ0Q29uZmlnOiBTdGFydENvbmZpZyxcbiAgICAgICAgcHVibGljIGh0dHBDbGllbnQ6IFNxSHR0cENsaWVudCkge1xuICAgICAgICBzdXBlcihzdGFydENvbmZpZyk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGVuZFBvaW50ID0gXCJxdWVyeVwiO1xuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSByZXN1bHRzIGZvciB0aGUgcGFzc2VkIHF1ZXJ5XG4gICAgICpcbiAgICAgKiBAcGFyYW0gcXVlcnkgVGhlIHF1ZXJ5IHRvIGV4ZWN1dGVcbiAgICAgKiBAcGFyYW0gYXVkaXRFdmVudHMgQW55IGF1ZGl0IGV2ZW50cyB0byBzdG9yZSBvbiB0aGUgc2VydmVyXG4gICAgICogQHBhcmFtIHF1ZXJ5SW50ZW50RGF0YSBBbnkgYWNjb21wYW55aW5nIHF1ZXJ5IGludGVudCBkYXRhXG4gICAgICovXG4gICAgcHVibGljIGdldFJlc3VsdHMocXVlcnk6IElRdWVyeSwgYXVkaXRFdmVudHM/OiBBdWRpdEV2ZW50cywgcXVlcnlJbnRlbnREYXRhPzogUXVlcnlJbnRlbnREYXRhKTogT2JzZXJ2YWJsZTxSZXN1bHRzPiB7XG4gICAgICAgIGlmICghcXVlcnkpIHtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0Vycm9yKHsgZXJyb3I6IFwibm8gcXVlcnlcIiB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvYnNlcnZhYmxlID0gdGhpcy5odHRwQ2xpZW50LnBvc3Q8UmVzdWx0cz4odGhpcy5tYWtlVXJsKHRoaXMuZW5kUG9pbnQpLCB7XG4gICAgICAgICAgICBhcHA6IHRoaXMuYXBwTmFtZSxcbiAgICAgICAgICAgIHF1ZXJ5LFxuICAgICAgICAgICAgJGF1ZGl0UmVjb3JkOiBhdWRpdEV2ZW50cyxcbiAgICAgICAgICAgIHF1ZXJ5SW50ZW50RGF0YVxuICAgICAgICB9KTtcbiAgICAgICAgVXRpbHMuc3Vic2NyaWJlKG9ic2VydmFibGUsXG4gICAgICAgICAgICAocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInF1ZXJ5U2VydmljZS5nZXRSZXN1bHRzIHN1Y2Nlc3MgLSBkYXRhOiBcIiwgcmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInF1ZXJ5U2VydmljZS5nZXRSZXN1bHRzIGZhaWx1cmUgLSBlcnJvcjogXCIsIGVycm9yKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gb2JzZXJ2YWJsZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHJlc3VsdHMgZm9yIGEgc2V0IG9mIHF1ZXJpZXNcbiAgICAgKlxuICAgICAqIEBwYXJhbSBxdWVyaWVzIFRoZSBxdWVyaWVzIHRvIGV4ZWN1dGVcbiAgICAgKiBAcGFyYW0gYXVkaXRFdmVudHMgQW55IGF1ZGl0IGV2ZW50cyB0byBzdG9yZSBvbiB0aGUgc2VydmVyXG4gICAgICovXG4gICAgcHVibGljIGdldE11bHRpcGxlUmVzdWx0cyhxdWVyaWVzOiBJUXVlcnlbXSwgYXVkaXRFdmVudHM/OiBBdWRpdEV2ZW50cyk6IE9ic2VydmFibGU8SU11bHRpPFJlc3VsdHM+PiB7XG4gICAgICAgIGlmICghcXVlcmllcyB8fCBxdWVyaWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRocm93RXJyb3IoeyBlcnJvcjogXCJubyBxdWVyaWVzXCIgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGF0YToge1xuICAgICAgICAgICAgbWV0aG9kczoge1xuICAgICAgICAgICAgICAgIG1ldGhvZDogc3RyaW5nLFxuICAgICAgICAgICAgICAgIGFwcDogc3RyaW5nLFxuICAgICAgICAgICAgICAgIHF1ZXJ5OiBJUXVlcnlcbiAgICAgICAgICAgIH1bXSxcbiAgICAgICAgICAgIHByb3BhZ2F0ZUVycm9yczogdHJ1ZSxcbiAgICAgICAgICAgICRhdWRpdFJlY29yZD86IEF1ZGl0RXZlbnRzXG4gICAgICAgIH0gPSB7XG4gICAgICAgICAgICBtZXRob2RzOiBbXSxcbiAgICAgICAgICAgIHByb3BhZ2F0ZUVycm9yczogdHJ1ZSxcbiAgICAgICAgICAgICRhdWRpdFJlY29yZDogYXVkaXRFdmVudHNcbiAgICAgICAgfTtcbiAgICAgICAgZm9yIChjb25zdCBxdWVyeSBvZiBxdWVyaWVzKSB7XG4gICAgICAgICAgICBkYXRhLm1ldGhvZHMucHVzaCh7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiB0aGlzLmVuZFBvaW50LFxuICAgICAgICAgICAgICAgIGFwcDogdGhpcy5hcHBOYW1lLFxuICAgICAgICAgICAgICAgIHF1ZXJ5XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5odHRwQ2xpZW50LnBvc3Q8SU11bHRpPFJlc3VsdHM+Pih0aGlzLm1ha2VVcmwoXCJtdWx0aVwiKSwgZGF0YSk7XG4gICAgfVxufVxuIl19